{"version":3,"sources":["DateFormatter.js","PriceCalculator.js","GlobalState.js","SignIn.js","services/api.js","services/BookService.js","services/PDFService.js","PersonsBox.js","FindByRef.js","ResendEmailsDialog.js","BookingDialog.js","BookingTable.js","Title.js","Chart.js","CurrentVisits.js","BookingView.js","ResultsTimeReport.js","DashboardPreview.js","UnmatchedRecords.js","calendar/MonthViewCell.js","calendar/calendar-util.js","calendar/MonthView.js","calendar/WeekViewCell.js","calendar/WeekView.js","calendar/DayViewCell.js","calendar/DayView.js","calendar/CalendarView.js","calendar-admin/MonthViewCell.js","calendar-admin/calendar-util.js","calendar-admin/MonthView.js","calendar-admin/WeekViewCell.js","calendar-admin/WeekView.js","calendar-admin/DayViewCell.js","calendar-admin/DayView.js","calendar-admin/CalendarView.js","MenuList.js","Menu.js","Dashboard.js","Navigator.js","images/logo.png","users/welcome-user.js","images/error.png","users/error-user.js","users/cancel-time-user.js","users/Validation.js","users/edit-info-user.js","services/TimeService.js","users/DateForm.js","users/TimeForm.js","users/change-time-user.js","images/ok.png","users/canceled-result-user.js","users/timechanged-result-user.js","users/edit-info-result-user.js","users/navigator-user.js","App.js","index.js"],"names":["module","exports","FormatDateFromString","str","substr","FormatDateFromStringShortYear","RevertFormatDateFromString","calculatePrice","person","price","certificate","antiBodyTest","calculateTotalPrice","persons","totalPrice","i","length","GlobalState","React","createContext","Copyright","Typography","variant","color","align","Link","href","Date","getFullYear","useStyles","makeStyles","theme","root","width","marginTop","spacing","display","flexWrap","margin","marginBottom","paper","flexDirection","alignItems","avatar","backgroundColor","palette","secondary","main","form","submit","RememberMe","textAlign","appBar","position","SignIn","classes","useContext","state","setState","useState","localStorage","getItem","password","setPassword","username","setUsername","saveChecked","setSaveChecked","signIn","toLowerCase","signedIn","setItem","removeItem","signedInError","Fragment","AppBar","className","Toolbar","noWrap","title","Container","component","maxWidth","Avatar","noValidate","TextField","value","onChange","event","target","required","fullWidth","id","label","name","autoComplete","autoFocus","FormControl","clsx","textField","onKeyPress","key","InputLabel","htmlFor","OutlinedInput","type","showPassword","endAdornment","InputAdornment","IconButton","aria-label","onClick","onMouseDown","preventDefault","Visibility","VisibilityOff","labelWidth","FormControlLabel","control","Checkbox","checked","Button","onTouchTap","Alert","severity","Box","mt","axios","create","baseURL","headers","BookService","getTestsTimeReport","axiosRetry","API","retries","retryDelay","retryCount","get","getBookingsStatsByDateStr","dateStr","getBookingsCountByDateStr","getBookingsCountByDateStrandTime","time","source","cancelToken","token","getBookingsByDateStrandTime","getAllBookingsCountByDateStr","getAllBookingsCountByDateStrandTime","getAllBookingsByDateStrandTime","changeBackToBookingMade","post","resendEmailsWithBookingId","bookingId","regenerateFilesWithBookingId","resendEmails","linkId","regenerateFiles","matchRecords","findBestMatches","getLinkDetails","getLinkDetailsWithBookingId","findBookingByRefBirthDate","bookingRef","birthDate","updateBooking","payload","updateBookingTime","deleteBooking","unDeleteBooking","getBookingsByRef","ref","getBookingById","getAllBookings","getLateBookings","getDeletedBookings","getLiveBookings","getCompletedBookings","getPositiveBookings","getTodayBookings","getOldBookings","getFutureBookings","getRecentBookings","getRecentBookingsAll","getUnmatchedRecords","getUnmatchedRecordsArchived","archiveRecord","unArchiveRecord","PDFService","downloadCovidForm1","responseType","Accept","downloadCovidForm2","downloadPdfResult","downloadPdfCert","box","padding","borderRadius","paddingRight","boxRed","boxInfo","border","ul","listStyle","li","icon","marginRight","lineThrough","textDecoration","heading","fontSize","typography","pxToRem","flexBasis","flexShrink","text","secondaryHeading","infoDetails","infoTitle","fontWeight","infoData","marginLeft","Accordion","AccordionDeleted","DownloadForm","infoDataCharges","infoDataChargesHigher","BookedLabel","paddingLeft","paddingBottom","paddingTop","borderLeft","borderColor","PatientAttendedLabel","SampleTakenLabel","ReportSentLabel","ReportCertSentLabel","PositiveLabel","EditButton","background","RestoreButton","DeleteButton","SaveButton","CancelButton","TextBox","checkIcon","closeIcon","centeredLabel","PersonsBox","expanded","setExpanded","edit","editMode","setEditMode","delete","deleteMode","setDeleteMode","restore","restoreMode","setRestoreMode","saving","setSaving","deleting","setDeleting","restoring","setRestoring","validationError","setValidationError","bookingDate","setBookingDate","bookingTime","setBookingTime","gender","setGender","setTitle","forename","setForename","surname","setSurnme","email","setEmail","dob","setDOB","tel","setTel","postCode","setPostCode","address","setAddress","notes","setNotes","passport","setPassport","passport2","setPassport2","setCertificate","setAntiBodyTest","bookingDateChanged","bookingDateError","bookingTimeChanged","bookingTimeError","genderChanged","titleChanged","forenameChanged","surnameChanged","emailChanged","dobChanged","dobError","telChanged","postCodeChanged","addressChanged","passportChanged","passport2Changed","certificateChanged","antiBodyTestChanged","handleEditModeChanged","forenameCapital","surnameCapital","toUpperCase","phone","passportNumber","passportNumber2","booking","_id","validateBooking","validateDate","error","charAt","test","year","parseInt","month","day","err","hour","minute","validateTime","bookingService","then","res","RefreshPersonInfo","catch","console","log","handleDeleteModeChanged","del","handleRestoreModeChanged","Grid","container","direction","justify","foundRecords","map","index","status","panel","item","xs","md","deleted","isExpanded","AccordionSummary","expandIcon","aria-controls","Tooltip","style","AccordionDetails","hidden","disabled","inputProps","formControl","startIcon","file","Blob","data","fileURL","URL","createObjectURL","window","open","isBoolean","param","TextMaskCustom","props","inputRef","other","inputElement","mask","showMask","Find","Clear","NoRecordsFound","FindByRef","initialFocus","focus","setFocus","onFocus","onBlur","useFocus","focusProps","useEffect","findRecords","clearField","refError","indexOf","submiting","CssBaseline","pattern","helperText","size","InputProps","inputComponent","interval","refreshButton","RefLink","cursor","archiveButton","smartMatchButton","matchButton","resendButton","resendFilesButton","cancelButton","BorderLinearProgress","withStyles","height","colorPrimary","bar","LinearProgress","LinearProgressWithLabel","mr","minWidth","Math","round","PaperComponent","handle","cancel","Paper","ResendEmailsDialog","sending","setSending","sent","setSent","sendJustToPCR","setSendJustToPCR","sendingStatus","setSendingStatus","sendingProgress","setSendingProgress","setError","prevProgress","Dialog","onClose","clearInterval","handleClose","aria-labelledby","DialogTitle","Divider","DialogContent","minHeight","maxHeight","setInterval","link","setTimeout","ResendEmailsButton","backdrop","zIndex","drawer","Transition","forwardRef","Slide","BookingDialog","copied","setCopied","openResendDialog","setOpenResendDialog","selectedBooking","setSelectedBooking","refreshData","setRefreshData","setBooking","recordChanged","setRecordChanged","fieldChanged","setFieldChanged","isChanged","bookingDialogDataChanged","TransitionComponent","keepMounted","aria-describedby","top","left","navigator","clipboard","writeText","transition","deleteButtonDisabled","Backdrop","CircularProgress","HideNowRows","justifyItems","getTableTitle","BookingTable","columns","date","field","headerName","renderCell","params","openDetailsDialog","valueFormatter","formatTimeStamp","valueGetter","getValue","placement","currentMenuIndex","getMenuIndex","pass2","trim","bookings","cachedBookings","isFetching","setData","setSelectedRow","seeDetailsDialogOpen","setSeeDetailsDialogOpen","filter","setFilter","refresh","setRefresh","lastPromise","useRef","timeStamp","todayStr","dateformat","timeStampStr","api","currentPromise","current","result","setPage","e","filteredData","element","find","page","rows","autoPageSize","onPageChange","onSelectionChange","newSelection","Title","gutterBottom","children","createData","amount","emptyData","undefined","getCount","count","Chart","useTheme","a","push","fetchData","right","bottom","dataKey","stroke","angle","textAnchor","fill","primary","dot","depositContext","flex","bookingBox","boxShadow","getCurrentTimeSlot","now","min","getMinutes","getHours","pm","minStr","hourStr","pmStr","timeStr","getDay","getCurrentTimeSlotLabel","endTimeStr","CurrentVisits","setCurrent","setBookings","openDialog","setOpenDialog","currentTimeSlot","bookingCliked","_bookings","substring","getBookingsBox","seeMore","BookingView","loadData","Table","TableHead","TableRow","TableCell","TableBody","row","COLORS","RADIAN","PI","renderCustomizedLabel","cx","cy","midAngle","innerRadius","outerRadius","radius","x","cos","y","sin","dominantBaseline","ReportLabels","AverageLabel","less12Label","less24Label","less36Label","ResultsTimeReport","report","setReport","setOpen","lessThan12","lessThan24","lessThan36","labelLine","entry","avg","lessThan12Percent","lessThan24Percent","lessThan36Percent","lessThan48","lessThan48Percent","overflow","fixedHeight","DashboardPreview","fixedHeightPaper","lg","UnmatchedRecords","selectedTab","disableId","smartMatchClicked","setDisableId","setSeletedTab","smartLinkId","setSmartLinkId","smartLinkDetails","setSmartLinkDetails","likelyBookings","setLikelyBookings","seeDetailsBooking","setSeeDetailsBooking","matching","setMatching","matched","setMatched","matchedBookings","ToggleButtonGroup","exclusive","ToggleButton","timeout","testDate","handleCheckChanged","likelihood","samplingTimeStamp","seeDetailsClicked","ContainerPast","DayLabel","DayLabelToday","lineHight","DayLabelDisabled","BookingCountLabel","BookingCountLabelBusy","LoadingProgress","BookingCountGauge","MonthViewCell","cellIndex","daysInMonth","dayClicked","setDateStr","cellDate","setCellDate","bookingsCount","setBookingsCount","disableDay","setDisableDay","isPast","setIsPast","getMonth","getTime","calendarCache","record","method","query","fecthData","_bookingsCount","_cellIndex","_month","_daysInMonth","getDate","_day","isToday","getDayLabel","disableShrink","MAX_BOOKING_COUNT","percent","getBookingsCountGauge","CalendarUtil","getMonthRange","calendar","Calendar","SUNDAY","itermonthdates","dayLables","days","table","borderCollapse","th","verticalAlign","fontcolor","td","MonthView","WeekViewCell","CancelToken","overflowY","WeekView","dates","replace","overflowX","DayViewCell","titleLabel","titleLabelToday","DayView","monthNames","fontColor","CalendarView","setMonth","setYear","setDay","firstDayofWeek","setFirstDayofWeek","weekDates","setWeekDates","mode","setMode","today","dayofWeek","firstdayofweek","_mode","newDay","justifyContent","newMonth","newFirstDayofWeek","endOfWeek","endofWeekStr","getCalendarTitleFromMode","AdminCalendarCache","bookingBoxSampleTaken","bookingBoxPositive","bookingBoxReportSent","getBookingClass","MenuList","content","getMenuContent","selectedIndex","setSelectedIndex","List","ListItem","button","selected","ListItemIcon","ListItemText","toolbar","toolbarIcon","mixins","transitions","easing","sharp","duration","leavingScreen","appBarShift","enteringScreen","menuButton","menuButtonHidden","flexGrow","drawerPaper","whiteSpace","drawerPaperClose","breakpoints","up","appBarSpacer","Dashboard","setCurrentMenuIndex","edge","ExitToAppOutlined","Drawer","pt","signOutButton","Navigator","isMobile","logo","layout","stepper","buttons","bold","doneImage","logoImage","privacyButton","textContent","lineHeight","textContentMobile","getStartedButton","changeTimeButton","editInfoButton","cancelTimeButton","AirIcon","WelcomeUser","scroll","setScroll","descriptionElementRef","descriptionElement","handleClickOpen","scrollType","changeTimeClicked","welcomeUser","editInfoClicked","cancelTimeClicked","src","alt","userBooking","dateFormat","isBrowser","dividers","DialogContentText","tabIndex","DialogActions","errorImage","ErrorUser","getStartedClicked","location","pathIdNotFound","backButton","CancelTimeUser","canceling","setCanceling","canceledResult","backButtonClicked","ValidateInfo","genderError","titleError","firstname","firstnameError","lastname","lastnameError","birthDateError","EmailValidator","emailError","retypeEmail","retypeEmailError","phoneError","postCodeError","addressError","passportNumberError","EditInfoUser","saveClicked","antiBodyCheck","editInfoResult","handleBirthDateChange","setFirstname","setLastname","setRetypeEmail","setPhone","setPassportNumber","setPassportNumber2","changed","setChanged","emailConfirmed","setAntiBodyCheck","Label","CheckBox","Select","labelId","MenuItem","utils","DateFnsUtils","autoOk","format","disableFuture","InputAdornmentProps","multiline","rowsMax","TimeService","getFirstAvailableDate","getFullyBookedDates","getTimeSlots","loadingBox","DateForm","handleDateChange","firstAvailableDay","setFirstAvailableDay","fullyBookedDays","setFullyBookedDays","dataLoaded","setDataLoaded","promise1","promise2","Promise","all","values","LoadData","dateChanged","checkFullyBooked","setHours","DatePicker","disablePast","openTo","orientation","shouldDisableDate","Skeleton","gridList","boxMobile","boxSelected","boxDisable","TimeForm","emptyTimeSlots","timeSlots","setTimeSlots","timeSlotsTmp","isWeekend","available","boxClicked","GridList","cellHeight","cols","timeSlot","GridListTile","ChangeTimeUser","timeChangedResult","CanceledResultUser","TimeChangedResult","RefreshInfo","EditInfoResult","NavigatorUser","loaded","setLoaded","document","pathId","timePassed","getPathId","path","urlElements","pathname","split","App","Provider","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a6d02195.chunk.js","sourcesContent":["\r\n\r\n\r\nconst FormatDateFromString = (str) =>\r\n{\r\n    return `${str.substr(8,2)}-${str.substr(5,2)}-${str.substr(0,4)}`;\r\n}\r\n\r\nconst RevertFormatDateFromString = (str) =>\r\n{\r\n    return `${str.substr(6,4)}-${str.substr(3,2)}-${str.substr(0,2)}`;\r\n}\r\n\r\n\r\nconst FormatDateFromStringShortYear = (str) =>\r\n{\r\n    return `${str.substr(8,2)}-${str.substr(5,2)}-${str.substr(2,2)}`;\r\n}\r\n\r\n\r\n\r\nmodule.exports = {\r\n    FormatDateFromString : FormatDateFromString,\r\n    FormatDateFromStringShortYear : FormatDateFromStringShortYear,\r\n    RevertFormatDateFromString: RevertFormatDateFromString\r\n}","\r\nconst calculatePrice = (person) =>\r\n{\r\n\r\n    var price = 199;\r\n    \r\n    if (person.certificate)\r\n    {\r\n        price += 50;\r\n    }\r\n\r\n    if (person.antiBodyTest)\r\n    {\r\n        price += (99 + 50);\r\n    }\r\n\r\n    return price;\r\n\r\n}\r\n\r\nconst calculateTotalPrice = (persons) =>\r\n{\r\n    var totalPrice = 0;\r\n    for (var i = 0 ; i < persons.length ; i++)\r\n    {\r\n        totalPrice += calculatePrice(persons[i]);\r\n    }\r\n\r\n    return totalPrice;\r\n}\r\n\r\nmodule.exports = {\r\n    calculatePrice : calculatePrice,\r\n    calculateTotalPrice : calculateTotalPrice\r\n}","import React from 'react'; \r\nconst GlobalState = React.createContext([{}, () => {}]); \r\nexport default GlobalState;","import React from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Link from '@material-ui/core/Link';\r\nimport Box from '@material-ui/core/Box';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport GlobalState from './GlobalState';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport { AppBar, Checkbox, FormControl, FormControlLabel, InputAdornment, InputLabel, OutlinedInput } from '@material-ui/core';\r\nimport { IconButton, Toolbar } from '@material-ui/core';\r\nimport { Visibility, VisibilityOff } from '@material-ui/icons';\r\nimport clsx from 'clsx';\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright © '}\r\n      <Link color=\"inherit\" href=\"#\">\r\n        Medical Express Clinic\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    root: {\r\n        width: '100%',\r\n        '& > * + *': {\r\n          marginTop: theme.spacing(2),\r\n        },\r\n\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n      },  \r\n\r\n      margin: {\r\n        marginTop: theme.spacing(2),\r\n        marginBottom: theme.spacing(2),\r\n      },\r\n\r\n      paper: {\r\n        marginTop: theme.spacing(8),\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        flexWrap: 'wrap',\r\n    },\r\n\r\n    avatar: {\r\n        margin: theme.spacing(1),\r\n        backgroundColor: theme.palette.secondary.main,\r\n    },\r\n\r\n    form: {\r\n        width: '100%', // Fix IE 11 issue.\r\n        marginTop: theme.spacing(1),\r\n    },\r\n\r\n    submit: {\r\n        margin: theme.spacing(3, 0, 2),\r\n    },\r\n\r\n    RememberMe:{\r\n      textAlign: \"left\"\r\n    },\r\n\r\n    appBar: {\r\n      position: 'static',\r\n      // backgroundColor: \"#333\",\r\n      // color: \"#fff\",\r\n      alignItems: 'center'\r\n  \r\n    },\r\n}));\r\n\r\nexport default function SignIn() {\r\n  const classes = useStyles();\r\n  const [state, setState] = React.useContext(GlobalState);\r\n\r\n  const [password, setPassword] = React.useState(\r\n    localStorage.getItem('pcr-admin-password') || ''\r\n  );\r\n\r\n  const [username, setUsername] = React.useState(\r\n    localStorage.getItem('pcr-admin-username') || ''\r\n  );\r\n\r\n  const [saveChecked, setSaveChecked] = React.useState(\r\n    localStorage.getItem('pcr-admin-username') ? true : false\r\n  ); \r\n\r\n\r\n  const signIn = () => {\r\n    if (username && password && username.toLowerCase() === 'admin' && password === 'MELLIM2020!gbc')\r\n    {\r\n        setState(state => ({...state, signedIn : true }));\r\n        if (saveChecked)\r\n        {\r\n           localStorage.setItem('pcr-admin-username', username);\r\n           localStorage.setItem('pcr-admin-password', password);\r\n        }else{\r\n          localStorage.removeItem('pcr-admin-username');\r\n          localStorage.removeItem('pcr-admin-password');\r\n        }\r\n\r\n    }else\r\n    {\r\n        setState(state => ({...state, signedInError : true }));\r\n    }\r\n  }\r\n\r\n  const usernameChanged = (event) =>\r\n  {\r\n      setUsername(event.target.value);\r\n      setState(state => ({...state, signedInError : false }));\r\n  }\r\n\r\n  const passwordChanged = (event) =>\r\n  {\r\n      setPassword(event.target.value);\r\n      setState(state => ({...state, signedInError : false }));\r\n  }\r\n\r\n  const handleClickShowPassword = () => {\r\n    setState(state => ({...state, showPassword : !state.showPassword }));\r\n  };\r\n\r\n  const handleMouseDownPassword = (event) => {\r\n    event.preventDefault();\r\n  };\r\n\r\n  const saveCheckedChanged = (event) =>\r\n  {\r\n    setSaveChecked(event.target.checked);\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n        <AppBar position=\"absolute\" color=\"primary\" className={classes.appBar}>\r\n                <Toolbar>\r\n                    <Typography variant=\"h6\" color=\"inherit\" noWrap className={classes.title}>\r\n                          PCR Booking Admin Console\r\n                    </Typography>\r\n                </Toolbar>\r\n            </AppBar>\r\n          <Container component=\"main\" maxWidth=\"xs\">\r\n\r\n\r\n\r\n            <div className={classes.paper}>\r\n              <Avatar className={classes.avatar}>\r\n                <LockOutlinedIcon />\r\n              </Avatar>\r\n              <Typography component=\"h1\" variant=\"h5\">\r\n                Sign in\r\n              </Typography>\r\n              <form className={classes.form} noValidate>\r\n                <TextField\r\n                  variant=\"outlined\"\r\n                  value={username}\r\n                  onChange={usernameChanged}\r\n                  margin=\"normal\"\r\n                  required\r\n                  fullWidth\r\n                  id=\"usrname\"\r\n                  label=\"Username\"\r\n                  name=\"username\"\r\n                  autoComplete=\"username\"\r\n                  autoFocus\r\n                />\r\n\r\n              <FormControl \r\n                              fullWidth \r\n                              required \r\n                              className={clsx(classes.margin, classes.textField)} \r\n                              variant=\"outlined\"\r\n                              onKeyPress= {event => {\r\n                                if (event.key === 'Enter') {\r\n                                  signIn();\r\n                                }\r\n                              }}\r\n                              \r\n                              >\r\n                  <InputLabel htmlFor=\"outlined-adornment-password\">Password</InputLabel>\r\n                  <OutlinedInput\r\n                    id=\"outlined-adornment-password\"\r\n                    name=\"outlined-adornment-password\"\r\n                    type={state.showPassword ? 'text' : 'password'}\r\n                    value={password}\r\n                    onChange={passwordChanged}\r\n                    endAdornment={\r\n                      <InputAdornment position=\"end\">\r\n                        <IconButton\r\n                          aria-label=\"toggle password visibility\"\r\n                          onClick={handleClickShowPassword}\r\n                          onMouseDown={handleMouseDownPassword}\r\n                        >\r\n                          {state.showPassword ? <Visibility /> : <VisibilityOff />}\r\n                        </IconButton>\r\n                      </InputAdornment>\r\n                    }\r\n                    labelWidth={100}\r\n                  />\r\n                </FormControl>\r\n              \r\n              <div align=\"left\">\r\n                  <FormControlLabel className={classes.RememberMe}\r\n                      control={<Checkbox value=\"remember\" color=\"primary\" checked={saveChecked} onChange={saveCheckedChanged}  />}\r\n                      label=\"Save password on this device\"\r\n                    />\r\n              </div>\r\n\r\n\r\n\r\n\r\n                <Button\r\n                  type=\"button\"\r\n                  fullWidth\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  onClick = {signIn}\r\n                  onTouchTap = {signIn}\r\n                  className={classes.submit}\r\n                >\r\n                  Sign In\r\n                </Button>\r\n\r\n\r\n              </form>\r\n            </div>\r\n\r\n            {state.signedInError && (\r\n                <div className={classes.root}>\r\n                    <Alert fullWidth severity=\"error\">Invalid Username or Password. Please try again.</Alert>\r\n                </div> \r\n            )}\r\n\r\n            <Box mt={8}>\r\n              <Copyright />\r\n            </Box>\r\n          </Container>\r\n\r\n    </React.Fragment>\r\n\r\n    \r\n  );\r\n}","import axios from 'axios';\r\n\r\nexport default axios.create({\r\n  // baseURL: 'http://localhost:9090',\r\n  baseURL: 'https://www.travelpcrtest.com',\r\n  headers : {\r\n      'Authorization' : 'Basic QXp1cmXEaWFtb45kOmh1bnRlcjO='\r\n  }\r\n});","import API from './api';\r\nimport axiosRetry from 'axios-retry';\r\n\r\nexport default class BookService {\r\n\r\n   static getTestsTimeReport = () =>\r\n   {\r\n      axiosRetry( API, { retries: 3,  retryDelay: (retryCount) => {\r\n         return retryCount * 1000;\r\n       } });\r\n      return API.get(`/api/book/getteststimereport`);\r\n   }\r\n\r\n   static getBookingsStatsByDateStr = (dateStr) =>\r\n   {\r\n      return API.get(`/api/book/getbookingsstatsbydatestr?date=${dateStr}`);\r\n   }\r\n\r\n   static getBookingsCountByDateStr = (dateStr) =>\r\n   {\r\n      return API.get(`/api/book/getbookingscountbydatestr?date=${dateStr}`);\r\n   }\r\n\r\n   static getBookingsCountByDateStrandTime = (dateStr, time, source) =>\r\n   {\r\n      return API.get(`/api/book/getbookingscountbydatestrandtime?date=${dateStr}&time=${time}`, {cancelToken: source.token});\r\n   }\r\n\r\n   static getBookingsByDateStrandTime = (dateStr, time) =>\r\n   {\r\n      return API.get(`/api/book/getbookingsbydatestrandtime?date=${dateStr}&time=${time}`);\r\n   }\r\n\r\n\r\n   static getAllBookingsCountByDateStr = (dateStr) =>\r\n   {\r\n      return API.get(`/api/book/getallbookingscountbydatestr?date=${dateStr}`);\r\n   }\r\n\r\n   static getAllBookingsCountByDateStrandTime = (dateStr, time, source) =>\r\n   {\r\n      return API.get(`/api/book/getallbookingscountbydatestrandtime?date=${dateStr}&time=${time}`, {cancelToken: source.token});\r\n   }\r\n\r\n   static getAllBookingsByDateStrandTime = (dateStr, time) =>\r\n   {\r\n      return API.get(`/api/book/getallbookingsbydatestrandtime?date=${dateStr}&time=${time}`);\r\n   }\r\n\r\n\r\n\r\n\r\n   static changeBackToBookingMade = (id) =>\r\n   {\r\n      return API.post(`/api/book/changebacktobookingmade?id=${id}`);\r\n   }\r\n\r\n   static resendEmailsWithBookingId = (bookingId) =>\r\n   {\r\n      return API.post(`/api/book/resendemailswithbookingid?id=${bookingId}`);\r\n   }\r\n\r\n   static regenerateFilesWithBookingId  = (bookingId) =>\r\n   {\r\n      return API.post(`/api/book/regeneratefileswithbookingid?id=${bookingId}`);\r\n   }\r\n\r\n\r\n   static resendEmails  = (linkId) =>\r\n   {\r\n      return API.post(`/api/book/resendemails?id=${linkId}`);\r\n   }\r\n\r\n   static regenerateFiles  = (linkId) =>\r\n   {\r\n      return API.post(`/api/book/regeneratefiles?id=${linkId}`);\r\n   }\r\n\r\n   static matchRecords  = (bookingId, linkId) =>\r\n   {\r\n      return API.post(`/api/book/matchrecords?bookingid=${bookingId}&linkid=${linkId}`);\r\n   }\r\n\r\n   static findBestMatches = (id) =>\r\n   {\r\n      return API.get(`/api/book/getbestmatchedbookings?id=${id}`);\r\n   } \r\n\r\n   static getLinkDetails = (id) =>\r\n   {\r\n      return API.get(`/api/book/getlinkdetails?id=${id}`);\r\n   } \r\n\r\n   static getLinkDetailsWithBookingId = (id) =>\r\n   {\r\n      return API.get(`/api/book/getlinkdetailswithbookingid?id=${id}`);\r\n   } \r\n\r\n\r\n\r\n   static findBookingByRefBirthDate = (bookingRef, birthDate) =>\r\n   {\r\n      return API.get(`/api/book/getbookingsbyrefandbirthdate?ref=${bookingRef}&birthdate=${birthDate}`);\r\n   }\r\n\r\n   static updateBooking = (payload) =>\r\n   {\r\n      return API.post(`/api/book/updatebookappointment`, payload);\r\n   } \r\n\r\n   static updateBookingTime = (payload) =>\r\n   {\r\n      return API.post(`/api/book/updatebookappointmenttime`, payload);\r\n   } \r\n\r\n   static deleteBooking = (id) =>\r\n   {\r\n      return API.post(`/api/book/deletebookappointment?id=${id}`);\r\n   } \r\n\r\n   static unDeleteBooking = (id) =>\r\n   {\r\n      return API.post(`/api/book/undeletebookappointment?id=${id}`);\r\n   } \r\n   \r\n   \r\n    static getBookingsByRef = (ref) =>\r\n    {\r\n       return API.get(`/api/book/getbookingsbyref?ref=${ref}`);\r\n    }\r\n\r\n    static getBookingById = (id) =>\r\n    {\r\n       return API.get(`/api/book/getbookingbyid?id=${id}`);\r\n    }\r\n\r\n    static getAllBookings= () =>\r\n    {\r\n       return API.get(`/api/book/getallbookings`);\r\n    }\r\n\r\n    static getLateBookings= () =>\r\n    {\r\n       return API.get(`/api/book/getlatebookings`);\r\n    }\r\n\r\n    static getDeletedBookings= () =>\r\n    {\r\n       return API.get(`/api/book/getdeletedbookings`);\r\n    }\r\n\r\n    static getLiveBookings= () =>\r\n    {\r\n       return API.get(`/api/book/getlivebookings`);\r\n    }\r\n\r\n    static getCompletedBookings= () =>\r\n    {\r\n       return API.get(`/api/book/getcompletedbookings`);\r\n    }\r\n\r\n    static getPositiveBookings= () =>\r\n    {\r\n       return API.get(`/api/book/getpositivebookings`);\r\n    }\r\n\r\n\r\n\r\n    static getTodayBookings= () =>\r\n    {\r\n       return API.get(`/api/book/gettodaybookings`);\r\n    }\r\n\r\n    static getOldBookings= () =>\r\n    {\r\n       return API.get(`/api/book/getoldbookings`);\r\n    }\r\n\r\n    static getFutureBookings= () =>\r\n    {\r\n       return API.get(`/api/book/getfuturebookings`);\r\n    }\r\n\r\n    static getRecentBookings= () =>\r\n    {\r\n       return API.get(`/api/book/getrecentbookings`);\r\n    }\r\n\r\n    static getRecentBookingsAll= () =>\r\n    {\r\n       return API.get(`/api/book/getrecentbookingsall`);\r\n    }\r\n\r\n    static getUnmatchedRecords= () =>\r\n    {\r\n       return API.get(`/api/book/getunmatchedrecords`);\r\n    }\r\n\r\n    static getUnmatchedRecordsArchived= () =>\r\n    {\r\n       return API.get(`/api/book/getunmatchedrecordsarchived`);\r\n    }\r\n\r\n    static archiveRecord = (id) =>\r\n    {\r\n       return API.post(`/api/book/archiverecord?id=${id}`);\r\n    }\r\n\r\n    static unArchiveRecord = (id) =>\r\n    {\r\n       return API.post(`/api/book/unarchiverecord?id=${id}`);\r\n    }\r\n\r\n\r\n}","import API from './api';\r\n\r\nexport default class PDFService {\r\n\r\n    static downloadCovidForm1 = (id) =>\r\n    {\r\n       return API.get(`/api/pdf/downloadcovidform1?id=${id}`, {\r\n        responseType: 'arraybuffer',\r\n        id: id,\r\n        headers: {\r\n            Accept: 'application/pdf',\r\n        }\r\n        });\r\n    }\r\n\r\n    static downloadCovidForm2 = (id) =>\r\n    {\r\n       return API.get(`/api/pdf/downloadcovidform2?id=${id}`, {\r\n        responseType: 'arraybuffer',\r\n        headers: {\r\n            Accept: 'application/pdf',\r\n        }\r\n        });\r\n    }\r\n\r\n    static downloadPdfResult = (id) =>\r\n    {\r\n       return API.get(`/api/pdf/downloadpdfresult?id=${id}`, {\r\n        responseType: 'arraybuffer',\r\n        headers: {\r\n            Accept: 'application/pdf',\r\n        }\r\n        });\r\n    }\r\n\r\n    static downloadPdfCert = (id) =>\r\n    {\r\n       return API.get(`/api/pdf/downloadpdfcert?id=${id}`, {\r\n        responseType: 'arraybuffer',\r\n        headers: {\r\n            Accept: 'application/pdf',\r\n        }\r\n        });\r\n    }\r\n\r\n\r\n}","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport GlobalState from './GlobalState';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Accordion from '@material-ui/core/Accordion';\r\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\r\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport dateFormat from 'dateformat';\r\nimport { Button, Checkbox, FormControlLabel, Link, TextField, Tooltip } from '@material-ui/core';\r\nimport PDFService from './services/PDFService';\r\n\r\nimport {calculatePrice} from './PriceCalculator';\r\n\r\nimport FileSaver from 'file-saver';\r\n\r\nimport bookingService from './services/BookService';\r\nimport { CheckBox } from '@material-ui/icons';\r\nimport { parse } from 'date-fns';\r\nimport CheckIcon from '@material-ui/icons/Check';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\n\r\nimport {FormatDateFromString, RevertFormatDateFromString} from './DateFormatter';\r\n\r\nimport PrintIcon from '@material-ui/icons/Print';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  box: {\r\n    backgroundColor : \"#373737\",\r\n    color: \"#fff\",\r\n    padding : \"1px\",\r\n    borderRadius : \"4px\",\r\n    textAlign: \"justify\",\r\n    paddingRight: \"40px\"\r\n  },\r\n\r\n  boxRed: {\r\n    backgroundColor : \"#dc2626\",\r\n    color: \"#fff\",\r\n    padding : \"1px\",\r\n    borderRadius : \"4px\",\r\n    textAlign: \"justify\",\r\n    paddingRight: \"40px\"\r\n  },\r\n\r\n  boxInfo: {\r\n    textAlign: \"justify\",\r\n    backgroundColor : \"#fafafa\",\r\n    color: \"#333\",\r\n    padding : \"1px\",\r\n    borderRadius : \"4px\",\r\n    paddingRight: \"40px\",\r\n    border: \"1px solid #eee\",\r\n  },\r\n\r\n  ul: {\r\n     listStyle: \"none\",\r\n     padding: \"0\",\r\n     margin: \"0\"\r\n  },\r\n\r\n  li: {\r\n    marginBottom : \"15px\"\r\n  },\r\n\r\n\r\n  icon: {\r\n    marginRight : \"8px\"\r\n  },\r\n\r\n  root: {\r\n    width: '100%',\r\n  },\r\n\r\n  lineThrough:{\r\n    textDecoration : \"line-through\",\r\n  },\r\n\r\n\r\n\r\n  heading: {\r\n    fontSize: theme.typography.pxToRem(15),\r\n    flexBasis: '33.33%',\r\n    flexShrink: 0,\r\n    color: theme.palette.text.secondary,\r\n  },\r\n  secondaryHeading: {\r\n    fontSize: theme.typography.pxToRem(15),\r\n  },\r\n\r\n  infoDetails:{\r\n    textAlign: \"left\",\r\n  },\r\n\r\n  infoTitle:{\r\n    fontWeight: \"800\",\r\n    marginRight: \"10px\"\r\n  },\r\n\r\n  infoData:{\r\n    fontWeight: \"400\",\r\n  },\r\n\r\n  title:\r\n  {\r\n    // textAlign : \"center\",\r\n    // fontWeight : \"500\",\r\n    // margin: \"10px\",\r\n    // backgroundColor : \"#eee\",\r\n    // padding : \"10px\",\r\n    // borderRadius : \"4px\"\r\n    textAlign: \"center\",\r\n    fontWeight : \"600\",\r\n    marginLeft: \"10px\",\r\n    marginBottom: \"5px\"\r\n\r\n  },\r\n\r\n  Accordion:{\r\n    backgroundColor : \"#f5f5f5\",\r\n    color: \"#222\"\r\n  },\r\n\r\n  AccordionDeleted:{\r\n    backgroundColor : \"#aaa\",\r\n    color: \"#555\"\r\n  },\r\n\r\n  DownloadForm:{\r\n      marginTop: \"10px\",\r\n      marginBottom : \"10px\"\r\n  },\r\n\r\n  infoDataCharges:{\r\n    fontSize : \"18px\",\r\n    color: \"green\",\r\n    fontWeight : \"600\"\r\n  },\r\n\r\n  infoDataChargesHigher:{\r\n    fontSize : \"18px\",\r\n    color: \"red\",\r\n    fontWeight : \"600\"\r\n  },\r\n  BookedLabel:{\r\n    color: \"#606060\",\r\n    paddingRight: \"10px\",\r\n    paddingLeft: \"5px\",\r\n    paddingBottom: \"3px\",\r\n    paddingTop: \"3px\",\r\n    fontWeight: \"800\",\r\n    borderLeft: \"5px solid\",\r\n    borderColor: \"#606060\"\r\n  },\r\n\r\n  PatientAttendedLabel:{\r\n    color: \"#0066aa\",\r\n    paddingRight: \"10px\",\r\n    paddingLeft: \"5px\",\r\n    paddingBottom: \"3px\",\r\n    paddingTop: \"3px\",\r\n    fontWeight: \"800\",\r\n    borderLeft: \"5px solid\",\r\n    borderColor: \"#0066aa\"\r\n  },\r\n\r\n  SampleTakenLabel:{\r\n    color: \"#0066cc\",\r\n    paddingRight: \"10px\",\r\n    paddingLeft: \"5px\",\r\n    paddingBottom: \"3px\",\r\n    paddingTop: \"3px\",\r\n    fontWeight: \"800\",\r\n    borderLeft: \"5px solid\",\r\n    borderColor: \"#0066cc\"\r\n  },\r\n\r\n  ReportSentLabel:{\r\n    color: \"#009900\",\r\n    paddingRight: \"10px\",\r\n    paddingLeft: \"5px\",\r\n    paddingBottom: \"3px\",\r\n    paddingTop: \"3px\",\r\n    fontWeight: \"800\",\r\n    borderLeft: \"5px solid\",\r\n    borderColor: \"#009900\"\r\n  },\r\n\r\n  ReportCertSentLabel:{\r\n    color: \"#009900\",\r\n    paddingRight: \"10px\",\r\n    paddingLeft: \"5px\",\r\n    paddingBottom: \"3px\",\r\n    paddingTop: \"3px\",\r\n    fontWeight: \"800\",\r\n    borderLeft: \"5px solid\",\r\n    borderColor: \"#009900\"\r\n  },\r\n\r\n  PositiveLabel:{\r\n    color: \"red\",\r\n    paddingRight: \"10px\",\r\n    paddingLeft: \"5px\",\r\n    paddingBottom: \"3px\",\r\n    paddingTop: \"3px\",\r\n    fontWeight: \"800\",\r\n    borderLeft: \"5px solid\",\r\n    borderColor: \"red\"\r\n  },\r\n\r\n\r\n  EditButton:\r\n  {\r\n    marginBottom : \"20px\",\r\n    backgroundColor : \"#2f942e\",\r\n    \"&:hover\": {\r\n      background: \"green\",\r\n      color: \"#fff\"\r\n    },\r\n    textDecoration : \"none !important\",\r\n    padding: \"10px\"   \r\n  },\r\n\r\n  RestoreButton:\r\n  {\r\n    marginBottom : \"20px\",\r\n    backgroundColor : \"#fafafa\",\r\n    color: \"#555\",\r\n    \"&:hover\": {\r\n      background: \"#f1f1f1\",\r\n      color: \"#111\"\r\n    },\r\n    textDecoration : \"none !important\",\r\n    padding: \"10px\"   \r\n  },\r\n\r\n\r\n  DeleteButton:\r\n  {\r\n    marginBottom : \"20px\",\r\n    backgroundColor : \"#d90015\",\r\n    \"&:hover\": {\r\n      background: \"#b80012\",\r\n      color: \"#fff\"\r\n    },\r\n\r\n    padding: \"10px\"\r\n    \r\n  },\r\n\r\n  SaveButton:\r\n  {\r\n    marginBottom : \"10px\",\r\n    padding: \"10px\",\r\n\r\n    backgroundColor : \"#d1175e\",\r\n    \"&:hover\": {\r\n      background: \"#bd0d50\",\r\n      color: \"#fff\"\r\n    },\r\n\r\n  },\r\n\r\n  CancelButton:\r\n  {\r\n    marginBottom : \"20px\",\r\n    // padding: \"10px\"\r\n  },\r\n\r\n  TextBox: {\r\n    \r\n    padding : \"0px\"\r\n\r\n  },\r\n\r\n  checkIcon:{\r\n    color: \"green\",   \r\n  },\r\n\r\n  closeIcon:{\r\n    color: \"red\"\r\n  },\r\n\r\n  centeredLabel : {\r\n    display: \"flex\",\r\n    alignItems: \"center\"\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n}));\r\n\r\n\r\n\r\n\r\nexport default function PersonsBox() {\r\n    const classes = useStyles();\r\n\r\n    const [state, setState] = React.useContext(GlobalState);\r\n\r\n    const [expanded, setExpanded] = React.useState('panel0');\r\n\r\n    const [editMode, setEditMode] = React.useState({edit : false, person : null});\r\n    const [deleteMode, setDeleteMode] = React.useState({delete : false, person : null});\r\n    const [restoreMode, setRestoreMode] = React.useState({restore : false, person : null});\r\n\r\n    const [saving, setSaving] =  React.useState(false);\r\n    const [deleting, setDeleting] =  React.useState(false);\r\n    const [restoring, setRestoring] =  React.useState(false);\r\n\r\n    const [validationError, setValidationError] = React.useState({});\r\n\r\n\r\n    const [bookingDate, setBookingDate] = React.useState('');\r\n    const [bookingTime, setBookingTime] = React.useState('');\r\n\r\n    const [gender, setGender] = React.useState('');\r\n    const [title, setTitle] = React.useState('');\r\n    const [forename, setForename] = React.useState('');\r\n    const [surname, setSurnme] = React.useState('');\r\n    const [email, setEmail] = React.useState('');\r\n    const [dob, setDOB] = React.useState('');\r\n    const [tel, setTel] = React.useState('');\r\n    const [postCode, setPostCode] = React.useState('');\r\n    const [address, setAddress] = React.useState('');\r\n    const [notes, setNotes] = React.useState('');\r\n    const [passport, setPassport] = React.useState('');\r\n    const [passport2, setPassport2] = React.useState('');\r\n    const [certificate, setCertificate] = React.useState(false);\r\n    const [antiBodyTest, setAntiBodyTest] = React.useState(false);\r\n\r\n\r\n    const bookingDateChanged = (event) =>\r\n    {\r\n      setBookingDate(event.target.value);\r\n      setValidationError({...validationError, bookingDateError : false});\r\n    }\r\n\r\n    const bookingTimeChanged = (event) =>\r\n    {\r\n      setBookingTime(event.target.value);\r\n      setValidationError({...validationError, bookingTimeError : false});\r\n    }\r\n\r\n    const genderChanged = (event) =>\r\n    {\r\n      setGender(event.target.value);\r\n    }\r\n\r\n    const titleChanged = (event) =>\r\n    {\r\n      setTitle(event.target.value);\r\n    }\r\n\r\n    const forenameChanged = (event) =>\r\n    {\r\n      setForename(event.target.value);\r\n    }\r\n\r\n    const surnameChanged = (event) =>\r\n    {\r\n      setSurnme(event.target.value);\r\n    }\r\n\r\n    const emailChanged = (event) =>\r\n    {\r\n      setEmail(event.target.value);\r\n    }\r\n\r\n    const dobChanged = (event) =>\r\n    {\r\n      setDOB(event.target.value);\r\n      setValidationError({...validationError, dobError : false});\r\n    }\r\n\r\n    const telChanged = (event) =>\r\n    {\r\n      setTel(event.target.value);\r\n    }\r\n\r\n    const postCodeChanged = (event) =>\r\n    {\r\n      setPostCode(event.target.value);\r\n    }\r\n\r\n    const addressChanged = (event) =>\r\n    {\r\n      setAddress(event.target.value);\r\n    }\r\n\r\n    const passportChanged = (event) =>\r\n    {\r\n      setPassport(event.target.value);\r\n    }\r\n\r\n    const passport2Changed = (event) =>\r\n    {\r\n      setPassport2(event.target.value);\r\n    }\r\n\r\n    const certificateChanged = (event) =>\r\n    {\r\n      setCertificate(event.target.checked);\r\n    }\r\n\r\n    const antiBodyTestChanged = (event) =>\r\n    {\r\n      setAntiBodyTest(event.target.checked);\r\n    }\r\n\r\n\r\n    const handleChange = (panel) => (event, isExpanded) => {\r\n      setExpanded(isExpanded ? panel : false);\r\n    };\r\n\r\n    const getStatusLabel = (status) => {\r\n      if (status === 'booked')\r\n      {\r\n        return (\r\n          <span className={classes.BookedLabel}> Booking Made </span>\r\n        );\r\n    \r\n      }else if (status === 'patient_attended')\r\n      {\r\n        return (\r\n          <span  className={classes.PatientAttendedLabel}> Patient Attended </span>\r\n        );\r\n    \r\n      }else if (status === 'sample_taken')\r\n      {\r\n        return (\r\n          <span  className={classes.SampleTakenLabel}> Sample Taken </span>\r\n        );\r\n    \r\n      }else if (status === 'report_sent')\r\n      {\r\n        return (\r\n          <span  className={classes.ReportSentLabel}> Report Sent </span>\r\n        );\r\n    \r\n      }else if (status === 'report_cert_sent')\r\n      {\r\n        return (\r\n          <span  className={classes.ReportCertSentLabel}> {`Report & Certificate Sent`} </span>\r\n        );\r\n      }\r\n      else if (status === 'positive')\r\n      {\r\n        return (\r\n          <span  className={classes.PositiveLabel}> {`POSITIVE`} </span>\r\n        );\r\n    \r\n      }\r\n      else{\r\n        return 'Unknown';\r\n      }\r\n    }\r\n\r\n   const downloadForm1 = (id) =>\r\n   {\r\n       PDFService.downloadCovidForm1(id).then( (res) => \r\n       {\r\n          const file = new Blob(\r\n            [res.data], \r\n            {type: 'application/pdf'});\r\n\r\n          const fileURL = URL.createObjectURL(file);   \r\n          window.open(fileURL, \"_blank\");\r\n\r\n       }).catch( (err) =>\r\n       {\r\n           console.log(err);\r\n       });\r\n   }\r\n\r\n   const downloadForm2 = (id) =>\r\n   {\r\n        PDFService.downloadCovidForm2(id).then( (res) => \r\n        {\r\n          const file = new Blob(\r\n            [res.data], \r\n            {type: 'application/pdf'});\r\n\r\n          const fileURL = URL.createObjectURL(file);   \r\n          window.open(fileURL, \"_blank\");\r\n\r\n        setState(state => ({...state, RefreshPersonInfo : !state.RefreshPersonInfo}));\r\n\r\n        }).catch( (err) =>\r\n        {\r\n            console.log(err);\r\n        });\r\n   }\r\n\r\n   const downloadLabResults = (id) =>\r\n   {\r\n        PDFService.downloadPdfResult(id).then( (res) => \r\n        {\r\n          const file = new Blob(\r\n            [res.data], \r\n            {type: 'application/pdf'});\r\n\r\n          const fileURL = URL.createObjectURL(file);   \r\n          window.open(fileURL, \"_blank\");\r\n\r\n        }).catch( (err) =>\r\n        {\r\n            console.log(err);\r\n        });\r\n   }\r\n\r\n   const downloadCertificate = (id) =>\r\n   {\r\n        PDFService.downloadPdfCert(id).then( (res) => \r\n        {\r\n          const file = new Blob(\r\n            [res.data], \r\n            {type: 'application/pdf'});\r\n\r\n          const fileURL = URL.createObjectURL(file);   \r\n          window.open(fileURL, \"_blank\");\r\n\r\n        }).catch( (err) =>\r\n        {\r\n            console.log(err);\r\n        });\r\n   }\r\n\r\n   const handleEditModeChanged = (edit, person) => {\r\n\r\n       if (edit)\r\n       {\r\n         setForename(person.forenameCapital);\r\n         setSurnme(person.surnameCapital);\r\n         setBookingDate(FormatDateFromString(person.bookingDate));\r\n         setBookingTime(person.bookingTime.toUpperCase());\r\n         setGender(person.gender.toUpperCase());\r\n         setTitle(person.title.toUpperCase());\r\n         setEmail(person.email.toUpperCase());\r\n         setDOB(FormatDateFromString(person.birthDate));\r\n         setTel(person.phone.toUpperCase());\r\n         setPostCode(person.postCode.toUpperCase());\r\n         setAddress(person.address.toUpperCase());\r\n         if (person.notes)\r\n         {\r\n          setNotes(person.notes.toUpperCase());\r\n         }\r\n        \r\n         if (person.passportNumber)\r\n         {\r\n           setPassport(person.passportNumber.toUpperCase());\r\n         }\r\n        \r\n         if (person.passportNumber2)\r\n         {\r\n           setPassport2(person.passportNumber2.toUpperCase());\r\n         }\r\n        \r\n         setCertificate(person.certificate);\r\n         setAntiBodyTest(person.antiBodyTest);\r\n\r\n         setEditMode({edit: edit, person: person});\r\n\r\n       }\r\n       else if (!edit && !person)\r\n       {\r\n         setEditMode({edit: edit, person: person});\r\n       }\r\n       else if (!edit && person)\r\n       {\r\n          const booking = {};\r\n          const bookingId = person._id;\r\n          booking.certificate = certificate;\r\n          booking.antiBodyTest = antiBodyTest;\r\n          booking.gender = gender;\r\n          booking.title = title;\r\n          booking.birthDate = RevertFormatDateFromString(dob);\r\n          booking.email = email;\r\n          booking.phone = tel;\r\n          booking.postCode = postCode;\r\n          booking.address = address;\r\n          booking.passportNumber = passport;\r\n          booking.passportNumber2 = passport2;\r\n          booking.forename = forename;\r\n          booking.surname = surname;\r\n          booking.notes = notes;\r\n          booking.bookingDate = RevertFormatDateFromString(bookingDate);\r\n          booking.bookingTime = bookingTime;\r\n          booking.bookingRef = person.bookingRef;\r\n\r\n          if  (validateBooking(booking))\r\n          {\r\n            updateBooking({bookingId: bookingId, person: booking});\r\n          }\r\n       }\r\n   }\r\n\r\n   const validateDate = (str) =>\r\n   {\r\n     var error = false;\r\n     if (!str || str.length !== 10)\r\n     {\r\n       error = true;\r\n     }\r\n\r\n     if (str.charAt(4) !== '-'  || str.charAt(7) !== '-')\r\n     {\r\n       error = true;\r\n     }\r\n\r\n     try\r\n     {\r\n       \r\n       const result = /^\\d{4}-\\d{2}-\\d{2}$/.test(str);\r\n       if (!result)\r\n       {\r\n          error = true;\r\n       }\r\n\r\n       const year = parseInt(str.substr(0,4));\r\n       const month = parseInt(str.substr(5,2));\r\n       const day = parseInt(str.substr(8,2));\r\n\r\n       if (year < 1900)\r\n       {\r\n          error = true;\r\n       }\r\n\r\n       if (month < 1 || month > 12)\r\n       {\r\n         error = true;\r\n       }        \r\n\r\n       if (day > 31)\r\n       {\r\n         error = true;\r\n       }\r\n\r\n     }catch(err)\r\n     {\r\n       error = true;\r\n     }\r\n\r\n\r\n\r\n     return !error;\r\n   }\r\n\r\n   const validateTime =(str) =>\r\n   {\r\n     var error = false;\r\n\r\n     const result = /^\\d{2}:\\d{2} AM$|^\\d{2}:\\d{2} PM$/.test(str);\r\n     if (!result)\r\n     {\r\n        error = true;\r\n     }\r\n\r\n     try{\r\n       const hour = parseInt(str.substr(0,2));\r\n       const minute = parseInt(str.substr(3,2));\r\n\r\n       if (hour < 0 || hour > 12)\r\n       {\r\n         error = true;\r\n       }\r\n\r\n       if (minute < 0 || minute > 59)\r\n       {\r\n         error = true;\r\n       }\r\n\r\n     }catch(err)\r\n     {\r\n       error = true;\r\n     }\r\n\r\n     return !error;\r\n   }\r\n\r\n   const validateBooking = (booking) =>\r\n   {\r\n      var error = false;\r\n\r\n      if (!validateDate(booking.bookingDate))\r\n      {\r\n        error = true;\r\n        setValidationError({...validationError, bookingDateError : true});\r\n      }\r\n\r\n      if (!validateDate(booking.birthDate))\r\n      {\r\n        error = true;\r\n        setValidationError({...validationError, dobError : true});\r\n      }\r\n\r\n      if (!validateTime(booking.bookingTime))\r\n      {\r\n        error = true;\r\n        setValidationError({...validationError, bookingTimeError : true});\r\n      }\r\n     \r\n\r\n      return !error;\r\n   }\r\n\r\n   const updateBooking = (payload) =>\r\n   {\r\n       setSaving(true);\r\n       bookingService.updateBooking(payload).then( (res) => {\r\n        setSaving(false);\r\n        setEditMode({edit: false, person: null});\r\n        setState(state => ({...state, RefreshPersonInfo : !state.RefreshPersonInfo}));\r\n\r\n       }).catch ( (err) => {\r\n         setSaving(false);\r\n         setEditMode({edit: false, person: null});\r\n         console.log(err);\r\n       });\r\n   }\r\n\r\n   const deleteBooking = (id) =>\r\n   {\r\n       setDeleting(true);\r\n       bookingService.deleteBooking(id).then( (res) => {\r\n        setDeleting(false);\r\n        setDeleteMode({delete: false, person: null});\r\n        setState(state => ({...state, RefreshPersonInfo : !state.RefreshPersonInfo}));\r\n\r\n       }).catch ( (err) => {\r\n          setDeleting(false);\r\n          setDeleteMode({delete: false, person: null});\r\n         console.log(err);\r\n       });\r\n   }\r\n\r\n   const restoreBooking = (id) =>\r\n   {\r\n       setRestoring(true);\r\n       bookingService.unDeleteBooking(id).then( (res) => {\r\n        setRestoring(false);\r\n        setRestoreMode({restore: false, person: null});\r\n        setState(state => ({...state, RefreshPersonInfo : !state.RefreshPersonInfo}));\r\n\r\n       }).catch ( (err) => {\r\n        setRestoring(false);\r\n        setRestoreMode({restore: false, person: null});\r\n         console.log(err);\r\n       });\r\n   }\r\n\r\n   const changeBackToBookingMade = (event, id) =>\r\n   {\r\n     setSaving(true);\r\n     bookingService.changeBackToBookingMade(id).then(res => {\r\n       setSaving(false);\r\n       setState(state => ({...state, RefreshPersonInfo : !state.RefreshPersonInfo}));\r\n     }).catch(err => {\r\n       console.log(err);\r\n       setSaving(false);\r\n     })\r\n   }\r\n\r\n\r\n\r\n   const handleDeleteModeChanged = (del, person) => {\r\n\r\n    if (del)\r\n    {\r\n      setDeleteMode({delete: del, person: person});\r\n    }\r\n    else if (!del && !person)\r\n    {\r\n      setDeleteMode({delete: del, person: person});\r\n    }\r\n    else if (!del && person)\r\n    {\r\n        deleteBooking(person._id);\r\n    }\r\n  }\r\n\r\n  const handleRestoreModeChanged = (restore, person) => {\r\n\r\n    if (restore)\r\n    {\r\n      setRestoreMode({restore: restore, person: person});\r\n    }\r\n    else if (!restore && !person)\r\n    {\r\n      setRestoreMode({restore: restore, person: person});\r\n    }\r\n    else if (!restore && person)\r\n    {\r\n        restoreBooking(person._id);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n          \r\n      <Grid container direction=\"column\" spacing={1} justify=\"flex-start\"  alignItems=\"stretch\">\r\n          <div className={classes.title}> Following Records Found :</div>\r\n\r\n          {state.foundRecords.map((person,index) => (\r\n   \r\n                <Grid item xs={12} md={12} key={`panel${index}`}>\r\n                <div className={classes.root}>\r\n                    <Accordion className={person.deleted ? classes.AccordionDeleted : classes.Accordion} expanded={expanded === `panel${index}`} onChange={handleChange(`panel${index}`)}>\r\n                    <AccordionSummary className={person.deleted ? classes.lineThrough : ''}\r\n                        expandIcon={<ExpandMoreIcon />}\r\n                        aria-controls=\"panel1bh-content\"\r\n                        id={`panel${index}bh-header`}\r\n                    >\r\n                      {person.deleted && (\r\n                          <Tooltip  title=\"This record has been deleted.\">\r\n                            <DeleteIcon  style={{padding: 0, margin: 0,  color: \"#fff\", fontSize: 25 }}/>\r\n                        </Tooltip>\r\n                      )}\r\n\r\n                        <Typography className={classes.heading}> {`#${index+1}`} </Typography>\r\n                        <Typography className={classes.secondaryHeading}>\r\n                        {`${person.forenameCapital} ${person.surnameCapital}`}\r\n                        </Typography>\r\n                    </AccordionSummary>\r\n\r\n                    <AccordionDetails className={classes.infoDetails}>\r\n                        \r\n\r\n\r\n                        <ul className={classes.ul}>\r\n\r\n                        {/* Restore Functionality ******************************************* */}  \r\n                        <li hidden={!(restoreMode.restore && restoreMode.person._id  === person._id)}>\r\n                              <div style={{fontWeight: \"500\", paddingBottom: \"5px\", paddingLeft: \"5px\", fontSize:\"16px\" , color:\"#fff\"}}>\r\n                                Are you sure you want to restore this record?\r\n                              </div>\r\n                            </li>\r\n\r\n                            <li hidden={!person.deleted || (restoreMode.restore && restoreMode.person._id === person._id)}>\r\n                                 <Button\r\n                                    type=\"button\"\r\n                                    fullWidth\r\n                                    variant=\"contained\"\r\n                                    color=\"primary\"\r\n                                    onClick = {() => {handleRestoreModeChanged(true, person)}}\r\n                                    className={classes.RestoreButton}\r\n                                 >\r\n                                   Restore This Record\r\n                                </Button>\r\n                            </li>\r\n\r\n                            <li hidden={!(restoreMode.restore && restoreMode.person._id  === person._id)}>\r\n                                 <Button\r\n                                    type=\"button\"\r\n                                    fullWidth\r\n                                    variant=\"contained\"\r\n                                    color=\"primary\"\r\n                                    disabled = {restoring}\r\n                                    onClick = {() => {handleRestoreModeChanged(false, person)}}\r\n                                    className={classes.SaveButton}\r\n                                 >\r\n                                    YES, Restore this!\r\n                                </Button>\r\n                            </li>\r\n\r\n                            <li hidden={!(restoreMode.restore && restoreMode.person._id  === person._id)}>\r\n                                 <Button\r\n                                    type=\"button\"\r\n                                    fullWidth\r\n                                    variant=\"contained\"\r\n                                    color=\"default\"\r\n                                    disabled = {restoring}\r\n                                    onClick = {() => {handleRestoreModeChanged(false, null)}}\r\n                                    className={classes.CancelButton}\r\n                                 >\r\n                                    Cancel\r\n                                </Button>\r\n                            </li>\r\n\r\n                           {/*  ******************************************************************* */}\r\n\r\n                              {/* Edit Functionality ******************************************* */}\r\n\r\n                            <li hidden={person.deleted || deleteMode.delete || (editMode.edit && editMode.person._id === person._id)}>\r\n                                 <Button\r\n                                    type=\"button\"\r\n                                    fullWidth\r\n                                    variant=\"contained\"\r\n                                    color=\"primary\"\r\n                                    onClick = {() => {handleEditModeChanged(true, person)}}\r\n                                    className={classes.EditButton}\r\n                                 >\r\n                                    Edit Booking Info\r\n                                </Button>\r\n                            </li>\r\n\r\n                            <li hidden={!(editMode.edit && editMode.person._id  === person._id)}>\r\n                                 <Button\r\n                                    type=\"button\"\r\n                                    fullWidth\r\n                                    variant=\"contained\"\r\n                                    color=\"primary\"\r\n                                    disabled = {saving}\r\n                                    onClick = {() => {handleEditModeChanged(false, person)}}\r\n                                    className={classes.SaveButton}\r\n                                 >\r\n                                    Save Changes\r\n                                </Button>\r\n                            </li>\r\n\r\n                            <li hidden={!(editMode.edit && editMode.person._id === person._id)}>\r\n                                 <Button\r\n                                    type=\"button\"\r\n                                    fullWidth\r\n                                    variant=\"contained\"\r\n                                    color=\"default\"\r\n                                    disabled = {saving}\r\n                                    onClick = {() => {handleEditModeChanged(false, null)}}\r\n                                    className={classes.CancelButton}\r\n                                 >\r\n                                    Cancel\r\n                                </Button>\r\n                            </li>\r\n                            \r\n                            {/* ****************************************************************************************** */}\r\n\r\n\r\n                            {/* Delete Functionality ******************************************* */}\r\n\r\n                            <li hidden={!(deleteMode.delete && deleteMode.person._id  === person._id)}>\r\n                              <div style={{fontWeight: \"600\",  paddingBottom: \"5px\", paddingLeft: \"5px\", fontSize:\"16px\"}}>\r\n                                Are you sure you want to delete this record?\r\n                              </div>\r\n                            </li>\r\n\r\n                            <li hidden={person.deleted ||  editMode.edit || (deleteMode.delete && deleteMode.person._id === person._id)}>\r\n                                 <Button\r\n                                    type=\"button\"\r\n                                    fullWidth\r\n                                    variant=\"contained\"\r\n                                    color=\"primary\"\r\n                                    onClick = {() => {handleDeleteModeChanged(true, person)}}\r\n                                    className={classes.DeleteButton}\r\n                                 >\r\n                                   Delete This Record\r\n                                </Button>\r\n                            </li>\r\n\r\n                            <li hidden={!(deleteMode.delete && deleteMode.person._id  === person._id)}>\r\n                                 <Button\r\n                                    type=\"button\"\r\n                                    fullWidth\r\n                                    variant=\"contained\"\r\n                                    color=\"primary\"\r\n                                    disabled = {deleting}\r\n                                    onClick = {() => {handleDeleteModeChanged(false, person)}}\r\n                                    className={classes.SaveButton}\r\n                                 >\r\n                                    YES, Delete this!\r\n                                </Button>\r\n                            </li>\r\n\r\n                            <li hidden={!(deleteMode.delete && deleteMode.person._id === person._id)}>\r\n                                 <Button\r\n                                    type=\"button\"\r\n                                    fullWidth\r\n                                    variant=\"contained\"\r\n                                    color=\"default\"\r\n                                    disabled = {deleting}\r\n                                    onClick = {() => {handleDeleteModeChanged(false, null)}}\r\n                                    className={classes.CancelButton}\r\n                                 >\r\n                                    Cancel\r\n                                </Button>\r\n                            </li>\r\n                                 \r\n                            {/* ****************************************************************************************** */}\r\n\r\n                            <li className={classes.li}>\r\n                                <span className={classes.infoTitle}>BOOKED DATE</span> \r\n                            \r\n\r\n                                <span hidden={(editMode.edit && editMode.person._id  === person._id)} className={classes.infoData}>\r\n                                   {FormatDateFromString(person.bookingDate) }\r\n                                  </span>  \r\n                                        <span hidden={!(editMode.edit && editMode.person._id  === person._id)} className={classes.infoData}>\r\n                                          <TextField \r\n                                                      fullWidth\r\n                                                      error={validationError.bookingDateError}\r\n                                                      className={classes.TextBox} \r\n                                                      value={bookingDate}\r\n                                                      onChange = {bookingDateChanged}\r\n                                                      inputProps= {{\r\n                                                          style:{\r\n                                                            padding: 0\r\n                                                          }\r\n                                                        }\r\n                                                      }\r\n                                                      > \r\n                                          </TextField> \r\n                                        </span> \r\n\r\n\r\n                            </li>\r\n\r\n                            <li className={classes.li}>\r\n                                <span className={classes.infoTitle}>BOOKED TIME</span> \r\n                                <span hidden={(editMode.edit && editMode.person._id  === person._id)} className={classes.infoData}>{person.bookingTime.toUpperCase()}</span>  \r\n                                        <span hidden={!(editMode.edit && editMode.person._id  === person._id)} className={classes.infoData}>\r\n                                          <TextField \r\n                                                      fullWidth\r\n                                                      error={validationError.bookingTimeError}\r\n                                                      className={classes.TextBox} \r\n                                                      value={bookingTime}\r\n                                                      onChange = {bookingTimeChanged}\r\n                                                      inputProps= {{\r\n                                                          style:{\r\n                                                            padding: 0\r\n                                                          }\r\n                                                        }\r\n                                                      }\r\n                                                      > \r\n                                          </TextField> \r\n                                        </span> \r\n\r\n\r\n                            </li>\r\n\r\n                            <li className={classes.li}>\r\n                            <span className={classes.infoTitle}>GENDER</span> \r\n                                        <span hidden={(editMode.edit && editMode.person._id  === person._id)} className={classes.infoData}>{person.gender?.toUpperCase()}</span>  \r\n                                        <span hidden={!(editMode.edit && editMode.person._id  === person._id)} className={classes.infoData}>\r\n                                          <TextField \r\n                                                      fullWidth\r\n                                                      className={classes.TextBox} \r\n                                                      value={gender}\r\n                                                      onChange = {genderChanged}\r\n                                                      inputProps= {{\r\n                                                          style:{\r\n                                                            padding: 0\r\n                                                          }\r\n                                                        }\r\n                                                      }\r\n                                                      > \r\n                                          </TextField> \r\n                                        </span> \r\n                            </li>\r\n                            <li className={classes.li}>\r\n                            <span className={classes.infoTitle}>TITLE</span> \r\n                                       <span hidden={(editMode.edit && editMode.person._id  === person._id)} className={classes.infoData}>{person.title?.toUpperCase()}</span>  \r\n                                        <span hidden={!(editMode.edit && editMode.person._id  === person._id)} className={classes.infoData}>\r\n                                          <TextField \r\n                                                      fullWidth\r\n                                                      className={classes.TextBox} \r\n                                                      value={title}\r\n                                                      onChange = {titleChanged}\r\n                                                      inputProps= {{\r\n                                                          style:{\r\n                                                            padding: 0\r\n                                                          }\r\n                                                        }\r\n                                                      }\r\n                                                      > \r\n                                          </TextField> \r\n                                        </span> \r\n                             \r\n                            </li>\r\n                            <li className={classes.li}>\r\n                            <span className={classes.infoTitle}>FORENAME</span> \r\n                                        <span hidden={(editMode.edit && editMode.person._id  === person._id)} className={classes.infoData}>{person.forenameCapital}</span>  \r\n                                        <span hidden={!(editMode.edit && editMode.person._id  === person._id)} className={classes.infoData}>\r\n                                        <TextField \r\n                                                      fullWidth\r\n                                                      className={classes.TextBox} \r\n                                                      value={forename}\r\n                                                      onChange = {forenameChanged}\r\n                                                      inputProps= {{\r\n                                                          style:{\r\n                                                            padding: 0\r\n                                                          }\r\n                                                        }\r\n                                                      }\r\n                                                      > \r\n                                          </TextField> \r\n                                        </span> \r\n                            </li>\r\n                            <li className={classes.li}>\r\n                                <span className={classes.infoTitle}>SURNAME</span>\r\n                                        <span hidden={(editMode.edit && editMode.person._id  === person._id)} className={classes.infoData}>{person.surnameCapital}</span>  \r\n                                        <span hidden={!(editMode.edit && editMode.person._id  === person._id)} className={classes.infoData}>\r\n                                        <TextField \r\n                                                      fullWidth\r\n                                                      className={classes.TextBox} \r\n                                                      value={surname}\r\n                                                      onChange = {surnameChanged}\r\n                                                      inputProps= {{\r\n                                                          style:{\r\n                                                            padding: 0\r\n                                                          }\r\n                                                        }\r\n                                                      }\r\n                                                      > \r\n                                          </TextField> \r\n                                        </span>   \r\n                            </li>\r\n                            <li className={classes.li}>\r\n                                <span className={classes.infoTitle}>EMAIL</span> \r\n                                       <span hidden={(editMode.edit && editMode.person._id  === person._id)} className={classes.infoData}>{person.email?.toUpperCase()}</span>  \r\n                                        <span hidden={!(editMode.edit && editMode.person._id  === person._id)} className={classes.infoData}>\r\n                                        <TextField \r\n                                                      fullWidth\r\n                                                      className={classes.TextBox} \r\n                                                      value={email}\r\n                                                      onChange = {emailChanged}\r\n                                                      inputProps= {{\r\n                                                          style:{\r\n                                                            padding: 0\r\n                                                          }\r\n                                                        }\r\n                                                      }\r\n                                                      > \r\n                                          </TextField> \r\n                                        </span>   \r\n                            </li>\r\n                            <li className={classes.li}>\r\n                                <span className={classes.infoTitle}>D.O.B</span>\r\n                                        <span hidden={(editMode.edit && editMode.person._id  === person._id)} className={classes.infoData}>\r\n                                            {FormatDateFromString(person.birthDate) }\r\n                                          </span>  \r\n                                        <span hidden={!(editMode.edit && editMode.person._id  === person._id)} className={classes.infoData}>\r\n                                        <TextField \r\n                                                      fullWidth\r\n                                                      error={validationError.dobError} \r\n                                                      className={classes.TextBox} \r\n                                                      value={dob}\r\n                                                      onChange = {dobChanged}\r\n                                                      inputProps= {{\r\n                                                          style:{\r\n                                                            padding: 0\r\n                                                          }\r\n                                                        }\r\n                                                      }\r\n                                                      > \r\n                                          </TextField> \r\n                                        </span>   \r\n                            </li>\r\n                            <li className={classes.li}>\r\n                                <span className={classes.infoTitle}>TEL</span>\r\n                                 <span hidden={(editMode.edit && editMode.person._id  === person._id)} className={classes.infoData}>{person.phone?.toUpperCase()}</span>  \r\n                                        <span hidden={!(editMode.edit && editMode.person._id  === person._id)} className={classes.infoData}>\r\n                                        <TextField \r\n                                                      fullWidth\r\n                                                      className={classes.TextBox} \r\n                                                      value={tel}\r\n                                                      onChange = {telChanged}\r\n                                                      inputProps= {{\r\n                                                          style:{\r\n                                                            padding: 0\r\n                                                          }\r\n                                                        }\r\n                                                      }\r\n                                                      > \r\n                                          </TextField> \r\n                                        </span>  \r\n                            </li>\r\n                            <li className={classes.li}>\r\n                                <span className={classes.infoTitle}>POST CODE</span> \r\n                                        <span hidden={(editMode.edit && editMode.person._id  === person._id)} className={classes.infoData}>{person.postCode?.toUpperCase()}</span>  \r\n                                        <span hidden={!(editMode.edit && editMode.person._id  === person._id)} className={classes.infoData}>\r\n                                        <TextField \r\n                                                      fullWidth\r\n                                                      className={classes.TextBox} \r\n                                                      value={postCode}\r\n                                                      onChange = {postCodeChanged}\r\n                                                      inputProps= {{\r\n                                                          style:{\r\n                                                            padding: 0\r\n                                                          }\r\n                                                        }\r\n                                                      }\r\n                                                      > \r\n                                          </TextField> \r\n                                        </span>  \r\n                            </li>\r\n                            <li className={classes.li}>\r\n                                <span className={classes.infoTitle}>ADDRESS</span> \r\n                                        <span hidden={(editMode.edit && editMode.person._id  === person._id)} className={classes.infoData}>{person.address?.toUpperCase()}</span>  \r\n                                        <span hidden={!(editMode.edit && editMode.person._id  === person._id)} className={classes.infoData}>\r\n                                        <TextField \r\n                                                      fullWidth\r\n                                                      className={classes.TextBox} \r\n                                                      value={address}\r\n                                                      onChange = {addressChanged}\r\n                                                      inputProps= {{\r\n                                                          style:{\r\n                                                            padding: 0\r\n                                                          }\r\n                                                        }\r\n                                                      }\r\n                                                      > \r\n                                          </TextField> \r\n                                        </span>  \r\n                            </li>\r\n\r\n                            <li className={classes.li}>\r\n                                <span className={classes.infoTitle}>PASSPORT NO.</span>\r\n                                <span hidden={(editMode.edit && editMode.person._id  === person._id)} className={classes.infoData}>{person.passportNumber?.toUpperCase()}</span>  \r\n                                        <span hidden={!(editMode.edit && editMode.person._id  === person._id)} className={classes.infoData}>\r\n                                        <TextField \r\n                                                      fullWidth\r\n                                                      className={classes.TextBox} \r\n                                                      value={passport}\r\n                                                      onChange = {passportChanged}\r\n                                                      inputProps= {{\r\n                                                          style:{\r\n                                                            padding: 0\r\n                                                          }\r\n                                                        }\r\n                                                      }\r\n                                                      > \r\n                                          </TextField> \r\n                                        </span>  \r\n                            </li>\r\n\r\n                            <li className={classes.li}>\r\n                                <span className={classes.infoTitle}>SECOND PASSPORT NO.</span> \r\n                                        <span hidden={(editMode.edit && editMode.person._id  === person._id)} className={classes.infoData}>{person.passportNumber2?.toUpperCase()}</span>  \r\n                                        <span hidden={!(editMode.edit && editMode.person._id  === person._id)} className={classes.infoData}>\r\n                                        <TextField \r\n                                                      fullWidth\r\n                                                      className={classes.TextBox} \r\n                                                      value={passport2}\r\n                                                      onChange = {passport2Changed}\r\n                                                      inputProps= {{\r\n                                                          style:{\r\n                                                            padding: 0\r\n                                                          }\r\n                                                        }\r\n                                                      }\r\n                                                      > \r\n                                          </TextField> \r\n                                        </span>   \r\n                            </li>\r\n\r\n                            <li className={classes.li}>\r\n                                <span className={classes.infoTitle}>REQUEST FOR CERTIFICATE</span> \r\n                                <span hidden={(editMode.edit && editMode.person._id  === person._id)} className={classes.infoData}>{person.certificate ? ( <CheckIcon className={classes.checkIcon}/> ) :  <CloseIcon className={classes.closeIcon}/> }</span>\r\n                                <span hidden={!(editMode.edit && editMode.person._id  === person._id)} className={classes.infoData}>\r\n                                    <FormControlLabel className={classes.formControl} \r\n                                          control={<Checkbox className={classes.formControl}  color=\"secondary\" name=\"certificate\" checked={certificate} onChange={certificateChanged} />}\r\n                                          label=''\r\n                                        />\r\n                                </span>    \r\n                            </li>\r\n                            <li className={classes.li}>\r\n                                <span className={classes.infoTitle}>REQUEST FOR ANTIBODY TEST</span>\r\n                                <span hidden={(editMode.edit && editMode.person._id  === person._id)} className={classes.infoData}>{person.antiBodyTest ? <CheckIcon className={classes.checkIcon}/> :  <CloseIcon className={classes.closeIcon}/> }</span>  \r\n                                <span hidden={!(editMode.edit && editMode.person._id  === person._id)} className={classes.infoData}>\r\n                                    <FormControlLabel className={classes.formControl} \r\n                                          control={<Checkbox className={classes.formControl}  color=\"secondary\" name=\"certificate\" checked={antiBodyTest} onChange={antiBodyTestChanged} />}\r\n                                          label=''\r\n                                        />\r\n                                </span>   \r\n                            </li>\r\n                            <li className={classes.li}>\r\n                                <span className={classes.infoTitle}>STATUS</span> \r\n                                {getStatusLabel(person.status)} \r\n                                \r\n                                {person.status === \"sample_taken\" &&\r\n                                          !(\r\n                                            editMode.edit && editMode.person._id === person._id\r\n                                          ) && (\r\n                                            <Button \r\n                                                  variant=\"outlined\"\r\n                                                  color=\"primary\"\r\n                                                  disabled = {saving}\r\n                                                  onClick = {event => changeBackToBookingMade(event,person._id)}\r\n\r\n                                                    >\r\n                                              Change Back To Booking Made\r\n                                            </Button>\r\n                                          )}\r\n\r\n                            </li>\r\n      \r\n                            <li className={classes.li}>\r\n                                <span className={classes.infoTitle}>TOTAL CHARGES</span> <span className={calculatePrice(person) <= 199 ? classes.infoDataCharges : classes.infoDataChargesHigher}>{`£${calculatePrice(person)}`}</span>  \r\n                            </li>\r\n\r\n                            <li  hidden={person.deleted} >\r\n                                 <Button\r\n                                    startIcon = {<PrintIcon/>}\r\n                                    type=\"button\"\r\n                                    fullWidth\r\n                                    variant=\"outlined\"\r\n                                    color=\"primary\"\r\n                                    onClick = {() => {downloadForm1(person._id)}}\r\n                                    // onTouchTap = {() => {downloadForm1(person._id)}}\r\n                                    className={classes.DownloadForm}\r\n                                 >\r\n                                    Download Registration Form\r\n                                </Button>\r\n                            </li>\r\n\r\n                            <li  hidden={person.deleted}>\r\n                                  <Button\r\n                                    startIcon = {<PrintIcon/>}\r\n                                    type=\"button\"\r\n                                    fullWidth\r\n                                    variant=\"outlined\"\r\n                                    color=\"primary\"\r\n                                    onClick = {() => {downloadForm2(person._id)}}\r\n                                    // onTouchTap = {() => {downloadForm2(person._id)}}\r\n                                    className={classes.DownloadForm}\r\n                                    >\r\n                                    Download Lab Form\r\n                                 </Button>\r\n                            </li>\r\n\r\n                            <li hidden={ person.deleted || (person.status !== 'report_sent' && person.status !== 'report_cert_sent') }>\r\n                                 <Button\r\n                                    startIcon = {<PrintIcon/>}\r\n                                    type=\"button\"\r\n                                    fullWidth\r\n                                    variant=\"outlined\"\r\n                                    color=\"primary\"\r\n                                    onClick = {() => {downloadLabResults(person._id)}}\r\n                                    // onTouchTap = {() => {downloadForm1(person._id)}}\r\n                                    className={classes.DownloadForm}\r\n                                 >\r\n                                    Download Lab Results\r\n                                </Button>\r\n                            </li>\r\n\r\n                            <li hidden={person.deleted || person.status !== 'report_cert_sent'}>\r\n                                 <Button\r\n                                    startIcon = {<PrintIcon/>}\r\n                                    type=\"button\"\r\n                                    fullWidth\r\n                                    variant=\"outlined\"\r\n                                    color=\"primary\"\r\n                                    onClick = {() => {downloadCertificate(person._id)}}\r\n                                    // onTouchTap = {() => {downloadForm1(person._id)}}\r\n                                    className={classes.DownloadForm}\r\n                                 >\r\n                                    Download Certificate\r\n                                </Button>\r\n                            </li>\r\n\r\n                        </ul>\r\n\r\n                    </AccordionDetails>\r\n                    </Accordion>\r\n                </div>\r\n            </Grid> \r\n          ))}\r\n    </Grid>\r\n    </React.Fragment>\r\n  );\r\n}\r\n","import React, { useEffect } from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Link from '@material-ui/core/Link';\r\nimport Box from '@material-ui/core/Box';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport GlobalState from './GlobalState';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport PropTypes from 'prop-types';\r\nimport MaskedInput from 'react-text-mask';\r\nimport { FormControl, Grid, Input, InputLabel } from '@material-ui/core';\r\nimport BookService from './services/BookService';\r\nimport PersonsBox from './PersonsBox';\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright © '}\r\n      <Link color=\"inherit\" href=\"#\">\r\n        Medical Express Clinic\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\n\r\n\r\nconst isBoolean = (param) => typeof(param) === \"boolean\"\r\n\r\nconst useFocus = (initialFocus = false, id = \"\") => {\r\n    const [focus, setFocus] = React.useState(initialFocus)\r\n    const setFocusWithTrueDefault = (param) => setFocus(isBoolean(param)? param : true)\r\n    return ([\r\n        setFocusWithTrueDefault, {\r\n            autoFocus: focus,\r\n            key: `${id}${focus}`,\r\n            onFocus: () => setFocus(true),\r\n            onBlur: () => setFocus(false),\r\n        },\r\n    ])\r\n}\r\n\r\n\r\nfunction TextMaskCustom(props) {\r\n    const { inputRef, ...other } = props;\r\n  \r\n    return (\r\n      <MaskedInput\r\n        {...other}\r\n        ref={(ref) => {\r\n          inputRef(ref ? ref.inputElement : null);\r\n        }}\r\n        mask={[/\\d/, /\\d/, /\\d/, '-', /\\d/, /\\d/, /\\d/, '-', /\\d/, /\\d/, /\\d/]}\r\n        // placeholderChar={'\\u2000'}\r\n        showMask\r\n      />\r\n    );\r\n  }\r\n  \r\n  TextMaskCustom.propTypes = {\r\n    inputRef: PropTypes.func.isRequired,\r\n  };\r\n\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    root: {\r\n        width: '100%',\r\n        '& > * + *': {\r\n          marginTop: theme.spacing(2),\r\n        },\r\n        marginTop: \"20px\"\r\n      },  \r\n\r\n    paper: {\r\n        marginTop: theme.spacing(8),\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n    },\r\n\r\n    avatar: {\r\n        margin: theme.spacing(1),\r\n        backgroundColor: theme.palette.secondary.main,\r\n    },\r\n\r\n    form: {\r\n        width: '100%', // Fix IE 11 issue.\r\n        marginTop: theme.spacing(1),\r\n    },\r\n\r\n    Find: {\r\n        width: \"80px\"\r\n    },\r\n\r\n    Clear:{\r\n        marginRight: \"20px\"\r\n    },\r\n\r\n    title:{\r\n        marginTop : \"20px\"\r\n    },\r\n\r\n    TextBox:{\r\n        marginTop: \"30px\",\r\n        \"& > *\" :\r\n        {\r\n            textAlign: \"center\"\r\n        },\r\n  \r\n    },\r\n\r\n    TextField:{\r\n\r\n    },\r\n\r\n    NoRecordsFound:{\r\n        marginTop: \"20px\",\r\n        color: \"red\",\r\n        fontWeight: \"600\",\r\n        fontSize: \"14px\",\r\n    },\r\n\r\n    PersonsBox:{\r\n        marginTop : \"20px\",\r\n        marginBottom: \"50px\"\r\n    }\r\n\r\n}));\r\n\r\nexport default function FindByRef() {\r\n  const classes = useStyles();\r\n  const [state, setState] = React.useContext(GlobalState);\r\n  \r\n  const [setFocus, focusProps] = useFocus(true);\r\n\r\n  useEffect( () =>\r\n  {\r\n     findRecords();\r\n  }, [state.findRecords]);\r\n\r\n\r\n  useEffect( () => {\r\n    BookService.getBookingsByRef(state.ref).then( (res)=>\r\n    {\r\n        if (res.data.length > 0)\r\n        {\r\n            setState(state => ({...state, foundRecords : res.data}));\r\n        }\r\n    });\r\n    }, [state.RefreshPersonInfo]);\r\n\r\n    const handleChange = (event) =>\r\n    {\r\n        setState(state => ({...state, ref : event.target.value}));\r\n        setState(state => ({...state, refError : false})); \r\n    }\r\n\r\n    const clearField = () =>\r\n    {\r\n        setState(state => ({...state, refError : false})); \r\n        setState(state => ({...state, ref : '___-___-___'}));\r\n        setState(state => ({...state, foundRecords : []}));\r\n        setFocus();\r\n    }\r\n\r\n    const findRecords = () =>\r\n    {\r\n        if (!state.ref || state.ref.indexOf('_') >= 0)\r\n        {\r\n            setState(state => ({...state, refError : true}));  \r\n            return;\r\n        }\r\n\r\n        setState(state => ({...state, submiting : true}));\r\n        setState(state => ({...state, foundRecords : []}));\r\n\r\n        BookService.getBookingsByRef(state.ref).then( (res)=>\r\n        {\r\n            setState(state => ({...state, submiting : false}));\r\n            if (res.data.length > 0)\r\n            {\r\n                setState(state => ({...state, foundRecords : res.data}));\r\n            }\r\n            else\r\n            {\r\n                setState(state => ({...state, foundRecords : null}));\r\n            }\r\n            \r\n            console.log(res.data);\r\n\r\n        }).catch( (err) =>\r\n        {\r\n            console.log(err);\r\n            setState(state => ({...state, submiting : false}));\r\n        });\r\n    }\r\n\r\n  return (\r\n    <React.Fragment>\r\n        <CssBaseline />\r\n        <div className={classes.title}>\r\n            <Typography component=\"h6\" variant=\"h6\" align=\"center\">\r\n                Find Booking Appoinments\r\n            </Typography>  \r\n        </div> \r\n\r\n        <Grid container direction=\"column\" spacing={1} justify=\"flex-start\"  alignItems=\"center\">\r\n\r\n        <Grid item xs={12} md={12}>\r\n            <FormControl className={classes.TextBox}>\r\n                <TextField\r\n                    {...focusProps}\r\n                    //autoFocus \r\n                    pattern=\"[0-9]*\"\r\n                    error = {state.refError ? true : false} \r\n                    value = {state.ref}\r\n                    className = {classes.TextField}\r\n                    width = \"50px\"\r\n                    onChange={handleChange}\r\n                    label=\"Reference No.\"\r\n                    helperText=\"Enter Your 9-digits Reference No.\"\r\n                    name=\"refNo\"\r\n                    id=\"refNo\"\r\n                    variant=\"outlined\"\r\n                    \r\n                    size=\"medium\"\r\n                    margin=\"normal\"\r\n                    fullWidth = {true}\r\n                    InputProps={{\r\n                        inputComponent: TextMaskCustom,\r\n                        style: { textAlign: 'center', fontSize:\"24px\", width: \"210px\", paddingLeft: \"20px\" }\r\n                    }}\r\n\r\n                    onKeyPress= {event => {\r\n                        if (event.key === 'Enter') {\r\n                            findRecords();\r\n                        }\r\n                      }}\r\n                />         \r\n            </FormControl>\r\n        </Grid>\r\n\r\n        <Grid item xs={12} md={12}>\r\n               \r\n                <Button\r\n                    disabled = {state.submiting}\r\n                    color=\"default\"\r\n                    onClick = {clearField}\r\n                    onTouchTap = {clearField}\r\n                    className={classes.Clear}\r\n                >\r\n                    Clear \r\n                </Button>  \r\n            \r\n                <Button\r\n                    type=\"button\"\r\n                    disabled = {state.submiting}\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    onClick = {findRecords}\r\n                    onTouchTap = {findRecords}\r\n                    className={classes.Find}\r\n                >\r\n                    Find \r\n                </Button>  \r\n        </Grid>\r\n\r\n        <Grid item xs={12} md={12}>\r\n\r\n                    \r\n\r\n            {state.foundRecords && state.foundRecords.length > 0 && (\r\n                <React.Fragment>\r\n\r\n                    <div className={classes.PersonsBox}>\r\n                          <PersonsBox/>\r\n                    </div>\r\n                    \r\n\r\n\r\n                </React.Fragment>\r\n            )}   \r\n\r\n            {!state.foundRecords && (\r\n                <React.Fragment>\r\n\r\n                <div className={classes.root}>\r\n                    <Alert severity=\"error\"> <strong>No Records Found !</strong> <br/> Please check you reference number again.</Alert>\r\n                </div> \r\n                   \r\n                </React.Fragment>\r\n            )}\r\n\r\n        </Grid>\r\n        \r\n        \r\n        </Grid>\r\n        \r\n    </React.Fragment>\r\n   \r\n  );\r\n}","import React, {useEffect, useRef, useState} from 'react';\r\nimport BookService from './services/BookService';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { Button, Checkbox, Divider, FormControlLabel, Grid, Link, makeStyles, TextField, Tooltip } from '@material-ui/core';\r\nimport GlobalState from './GlobalState';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport SendIcon from '@material-ui/icons/Send';\r\n\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\n\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Draggable from 'react-draggable';\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\nimport Alert from '@material-ui/lab/Alert';\r\n\r\nimport PropTypes from 'prop-types';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\nimport Box from '@material-ui/core/Box';\r\n\r\n\r\nvar interval;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  title: {\r\n    marginTop: theme.spacing(0),\r\n    marginBottom: theme.spacing(1),\r\n\r\n  },\r\n  \r\n  refreshButton:{\r\n    marginLeft: theme.spacing(2),\r\n  },\r\n\r\n  checkIcon:{\r\n    color: \"green\"\r\n  },\r\n\r\n  closeIcon:{\r\n    color: \"red\"\r\n  },\r\n\r\n  RefLink: {\r\n    cursor: \"pointer\"\r\n  },\r\n\r\n  BookedLabel:{\r\n    backgroundColor: \"#606060\",\r\n    color: \"#fff\",\r\n    paddingRight: \"10px\",\r\n    paddingLeft: \"10px\"\r\n  },\r\n\r\n  PatientAttendedLabel:{\r\n    backgroundColor: \"#0066aa\",\r\n    color: \"#fff\",\r\n    paddingRight: \"15px\",\r\n    paddingLeft: \"10px\"\r\n  },\r\n\r\n  SampleTakenLabel:{\r\n    backgroundColor: \"#0066cc\",\r\n    color: \"#fff\",\r\n    paddingRight: \"40px\",\r\n    paddingLeft: \"10px\"\r\n  },\r\n\r\n  ReportSentLabel:{\r\n    backgroundColor: \"#009900\",\r\n    color: \"#fff\",\r\n    paddingRight: \"90px\",\r\n    paddingLeft: \"10px\"\r\n  },\r\n\r\n  ReportCertSentLabel:{\r\n    backgroundColor: \"#009900\",\r\n    color: \"#fff\",\r\n    paddingRight: \"68px\",\r\n    paddingLeft: \"10px\"\r\n  },\r\n\r\n  archiveButton: {\r\n\r\n  },\r\n\r\n  smartMatchButton: {\r\n    backgroundColor : \"#2f942e\",\r\n    \"&:hover\": {\r\n      background: \"green\",\r\n      color: \"#fff\"\r\n    },\r\n    textDecoration : \"none !important\",\r\n    marginRight : \"10px\"\r\n    // padding: \"10px\"  \r\n  },\r\n\r\n  infoTitle:  {\r\n    fontWeight: \"400\"\r\n  },\r\n\r\n  infoData: {\r\n    paddingLeft: \"10px\",\r\n    fontWeight: \"800\"\r\n  },\r\n\r\n  matchButton:\r\n  {\r\n    marginTop: \"30px\",\r\n    marginBottom : \"20px\",\r\n    backgroundColor : \"#2f942e\",\r\n    \"&:hover\": {\r\n      background: \"green\",\r\n      color: \"#fff\"\r\n    },\r\n    textDecoration : \"none !important\",\r\n    padding: \"10px\",\r\n    paddingLeft : \"50px\",\r\n    paddingRight: \"50px\"   \r\n  },\r\n\r\n  resendButton:\r\n  {\r\n    marginTop: \"5px\",\r\n    marginBottom : \"5px\",\r\n    backgroundColor : \"#2f942e\",\r\n    \"&:hover\": {\r\n      background: \"green\",\r\n      color: \"#fff\"\r\n    },\r\n    textDecoration : \"none !important\",\r\n    padding: \"10px\",\r\n    paddingLeft : \"50px\",\r\n    paddingRight: \"50px\"   \r\n  },\r\n\r\n  resendFilesButton:{\r\n    marginTop: \"5px\",\r\n    marginBottom : \"5px\",\r\n    backgroundColor : \"#3792ad\",\r\n    \"&:hover\": {\r\n      background: \"#2f798f\",\r\n      color: \"#fff\"\r\n    },\r\n    textDecoration : \"none !important\",\r\n    padding: \"10px\",\r\n    paddingLeft : \"50px\",\r\n    paddingRight: \"50px\"   \r\n  },\r\n\r\n  cancelButton:\r\n  {\r\n    marginBottom : \"10px\",\r\n    textDecoration : \"none !important\",\r\n    padding: \"10px\",\r\n    paddingLeft : \"90px\",\r\n    paddingRight: \"90px\"   \r\n  },\r\n  \r\n  \r\n}));\r\n\r\nconst BorderLinearProgress = withStyles((theme) => ({\r\n  root: {\r\n    height: 10,\r\n    borderRadius: 5,\r\n  },\r\n  colorPrimary: {\r\n    backgroundColor: \"#cedbce\" //theme.palette.grey[theme.palette.type === 'light' ? 200 : 700],\r\n  },\r\n  bar: {\r\n    borderRadius: 5,\r\n    backgroundColor: '#2f942e',\r\n  },\r\n}))(LinearProgress);\r\nfunction LinearProgressWithLabel(props) {\r\n  return (\r\n    <Box display=\"flex\" alignItems=\"center\">\r\n      <Box width=\"100%\" mr={1}>\r\n        <BorderLinearProgress variant=\"determinate\" {...props} />\r\n      </Box>\r\n      <Box minWidth={35}>\r\n        <Typography style={{fontWeight:\"800\", color :  \"#5e855e\"  }} variant=\"body2\" color=\"textSecondary\">{`${Math.round(\r\n          props.value,\r\n        )}%`}</Typography>\r\n      </Box>\r\n    </Box>\r\n  );\r\n}\r\n\r\nLinearProgressWithLabel.propTypes = {\r\n  /**\r\n   * The value of the progress indicator for the determinate and buffer variants.\r\n   * Value between 0 and 100.\r\n   */\r\n  value: PropTypes.number.isRequired,\r\n};\r\n\r\n\r\nfunction PaperComponent(props) {\r\n  return (\r\n    <Draggable handle=\"#draggable-dialog-title\" cancel={'[class*=\"MuiDialogContent-root\"]'}>\r\n      <Paper {...props} />\r\n    </Draggable>\r\n  );\r\n}\r\n\r\nexport default function ResendEmailsDialog(props) {\r\n  \r\n  const classes = useStyles();\r\n\r\n  const [state, setState] = React.useContext(GlobalState);  \r\n\r\n  const [sending, setSending] = React.useState(false);\r\n  const [sent, setSent] = React.useState(false);\r\n\r\n  const [sendJustToPCR, setSendJustToPCR] = React.useState(false);\r\n\r\n  const [sendingStatus, setSendingStatus] = React.useState('');\r\n\r\n  const [sendingProgress, setSendingProgress] = React.useState(10);\r\n\r\n  const [error, setError] = React.useState(false);\r\n\r\n  const getProgress = (status) =>\r\n  {\r\n    console.log(`status : ${status}`);\r\n\r\n    if (status === 'downloadFailed')\r\n      return 10 ;\r\n    else if (status === 'downloading') \r\n      return 30 ;  \r\n    else if (status === 'downloadSuccess') \r\n      return 70 ;\r\n    else if (status === 'sent')\r\n      return 100;   \r\n    else\r\n      return 0;\r\n\r\n  }\r\n\r\n  const handleClose = () =>\r\n  {\r\n      setSending(false);\r\n      setSent(false);\r\n      setError(false);\r\n      clearInterval(interval);\r\n      props.handleClose();  \r\n  }\r\n\r\n  useEffect( () => {\r\n\r\n    setSendingProgress((prevProgress) => (prevProgress >= 100 ? 100 : getProgress(sendingStatus)));\r\n\r\n  }, [sendingStatus]);\r\n\r\n  const resendFilesClicked = (event) =>\r\n  {\r\n    setSending(true);\r\n    setSendingProgress(0);\r\n    setSendingStatus('downloadFailed');\r\n    setSendJustToPCR(true);\r\n\r\n\r\n    BookService.regenerateFilesWithBookingId(props.booking._id).then( res => {\r\n\r\n      interval = setInterval(() => {\r\n             \r\n       BookService.getLinkDetailsWithBookingId(props.booking._id).then( res => {\r\n\r\n        if (res.data.status === 'OK')\r\n        {\r\n            setSendingStatus(res.data.link.status);\r\n \r\n            if (res.data.link.status === 'sent')\r\n            {\r\n              setSending(false);\r\n              setSent(true);\r\n              clearInterval(interval);\r\n            }\r\n        }\r\n        else if (res.data.status === 'FAILED')\r\n        {\r\n            setSending(false);\r\n            setSent(false);\r\n            clearInterval(interval);\r\n            setError(true);\r\n        }\r\n \r\n       });\r\n \r\n     }, 1000);\r\n\r\n     setTimeout(() => {\r\n         setError(true);\r\n         clearInterval(interval);\r\n     }, 60000);\r\n\r\n   }).catch(err => {\r\n     console.log(err);\r\n     setSending(false);\r\n   });\r\n\r\n\r\n  }\r\n \r\n  const resendEmailsClicked = (event) => {\r\n    setSending(true);\r\n    setSendingProgress(0);\r\n    setSendingStatus('downloadFailed');\r\n \r\n\r\n    BookService.resendEmailsWithBookingId(props.booking._id).then( res => {\r\n\r\n       interval = setInterval(() => {\r\n  \r\n        BookService.getLinkDetailsWithBookingId(props.booking._id).then( res => {\r\n  \r\n            if (res.data.status === 'OK')\r\n            {\r\n                setSendingStatus(res.data.link.status);\r\n     \r\n                if (res.data.link.status === 'sent')\r\n                {\r\n                  setSending(false);\r\n                  setSent(true);\r\n                  clearInterval(interval);\r\n                }\r\n            }\r\n            else if (res.data.status === 'FAILED')\r\n            {\r\n                setSending(false);\r\n                setSent(false);\r\n                clearInterval(interval);\r\n                setError(true);\r\n            }\r\n  \r\n      });\r\n            } , 1000);\r\n\r\n    setTimeout(() => {\r\n        setError(true);\r\n        clearInterval(interval);\r\n    }, 60000);\r\n\r\n    }).catch(err => {\r\n      console.log(err);\r\n      setSending(false);\r\n    });\r\n  }\r\n\r\n\r\n  const cancelResendEmailsClicked = (event) => {\r\n    props.handleClose();\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n\r\n        {props.booking && ( \r\n\r\n                <React.Fragment>\r\n<Dialog\r\nmaxWidth=\"800px\"\r\nopen={props.open}\r\nonClose={handleClose}\r\nPaperComponent={PaperComponent}\r\naria-labelledby=\"form-dialog-title\"\r\n>\r\n<DialogTitle id=\"draggable-dialog-title\">\r\n  <Grid\r\n    container\r\n    spacing={2}\r\n    direction=\"row\"\r\n    justify=\"center\"\r\n    alignItems=\"center\"\r\n  >\r\n    <Grid item>\r\n      <SendIcon\r\n        style={{ color: \"#2f942e\", fontSize: \"2rem\" }}\r\n      />\r\n    </Grid>\r\n\r\n    <Grid item>\r\n      <div\r\n        style={{\r\n          color: \"#2f942e\",\r\n          paddingBottom: \"12px\",\r\n          fontWeight: \"800\",\r\n        }}\r\n      >\r\n        {\" \"}\r\n        RESEND EMAILS{\" \"}\r\n      </div>\r\n    </Grid>\r\n  </Grid>\r\n\r\n  <Divider />\r\n</DialogTitle>\r\n<DialogContent>\r\n  <div\r\n    style={{\r\n      minHeight: \"270px\",\r\n      maxHeight: \"270px\",\r\n      minWidth: \"750px\",\r\n      maxWidth: \"750px\",\r\n    }}\r\n  >\r\n        <Grid\r\n          container\r\n          direction=\"column\"\r\n          justify=\"center\"\r\n          spacing = {1}\r\n          alignItems=\"center\"\r\n        >\r\n\r\n        {!sent && !sending && (\r\n          <React.Fragment>\r\n\r\n            <Grid item>\r\n\r\n              <div style={{paddingTop:\"5px\", fontSize:\"1rem\", fontWeight: \"500\", color: \"#555\"}}>\r\n                 Do you want to Resend the LAB Report {props.booking.certificate ? ' and Certificate' : ''}  Now?\r\n              </div>\r\n\r\n            </Grid>\r\n\r\n            <Grid item>\r\n                  <Button\r\n                    disabled = {sending || sent}\r\n                    className={classes.resendButton}\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    onClick = {resendEmailsClicked}\r\n                  >\r\n                    YES ! RESEND THE EMAILS\r\n                  </Button>\r\n            </Grid>\r\n\r\n            <Grid item>\r\n                  <Button\r\n                    disabled = {sending || sent}\r\n                    className={classes.cancelButton}\r\n                    variant=\"contained\"\r\n                    color=\"default\"\r\n                    onClick = {cancelResendEmailsClicked}\r\n                  >\r\n                    NO ! NOT NOW\r\n                  </Button>\r\n            </Grid>\r\n\r\n            \r\n            <Grid item>\r\n                  <Button\r\n                    disabled = {sending || sent}\r\n                    className={classes.resendFilesButton}\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    onClick = {resendFilesClicked}\r\n                  >\r\n                    Just Generate The Files and send to pcrresults@medicalexpressclinic.co.uk\r\n                  </Button>\r\n            </Grid>\r\n\r\n          </React.Fragment>\r\n        )}\r\n\r\n        { error && !sending && !sent && (\r\n            <Grid item>\r\n                <Alert style={{marginTop:\"10px\", paddingLeft:\"50px\", paddingRight:\"50px\"}} severity=\"error\">\r\n                    Error! — Something is wrong with this record! \r\n                </Alert>\r\n            </Grid>\r\n\r\n        )}\r\n\r\n        {(sending || sent) && ( \r\n            <Grid item>\r\n\r\n            <div style={{paddingTop: \"50px\", color: \"#2f942e\" , fontWeight:\"600\", fontSize: \"1rem\"}}>\r\n                    {sending && !sent && (\r\n                    'Sending ...'\r\n                    )}\r\n\r\n                    {sent && !sendJustToPCR && (\r\n                        <Alert style={{marginTop:\"10px\", paddingLeft:\"50px\", paddingRight:\"50px\"}} severity=\"success\">\r\n                            Success! — The LAB Report {props.booking.certificate? ' and Certificate ': ' ' }  Successfully Sent.\r\n                        </Alert>\r\n                    )}\r\n\r\n                {sent && sendJustToPCR && (\r\n                        <Alert style={{marginTop:\"10px\", paddingLeft:\"50px\", paddingRight:\"50px\"}} severity=\"success\">\r\n                            Success! — The LAB Report {props.booking.certificate? ' and Certificate ': ' ' }  Successfully Sent Just to pcrresults@medicalexpressclinic.co.uk .\r\n                        </Alert>\r\n                    )}\r\n\r\n            </div>\r\n            \r\n            </Grid>\r\n            \r\n        )}\r\n\r\n        </Grid>\r\n     \r\n      {(sending || sent) && (\r\n          <React.Fragment>\r\n\r\n              <div style={{marginTop:\"10px\", width:\"50%\", marginLeft: \"27%\"}}>\r\n                \r\n                   <LinearProgressWithLabel variant=\"determinate\" color=\"primary\"  value={sendingProgress} />     \r\n\r\n              </div>\r\n\r\n              <div style={{paddingTop: \"30px\", color: \"#2f942e\" , fontWeight:\"600\", fontSize: \"1rem\",  marginLeft: \"45%\"}}>\r\n                    {sending && !sent && (\r\n                           'PLEASE WAIT ...'\r\n                         )}     \r\n                          \r\n            </div>\r\n\r\n          </React.Fragment>\r\n        )}\r\n\r\n  </div>\r\n\r\n</DialogContent>\r\n</Dialog>\r\n\r\n\r\n\r\n\r\n                </React.Fragment>\r\n\r\n\r\n        )}\r\n  \r\n    </React.Fragment>\r\n  );\r\n}","import React, { useEffect, useState } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport GlobalState from './GlobalState';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport dateFormat from 'dateformat';\r\nimport { Button, Checkbox, FormControlLabel, IconButton,  TextField, Tooltip } from '@material-ui/core';\r\nimport PDFService from './services/PDFService';\r\n\r\nimport {calculatePrice} from './PriceCalculator';\r\n\r\nimport bookingService from './services/BookService';\r\nimport CheckIcon from '@material-ui/icons/Check';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\n\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Draggable from 'react-draggable';\r\nimport Slide from '@material-ui/core/Slide'  \r\n\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport BookService from './services/BookService';\r\n\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport {FormatDateFromString, RevertFormatDateFromString} from './DateFormatter';\r\nimport ResendEmailsDialog from './ResendEmailsDialog';\r\n\r\nimport PrintIcon from '@material-ui/icons/Print';\r\n\r\n\r\nimport FileCopyOutlinedIcon from '@material-ui/icons/FileCopyOutlined';\r\nimport FileCopyIcon from '@material-ui/icons/FileCopy';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  box: {\r\n    backgroundColor : \"#373737\",\r\n    color: \"#fff\",\r\n    padding : \"1px\",\r\n    borderRadius : \"4px\",\r\n    textAlign: \"justify\",\r\n    paddingRight: \"40px\"\r\n  },\r\n\r\n  boxRed: {\r\n    backgroundColor : \"#dc2626\",\r\n    color: \"#fff\",\r\n    padding : \"1px\",\r\n    borderRadius : \"4px\",\r\n    textAlign: \"justify\",\r\n    paddingRight: \"40px\"\r\n  },\r\n\r\n  boxInfo: {\r\n    textAlign: \"justify\",\r\n    backgroundColor : \"#fafafa\",\r\n    color: \"#333\",\r\n    padding : \"1px\",\r\n    borderRadius : \"4px\",\r\n    paddingRight: \"40px\",\r\n    border: \"1px solid #eee\",\r\n  },\r\n\r\n  ul: {\r\n     listStyle: \"none\",\r\n     padding: \"0\",\r\n     margin: \"0\"\r\n  },\r\n\r\n  li: {\r\n    marginBottom : \"15px\"\r\n  },\r\n\r\n\r\n  icon: {\r\n    marginRight : \"8px\"\r\n  },\r\n\r\n  root: {\r\n    width: '100%',\r\n  },\r\n\r\n  lineThrough:{\r\n    textDecoration : \"line-through\",\r\n  },\r\n\r\n\r\n\r\n  heading: {\r\n    fontSize: theme.typography.pxToRem(15),\r\n    flexBasis: '33.33%',\r\n    flexShrink: 0,\r\n    color: theme.palette.text.secondary,\r\n  },\r\n  secondaryHeading: {\r\n    fontSize: theme.typography.pxToRem(15),\r\n  },\r\n\r\n  infoDetails:{\r\n    textAlign: \"left\",\r\n  },\r\n\r\n  infoTitle:{\r\n    fontWeight: \"800\",\r\n    marginRight: \"10px\"\r\n  },\r\n\r\n  infoData:{\r\n    fontWeight: \"400\",\r\n  },\r\n\r\n  title:\r\n  {\r\n    textAlign: \"center\",\r\n    fontWeight : \"600\",\r\n    marginLeft: \"10px\",\r\n    marginBottom: \"5px\"\r\n  },\r\n\r\n  Accordion:{\r\n    backgroundColor : \"#f5f5f5\",\r\n    color: \"#222\"\r\n  },\r\n\r\n  AccordionDeleted:{\r\n    backgroundColor : \"#aaa\",\r\n    color: \"#555\"\r\n  },\r\n\r\n  DownloadForm:{\r\n      marginTop: \"10px\",\r\n      marginBottom : \"10px\"\r\n  },\r\n\r\n  infoDataCharges:{\r\n    fontSize : \"18px\",\r\n    color: \"green\",\r\n    fontWeight : \"600\"\r\n  },\r\n\r\n  infoDataChargesHigher:{\r\n    fontSize : \"18px\",\r\n    color: \"red\",\r\n    fontWeight : \"600\"\r\n  },\r\n  BookedLabel:{\r\n    color: \"#606060\",\r\n    paddingRight: \"10px\",\r\n    paddingLeft: \"5px\",\r\n    paddingBottom: \"3px\",\r\n    paddingTop: \"3px\",\r\n    fontWeight: \"800\",\r\n    borderLeft: \"5px solid\",\r\n    borderColor: \"#606060\"\r\n  },\r\n\r\n  PatientAttendedLabel:{\r\n    color: \"#0066aa\",\r\n    paddingRight: \"10px\",\r\n    paddingLeft: \"5px\",\r\n    paddingBottom: \"3px\",\r\n    paddingTop: \"3px\",\r\n    fontWeight: \"800\",\r\n    borderLeft: \"5px solid\",\r\n    borderColor: \"#0066aa\"\r\n  },\r\n\r\n  SampleTakenLabel:{\r\n    color: \"#0066cc\",\r\n    paddingRight: \"10px\",\r\n    paddingLeft: \"5px\",\r\n    paddingBottom: \"3px\",\r\n    paddingTop: \"3px\",\r\n    fontWeight: \"800\",\r\n    borderLeft: \"5px solid\",\r\n    borderColor: \"#0066cc\"\r\n  },\r\n\r\n  ReportSentLabel:{\r\n    color: \"#009900\",\r\n    paddingRight: \"10px\",\r\n    paddingLeft: \"5px\",\r\n    paddingBottom: \"3px\",\r\n    paddingTop: \"3px\",\r\n    fontWeight: \"800\",\r\n    borderLeft: \"5px solid\",\r\n    borderColor: \"#009900\"\r\n  },\r\n\r\n  ReportCertSentLabel:{\r\n    color: \"#009900\",\r\n    paddingRight: \"10px\",\r\n    paddingLeft: \"5px\",\r\n    paddingBottom: \"3px\",\r\n    paddingTop: \"3px\",\r\n    fontWeight: \"800\",\r\n    borderLeft: \"5px solid\",\r\n    borderColor: \"#009900\"\r\n  },\r\n\r\n  PositiveLabel:{\r\n    color: \"red\",\r\n    paddingRight: \"10px\",\r\n    paddingLeft: \"5px\",\r\n    paddingBottom: \"3px\",\r\n    paddingTop: \"3px\",\r\n    fontWeight: \"800\",\r\n    borderLeft: \"5px solid\",\r\n    borderColor: \"red\"\r\n  },\r\n\r\n  EditButton:\r\n  {\r\n    marginBottom : \"20px\",\r\n    backgroundColor : \"#2f942e\",\r\n    \"&:hover\": {\r\n      background: \"green\",\r\n      color: \"#fff\"\r\n    },\r\n    textDecoration : \"none !important\",\r\n    padding: \"10px\"   \r\n  },\r\n\r\n  ResendEmailsButton:\r\n  {\r\n    // marginBottom : \"20px\",\r\n    color : \"#2f942e\",\r\n    borderColor: \"#2f942e\",\r\n    \"&:hover\": {\r\n      background: \"#fafffa\",\r\n      borderColor: \"#2f942e\",\r\n    },\r\n    textDecoration : \"none !important\",\r\n    paddingLeft: \"50px\",\r\n    paddingRight: \"50px\"   \r\n  },\r\n\r\n\r\n  RestoreButton:\r\n  {\r\n    marginBottom : \"20px\",\r\n    backgroundColor : \"#eee\",\r\n    color: \"#333\",\r\n    \"&:hover\": {\r\n      background: \"#f1f1f1\",\r\n      color: \"#111\"\r\n    },\r\n    textDecoration : \"none !important\",\r\n    padding: \"10px\"   \r\n  },\r\n\r\n\r\n  DeleteButton:\r\n  {\r\n    marginBottom : \"20px\",\r\n    backgroundColor : \"#d90015\",\r\n    \"&:hover\": {\r\n      background: \"#b80012\",\r\n      color: \"#fff\"\r\n    },\r\n\r\n    padding: \"10px\"\r\n    \r\n  },\r\n\r\n  SaveButton:\r\n  {\r\n    marginBottom : \"10px\",\r\n    padding: \"10px\",\r\n\r\n    backgroundColor : \"#d1175e\",\r\n    \"&:hover\": {\r\n      background: \"#bd0d50\",\r\n      color: \"#fff\"\r\n    },\r\n\r\n  },\r\n\r\n  CancelButton:\r\n  {\r\n    marginBottom : \"20px\",\r\n    // padding: \"10px\"\r\n  },\r\n\r\n  TextBox: {\r\n    \r\n    padding : \"0px\"\r\n\r\n  },\r\n\r\n  checkIcon:{\r\n    color: \"green\",   \r\n  },\r\n\r\n  closeIcon:{\r\n    color: \"red\"\r\n  },\r\n\r\n  centeredLabel : {\r\n    display: \"flex\",\r\n    alignItems: \"center\"\r\n  },\r\n\r\n  backdrop: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    color: '#fff',\r\n  },\r\n\r\n\r\n\r\n\r\n\r\n\r\n}));\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nfunction PaperComponent(props) {\r\n  return (\r\n    <Draggable handle=\"#alert-dialog-slide-title\" cancel={'[class*=\"MuiDialogContent-root\"]'}>\r\n      <Paper {...props} />\r\n    </Draggable>\r\n  );\r\n}\r\n\r\n\r\n\r\nexport default function BookingDialog(props) {\r\n    const classes = useStyles();\r\n\r\n    const [state, setState] = React.useContext(GlobalState);\r\n\r\n    const [copied, setCopied] = useState(false);\r\n  \r\n    const [openResendDialog, setOpenResendDialog] = React.useState(false);\r\n    const [selectedBooking, setSelectedBooking] = React.useState(null);\r\n\r\n    const [editMode, setEditMode] = React.useState({edit : false, person : null});\r\n    const [deleteMode, setDeleteMode] = React.useState({delete : false, person : null});\r\n    const [restoreMode, setRestoreMode] = React.useState({restore : false, person : null});\r\n\r\n    const [saving, setSaving] =  React.useState(false);\r\n    const [deleting, setDeleting] =  React.useState(false);\r\n    const [restoring, setRestoring] =  React.useState(false);\r\n\r\n    const [validationError, setValidationError] = React.useState({});\r\n\r\n\r\n    const [bookingDate, setBookingDate] = React.useState('');\r\n    const [bookingTime, setBookingTime] = React.useState('');\r\n\r\n    const [gender, setGender] = React.useState('');\r\n    const [title, setTitle] = React.useState('');\r\n    const [forename, setForename] = React.useState('');\r\n    const [surname, setSurnme] = React.useState('');\r\n    const [email, setEmail] = React.useState('');\r\n    const [dob, setDOB] = React.useState('');\r\n    const [tel, setTel] = React.useState('');\r\n    const [postCode, setPostCode] = React.useState('');\r\n    const [address, setAddress] = React.useState('');\r\n    const [notes, setNotes] = React.useState('');\r\n    const [passport, setPassport] = React.useState('');\r\n    const [passport2, setPassport2] = React.useState('');\r\n    const [certificate, setCertificate] = React.useState(false);\r\n    const [antiBodyTest, setAntiBodyTest] = React.useState(false);\r\n\r\n    const [refreshData, setRefreshData] = React.useState(false);\r\n\r\n    const [booking, setBooking] = React.useState(null);\r\n\r\n    const [recordChanged, setRecordChanged] = React.useState(false);\r\n\r\n    const [fieldChanged, setFieldChanged] = React.useState(false);\r\n\r\n    const handleCloseResendDialog = () =>\r\n    {\r\n      setOpenResendDialog(false);\r\n      setSelectedBooking(null);\r\n    }\r\n\r\n    useEffect( () => {\r\n\r\n      if (booking)\r\n      {\r\n        const isChanged = (             \r\n           bookingDate !== FormatDateFromString(booking.bookingDate) \r\n        || bookingTime !== booking.bookingTime\r\n        || gender !== booking.gender\r\n        || forename !== booking.forenameCapital\r\n        || surname !== booking.surnameCapital\r\n        || title !== booking.title\r\n        || email !== booking.email\r\n        || dob !== FormatDateFromString(booking.birthDate)\r\n        || tel !== booking.phone\r\n        || postCode !== booking.postCode\r\n        || address !== booking.address\r\n        || passport !== booking.passportNumber\r\n        || passport2 !== booking.passportNumber2\r\n        || certificate !== booking.certificate\r\n        || antiBodyTest !== booking.antiBodyTest\r\n        );\r\n\r\n        setRecordChanged(isChanged);\r\n\r\n  \r\n\r\n      }\r\n    }, [fieldChanged]);\r\n\r\n    useEffect( () => {\r\n      if (!props.open)\r\n      {\r\n        setTimeout(() => {\r\n          setEditMode({edit: false, person: null});\r\n          setRecordChanged(false);\r\n        }, 500);\r\n       \r\n      }\r\n    }, [props.open])\r\n\r\n    const bookingDateChanged = (event) =>\r\n    {\r\n      setBookingDate(event.target.value);\r\n      setValidationError({...validationError, bookingDateError : false});\r\n      setFieldChanged(!fieldChanged);\r\n    }\r\n\r\n    const bookingTimeChanged = (event) =>\r\n    {\r\n      setBookingTime(event.target.value);\r\n      setValidationError({...validationError, bookingTimeError : false});\r\n      setFieldChanged(!fieldChanged);\r\n    }\r\n\r\n    const genderChanged = (event) =>\r\n    {\r\n      setGender(event.target.value);\r\n      setFieldChanged(!fieldChanged);\r\n    }\r\n\r\n    const titleChanged = (event) =>\r\n    {\r\n      setTitle(event.target.value);\r\n      setFieldChanged(!fieldChanged);\r\n    }\r\n\r\n    const forenameChanged = (event) =>\r\n    {\r\n      setForename(event.target.value);\r\n      setFieldChanged(!fieldChanged);\r\n    }\r\n\r\n    const surnameChanged = (event) =>\r\n    {\r\n      setSurnme(event.target.value);\r\n      setFieldChanged(!fieldChanged);\r\n    }\r\n\r\n    const emailChanged = (event) =>\r\n    {\r\n      setEmail(event.target.value);\r\n      setFieldChanged(!fieldChanged);\r\n    }\r\n\r\n    const dobChanged = (event) =>\r\n    {\r\n      setDOB(event.target.value);\r\n      setValidationError({...validationError, dobError : false});\r\n      setFieldChanged(!fieldChanged);\r\n    }\r\n\r\n    const telChanged = (event) =>\r\n    {\r\n      setTel(event.target.value);\r\n      setFieldChanged(!fieldChanged);\r\n    }\r\n\r\n    const postCodeChanged = (event) =>\r\n    {\r\n      setPostCode(event.target.value);\r\n      setFieldChanged(!fieldChanged);\r\n    }\r\n\r\n    const addressChanged = (event) =>\r\n    {\r\n      setAddress(event.target.value);\r\n      setFieldChanged(!fieldChanged);\r\n    }\r\n\r\n    const passportChanged = (event) =>\r\n    {\r\n      setPassport(event.target.value);\r\n      setFieldChanged(!fieldChanged);\r\n    }\r\n\r\n    const passport2Changed = (event) =>\r\n    {\r\n      setPassport2(event.target.value);\r\n      setFieldChanged(!fieldChanged);\r\n    }\r\n\r\n    const certificateChanged = (event) =>\r\n    {\r\n      setCertificate(event.target.checked);\r\n      setFieldChanged(!fieldChanged);\r\n    }\r\n\r\n    const antiBodyTestChanged = (event) =>\r\n    {\r\n      setAntiBodyTest(event.target.checked);\r\n      setFieldChanged(!fieldChanged);\r\n    }\r\n\r\n\r\n    const getStatusLabel = (status) => {\r\n      if (status === 'booked')\r\n      {\r\n        return (\r\n          <span className={classes.BookedLabel}> Booking Made </span>\r\n        );\r\n    \r\n      }else if (status === 'patient_attended')\r\n      {\r\n        return (\r\n          <span  className={classes.PatientAttendedLabel}> Patient Attended </span>\r\n        );\r\n    \r\n      }else if (status === 'sample_taken')\r\n      {\r\n        return (\r\n          <span  className={classes.SampleTakenLabel}> Sample Taken </span>\r\n        );\r\n    \r\n      }else if (status === 'report_sent')\r\n      {\r\n        return (\r\n          <span  className={classes.ReportSentLabel}> Report Sent </span>\r\n        );\r\n    \r\n      }else if (status === 'report_cert_sent')\r\n      {\r\n        return (\r\n          <span  className={classes.ReportCertSentLabel}> {`Report & Certificate Sent`} </span>\r\n        );\r\n      }\r\n      else if (status === 'positive')\r\n      {\r\n        return (\r\n          <span  className={classes.PositiveLabel}> {`POSITIVE`} </span>\r\n        );\r\n    \r\n      }\r\n      else{\r\n        return 'Unknown';\r\n      }\r\n    }\r\n\r\n   const downloadForm1 = (id) =>\r\n   {\r\n       PDFService.downloadCovidForm1(id).then( (res) => \r\n       {\r\n          const file = new Blob(\r\n            [res.data], \r\n            {type: 'application/pdf'});\r\n\r\n          const fileURL = URL.createObjectURL(file);   \r\n          window.open(fileURL, \"_blank\");\r\n\r\n       }).catch( (err) =>\r\n       {\r\n           console.log(err);\r\n       });\r\n   }\r\n\r\n   const downloadForm2 = (id) =>\r\n   {\r\n        PDFService.downloadCovidForm2(id).then( (res) => \r\n        {\r\n          const file = new Blob(\r\n            [res.data], \r\n            {type: 'application/pdf'});\r\n\r\n          const fileURL = URL.createObjectURL(file);   \r\n          window.open(fileURL, \"_blank\");\r\n\r\n        setRefreshData(!refreshData);\r\n\r\n        }).catch( (err) =>\r\n        {\r\n            console.log(err);\r\n        });\r\n   }\r\n\r\n   const downloadLabResults = (id) =>\r\n   {\r\n        PDFService.downloadPdfResult(id).then( (res) => \r\n        {       \r\n          const file = new Blob(\r\n            [res.data], \r\n            {type: 'application/pdf'});\r\n\r\n          const fileURL = URL.createObjectURL(file);   \r\n          window.open(fileURL, \"_blank\");\r\n\r\n        \r\n\r\n        }).catch( (err) =>\r\n        {\r\n            console.log(err);\r\n        });\r\n   }\r\n\r\n   const downloadCertificate = (id) =>\r\n   {\r\n        PDFService.downloadPdfCert(id).then( (res) => \r\n        {\r\n          const file = new Blob(\r\n            [res.data], \r\n            {type: 'application/pdf'});\r\n\r\n          const fileURL = URL.createObjectURL(file);   \r\n          window.open(fileURL, \"_blank\");\r\n      \r\n        }).catch( (err) =>\r\n        {\r\n            console.log(err);\r\n        });\r\n   }\r\n\r\n   const handleEditModeChanged = (edit, person) => {\r\n\r\n       if (edit)\r\n       {\r\n         setForename(person.forenameCapital);\r\n         setSurnme(person.surnameCapital);\r\n         setBookingDate(FormatDateFromString(person.bookingDate));\r\n         setBookingTime(person.bookingTime.toUpperCase());\r\n         setGender(person.gender.toUpperCase());\r\n         setTitle(person.title.toUpperCase());\r\n         setEmail(person.email.toUpperCase());\r\n         setDOB(FormatDateFromString(person.birthDate));\r\n         setTel(person.phone.toUpperCase());\r\n         setPostCode(person.postCode.toUpperCase());\r\n         setAddress(person.address.toUpperCase());\r\n         if (person.notes)\r\n         {\r\n          setNotes(person.notes.toUpperCase());\r\n         }\r\n        \r\n         if (person.passportNumber)\r\n         {\r\n           setPassport(person.passportNumber.toUpperCase());\r\n         }\r\n        \r\n         if (person.passportNumber2)\r\n         {\r\n           setPassport2(person.passportNumber2.toUpperCase());\r\n         }\r\n        \r\n         setCertificate(person.certificate);\r\n         setAntiBodyTest(person.antiBodyTest);\r\n\r\n         setEditMode({edit: edit, person: person});\r\n\r\n       }\r\n       else if (!edit && !person)\r\n       {\r\n         setEditMode({edit: edit, person: person});\r\n         setRecordChanged(false);\r\n       }\r\n       else if (!edit && person)\r\n       {\r\n          const booking = {};\r\n          const bookingId = person._id;\r\n          booking.certificate = certificate;\r\n          booking.antiBodyTest = antiBodyTest;\r\n          booking.gender = gender;\r\n          booking.title = title;\r\n          booking.birthDate = RevertFormatDateFromString(dob);\r\n          booking.email = email;\r\n          booking.phone = tel;\r\n          booking.postCode = postCode;\r\n          booking.address = address;\r\n          booking.passportNumber = passport;\r\n          booking.passportNumber2 = passport2;\r\n          booking.forename = forename;\r\n          booking.surname = surname;\r\n          booking.notes = notes;\r\n          booking.bookingDate = RevertFormatDateFromString(bookingDate);\r\n          booking.bookingTime = bookingTime;\r\n          booking.bookingRef = person.bookingRef;\r\n\r\n          if  (validateBooking(booking))\r\n          {\r\n            updateBooking({bookingId: bookingId, person: booking});\r\n          }\r\n       }\r\n   }\r\n\r\n   const validateDate = (str) =>\r\n   {\r\n     var error = false;\r\n     if (!str || str.length !== 10)\r\n     {\r\n       error = true;\r\n     }\r\n\r\n     if (str.charAt(4) !== '-'  || str.charAt(7) !== '-')\r\n     {\r\n       error = true;\r\n     }\r\n\r\n     try\r\n     {\r\n       \r\n       const result = /^\\d{4}-\\d{2}-\\d{2}$/.test(str);\r\n       if (!result)\r\n       {\r\n          error = true;\r\n       }\r\n\r\n       const year = parseInt(str.substr(0,4));\r\n       const month = parseInt(str.substr(5,2));\r\n       const day = parseInt(str.substr(8,2));\r\n\r\n       if (year < 1900)\r\n       {\r\n          error = true;\r\n       }\r\n\r\n       if (month < 1 || month > 12)\r\n       {\r\n         error = true;\r\n       }        \r\n\r\n       if (day > 31)\r\n       {\r\n         error = true;\r\n       }\r\n\r\n     }catch(err)\r\n     {\r\n       error = true;\r\n     }\r\n\r\n\r\n\r\n     return !error;\r\n   }\r\n\r\n   const validateTime =(str) =>\r\n   {\r\n     var error = false;\r\n\r\n     const result = /^\\d{2}:\\d{2} AM$|^\\d{2}:\\d{2} PM$/.test(str);\r\n     if (!result)\r\n     {\r\n        error = true;\r\n     }\r\n\r\n     try{\r\n       const hour = parseInt(str.substr(0,2));\r\n       const minute = parseInt(str.substr(3,2));\r\n\r\n       if (hour < 0 || hour > 12)\r\n       {\r\n         error = true;\r\n       }\r\n\r\n       if (minute < 0 || minute > 59)\r\n       {\r\n         error = true;\r\n       }\r\n\r\n     }catch(err)\r\n     {\r\n       error = true;\r\n     }\r\n\r\n     return !error;\r\n   }\r\n\r\n   const validateBooking = (booking) =>\r\n   {\r\n      var error = false;\r\n\r\n      if (!validateDate(booking.bookingDate))\r\n      {\r\n        error = true;\r\n        setValidationError({...validationError, bookingDateError : true});\r\n      }\r\n\r\n      if (!validateDate(booking.birthDate))\r\n      {\r\n        error = true;\r\n        setValidationError({...validationError, dobError : true});\r\n      }\r\n\r\n      if (!validateTime(booking.bookingTime))\r\n      {\r\n        error = true;\r\n        setValidationError({...validationError, bookingTimeError : true});\r\n      }\r\n     \r\n\r\n      return !error;\r\n   }\r\n\r\n   const updateBooking = (payload) =>\r\n   {\r\n       setSaving(true);\r\n       bookingService.updateBooking(payload).then( (res) => {\r\n        setSaving(false);\r\n        setEditMode({edit: false, person: null});\r\n        setRefreshData(!refreshData);\r\n        \r\n\r\n       }).catch ( (err) => {\r\n         setSaving(false);\r\n         setEditMode({edit: false, person: null});\r\n         console.log(err);\r\n       });\r\n   }\r\n\r\n   const deleteBooking = (id) =>\r\n   {\r\n       setDeleting(true);\r\n       bookingService.deleteBooking(id).then( (res) => {\r\n        setDeleting(false);\r\n        setDeleteMode({delete: false, person: null});\r\n        setRefreshData(!refreshData);\r\n\r\n       }).catch ( (err) => {\r\n          setDeleting(false);\r\n          setDeleteMode({delete: false, person: null});\r\n         console.log(err);\r\n       });\r\n   }\r\n\r\n   const restoreBooking = (id) =>\r\n   {\r\n       setRestoring(true);\r\n       bookingService.unDeleteBooking(id).then( (res) => {\r\n        setRestoring(false);\r\n        setRestoreMode({restore: false, person: null});\r\n        setRefreshData(!refreshData);\r\n\r\n       }).catch ( (err) => {\r\n        setRestoring(false);\r\n        setRestoreMode({restore: false, person: null});\r\n         console.log(err);\r\n       });\r\n   }\r\n\r\n\r\n\r\n   const handleDeleteModeChanged = (del, person) => {\r\n\r\n    if (del)\r\n    {\r\n      setDeleteMode({delete: del, person: person});\r\n    }\r\n    else if (!del && !person)\r\n    {\r\n      setDeleteMode({delete: del, person: person});\r\n    }\r\n    else if (!del && person)\r\n    {\r\n        deleteBooking(person._id);\r\n    }\r\n  }\r\n\r\n  const handleRestoreModeChanged = (restore, person) => {\r\n\r\n    if (restore)\r\n    {\r\n      setRestoreMode({restore: restore, person: person});\r\n    }\r\n    else if (!restore && !person)\r\n    {\r\n      setRestoreMode({restore: restore, person: person});\r\n    }\r\n    else if (!restore && person)\r\n    {\r\n        restoreBooking(person._id);\r\n    }\r\n  }\r\n\r\n  const changeBackToBookingMade = (event, id) =>\r\n  {\r\n    setSaving(true);\r\n    BookService.changeBackToBookingMade(id).then(res => {\r\n      setSaving(false);\r\n      setRefreshData(!refreshData);\r\n    }).catch(err => {\r\n      console.log(err);\r\n      setSaving(false);\r\n    })\r\n  }\r\n\r\n  const resendEmails = (event, id) =>\r\n  {\r\n    setSelectedBooking(booking);\r\n    setOpenResendDialog(true);\r\n  }\r\n\r\n  useEffect( () => \r\n  {\r\n    if (props.booking)\r\n    {\r\n      BookService.getBookingById(props.booking._id).then( res => {\r\n        setBooking(res.data);\r\n      }).catch(err => {\r\n        console.log(err);\r\n      });\r\n\r\n      setState(state => ({...state, bookingDialogDataChanged : !state.bookingDialogDataChanged ? true : false}));\r\n    }\r\n\r\n  } , [refreshData]);\r\n\r\n\r\n  useEffect( () => {\r\n    if (props.booking)\r\n    {\r\n      setBooking(props.booking);\r\n    }\r\n\r\n  }, [props.booking]);\r\n\r\n\r\n\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {booking && (\r\n        <React.Fragment>\r\n          <Dialog\r\n            open={props.open}\r\n            TransitionComponent={Transition}\r\n            keepMounted\r\n            onClose={props.onClose}\r\n            PaperComponent={PaperComponent}\r\n            aria-labelledby=\"alert-dialog-slide-title\"\r\n            aria-describedby=\"alert-dialog-slide-description\"\r\n          >\r\n            <DialogTitle id=\"alert-dialog-slide-title\">\r\n\r\n              <div style={{position:\"absolute\", top: \"25x\", left: \"25px\"}}>\r\n                <Tooltip title=\"COPY EDIT LINK TO CLIPBOARD\">\r\n                    <IconButton onClick={() => {navigator.clipboard.writeText(`https://travelpcrtest.com/user/edit/${booking.bookingRef}-${booking.birthDate}`); setCopied(true); setTimeout(() => { \r\n                      setCopied(false)\r\n                    }, 1500);}}\r\n\r\n                           aria-label=\"delete\" \r\n                           className={classes.margin} \r\n                           size=\"small\">\r\n                          <FileCopyOutlinedIcon fontSize=\"14px\" />\r\n                    </IconButton>\r\n                </Tooltip>\r\n          \r\n                  <span hidden={!copied} style={{fontSize:\"12px\", transition: \"all 1s ease-in\"}}> Copied </span>\r\n               \r\n              </div>\r\n\r\n              <Grid\r\n                container\r\n                direction=\"row\"\r\n                justify=\"center\"\r\n                spacing={2}\r\n                alignItems=\"center\"\r\n              >\r\n                <Grid item>\r\n                  <div\r\n                    style={\r\n                      booking.deleted\r\n                        ? {\r\n                            paddingBottom: \"5px\",\r\n                            textDecoration: \"line-through\",\r\n                          }\r\n                        : {}\r\n                    }\r\n                  >\r\n                    {`${booking.forenameCapital} ${booking.surnameCapital}`}\r\n                  </div>\r\n                </Grid>\r\n\r\n                {booking.deleted && (\r\n                  <Grid item>\r\n                    <Tooltip title=\"This record has been deleted.\">\r\n                      <DeleteIcon\r\n                        style={{\r\n                          padding: 0,\r\n                          margin: 0,\r\n                          color: \"#333\",\r\n                          fontSize: 25,\r\n                        }}\r\n                      />\r\n                    </Tooltip>\r\n                  </Grid>\r\n                )}\r\n              </Grid>\r\n            </DialogTitle>\r\n            <DialogContent>\r\n              <div\r\n                style={{\r\n                  minHeight: \"600px\",\r\n                  maxHeight: \"600px\",\r\n                  minWidth: \"500px\",\r\n                  maxWidth: \"800px\",\r\n                  paddingTop: \"20px\",\r\n                }}\r\n              >\r\n                <Grid item xs={12} md={12} key={`panel0`}>\r\n                  <div className={classes.infoDetails}>\r\n                    <ul className={classes.ul}>\r\n                      {/* Restore Functionality ******************************************* */}\r\n                      <li\r\n                        hidden={\r\n                          !(\r\n                            restoreMode.restore &&\r\n                            restoreMode.person._id === booking._id\r\n                          )\r\n                        }\r\n                      >\r\n                        <div\r\n                          style={{\r\n                            fontWeight: \"500\",\r\n                            paddingBottom: \"5px\",\r\n                            paddingLeft: \"5px\",\r\n                            fontSize: \"16px\",\r\n                            color: \"#333\",\r\n                          }}\r\n                        >\r\n                          Are you sure you want to restore this record?\r\n                        </div>\r\n                      </li>\r\n\r\n                      <li\r\n                        hidden={\r\n                          !booking.deleted ||\r\n                          (restoreMode.restore &&\r\n                            restoreMode.person._id === booking._id)\r\n                        }\r\n                      >\r\n                        <Button\r\n                          type=\"button\"\r\n                          fullWidth\r\n                          variant=\"contained\"\r\n                          color=\"primary\"\r\n                          onClick={() => {\r\n                            handleRestoreModeChanged(true, booking);\r\n                          }}\r\n                          className={classes.RestoreButton}\r\n                        >\r\n                          Restore This Record\r\n                        </Button>\r\n                      </li>\r\n\r\n                      <li\r\n                        hidden={\r\n                          !(\r\n                            restoreMode.restore &&\r\n                            restoreMode.person._id === booking._id\r\n                          )\r\n                        }\r\n                      >\r\n                        <Button\r\n                          type=\"button\"\r\n                          fullWidth\r\n                          variant=\"contained\"\r\n                          color=\"primary\"\r\n                          disabled={restoring}\r\n                          onClick={() => {\r\n                            handleRestoreModeChanged(false, booking);\r\n                          }}\r\n                          className={classes.SaveButton}\r\n                        >\r\n                          YES, Restore this!\r\n                        </Button>\r\n                      </li>\r\n\r\n                      <li\r\n                        hidden={\r\n                          !(\r\n                            restoreMode.restore &&\r\n                            restoreMode.person._id === booking._id\r\n                          )\r\n                        }\r\n                      >\r\n                        <Button\r\n                          type=\"button\"\r\n                          fullWidth\r\n                          variant=\"contained\"\r\n                          color=\"default\"\r\n                          disabled={restoring}\r\n                          onClick={() => {\r\n                            handleRestoreModeChanged(false, null);\r\n                          }}\r\n                          className={classes.CancelButton}\r\n                        >\r\n                          Cancel\r\n                        </Button>\r\n                      </li>\r\n\r\n                      {/*  ******************************************************************* */}\r\n\r\n                      {/* Edit Functionality ******************************************* */}\r\n\r\n                      <li\r\n                        hidden={\r\n                          booking.deleted ||\r\n                          deleteMode.delete ||\r\n                          (editMode.edit && editMode.person._id === booking._id)\r\n                        }\r\n                      >\r\n                        <Button\r\n                          type=\"button\"\r\n                          fullWidth\r\n                          variant=\"contained\"\r\n                          color=\"primary\"\r\n                          onClick={() => {\r\n                            handleEditModeChanged(true, booking);\r\n                          }}\r\n                          className={classes.EditButton}\r\n                        >\r\n                          Edit Booking Info\r\n                        </Button>\r\n                      </li>\r\n\r\n                      <li\r\n                        hidden={\r\n                          !(\r\n                            editMode.edit && editMode.person._id === booking._id\r\n                          )\r\n                        }\r\n                      >\r\n                        <Button\r\n                          type=\"button\"\r\n                          fullWidth\r\n                          variant=\"contained\"\r\n                          color=\"primary\"\r\n                          disabled={saving || !recordChanged}\r\n                          onClick={() => {\r\n                            handleEditModeChanged(false, booking);\r\n                          }}\r\n                          className={classes.SaveButton}\r\n                        >\r\n                          Save Changes\r\n                        </Button>\r\n                      </li>\r\n\r\n                      <li\r\n                        hidden={\r\n                          !(\r\n                            editMode.edit && editMode.person._id === booking._id\r\n                          )\r\n                        }\r\n                      >\r\n                        <Button\r\n                          type=\"button\"\r\n                          fullWidth\r\n                          variant=\"contained\"\r\n                          color=\"default\"\r\n                          disabled={saving}\r\n                          onClick={() => {\r\n                            handleEditModeChanged(false, null);\r\n                          }}\r\n                          className={classes.CancelButton}\r\n                        >\r\n                          Cancel\r\n                        </Button>\r\n                      </li>\r\n\r\n                      {/* ****************************************************************************************** */}\r\n\r\n                      {/* Delete Functionality ******************************************* */}\r\n\r\n                      <li\r\n                        hidden={\r\n                          !(\r\n                            deleteMode.delete &&\r\n                            deleteMode.person._id === booking._id\r\n                          )\r\n                        }\r\n                      >\r\n                        <div\r\n                          style={{\r\n                            fontWeight: \"600\",\r\n                            paddingBottom: \"5px\",\r\n                            paddingLeft: \"5px\",\r\n                            fontSize: \"16px\",\r\n                          }}\r\n                        >\r\n                          Are you sure you want to delete this record?\r\n                        </div>\r\n                      </li>\r\n\r\n                      <li\r\n                        hidden={\r\n                          props.deleteButtonDisabled ||\r\n                          booking.deleted ||\r\n                          editMode.edit ||\r\n                          (deleteMode.delete &&\r\n                            deleteMode.person._id === booking._id)\r\n                        }\r\n                      >\r\n                        <Button\r\n                          type=\"button\"\r\n                          fullWidth\r\n                          variant=\"contained\"\r\n                          color=\"primary\"\r\n                          onClick={() => {\r\n                            handleDeleteModeChanged(true, booking);\r\n                          }}\r\n                          className={classes.DeleteButton}\r\n                        >\r\n                          Delete This Record\r\n                        </Button>\r\n                      </li>\r\n\r\n                      <li\r\n                        hidden={\r\n                          !(\r\n                            deleteMode.delete &&\r\n                            deleteMode.person._id === booking._id\r\n                          )\r\n                        }\r\n                      >\r\n                        <Button\r\n                          type=\"button\"\r\n                          fullWidth\r\n                          variant=\"contained\"\r\n                          color=\"primary\"\r\n                          disabled={deleting}\r\n                          onClick={() => {\r\n                            handleDeleteModeChanged(false, booking);\r\n                          }}\r\n                          className={classes.SaveButton}\r\n                        >\r\n                          YES, Delete this!\r\n                        </Button>\r\n                      </li>\r\n\r\n                      <li\r\n                        hidden={\r\n                          !(\r\n                            deleteMode.delete &&\r\n                            deleteMode.person._id === booking._id\r\n                          )\r\n                        }\r\n                      >\r\n                        <Button\r\n                          type=\"button\"\r\n                          fullWidth\r\n                          variant=\"contained\"\r\n                          color=\"default\"\r\n                          disabled={deleting}\r\n                          onClick={() => {\r\n                            handleDeleteModeChanged(false, null);\r\n                          }}\r\n                          className={classes.CancelButton}\r\n                        >\r\n                          Cancel\r\n                        </Button>\r\n                      </li>\r\n\r\n                      {/* ****************************************************************************************** */}\r\n\r\n                      <li className={classes.li}>\r\n                        <span className={classes.infoTitle}>BOOKED DATE</span>\r\n\r\n                        <span\r\n                          hidden={\r\n                            editMode.edit && editMode.person._id === booking._id\r\n                          }\r\n                          className={classes.infoData}\r\n                        >\r\n                          {FormatDateFromString(booking.bookingDate)}\r\n                        </span>\r\n                        <span\r\n                          hidden={\r\n                            !(\r\n                              editMode.edit &&\r\n                              editMode.person._id === booking._id\r\n                            )\r\n                          }\r\n                          className={classes.infoData}\r\n                        >\r\n                          <TextField\r\n                            fullWidth\r\n                            error={validationError.bookingDateError}\r\n                            className={classes.TextBox}\r\n                            value={bookingDate}\r\n                            onChange={bookingDateChanged}\r\n                            inputProps={{\r\n                              style: {\r\n                                padding: 0,\r\n                              },\r\n                            }}\r\n                          ></TextField>\r\n                        </span>\r\n                      </li>\r\n\r\n                      <li className={classes.li}>\r\n                        <span className={classes.infoTitle}>BOOKED TIME</span>\r\n                        <span\r\n                          hidden={\r\n                            editMode.edit && editMode.person._id === booking._id\r\n                          }\r\n                          className={classes.infoData}\r\n                        >\r\n                          {booking.bookingTime.toUpperCase()}\r\n                        </span>\r\n                        <span\r\n                          hidden={\r\n                            !(\r\n                              editMode.edit &&\r\n                              editMode.person._id === booking._id\r\n                            )\r\n                          }\r\n                          className={classes.infoData}\r\n                        >\r\n                          <TextField\r\n                            fullWidth\r\n                            error={validationError.bookingTimeError}\r\n                            className={classes.TextBox}\r\n                            value={bookingTime}\r\n                            onChange={bookingTimeChanged}\r\n                            inputProps={{\r\n                              style: {\r\n                                padding: 0,\r\n                              },\r\n                            }}\r\n                          ></TextField>\r\n                        </span>\r\n                      </li>\r\n\r\n                      <li className={classes.li}>\r\n                        <span className={classes.infoTitle}>GENDER</span>\r\n                        <span\r\n                          hidden={\r\n                            editMode.edit && editMode.person._id === booking._id\r\n                          }\r\n                          className={classes.infoData}\r\n                        >\r\n                          {booking.gender?.toUpperCase()}\r\n                        </span>\r\n                        <span\r\n                          hidden={\r\n                            !(\r\n                              editMode.edit &&\r\n                              editMode.person._id === booking._id\r\n                            )\r\n                          }\r\n                          className={classes.infoData}\r\n                        >\r\n                          <TextField\r\n                            fullWidth\r\n                            className={classes.TextBox}\r\n                            value={gender}\r\n                            onChange={genderChanged}\r\n                            inputProps={{\r\n                              style: {\r\n                                padding: 0,\r\n                              },\r\n                            }}\r\n                          ></TextField>\r\n                        </span>\r\n                      </li>\r\n                      <li className={classes.li}>\r\n                        <span className={classes.infoTitle}>TITLE</span>\r\n                        <span\r\n                          hidden={\r\n                            editMode.edit && editMode.person._id === booking._id\r\n                          }\r\n                          className={classes.infoData}\r\n                        >\r\n                          {booking.title?.toUpperCase()}\r\n                        </span>\r\n                        <span\r\n                          hidden={\r\n                            !(\r\n                              editMode.edit &&\r\n                              editMode.person._id === booking._id\r\n                            )\r\n                          }\r\n                          className={classes.infoData}\r\n                        >\r\n                          <TextField\r\n                            fullWidth\r\n                            className={classes.TextBox}\r\n                            value={title}\r\n                            onChange={titleChanged}\r\n                            inputProps={{\r\n                              style: {\r\n                                padding: 0,\r\n                              },\r\n                            }}\r\n                          ></TextField>\r\n                        </span>\r\n                      </li>\r\n                      <li className={classes.li}>\r\n                        <span className={classes.infoTitle}>FORENAME</span>\r\n                        <span\r\n                          hidden={\r\n                            editMode.edit && editMode.person._id === booking._id\r\n                          }\r\n                          className={classes.infoData}\r\n                        >\r\n                          {booking.forenameCapital}\r\n                        </span>\r\n                        <span\r\n                          hidden={\r\n                            !(\r\n                              editMode.edit &&\r\n                              editMode.person._id === booking._id\r\n                            )\r\n                          }\r\n                          className={classes.infoData}\r\n                        >\r\n                          <TextField\r\n                            fullWidth\r\n                            className={classes.TextBox}\r\n                            value={forename}\r\n                            onChange={forenameChanged}\r\n                            inputProps={{\r\n                              style: {\r\n                                padding: 0,\r\n                              },\r\n                            }}\r\n                          ></TextField>\r\n                        </span>\r\n                      </li>\r\n                      <li className={classes.li}>\r\n                        <span className={classes.infoTitle}>SURNAME</span>\r\n                        <span\r\n                          hidden={\r\n                            editMode.edit && editMode.person._id === booking._id\r\n                          }\r\n                          className={classes.infoData}\r\n                        >\r\n                          {booking.surnameCapital}\r\n                        </span>\r\n                        <span\r\n                          hidden={\r\n                            !(\r\n                              editMode.edit &&\r\n                              editMode.person._id === booking._id\r\n                            )\r\n                          }\r\n                          className={classes.infoData}\r\n                        >\r\n                          <TextField\r\n                            fullWidth\r\n                            className={classes.TextBox}\r\n                            value={surname}\r\n                            onChange={surnameChanged}\r\n                            inputProps={{\r\n                              style: {\r\n                                padding: 0,\r\n                              },\r\n                            }}\r\n                          ></TextField>\r\n                        </span>\r\n                      </li>\r\n                      <li className={classes.li}>\r\n                        <span className={classes.infoTitle}>EMAIL</span>\r\n                        <span\r\n                          hidden={\r\n                            editMode.edit && editMode.person._id === booking._id\r\n                          }\r\n                          className={classes.infoData}\r\n                        >\r\n                          {booking.email?.toUpperCase()}\r\n                        </span>\r\n                        <span\r\n                          hidden={\r\n                            !(\r\n                              editMode.edit &&\r\n                              editMode.person._id === booking._id\r\n                            )\r\n                          }\r\n                          className={classes.infoData}\r\n                        >\r\n                          <TextField\r\n                            fullWidth\r\n                            className={classes.TextBox}\r\n                            value={email}\r\n                            onChange={emailChanged}\r\n                            inputProps={{\r\n                              style: {\r\n                                padding: 0,\r\n                              },\r\n                            }}\r\n                          ></TextField>\r\n                        </span>\r\n                      </li>\r\n                      <li className={classes.li}>\r\n                        <span className={classes.infoTitle}>D.O.B</span>\r\n                        <span\r\n                          hidden={\r\n                            editMode.edit && editMode.person._id === booking._id\r\n                          }\r\n                          className={classes.infoData}\r\n                        >\r\n                          {FormatDateFromString(booking.birthDate)}\r\n                        </span>\r\n                        <span\r\n                          hidden={\r\n                            !(\r\n                              editMode.edit &&\r\n                              editMode.person._id === booking._id\r\n                            )\r\n                          }\r\n                          className={classes.infoData}\r\n                        >\r\n                          <TextField\r\n                            fullWidth\r\n                            error={validationError.dobError}\r\n                            className={classes.TextBox}\r\n                            value={dob}\r\n                            onChange={dobChanged}\r\n                            inputProps={{\r\n                              style: {\r\n                                padding: 0,\r\n                              },\r\n                            }}\r\n                          ></TextField>\r\n                        </span>\r\n                      </li>\r\n                      <li className={classes.li}>\r\n                        <span className={classes.infoTitle}>TEL</span>\r\n                        <span\r\n                          hidden={\r\n                            editMode.edit && editMode.person._id === booking._id\r\n                          }\r\n                          className={classes.infoData}\r\n                        >\r\n                          {booking.phone?.toUpperCase()}\r\n                        </span>\r\n                        <span\r\n                          hidden={\r\n                            !(\r\n                              editMode.edit &&\r\n                              editMode.person._id === booking._id\r\n                            )\r\n                          }\r\n                          className={classes.infoData}\r\n                        >\r\n                          <TextField\r\n                            fullWidth\r\n                            className={classes.TextBox}\r\n                            value={tel}\r\n                            onChange={telChanged}\r\n                            inputProps={{\r\n                              style: {\r\n                                padding: 0,\r\n                              },\r\n                            }}\r\n                          ></TextField>\r\n                        </span>\r\n                      </li>\r\n                      <li className={classes.li}>\r\n                        <span className={classes.infoTitle}>POST CODE</span>\r\n                        <span\r\n                          hidden={\r\n                            editMode.edit && editMode.person._id === booking._id\r\n                          }\r\n                          className={classes.infoData}\r\n                        >\r\n                          {booking.postCode?.toUpperCase()}\r\n                        </span>\r\n                        <span\r\n                          hidden={\r\n                            !(\r\n                              editMode.edit &&\r\n                              editMode.person._id === booking._id\r\n                            )\r\n                          }\r\n                          className={classes.infoData}\r\n                        >\r\n                          <TextField\r\n                            fullWidth\r\n                            className={classes.TextBox}\r\n                            value={postCode}\r\n                            onChange={postCodeChanged}\r\n                            inputProps={{\r\n                              style: {\r\n                                padding: 0,\r\n                              },\r\n                            }}\r\n                          ></TextField>\r\n                        </span>\r\n                      </li>\r\n                      <li className={classes.li}>\r\n                        <span className={classes.infoTitle}>ADDRESS</span>\r\n                        <span\r\n                          hidden={\r\n                            editMode.edit && editMode.person._id === booking._id\r\n                          }\r\n                          className={classes.infoData}\r\n                        >\r\n                          {booking.address?.toUpperCase()}\r\n                        </span>\r\n                        <span\r\n                          hidden={\r\n                            !(\r\n                              editMode.edit &&\r\n                              editMode.person._id === booking._id\r\n                            )\r\n                          }\r\n                          className={classes.infoData}\r\n                        >\r\n                          <TextField\r\n                            fullWidth\r\n                            className={classes.TextBox}\r\n                            value={address}\r\n                            onChange={addressChanged}\r\n                            inputProps={{\r\n                              style: {\r\n                                padding: 0,\r\n                              },\r\n                            }}\r\n                          ></TextField>\r\n                        </span>\r\n                      </li>\r\n\r\n                      <li className={classes.li}>\r\n                        <span className={classes.infoTitle}>PASSPORT NO.</span>\r\n                        <span\r\n                          hidden={\r\n                            editMode.edit && editMode.person._id === booking._id\r\n                          }\r\n                          className={classes.infoData}\r\n                        >\r\n                          {booking.passportNumber?.toUpperCase()}\r\n                        </span>\r\n                        <span\r\n                          hidden={\r\n                            !(\r\n                              editMode.edit &&\r\n                              editMode.person._id === booking._id\r\n                            )\r\n                          }\r\n                          className={classes.infoData}\r\n                        >\r\n                          <TextField\r\n                            fullWidth\r\n                            className={classes.TextBox}\r\n                            value={passport}\r\n                            onChange={passportChanged}\r\n                            inputProps={{\r\n                              style: {\r\n                                padding: 0,\r\n                              },\r\n                            }}\r\n                          ></TextField>\r\n                        </span>\r\n                      </li>\r\n\r\n                      <li className={classes.li}>\r\n                        <span className={classes.infoTitle}>\r\n                          SECOND PASSPORT NO.\r\n                        </span>\r\n                        <span\r\n                          hidden={\r\n                            editMode.edit && editMode.person._id === booking._id\r\n                          }\r\n                          className={classes.infoData}\r\n                        >\r\n                          {booking.passportNumber2?.toUpperCase()}\r\n                        </span>\r\n                        <span\r\n                          hidden={\r\n                            !(\r\n                              editMode.edit &&\r\n                              editMode.person._id === booking._id\r\n                            )\r\n                          }\r\n                          className={classes.infoData}\r\n                        >\r\n                          <TextField\r\n                            fullWidth\r\n                            className={classes.TextBox}\r\n                            value={passport2}\r\n                            onChange={passport2Changed}\r\n                            inputProps={{\r\n                              style: {\r\n                                padding: 0,\r\n                              },\r\n                            }}\r\n                          ></TextField>\r\n                        </span>\r\n                      </li>\r\n\r\n                      <li className={classes.li}>\r\n                        <span className={classes.infoTitle}>\r\n                          REQUEST FOR CERTIFICATE\r\n                        </span>\r\n                        <span\r\n                          hidden={\r\n                            editMode.edit && editMode.person._id === booking._id\r\n                          }\r\n                          className={classes.infoData}\r\n                        >\r\n                          {booking.certificate ? (\r\n                            <CheckIcon className={classes.checkIcon} />\r\n                          ) : (\r\n                            <CloseIcon className={classes.closeIcon} />\r\n                          )}\r\n                        </span>\r\n                        <span\r\n                          hidden={\r\n                            !(\r\n                              editMode.edit &&\r\n                              editMode.person._id === booking._id\r\n                            )\r\n                          }\r\n                          className={classes.infoData}\r\n                        >\r\n                          <FormControlLabel\r\n                            className={classes.formControl}\r\n                            control={\r\n                              <Checkbox\r\n                                className={classes.formControl}\r\n                                color=\"secondary\"\r\n                                name=\"certificate\"\r\n                                checked={certificate}\r\n                                onChange={certificateChanged}\r\n                              />\r\n                            }\r\n                            label=\"\"\r\n                          />\r\n                        </span>\r\n                      </li>\r\n                      <li className={classes.li}>\r\n                        <span className={classes.infoTitle}>\r\n                          REQUEST FOR ANTIBODY TEST\r\n                        </span>\r\n                        <span\r\n                          hidden={\r\n                            editMode.edit && editMode.person._id === booking._id\r\n                          }\r\n                          className={classes.infoData}\r\n                        >\r\n                          {booking.antiBodyTest ? (\r\n                            <CheckIcon className={classes.checkIcon} />\r\n                          ) : (\r\n                            <CloseIcon className={classes.closeIcon} />\r\n                          )}\r\n                        </span>\r\n                        <span\r\n                          hidden={\r\n                            !(\r\n                              editMode.edit &&\r\n                              editMode.person._id === booking._id\r\n                            )\r\n                          }\r\n                          className={classes.infoData}\r\n                        >\r\n                          <FormControlLabel\r\n                            className={classes.formControl}\r\n                            control={\r\n                              <Checkbox\r\n                                className={classes.formControl}\r\n                                color=\"secondary\"\r\n                                name=\"certificate\"\r\n                                checked={antiBodyTest}\r\n                                onChange={antiBodyTestChanged}\r\n                              />\r\n                            }\r\n                            label=\"\"\r\n                          />\r\n                        </span>\r\n                      </li>\r\n                      <li className={classes.li}>\r\n                        <span className={classes.infoTitle}>STATUS</span>{\" \"}\r\n                        {getStatusLabel(booking.status)}\r\n                        {booking.status === \"sample_taken\" &&\r\n                          !(\r\n                            editMode.edit && editMode.person._id === booking._id\r\n                          ) && (\r\n                            <Button \r\n                                  variant=\"outlined\"\r\n                                  color=\"primary\"\r\n                                  disabled = {saving}\r\n                                  onClick = {event => changeBackToBookingMade(event,booking._id)}\r\n\r\n                                     >\r\n                              Change Back To Booking Made\r\n                            </Button>\r\n                          )}\r\n\r\n                          {(booking.status === \"report_sent\" || booking.status === \"report_cert_sent\") &&\r\n                          !(\r\n                            editMode.edit && editMode.person._id === booking._id\r\n                          ) && (\r\n                            <Button \r\n                                  variant=\"outlined\"\r\n                                  color=\"primary\"\r\n                                  className = {classes.ResendEmailsButton}\r\n                                  onClick = {event => resendEmails(event,booking._id)}\r\n\r\n                                     >\r\n                              Resend emails\r\n                            </Button>\r\n                          )}\r\n                      </li>\r\n\r\n                      <li className={classes.li}>\r\n                        <span className={classes.infoTitle}>TOTAL CHARGES</span>{\" \"}\r\n                        <span\r\n                          className={\r\n                            calculatePrice(booking) <= 199\r\n                              ? classes.infoDataCharges\r\n                              : classes.infoDataChargesHigher\r\n                          }\r\n                        >{`£${calculatePrice(booking)}`}</span>\r\n                      </li>\r\n\r\n                      <li hidden={booking.deleted}>\r\n                        <Button\r\n                          startIcon = {<PrintIcon/>}\r\n                          type=\"button\"\r\n                          fullWidth\r\n                          variant=\"outlined\"\r\n                          color=\"primary\"\r\n                          onClick={() => {\r\n                            downloadForm1(booking._id);\r\n                          }}\r\n                          // onTouchTap = {() => {downloadForm1(person._id)}}\r\n                          className={classes.DownloadForm}\r\n                        >\r\n                          Download Registration Form\r\n                        </Button>\r\n                      </li>\r\n\r\n                      <li hidden={booking.deleted}>\r\n                        <Button\r\n                          startIcon = {<PrintIcon/>}\r\n                          type=\"button\"\r\n                          fullWidth\r\n                          variant=\"outlined\"\r\n                          color=\"primary\"\r\n                          onClick={() => {\r\n                            downloadForm2(booking._id);\r\n                          }}\r\n                          // onTouchTap = {() => {downloadForm2(person._id)}}\r\n                          className={classes.DownloadForm}\r\n                        >\r\n                          Download Lab Form\r\n                        </Button>\r\n                      </li>\r\n\r\n                      <li\r\n                        hidden={\r\n                          booking.deleted ||\r\n                          (booking.status !== \"report_sent\" &&\r\n                            booking.status !== \"report_cert_sent\")\r\n                        }\r\n                      >\r\n                        <Button\r\n                          startIcon = {<PrintIcon/>}\r\n                          type=\"button\"\r\n                          fullWidth\r\n                          variant=\"outlined\"\r\n                          color=\"primary\"\r\n                          onClick={() => {\r\n                            downloadLabResults(booking._id);\r\n                          }}\r\n                          // onTouchTap = {() => {downloadForm1(person._id)}}\r\n                          className={classes.DownloadForm}\r\n                        >\r\n                          Download Lab Results\r\n                        </Button>\r\n                      </li>\r\n\r\n                      <li\r\n                        hidden={\r\n                          booking.deleted ||\r\n                          booking.status !== \"report_cert_sent\"\r\n                        }\r\n                      >\r\n                        <Button\r\n                          startIcon = {<PrintIcon/>}\r\n                          type=\"button\"\r\n                          fullWidth\r\n                          variant=\"outlined\"\r\n                          color=\"primary\"\r\n                          onClick={() => {\r\n                            downloadCertificate(booking._id);\r\n                          }}\r\n                          // onTouchTap = {() => {downloadForm1(person._id)}}\r\n                          className={classes.DownloadForm}\r\n                        >\r\n                          Download Certificate\r\n                        </Button>\r\n                      </li>\r\n                    </ul>\r\n                  </div>\r\n                </Grid>\r\n              </div>\r\n              <Backdrop\r\n                className={classes.backdrop}\r\n                open={saving || deleting || restoring}\r\n              >\r\n                <CircularProgress color=\"inherit\" />\r\n              </Backdrop>\r\n            </DialogContent>\r\n\r\n\r\n            <ResendEmailsDialog booking={selectedBooking} open={openResendDialog} handleClose={handleCloseResendDialog} />\r\n\r\n          </Dialog>\r\n\r\n        \r\n\r\n        </React.Fragment>\r\n      )}\r\n\r\n    </React.Fragment>\r\n  );\r\n}\r\n","import React, {useEffect, useRef, useState} from 'react';\r\nimport { DataGrid, LoadingOverlay } from '@material-ui/data-grid';\r\nimport BookService from './services/BookService';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { Button, CircularProgress, Grid, LinearProgress, Link, makeStyles, TextField, Tooltip } from '@material-ui/core';\r\nimport RefreshIcon from '@material-ui/icons/Refresh';\r\nimport { IconButton } from '@material-ui/core';\r\nimport LoaderSpinner from 'react-loader-spinner';\r\nimport CheckIcon from '@material-ui/icons/Check';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport { green, red } from '@material-ui/core/colors';\r\nimport GlobalState from './GlobalState';\r\nimport { Report } from '@material-ui/icons';\r\nimport { getMenuIndex } from './MenuList';\r\nimport {FormatDateFromString, FormatDateFromStringShortYear} from './DateFormatter';\r\n\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport CreateIcon from '@material-ui/icons/Create';\r\nimport BookingDialog from './BookingDialog';\r\n\r\nimport NewReleasesIcon from '@material-ui/icons/NewReleases';\r\nimport HistoryIcon from '@material-ui/icons/History';\r\nimport TimelineIcon from '@material-ui/icons/Timeline';\r\nimport DescriptionIcon from '@material-ui/icons/Description';\r\nimport AutorenewIcon from '@material-ui/icons/Autorenew';\r\nimport LiveTvIcon from '@material-ui/icons/LiveTv';\r\nimport PlaylistAddCheckIcon from '@material-ui/icons/PlaylistAddCheck';\r\nimport WarningIcon from '@material-ui/icons/Warning';\r\nimport AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport HourglassEmptyIcon from '@material-ui/icons/HourglassEmpty';\r\n\r\nimport * as dateformat from 'dateformat';\r\n\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  title: {\r\n    marginTop: theme.spacing(0),\r\n    marginBottom: theme.spacing(1),\r\n\r\n  },\r\n  \r\n  refreshButton:{\r\n    marginLeft: theme.spacing(2),\r\n  },\r\n\r\n  checkIcon:{\r\n    color: \"green\"\r\n  },\r\n\r\n  closeIcon:{\r\n    color: \"red\"\r\n  },\r\n\r\n  RefLink: {\r\n    cursor: \"pointer\"\r\n  },\r\n\r\n  BookedLabel:{\r\n    backgroundColor: \"#606060\",\r\n    color: \"#fff\",\r\n    width: \"70px\"\r\n  },\r\n\r\n  PatientAttendedLabel:{\r\n    backgroundColor: \"#0066aa\",\r\n    color: \"#fff\",\r\n    width: \"70px\"\r\n  },\r\n\r\n  SampleTakenLabel:{\r\n    backgroundColor: \"#0066cc\",\r\n    color: \"#fff\",\r\n    width: \"70px\"\r\n  },\r\n\r\n  ReportSentLabel:{\r\n    backgroundColor: \"#009900\",\r\n    color: \"#fff\",\r\n    width: \"70px\"\r\n  },\r\n\r\n  ReportCertSentLabel:{\r\n    backgroundColor: \"#009900\",\r\n    color: \"#fff\",\r\n    width: \"70px\"\r\n  },\r\n\r\n  PositiveLabel:{\r\n    backgroundColor: \"red\",\r\n    color: \"#fff\",\r\n    width: \"70px\"\r\n  },\r\n\r\n  HideNowRows: {\r\n    position: \"absolute\",\r\n    top: \"40%\",\r\n    left: \"40%\",\r\n    width: \"600px\",\r\n    height: \"300px\",\r\n    backgroundColor : \"#fafafa\",\r\n    color : \"#111\",\r\n    zIndex: \"1000\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyItems: \"center\"\r\n  },\r\n\r\n}));\r\n\r\nconst getTableTitle = (str) =>{\r\n\r\n  if (str === 'today')\r\n  {\r\n    return `Today's Bookings`;\r\n  }else if (str === 'old')\r\n  {\r\n    return `Old Bookings`;\r\n  }else if (str === 'future')\r\n  {\r\n    return `Future Bookings`;\r\n  }else if (str === 'recent')\r\n  {\r\n    return `Recent Bookings`;\r\n  }else if (str === 'live')\r\n  {\r\n    return `Live Bookings`;\r\n  }else if (str === 'completed')\r\n  {\r\n    return `Completed Bookings`;\r\n  }else if (str === 'positive')\r\n  {\r\n    return `Positive Results`;\r\n  }else if (str === 'deleted')\r\n  {\r\n    return `Deleted Records`;\r\n  }else if (str === 'late')\r\n  {\r\n    return `40 Hours Late`;\r\n  }\r\n  \r\n  else\r\n  {\r\n    return `All Bookings`;\r\n  }\r\n\r\n}\r\n\r\nconst getTableIcon = (str) =>{\r\n\r\n  if (str === 'today')\r\n  {\r\n    return <NewReleasesIcon style={{fontSize:\"2.2rem\"}} />;\r\n  }else if (str === 'old')\r\n  {\r\n    return <HistoryIcon style={{fontSize:\"2.2rem\"}} />;\r\n  }else if (str === 'future')\r\n  {\r\n    return <TimelineIcon style={{fontSize:\"2.2rem\"}} />;\r\n  }else if (str === 'recent')\r\n  {\r\n    return <AutorenewIcon style={{fontSize:\"2.2rem\"}} />;\r\n  }else if (str === 'live')\r\n  {\r\n    return <LiveTvIcon style={{fontSize:\"2.2rem\"}} />;\r\n  }else if (str === 'completed')\r\n  {\r\n    return  <PlaylistAddCheckIcon style={{fontSize:\"2.2rem\"}} />;\r\n  }else if (str === 'positive')\r\n  {\r\n    return <AddCircleOutlineIcon style={{fontSize:\"2.2rem\"}} />\r\n  }else if (str === 'deleted')\r\n  {\r\n    return <DeleteIcon style={{fontSize:\"2.2rem\"}} />;\r\n  }else if (str === 'late')\r\n  {\r\n    return <HourglassEmptyIcon style={{fontSize:\"2.2rem\"}} />;\r\n  }\r\n  \r\n  else\r\n  {\r\n    return <DescriptionIcon style={{fontSize:\"2.2rem\"}} />;\r\n  }\r\n\r\n}\r\n\r\nexport default function BookingTable(props) {\r\n  \r\n  const classes = useStyles();\r\n\r\n  var columns = [];\r\n\r\n  if (props.date === 'recent')\r\n  {\r\n    columns = [\r\n      // { field: 'id', headerName: '#', width: 70 },\r\n  \r\n      {field: '_id', headerName:' ', width: 70, renderCell: (params) =>{\r\n          return (\r\n            <Button \r\n                    color=\"primary\"\r\n                    onClick = {event => openDetailsDialog(event, params.value)}\r\n            > \r\n            \r\n            <SearchIcon/> \r\n            \r\n            </Button>\r\n  \r\n          ); \r\n      \r\n        }\r\n      },\r\n\r\n      { field: 'timeStamp', headerName: 'TimeStamp', width: 200, valueFormatter: (params) => { \r\n        return formatTimeStamp(params.value);\r\n        }\r\n      },\r\n  \r\n      { field: 'bookingDate', headerName: 'B Date', width: 110, valueFormatter: (params) => { \r\n              return FormatDateFromString(params.value);\r\n          }\r\n       },\r\n      { field: 'bookingTimeNormalized', headerName: 'B Time', width: 105 , valueGetter: (params) => {\r\n        return params.getValue('bookingTime');\r\n      }},\r\n      { field: 'status', headerName: 'Status', width: 100, renderCell: (params) =>{\r\n          if (params.value === 'booked')\r\n          {\r\n            return (\r\n              <span className={classes.BookedLabel}>  BM </span>\r\n            );\r\n        \r\n          }else if (params.value === 'patient_attended')\r\n          {\r\n            return (\r\n              <span  className={classes.PatientAttendedLabel}> PA </span>\r\n            );\r\n  \r\n          }else if (params.value === 'sample_taken')\r\n          {\r\n            return (\r\n              <span  className={classes.SampleTakenLabel}>  ST </span>\r\n            );\r\n  \r\n          }else if (params.value === 'report_sent')\r\n          {\r\n            return (\r\n              <span  className={classes.ReportSentLabel}>  RS </span>\r\n            );\r\n  \r\n          }else if (params.value === 'report_cert_sent')\r\n          {\r\n            return (\r\n              <span  className={classes.ReportCertSentLabel}>  RCS </span>\r\n            );\r\n  \r\n          }else if (params.value === 'positive')\r\n          {\r\n            return (\r\n              <span  className={classes.PositiveLabel}> POS </span>\r\n            );\r\n          }\r\n          \r\n          else{\r\n            return 'Unknown';\r\n          }\r\n        }\r\n      },\r\n      { field: 'bookingRef', headerName: 'Ref No.', width: 120 , renderCell: (params) =>{\r\n        return (\r\n          <Tooltip title=\"Go Find By Ref\" placement=\"right\">\r\n              <Link className={classes.RefLink} onClick={\r\n                () => {\r\n                  // console.log(params.value);\r\n  \r\n                  setState(state => ({...state, currentMenuIndex: getMenuIndex(`findByRef`)}));\r\n                  setState(state => ({...state, ref : params.value}));\r\n                  setState(state => ({...state, refError : false})); \r\n                  setState(state => ({...state, foundRecords : []}));\r\n                  setState(state => ({...state, findRecords : !state.findRecords}));\r\n                }\r\n              }>\r\n                {params.value}\r\n              </Link>\r\n          </Tooltip>\r\n  \r\n        );\r\n      }},\r\n      { field: 'forenameCapital', headerName: 'Forename', width: 150 },\r\n      { field: 'surnameCapital', headerName: 'Surname', width: 150 },\r\n      { field: 'birthDate', headerName: 'D.O.B', width: 110, valueFormatter: (params) => { \r\n        return FormatDateFromString(params.value);\r\n         }\r\n      },\r\n      { field: 'email', headerName: 'Email', width: 200 , valueFormatter : (params) => {\r\n        return params.value.toUpperCase();\r\n      }},\r\n      { field: 'phone', headerName: 'Tel', width: 150 },\r\n      { field: 'passportNumber', headerName: 'Passport No.', width: 250,  valueGetter: (params) => {\r\n        const pass2 = params.getValue('passportNumber2');\r\n        if (pass2 && pass2.length > 0 && pass2.trim().length > 0)\r\n        {\r\n          return `${params.getValue('passportNumber')?.toUpperCase()} - ${params.getValue('passportNumber2')?.toUpperCase()}`\r\n        }\r\n        else\r\n        {\r\n          return params.getValue('passportNumber')?.toUpperCase();\r\n        }\r\n     \r\n  \r\n      }},\r\n      { field: 'certificate', headerName: 'Certificate', width: 120,  renderCell: (params) => {\r\n          return params.value ? (\r\n            <CheckIcon className={classes.checkIcon}/>\r\n          ) :\r\n          (\r\n            <CloseIcon className={classes.closeIcon}/> \r\n          );\r\n      } },\r\n      { field: 'antiBodyTest', headerName: 'Antibody Test', width: 120,  renderCell: (params) => {\r\n        return params.value ? (\r\n          <CheckIcon className={classes.checkIcon}/>\r\n        ) :\r\n        (\r\n        <  CloseIcon className={classes.closeIcon}/> \r\n        );\r\n    } },\r\n      { field: 'postCode', headerName: 'Post Code', width: 150, valueFormatter : (params) => {\r\n        return params.value.toUpperCase();\r\n      } },\r\n      { field: 'address', headerName: 'Address', width: 500, valueFormatter : (params) => {\r\n        return params.value.toUpperCase();\r\n      } },\r\n      // { field: 'notes', headerName: 'Notes', width: 500 },\r\n    \r\n    ];\r\n\r\n  }\r\n  else\r\n  {\r\n    columns = [\r\n      // { field: 'id', headerName: '#', width: 70 },\r\n  \r\n      {field: '_id', headerName:' ', width: 70, renderCell: (params) =>{\r\n          return (\r\n            <Button \r\n                    color=\"primary\"\r\n                    onClick = {event => openDetailsDialog(event, params.value)}\r\n            > \r\n            \r\n            <SearchIcon/> \r\n            \r\n            </Button>\r\n  \r\n          ); \r\n      \r\n        }\r\n      },\r\n  \r\n      { field: 'bookingDate', headerName: 'B Date', width: 110, valueFormatter: (params) => { \r\n              return FormatDateFromString(params.value);\r\n          }\r\n       },\r\n      { field: 'bookingTimeNormalized', headerName: 'B Time', width: 105 , valueGetter: (params) => {\r\n        return params.getValue('bookingTime');\r\n      }},\r\n      { field: 'status', headerName: 'Status', width: 100, renderCell: (params) =>{\r\n          if (params.value === 'booked')\r\n          {\r\n            return (\r\n              <span className={classes.BookedLabel}>  BM </span>\r\n            );\r\n        \r\n          }else if (params.value === 'patient_attended')\r\n          {\r\n            return (\r\n              <span  className={classes.PatientAttendedLabel}> PA </span>\r\n            );\r\n  \r\n          }else if (params.value === 'sample_taken')\r\n          {\r\n            return (\r\n              <span  className={classes.SampleTakenLabel}>  ST </span>\r\n            );\r\n  \r\n          }else if (params.value === 'report_sent')\r\n          {\r\n            return (\r\n              <span  className={classes.ReportSentLabel}>  RS </span>\r\n            );\r\n  \r\n          }else if (params.value === 'report_cert_sent')\r\n          {\r\n            return (\r\n              <span  className={classes.ReportCertSentLabel}>  RCS </span>\r\n            );\r\n  \r\n          }else if (params.value === 'positive')\r\n          {\r\n            return (\r\n              <span  className={classes.PositiveLabel}> POS </span>\r\n            );\r\n          }\r\n          \r\n          else{\r\n            return 'Unknown';\r\n          }\r\n        }\r\n      },\r\n      { field: 'bookingRef', headerName: 'Ref No.', width: 120 , renderCell: (params) =>{\r\n        return (\r\n          <Tooltip title=\"Go Find By Ref\" placement=\"right\">\r\n              <Link className={classes.RefLink} onClick={\r\n                () => {\r\n                  // console.log(params.value);\r\n  \r\n                  setState(state => ({...state, currentMenuIndex: getMenuIndex(`findByRef`)}));\r\n                  setState(state => ({...state, ref : params.value}));\r\n                  setState(state => ({...state, refError : false})); \r\n                  setState(state => ({...state, foundRecords : []}));\r\n                  setState(state => ({...state, findRecords : !state.findRecords}));\r\n                }\r\n              }>\r\n                {params.value}\r\n              </Link>\r\n          </Tooltip>\r\n  \r\n        );\r\n      }},\r\n      { field: 'forenameCapital', headerName: 'Forename', width: 150 },\r\n      { field: 'surnameCapital', headerName: 'Surname', width: 150 },\r\n      { field: 'birthDate', headerName: 'D.O.B', width: 110, valueFormatter: (params) => { \r\n        return FormatDateFromString(params.value);\r\n         }\r\n      },\r\n      { field: 'email', headerName: 'Email', width: 200 , valueFormatter : (params) => {\r\n        return params.value.toUpperCase();\r\n      }},\r\n      { field: 'phone', headerName: 'Tel', width: 150 },\r\n      { field: 'passportNumber', headerName: 'Passport No.', width: 250,  valueGetter: (params) => {\r\n        const pass2 = params.getValue('passportNumber2');\r\n        if (pass2 && pass2.length > 0 && pass2.trim().length > 0)\r\n        {\r\n          return `${params.getValue('passportNumber')?.toUpperCase()} - ${params.getValue('passportNumber2')?.toUpperCase()}`\r\n        }\r\n        else\r\n        {\r\n          return params.getValue('passportNumber')?.toUpperCase();\r\n        }\r\n     \r\n  \r\n      }},\r\n      { field: 'certificate', headerName: 'Certificate', width: 120,  renderCell: (params) => {\r\n          return params.value ? (\r\n            <CheckIcon className={classes.checkIcon}/>\r\n          ) :\r\n          (\r\n            <CloseIcon className={classes.closeIcon}/> \r\n          );\r\n      } },\r\n      { field: 'antiBodyTest', headerName: 'Antibody Test', width: 120,  renderCell: (params) => {\r\n        return params.value ? (\r\n          <CheckIcon className={classes.checkIcon}/>\r\n        ) :\r\n        (\r\n        <  CloseIcon className={classes.closeIcon}/> \r\n        );\r\n    } },\r\n      { field: 'postCode', headerName: 'Post Code', width: 150, valueFormatter : (params) => {\r\n        return params.value.toUpperCase();\r\n      } },\r\n      { field: 'address', headerName: 'Address', width: 500, valueFormatter : (params) => {\r\n        return params.value.toUpperCase();\r\n      } },\r\n      // { field: 'notes', headerName: 'Notes', width: 500 },\r\n    \r\n    ];\r\n  \r\n\r\n  }\r\n\r\n\r\n\r\n  const [state, setState] = React.useContext(GlobalState);  \r\n\r\n  const [data, setData] = React.useState({bookings: [] , cachedBookings: [], isFetching : false});\r\n\r\n  const [selectedRow, setSelectedRow] = React.useState(null);\r\n\r\n  const [selectedBooking, setSelectedBooking] = React.useState(null);\r\n  const [seeDetailsDialogOpen, setSeeDetailsDialogOpen] = React.useState(false);\r\n\r\n  \r\n\r\n  const [filter,setFilter] = React.useState('');\r\n\r\n  const [refresh, setRefresh] = React.useState(false);\r\n\r\n  const lastPromise = useRef();\r\n\r\n  const formatTimeStamp = (timeStamp) =>\r\n  {\r\n    const todayStr = dateformat(new Date(), 'yyyy-mm-dd');\r\n    const timeStampStr = dateformat(timeStamp, 'yyyy-mm-dd');\r\n    if (todayStr === timeStampStr)\r\n    {\r\n      return dateformat(timeStamp, \"'Today', h:MM:ss TT\");\r\n    }\r\n    else\r\n    {\r\n       return dateformat(timeStamp, \"mmm dS, h:MM:ss TT\");\r\n    }\r\n  }\r\n\r\n  useEffect( () => {\r\n         \r\n            var api = BookService.getAllBookings;\r\n            if (props.date === 'today')\r\n            {\r\n              api = BookService.getTodayBookings;\r\n            }else if (props.date === 'old')\r\n            {\r\n              api = BookService.getOldBookings;\r\n            }else if (props.date === 'future')\r\n            {\r\n              api = BookService.getFutureBookings;\r\n            }else if (props.date === 'recent')\r\n            {\r\n              api = BookService.getRecentBookingsAll;\r\n            }else if (props.date === 'live')\r\n            {\r\n              api = BookService.getLiveBookings;\r\n            }else if (props.date === 'completed')\r\n            {\r\n              api = BookService.getCompletedBookings;\r\n            }\r\n            else if (props.date === 'positive')\r\n            {\r\n              api = BookService.getPositiveBookings;\r\n            }\r\n            else if (props.date === 'deleted')\r\n            {\r\n              api = BookService.getDeletedBookings;\r\n            }\r\n            else if (props.date === 'late')\r\n            {\r\n              api = BookService.getLateBookings;\r\n            }\r\n                       \r\n            setData({bookings: [], cachedBookings: [], isFetching: true});\r\n            const currentPromise = api().then( (res) =>{\r\n              \r\n              for (var i=0; i < res.data.length; i++)\r\n              {\r\n                res.data[i] = {...res.data[i], id : i + 1}\r\n              }  \r\n              \r\n              return res.data;\r\n            })\r\n\r\n            lastPromise.current = currentPromise;\r\n\r\n            currentPromise.then(\r\n              result => {\r\n                if (currentPromise === lastPromise.current) {\r\n                  setData({bookings: [...result], cachedBookings: [...result], isFetching: false});\r\n                  setPage(1);\r\n                }\r\n              },\r\n              e => {\r\n                if (currentPromise === lastPromise.current) {\r\n                    console.log(e);\r\n                    setData({bookings: data.bookings, cachedBookings: data.cachedBookings, isFetching: false});\r\n                }\r\n              });\r\n        },\r\n        [props.date, refresh]);\r\n\r\n\r\n\r\n  useEffect( () => {\r\n\r\n        if (filter && filter.trim().length > 0)\r\n        {\r\n          var filteredData = data.cachedBookings.filter( (element) => \r\n\r\n             (element.forename.toLowerCase().indexOf(filter.toLowerCase()) >= 0) ||\r\n                   (element.surname.toLowerCase().indexOf(filter.toLowerCase()) >= 0) \r\n                  // || (element.email.toLowerCase().indexOf(filter.toLowerCase()) >= 0)\r\n          );\r\n  \r\n  \r\n          setData({bookings: [...filteredData], cachedBookings: data.cachedBookings, isFetching: false});\r\n        }else\r\n        {\r\n          setData({bookings: [...data.cachedBookings], cachedBookings: data.cachedBookings, isFetching: false});\r\n        }\r\n      },\r\n      [filter]);\r\n\r\n  \r\n      useEffect(() => {\r\n\r\n        setRefresh(!refresh);\r\n    \r\n      }, [state.bookingDialogDataChanged]);    \r\n\r\n\r\n  const handleCloseSeeDetaisDialog = () =>\r\n  {\r\n    setSelectedBooking(null);\r\n    setSeeDetailsDialogOpen(false);\r\n  }    \r\n  \r\n  const openDetailsDialog = (event, id) =>\r\n  {\r\n    const booking = data.bookings.find(element => element._id === id);\r\n    setSelectedBooking(booking);\r\n    setSeeDetailsDialogOpen(true);\r\n\r\n  }\r\n\r\n  const refreshClicked = (event) =>{\r\n    setFilter('');\r\n    setRefresh(!refresh);\r\n\r\n  }\r\n\r\n  const filterChanged = (event) =>{\r\n    setFilter(event.target.value);\r\n  }\r\n\r\n  const handleSelectionChanged = (newSelection) =>\r\n  {\r\n    if (newSelection.length > 0){\r\n      setSelectedRow(newSelection.rows[0]);\r\n    }\r\n    \r\n  }\r\n\r\n  const [page, setPage] = React.useState(1);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Grid container direction=\"row\" justify=\"space-between\" alignItems=\"flex-end\">\r\n        <Grid item md={4}>\r\n            <div style={{textAlign:\"left\", paddingLeft:\"10px\"}}>\r\n            <Grid container direction=\"row\" justify=\"flex-start\" alignItems=\"center\">\r\n                    <Grid item>\r\n                            <span style={{paddingRight: \"15px\", color: \"#555\"}}> {getTableIcon (props.date)} </span>\r\n                    </Grid>\r\n                    <Grid item>\r\n                          <span style={{fontSize: '1.4rem', fontWeight:\"600\", color: \"#444\"}}> {getTableTitle(props.date)} </span>\r\n                    </Grid>\r\n                    <Grid item>\r\n                        <Tooltip title=\"Refresh\" placement=\"right\">\r\n                            <IconButton\r\n                              color=\"primary\"\r\n                              className={classes.refreshButton}\r\n                              onClick={refreshClicked}\r\n                            >\r\n                              <RefreshIcon />\r\n                            </IconButton>\r\n                        </Tooltip>\r\n                    </Grid>\r\n               </Grid>\r\n            </div>\r\n        </Grid>\r\n\r\n        {/* <Grid item md={3}>\r\n                  {data.isFetching && (\r\n                      <LoaderSpinner\r\n                        type=\"ThreeDots\"\r\n                        color=\"#3f51b5\"\r\n                        height={50}\r\n                        width={50}\r\n                        timeout={0} //3 secs\r\n                      />\r\n                      )}\r\n          </Grid> */}\r\n\r\n            {data.isFetching && (\r\n               <div className={classes.HideNowRows}>\r\n                  \r\n               </div>\r\n            )}\r\n\r\n        <Grid item md={3}>\r\n          <TextField\r\n            variant=\"standard\"\r\n            value={filter}\r\n            onChange={filterChanged}\r\n            margin=\"normal\"\r\n            size=\"small\"\r\n            id=\"filter\"\r\n            label=\"Filter\"\r\n            name=\"filter\"\r\n            autoComplete=\"off\"\r\n          />\r\n        </Grid>\r\n      </Grid>\r\n\r\n      <div style={{ height: 700, width: \"100%\" }}>\r\n        <DataGrid rows={data.bookings} \r\n                  columns={columns} \r\n                  autoPageSize\r\n                  page={page}\r\n                  onPageChange={(params) => {\r\n                    setPage(params.page);\r\n                  }}\r\n                  onSelectionChange = {handleSelectionChanged}\r\n                  />\r\n      </div>\r\n\r\n      <BookingDialog\r\n            booking={selectedBooking}\r\n            open={seeDetailsDialogOpen}\r\n            onClose={handleCloseSeeDetaisDialog}\r\n          />\r\n    </React.Fragment>\r\n  );\r\n}","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nexport default function Title(props) {\r\n  return (\r\n    <Typography component=\"h2\" variant=\"h6\" color=\"primary\" gutterBottom>\r\n      {props.children}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nTitle.propTypes = {\r\n  children: PropTypes.node,\r\n};","import React, { useEffect } from 'react';\r\nimport { useTheme } from '@material-ui/core/styles';\r\nimport { LineChart, Line, XAxis, YAxis, Label, ResponsiveContainer } from 'recharts';\r\nimport Title from './Title';\r\nimport dateformat from 'dateformat';\r\nimport BookService from './services/BookService';\r\n\r\n// Generate Sales Data\r\nfunction createData(time, amount) {\r\n  return { time, amount };\r\n}\r\n\r\n\r\nconst emptyData = [\r\n  createData('09:00', 0),\r\n  createData('10:00', 0),\r\n  createData('11:00', 0),\r\n  createData('12:00', 0),\r\n  createData('13:00', 0),\r\n  createData('14:00', 0),\r\n  createData('15:00', 0),\r\n  createData('16:00', 0),\r\n  createData('17:00', 0),\r\n  createData('18:00', undefined),\r\n\r\n];\r\n\r\nconst getCount = (data, str) =>\r\n{\r\n  if (!data)\r\n    return 0;\r\n\r\n  var count = 0;\r\n  for (var i=0; i < data.length; i++)\r\n  {\r\n    if (data[i]._id.substr(0,2) === str)\r\n    {\r\n      count += data[i].count;\r\n    }\r\n  }\r\n  return count;\r\n}\r\n\r\nexport default function Chart() {\r\n  const theme = useTheme();\r\n\r\n  const [data, setData] = React.useState(emptyData);\r\n\r\n\r\n  useEffect(() =>\r\n  {\r\n    const fetchData = async () =>\r\n    {\r\n      const todayStr = dateformat(new Date(), 'yyyy-mm-dd');\r\n      var result = [];\r\n      try\r\n      {\r\n          const res = await BookService.getBookingsStatsByDateStr(todayStr);\r\n          const data = res.data.result;\r\n          result.push(createData('09:00', getCount(data,'09')));\r\n          result.push(createData('10:00', getCount(data,'10')));\r\n          result.push(createData('11:00', getCount(data,'11')));\r\n          result.push(createData('12:00', getCount(data,'12')));\r\n          result.push(createData('13:00', getCount(data,'13')));\r\n          result.push(createData('14:00', getCount(data,'14')));\r\n          result.push(createData('15:00', getCount(data,'15')));\r\n          result.push(createData('16:00', getCount(data,'16')));\r\n          result.push(createData('17:00', getCount(data,'17')));\r\n          result.push(createData('18:00', undefined));\r\n \r\n           setData(result);\r\n      }\r\n      catch(err){\r\n        console.error(err);\r\n      }\r\n\r\n    }\r\n  \r\n   fetchData();\r\n\r\n  }, [] );\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Title>Today</Title>\r\n      <ResponsiveContainer>\r\n        <LineChart\r\n          data={data}\r\n          margin={{\r\n            top: 16,\r\n            right: 16,\r\n            bottom: 0,\r\n            left: 24,\r\n          }}\r\n        >\r\n          <XAxis dataKey=\"time\" stroke={theme.palette.text.secondary} />\r\n          <YAxis stroke={theme.palette.text.secondary}>\r\n            <Label\r\n              angle={270}\r\n              position=\"left\"\r\n              style={{ textAnchor: 'middle', fill: theme.palette.text.primary }}\r\n            >\r\n              Online Bookings\r\n            </Label>\r\n          </YAxis>\r\n          <Line type=\"monotone\" dataKey=\"amount\" stroke={theme.palette.primary.main} dot={false} />\r\n        </LineChart>\r\n      </ResponsiveContainer>\r\n    </React.Fragment>\r\n  );\r\n}","import React, { useEffect } from 'react';\r\nimport Link from '@material-ui/core/Link';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Title from './Title';\r\nimport { Grid, Tooltip } from '@material-ui/core';\r\nimport * as dateformat from 'dateformat';\r\nimport BookService from './services/BookService';\r\nimport BookingDialog from './BookingDialog';\r\n\r\n\r\nconst useStyles = makeStyles({\r\n  depositContext: {\r\n    flex: 1,\r\n  },\r\n\r\n  bookingBox: {\r\n    display: \"flex\",\r\n    margin: \"5px\",\r\n    padding: \"5px\",\r\n    maxWidth : \"90px\",\r\n    minHeight: \"30px\",\r\n    border : \"1px solid #eee\",\r\n    fontSize: \"12px\",\r\n    fontWeight : \"500\",\r\n    cursor: \"pointer\",\r\n    backgroundColor: \"#ebedf7\",\r\n    color: \"#3f51b5\",\r\n    boxShadow: \"2px 4px #fafafa\",\r\n    borderRadius : \"5px\",\r\n    textAlign: \"center\",\r\n    alignItems: \"center\",\r\n    justifyItems: \"center\",\r\n    align: \"center\",\r\n\r\n    \"&:hover\": {\r\n        background: \"#3f51b5\",\r\n        color: \"#ebedf7\"\r\n      },\r\n}\r\n\r\n\r\n});\r\n\r\nconst isWeekend = (date) =>\r\n{\r\n    return (date.getDay() === 0 || date.getDay() === 6) /// Weekend\r\n}\r\n\r\nconst getCurrentTimeSlot = (now) =>\r\n{\r\n    var min = now.getMinutes();\r\n    var hour = now.getHours();\r\n    var pm = (hour >= 12);\r\n    if (hour > 12)\r\n    {\r\n      hour = hour - 12;\r\n    }\r\n\r\n    if (min >= 0 && min < 15)\r\n    {\r\n      min = 0;\r\n    }else if (min >= 15 && min < 30)\r\n    {\r\n      min = 15;\r\n    }else if (min >= 30 && min < 45)\r\n    {\r\n      min = 30;\r\n    }else if (min >= 45)\r\n    {\r\n      min = 45;\r\n    }\r\n\r\n    const minStr = min < 10 ? `0${min}` : `${min}`;\r\n    const hourStr = hour < 10 ? `0${hour}` : `${hour}`;\r\n    const pmStr = pm ? 'PM' : 'AM';\r\n\r\n    const timeStr = `${hourStr}:${minStr} ${pmStr}`;\r\n\r\n    if (isWeekend(now))\r\n    {\r\n      if (now.getHours() < 10 || now.getHours() >= 14)\r\n      {\r\n        return null;\r\n      }\r\n      else\r\n      {\r\n        return timeStr;\r\n      }\r\n    }\r\n    else\r\n    {\r\n      if (now.getHours() < 9 || now.getHours() >= 18)\r\n      {\r\n        return null;\r\n      }\r\n      else\r\n      {\r\n        return timeStr;\r\n      }\r\n\r\n    }\r\n}\r\n\r\nconst getCurrentTimeSlotLabel = (timeStr) =>\r\n{\r\n  if (!timeStr)\r\n  {\r\n    return 'Closed';\r\n  }\r\n\r\n  var hour = parseInt(timeStr.substr(0,2));\r\n  var minute = parseInt(timeStr.substr(3,2)); \r\n  var pm = timeStr.indexOf('PM') > 0;\r\n  if (minute !== 45)\r\n  {\r\n    minute += 15;\r\n  }\r\n  else{\r\n    minute = 0;\r\n    hour += 1;\r\n    if (hour >= 12)\r\n    {\r\n      pm = true;\r\n    }\r\n    if (hour > 12)\r\n    {\r\n      hour = hour - 12;\r\n    }\r\n  }\r\n\r\n  const minStr = minute < 10 ? `0${minute}` : `${minute}`;\r\n  const hourStr = hour < 10 ? `0${hour}` : `${hour}`;\r\n  const pmStr = pm ? 'PM' : 'AM';\r\n\r\n  const endTimeStr = `${hourStr}:${minStr} ${pmStr}`;\r\n\r\n  return `${timeStr} - ${endTimeStr}`;\r\n\r\n}\r\n\r\nexport default function CurrentVisits() {\r\n  const classes = useStyles();\r\n\r\n  const[current, setCurrent] = React.useState(new Date());\r\n  const [bookings, setBookings] = React.useState([]);\r\n\r\n  const [selectedBooking, setSelectedBooking] = React.useState(null);\r\n  const [openDialog, setOpenDialog] = React.useState(false);\r\n\r\n  useEffect(() => \r\n  {\r\n    const interval = setInterval(() => {  \r\n      setCurrent(new Date());\r\n    }, 5000);\r\n\r\n    return () =>\r\n    {\r\n      clearInterval(interval);\r\n    }\r\n\r\n  }, []);\r\n\r\n  useEffect(() => \r\n  {\r\n    const currentTimeSlot = getCurrentTimeSlot(current);\r\n    if (!currentTimeSlot)\r\n      return;\r\n    const todayStr = dateformat(current, 'yyyy-mm-dd');\r\n    BookService.getBookingsByDateStrandTime(todayStr,currentTimeSlot).then(res =>\r\n      {\r\n        if (res.data.status === 'OK')\r\n        {\r\n            setBookings([...res.data.bookings]);\r\n        }   \r\n\r\n      }).catch(err =>\r\n        {\r\n          console.log(err);\r\n        });\r\n\r\n  }, [current]);\r\n\r\n  const getBookingsBox = (_bookings) =>\r\n  {\r\n      if (_bookings && _bookings.length > 0)\r\n      {\r\n         return (\r\n\r\n          <div className={classes.root}>\r\n            <Grid container justify=\"flex-start\" alignItems=\"flex-start\" spacing={0}>\r\n\r\n                  { _bookings.map(booking => (\r\n\r\n                    <Grid item>\r\n\r\n                        <div className={classes.bookingBox} onClick={event => bookingCliked(event,booking)}>\r\n\r\n                            <span style={{textAlign:\"center\"}}> {`${booking.surnameCapital}`.substring(0,10)} </span>\r\n\r\n                        </div>\r\n\r\n                  </Grid>\r\n\r\n                  ))}\r\n\r\n              \r\n            </Grid>\r\n\r\n          </div>\r\n         )\r\n             \r\n        }                   \r\n  }\r\n\r\n  const bookingCliked = (event, booking) =>\r\n  {\r\n      setSelectedBooking(booking);\r\n      setOpenDialog(true);\r\n  }\r\n\r\n  const handleCloseDialog = () =>\r\n  {\r\n      setOpenDialog(false);\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n\r\n      <Title>Current Visits</Title>\r\n      <Typography component=\"p\" variant=\"h6\">\r\n        {getCurrentTimeSlotLabel(getCurrentTimeSlot(current))}\r\n      </Typography>\r\n      <Typography color=\"textSecondary\" className={classes.depositContext}>\r\n        on {dateformat(current, 'dd mmmm, yyyy') } \r\n      </Typography>\r\n     \r\n        {getBookingsBox(bookings)}\r\n      \r\n\r\n      <BookingDialog\r\n                booking={selectedBooking}\r\n                open={openDialog}\r\n                onClose={handleCloseDialog}\r\n      />\r\n\r\n    </React.Fragment>\r\n  );\r\n}","import React, { useEffect } from 'react';\r\nimport Link from '@material-ui/core/Link';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Title from './Title';\r\nimport BookService from './services/BookService';\r\nimport * as dateformat from 'dateformat';\r\nimport GlobalState from './GlobalState';\r\nimport { getMenuIndex } from './MenuList';\r\nimport {FormatDateFromString, FormatDateFromStringShortYear} from './DateFormatter';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  seeMore: {\r\n    marginTop: theme.spacing(3),\r\n  },\r\n}));\r\n\r\nexport default function BookingView() {\r\n  const classes = useStyles();\r\n  const [state, setState] = React.useContext(GlobalState);  \r\n\r\n  const [data, setData] = React.useState({bookings: [] , isFetching : false});\r\n\r\n  const [refresh, setRefresh] = React.useState(false);\r\n\r\n  const seeMoreRecords = (event) => {\r\n    event.preventDefault();\r\n    setState(state=>({...state, currentMenuIndex:getMenuIndex(`recentBookings`)}));\r\n  }\r\n\r\n  const loadData = () => \r\n  {\r\n    setData({bookings: data.bookings, isFetching: true});\r\n    BookService.getRecentBookings().then( (res) =>{\r\n        setData({bookings: res.data, isFetching: false});\r\n\r\n    }).catch( (err) => {\r\n        console.log(err);\r\n        setData({bookings: data.bookings, isFetching: false});\r\n    });\r\n  }\r\n\r\n\r\n  useEffect( () => {\r\n          loadData();\r\n        },\r\n        [refresh]);   \r\n\r\n\r\n   useEffect( () => {\r\n     loadData();\r\n     setInterval(() => {\r\n       setRefresh(refresh => !refresh);\r\n     }, 5000);\r\n   }, []) ;    \r\n\r\n   const formatTimeStamp = (timeStamp) =>\r\n   {\r\n     const todayStr = dateformat(new Date(), 'yyyy-mm-dd');\r\n     const timeStampStr = dateformat(timeStamp, 'yyyy-mm-dd');\r\n     if (todayStr === timeStampStr)\r\n     {\r\n       return dateformat(timeStamp, \"'Today', h:MM:ss TT\");\r\n     }\r\n     else\r\n     {\r\n        return dateformat(timeStamp, \"mmm dS, h:MM:ss TT\");\r\n     }\r\n   }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Title>Recent Bookings</Title>\r\n      <Table size=\"small\">\r\n        <TableHead>\r\n          <TableRow>\r\n            <TableCell>TimeStamp</TableCell>        \r\n            <TableCell>Name</TableCell>\r\n            <TableCell>Surname</TableCell>\r\n            <TableCell>Email</TableCell>\r\n            <TableCell>D.O.B</TableCell>\r\n            <TableCell>Booked Date</TableCell>\r\n            <TableCell>Booked Time</TableCell> \r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {data.bookings.map((row) => (\r\n            <TableRow key={row._id}>\r\n              <TableCell>{formatTimeStamp(row.timeStamp)}</TableCell>\r\n              <TableCell>{row.forename}</TableCell>\r\n              <TableCell>{row.surname}</TableCell>\r\n              <TableCell>{row.email}</TableCell>\r\n              <TableCell>{FormatDateFromString(row.birthDate)}</TableCell>\r\n              <TableCell>{FormatDateFromString(row.bookingDate)}</TableCell>\r\n              <TableCell>{row.bookingTime}</TableCell>\r\n            </TableRow>\r\n          ))}\r\n        </TableBody>\r\n      </Table>\r\n      <div className={classes.seeMore}>\r\n        <Link color=\"primary\" href=\"#\" onClick={seeMoreRecords}>\r\n          See more records\r\n        </Link>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n}","import React, { useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Title from './Title';\r\nimport { Dialog, DialogContent, DialogTitle, Grid, Link, Table, TableBody, TableCell, TableHead, TableRow, Tooltip } from '@material-ui/core';\r\nimport BookService from './services/BookService';\r\n\r\nimport {\r\n    PieChart, Pie, Sector, Cell,\r\n  } from 'recharts';\r\n\r\n  const COLORS = ['#00b33e', '#0070e0', '#bb00c4'];\r\n\r\n  const RADIAN = Math.PI / 180;\r\n\r\n  const renderCustomizedLabel = ({\r\n    cx, cy, midAngle, innerRadius, outerRadius, value, index,\r\n  }) => {\r\n     const radius = innerRadius + (outerRadius - innerRadius) * 0.5;\r\n    const x = cx + radius * Math.cos(-midAngle * RADIAN);\r\n    const y = cy + radius * Math.sin(-midAngle * RADIAN);\r\n  \r\n    return (\r\n      <text x={x} y={y} fontSize=\"14px\" fontWeight=\"500\" fill=\"white\" textAnchor={x > cx ? 'start' : 'end'} dominantBaseline=\"central\">\r\n                {`${value} `}\r\n      </text>\r\n    );\r\n  };\r\n\r\n\r\nconst useStyles = makeStyles({\r\n  depositContext: {\r\n    flex: 1,\r\n  },\r\n\r\n  ReportLabels: {\r\n      position: \"absolute\",\r\n      top : \"80px\",\r\n      left: \"0px\"\r\n  },\r\n\r\n  AverageLabel: {\r\n    position: \"absolute\",\r\n    top : \"190px\",\r\n    right: \"30px\",\r\n    fontSize : \"12px\",\r\n    color : \"#0070e0\",\r\n    fontWeight: \"600\",\r\n  },\r\n\r\n  less12Label: {\r\n      fontSize : \"12px\",\r\n      color : \"#00b33e\",\r\n      fontWeight: \"600\",\r\n      paddingLeft : \"5px\",\r\n      borderLeft: \"5px solid #00b33e\",\r\n      marginBottom : \"10px\",\r\n  },\r\n\r\n  less24Label: {\r\n    fontSize : \"12px\",\r\n    color : \"#0070e0\",\r\n    fontWeight: \"600\",\r\n    paddingLeft : \"5px\",\r\n    borderLeft: \"5px solid #0070e0\",\r\n    marginBottom : \"10px\",\r\n    },\r\n\r\nless36Label: {\r\n    fontSize : \"12px\",\r\n    color : \"#bb00c4\",\r\n    fontWeight: \"600\",\r\n    paddingLeft : \"5px\",\r\n    borderLeft: \"5px solid #bb00c4\",\r\n    marginBottom : \"10px\",\r\n    },\r\n\r\n    seeMore :{\r\n        position: \"absolute\",\r\n        top : \"191px\",\r\n        left : \"2px\"\r\n    }\r\n\r\n});\r\n\r\n\r\nexport default function ResultsTimeReport() {\r\n  const classes = useStyles();\r\n\r\n  const[current, setCurrent] = React.useState(new Date());\r\n  const [report, setReport] = React.useState({});\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  const [data, setData] = React.useState(null);\r\n\r\n  const handleClose = () =>\r\n  {\r\n      setOpen(false);\r\n  }\r\n\r\n  useEffect(() => \r\n  {\r\n    const interval = setInterval(() => {  \r\n      setCurrent(new Date());\r\n    }, 30000);\r\n\r\n    return () =>\r\n    {\r\n      clearInterval(interval);\r\n    }\r\n\r\n  }, []);\r\n\r\n  useEffect( () => \r\n  {\r\n    \r\n    BookService.getTestsTimeReport().then(res =>\r\n      {\r\n        const result = [];  \r\n        if (res.data.status === 'OK')\r\n        {\r\n            setReport(res.data.result);\r\n            // console.log(res.data.result);\r\n            result.push({name: 'lessThan12', value : res.data.result.lessThan12 });\r\n            result.push({name: 'lessThan24', value : res.data.result.lessThan24 });\r\n            result.push({name: 'lessThan36', value : res.data.result.lessThan36 });\r\n         \r\n           // result.push({name: 'lessThan48', value : res.data.result.lessThan48 });\r\n            setData(result);\r\n        }   \r\n\r\n      }).catch(err =>\r\n        {\r\n          console.error(err);\r\n        });\r\n\r\n\r\n    } , [current] );\r\n\r\n    const getReportLabels = () =>\r\n    {\r\n           return (\r\n\r\n                <div className={classes.ReportLabels}>\r\n                    <div className={classes.less12Label}> {`12 Hours`} </div>\r\n                    <div className={classes.less24Label}> {`24 Hours`} </div>\r\n                    <div className={classes.less36Label}> {`36 Hours`} </div>\r\n                </div>\r\n    \r\n            );\r\n    }\r\n\r\n    const getAverageLabel = () =>\r\n    {\r\n           return (\r\n\r\n                <div className={classes.AverageLabel}>\r\n                   avg = <span style={{fontSize:\"14px\"}}> {`${report.avg}`} </span> hours\r\n                </div>\r\n    \r\n            );\r\n    }\r\n\r\n    const seeMoreClicked = (event) => {\r\n        event.preventDefault();\r\n        setOpen(true);\r\n      }\r\n\r\n  return (\r\n    <React.Fragment>\r\n    \r\n    <div style={{position: \"relative\"}}>\r\n\r\n\r\n      <Title>PCR RESULTS SUMMARY</Title>\r\n\r\n      {data && (\r\n                <>\r\n\r\n                <PieChart width={250} height={150}>\r\n                    <Pie\r\n                        data={data}\r\n                        cx={170}\r\n                        cy={70}\r\n                        labelLine={false}\r\n                        label={renderCustomizedLabel}\r\n                        outerRadius={65}\r\n                        fill=\"#8884d8\"\r\n                        dataKey=\"value\"\r\n                        >\r\n                        {\r\n                            data.map((entry, index) => <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />)\r\n                        }\r\n                    </Pie>\r\n                </PieChart>\r\n                \r\n\r\n                {getReportLabels()}\r\n                {getAverageLabel()}\r\n\r\n                <div className={classes.seeMore}>\r\n                            <Link color=\"primary\" href=\"#\" onClick={seeMoreClicked}>\r\n                                  See Details\r\n                            </Link>\r\n                  </div>\r\n\r\n\r\n                  <Dialog style={{padding: \"50px\"}} onClose={handleClose} aria-labelledby=\"simple-dialog-title\" open={open}>  \r\n                      <DialogTitle style={{textAlign: \"center\"}} id=\"simple-dialog-title\">PCR Results Time Report</DialogTitle>\r\n                            <DialogContent>\r\n                            <Table>\r\n                            <TableHead>\r\n                            <TableRow>\r\n                                <TableCell>Recieved in Less Than</TableCell>        \r\n                                <TableCell>Count</TableCell>\r\n                                <TableCell>Percent</TableCell>\r\n                            </TableRow>\r\n                            </TableHead>\r\n                            <TableBody>\r\n                                <TableRow key=\"row1\">\r\n                                    <TableCell>12 Hours</TableCell>\r\n                                    <TableCell>{report.lessThan12}</TableCell>\r\n                                    <TableCell>{report.lessThan12Percent} %</TableCell>\r\n                                </TableRow>\r\n                                <TableRow key=\"row2\">\r\n                                    <TableCell>24 Hours</TableCell>\r\n                                    <TableCell>{report.lessThan24}</TableCell>\r\n                                    <TableCell>{report.lessThan24Percent} %</TableCell>\r\n                                </TableRow>\r\n                                <TableRow key=\"row3\">\r\n                                    <TableCell>36 Hours</TableCell>\r\n                                    <TableCell>{report.lessThan36}</TableCell>\r\n                                    <TableCell>{report.lessThan36Percent} %</TableCell>\r\n                                </TableRow>\r\n                                <TableRow key=\"row4\">\r\n                                    <TableCell>48 Hours</TableCell>\r\n                                    <TableCell>{report.lessThan48}</TableCell>\r\n                                    <TableCell>{report.lessThan48Percent} %</TableCell>\r\n                                </TableRow>\r\n                                <TableRow key=\"row4\">\r\n                                    <TableCell style={{fontWeight:\"800\"}}>Total Results Received : </TableCell>\r\n                                    <TableCell style={{fontWeight:\"600\"}}>{report.lessThan48 + report.lessThan36 + report.lessThan24 + report.lessThan12}</TableCell>\r\n                                    <TableCell></TableCell>\r\n                                </TableRow>\r\n\r\n\r\n\r\n                            \r\n                            </TableBody>\r\n                        </Table>\r\n                            </DialogContent>\r\n                </Dialog>\r\n    \r\n\r\n\r\n\r\n                </>\r\n      )}\r\n     \r\n     </div>\r\n\r\n\r\n\r\n    </React.Fragment>\r\n  );\r\n}","import React from 'react';\r\nimport clsx from 'clsx';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Chart from './Chart';\r\nimport CurrentVisits from './CurrentVisits';\r\n\r\n\r\n\r\nimport { Tooltip } from '@material-ui/core';\r\nimport GlobalState from './GlobalState';\r\nimport BookingView from './BookingView';\r\nimport ResultsTimeReport from './ResultsTimeReport';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n \r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    display: 'flex',\r\n    overflow: 'auto',\r\n    flexDirection: 'column',\r\n  },\r\n  fixedHeight: {\r\n    height: 240,\r\n  },\r\n}));\r\n\r\nexport default function DashboardPreview() {\r\n  const classes = useStyles();\r\n  const [state, setState] = React.useContext(GlobalState);\r\n\r\n  const fixedHeightPaper = clsx(classes.paper, classes.fixedHeight);\r\n\r\n  return (\r\n        <React.Fragment>\r\n\r\n<           Grid container spacing={3}>\r\n                    {/* Chart */}\r\n                    <Grid item xs={12} md={4} lg={6}>\r\n                    <Paper className={fixedHeightPaper}>\r\n                        <Chart />\r\n                    </Paper>\r\n                    </Grid>\r\n                    {/* Tests Summary */}\r\n                    <Grid item xs={12} md={4} lg={3}>\r\n                     <Paper className={fixedHeightPaper}>\r\n                        <ResultsTimeReport />\r\n                    </Paper>\r\n                    </Grid>\r\n                    {/* Current Visits */}\r\n                    <Grid item xs={12} md={4} lg={3}>\r\n                    <Paper className={fixedHeightPaper}>\r\n                        <CurrentVisits />\r\n                    </Paper>\r\n                    </Grid>\r\n                    {/* Recent Bookings */}\r\n                    <Grid item xs={12}>\r\n                    <Paper className={classes.paper}>\r\n                        <BookingView/>\r\n                    </Paper>\r\n                    </Grid>\r\n          </Grid>\r\n        </React.Fragment>\r\n  );\r\n}","import React, {useEffect, useRef, useState} from 'react';\r\nimport { DataGrid, ROW_CLICK } from '@material-ui/data-grid';\r\nimport BookService from './services/BookService';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { Button, Checkbox, Divider, FormControlLabel, Grid, Link, makeStyles, TextField, Tooltip } from '@material-ui/core';\r\nimport RefreshIcon from '@material-ui/icons/Refresh';\r\nimport { IconButton } from '@material-ui/core';\r\nimport LoaderSpinner from 'react-loader-spinner';\r\nimport GlobalState from './GlobalState';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport ToggleButton from '@material-ui/lab/ToggleButton';\r\nimport ToggleButtonGroup from '@material-ui/lab/ToggleButtonGroup';\r\nimport WbIncandescentIcon from '@material-ui/icons/WbIncandescent';\r\n\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Draggable from 'react-draggable';\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport dateformat from 'dateformat';\r\nimport ReportProblemIcon from '@material-ui/icons/ReportProblem';\r\nimport BookingDialog from './BookingDialog';\r\nimport Alert from '@material-ui/lab/Alert';\r\n\r\nimport PropTypes from 'prop-types';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\nimport Box from '@material-ui/core/Box';\r\n\r\nimport WarningIcon from '@material-ui/icons/Warning';\r\n\r\nimport {FormatDateFromString, RevertFormatDateFromString} from './DateFormatter';\r\n\r\nvar interval;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  title: {\r\n    marginTop: theme.spacing(0),\r\n    marginBottom: theme.spacing(1),\r\n\r\n  },\r\n  \r\n  refreshButton:{\r\n    marginLeft: theme.spacing(2),\r\n  },\r\n\r\n  checkIcon:{\r\n    color: \"green\"\r\n  },\r\n\r\n  closeIcon:{\r\n    color: \"red\"\r\n  },\r\n\r\n  RefLink: {\r\n    cursor: \"pointer\"\r\n  },\r\n\r\n  BookedLabel:{\r\n    backgroundColor: \"#606060\",\r\n    color: \"#fff\",\r\n    paddingRight: \"10px\",\r\n    paddingLeft: \"10px\"\r\n  },\r\n\r\n  PatientAttendedLabel:{\r\n    backgroundColor: \"#0066aa\",\r\n    color: \"#fff\",\r\n    paddingRight: \"15px\",\r\n    paddingLeft: \"10px\"\r\n  },\r\n\r\n  SampleTakenLabel:{\r\n    backgroundColor: \"#0066cc\",\r\n    color: \"#fff\",\r\n    paddingRight: \"40px\",\r\n    paddingLeft: \"10px\"\r\n  },\r\n\r\n  ReportSentLabel:{\r\n    backgroundColor: \"#009900\",\r\n    color: \"#fff\",\r\n    paddingRight: \"90px\",\r\n    paddingLeft: \"10px\"\r\n  },\r\n\r\n  ReportCertSentLabel:{\r\n    backgroundColor: \"#009900\",\r\n    color: \"#fff\",\r\n    paddingRight: \"68px\",\r\n    paddingLeft: \"10px\"\r\n  },\r\n\r\n  archiveButton: {\r\n\r\n  },\r\n\r\n  smartMatchButton: {\r\n    backgroundColor : \"#2f942e\",\r\n    \"&:hover\": {\r\n      background: \"green\",\r\n      color: \"#fff\"\r\n    },\r\n    textDecoration : \"none !important\",\r\n    marginRight : \"10px\"\r\n    // padding: \"10px\"  \r\n  },\r\n\r\n  infoTitle:  {\r\n    fontWeight: \"400\"\r\n  },\r\n\r\n  infoData: {\r\n    paddingLeft: \"10px\",\r\n    fontWeight: \"800\"\r\n  },\r\n\r\n  matchButton:\r\n  {\r\n    marginTop: \"30px\",\r\n    marginBottom : \"20px\",\r\n    backgroundColor : \"#2f942e\",\r\n    \"&:hover\": {\r\n      background: \"green\",\r\n      color: \"#fff\"\r\n    },\r\n    textDecoration : \"none !important\",\r\n    padding: \"10px\",\r\n    paddingLeft : \"50px\",\r\n    paddingRight: \"50px\"   \r\n  },\r\n\r\n  resendButton:\r\n  {\r\n    marginTop: \"5px\",\r\n    marginBottom : \"5px\",\r\n    backgroundColor : \"#2f942e\",\r\n    \"&:hover\": {\r\n      background: \"green\",\r\n      color: \"#fff\"\r\n    },\r\n    textDecoration : \"none !important\",\r\n    padding: \"10px\",\r\n    paddingLeft : \"50px\",\r\n    paddingRight: \"50px\"   \r\n  },\r\n\r\n  resendFilesButton:{\r\n    marginTop: \"5px\",\r\n    marginBottom : \"5px\",\r\n    backgroundColor : \"#3792ad\",\r\n    \"&:hover\": {\r\n      background: \"#2f798f\",\r\n      color: \"#fff\"\r\n    },\r\n    textDecoration : \"none !important\",\r\n    padding: \"10px\",\r\n    paddingLeft : \"50px\",\r\n    paddingRight: \"50px\"   \r\n  },\r\n\r\n  cancelButton:\r\n  {\r\n    marginBottom : \"10px\",\r\n    textDecoration : \"none !important\",\r\n    padding: \"10px\",\r\n    paddingLeft : \"90px\",\r\n    paddingRight: \"90px\"   \r\n  },\r\n  \r\n  \r\n}));\r\n\r\nconst BorderLinearProgress = withStyles((theme) => ({\r\n  root: {\r\n    height: 10,\r\n    borderRadius: 5,\r\n  },\r\n  colorPrimary: {\r\n    backgroundColor: \"#cedbce\" //theme.palette.grey[theme.palette.type === 'light' ? 200 : 700],\r\n  },\r\n  bar: {\r\n    borderRadius: 5,\r\n    backgroundColor: '#2f942e',\r\n  },\r\n}))(LinearProgress);\r\nfunction LinearProgressWithLabel(props) {\r\n  return (\r\n    <Box display=\"flex\" alignItems=\"center\">\r\n      <Box width=\"100%\" mr={1}>\r\n        <BorderLinearProgress variant=\"determinate\" {...props} />\r\n      </Box>\r\n      <Box minWidth={35}>\r\n        <Typography style={{fontWeight:\"800\", color :  \"#5e855e\"  }} variant=\"body2\" color=\"textSecondary\">{`${Math.round(\r\n          props.value,\r\n        )}%`}</Typography>\r\n      </Box>\r\n    </Box>\r\n  );\r\n}\r\n\r\nLinearProgressWithLabel.propTypes = {\r\n  /**\r\n   * The value of the progress indicator for the determinate and buffer variants.\r\n   * Value between 0 and 100.\r\n   */\r\n  value: PropTypes.number.isRequired,\r\n};\r\n\r\n\r\nfunction PaperComponent(props) {\r\n  return (\r\n    <Draggable handle=\"#draggable-dialog-title\" cancel={'[class*=\"MuiDialogContent-root\"]'}>\r\n      <Paper {...props} />\r\n    </Draggable>\r\n  );\r\n}\r\n\r\nexport default function UnmatchedRecords() {\r\n  \r\n  const classes = useStyles();\r\n\r\n  const columns = [\r\n    { field: 'id', headerName: '#', width: 50 },\r\n\r\n    { field: 'testDate', headerName: 'Test Date', width: 120, valueFormatter : (params) =>\r\n      {\r\n        return FormatDateFromString(params.value);\r\n      }\r\n     },\r\n    { field: 'forename', headerName: 'Forename', width: 200 },\r\n    { field: 'surname', headerName: 'Surname', width: 200 },\r\n    { field: 'birthDate', headerName: 'D.O.B', width: 120 , valueFormatter : (params) =>\r\n    {\r\n      return FormatDateFromString(params.value);\r\n    }},\r\n    { field: '_id' , headerName:'Action', width: 300 , renderCell: (params) => {\r\n        if (selectedTab === 'unresolved')\r\n        {\r\n            return (\r\n              <React.Fragment>\r\n\r\n              <Button\r\n                    disabled = {params.value === disableId}\r\n                    type=\"button\"\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    startIcon={<WbIncandescentIcon />}\r\n                    onClick = { event => smartMatchClicked(event,params.value)}\r\n                    className={classes.smartMatchButton}\r\n                    >\r\n                    smart match\r\n              </Button>\r\n\r\n              <Button\r\n                    disabled = {params.value === disableId}\r\n                    type=\"button\"\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    onClick = { event => archiveRecord(event,params.value)}\r\n                    className={classes.archiveButton}\r\n                  >\r\n                    archive\r\n              </Button>\r\n\r\n              </React.Fragment>\r\n\r\n            );\r\n        }else\r\n        {\r\n            return (\r\n\r\n              <React.Fragment>\r\n\r\n                  <Button\r\n                        disabled = {params.value === disableId}\r\n                        type=\"button\"\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        startIcon={<WbIncandescentIcon />}\r\n                        onClick = { event => smartMatchClicked(event,params.value)}\r\n                        className={classes.smartMatchButton}\r\n                        >\r\n                        smart match\r\n                  </Button>\r\n\r\n                    <Button\r\n                    disabled = {params.value === disableId}\r\n                    type=\"button\"\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    onClick = { event => unArchiveRecord(event,params.value)}\r\n                    className={classes.archiveButton}\r\n                  >\r\n                    Undo\r\n                  </Button>\r\n\r\n              </React.Fragment>\r\n            );\r\n        }\r\n        \r\n    } },\r\n   \r\n  ];\r\n\r\n  const [state, setState] = React.useContext(GlobalState);  \r\n\r\n  const [data, setData] = React.useState({bookings: [] , cachedBookings: [], isFetching : false});\r\n\r\n  const [selectedRow, setSelectedRow] = React.useState(null);\r\n\r\n  const [filter,setFilter] = React.useState('');\r\n\r\n  const [refresh, setRefresh] = React.useState(false);\r\n\r\n  const [disableId, setDisableId] = React.useState(null);\r\n\r\n  const [selectedTab, setSeletedTab] = React.useState('unresolved');\r\n\r\n  const [openDialog, setOpenDialog] = React.useState(false);\r\n\r\n  const [seeDetailsDialogOpen, setSeeDetailsDialogOpen] = React.useState(false);\r\n\r\n  const [smartLinkId, setSmartLinkId] = React.useState(null);\r\n\r\n  const [smartLinkDetails, setSmartLinkDetails] = React.useState(null);\r\n\r\n  const [likelyBookings, setLikelyBookings] = React.useState(null);\r\n\r\n  const [selectedBooking, setSelectedBooking] = React.useState(null);\r\n\r\n  const [seeDetailsBooking, setSeeDetailsBooking] = React.useState(null);\r\n\r\n  const [matching, setMatching] = React.useState(false);\r\n\r\n  const [matched, setMatched] = React.useState(false);\r\n\r\n  const [sending, setSending] = React.useState(false);\r\n  const [sent, setSent] = React.useState(false);\r\n\r\n  const [sendJustToPCR, setSendJustToPCR] = React.useState(false);\r\n\r\n  const [sendingStatus, setSendingStatus] = React.useState('');\r\n\r\n  const [sendingProgress, setSendingProgress] = React.useState(10);\r\n\r\n\r\n  const handleTabChanged = (event, value) => {\r\n      if (value && value.length)\r\n      {\r\n        setSeletedTab(value);\r\n      }\r\n   \r\n  };\r\n\r\n  const handleCloseDialog = () =>\r\n  {\r\n    setOpenDialog(false);\r\n    setTimeout(() => {\r\n      setSmartLinkId(null);\r\n      setSmartLinkDetails(null);\r\n      setLikelyBookings(null);\r\n      setSelectedBooking(null);\r\n      setMatched(false);\r\n      setMatching(false);\r\n      setSendingStatus(null);\r\n      setSending(false);\r\n      setSent(false);\r\n      clearInterval(interval);\r\n      setSendJustToPCR(false);\r\n    }, 100);\r\n  }\r\n\r\n  const handleCloseSeeDetaisDialog = () =>\r\n  {\r\n    setSeeDetailsDialogOpen(false);\r\n    setTimeout(() => {\r\n      setSeeDetailsBooking(null);\r\n    }, 500);\r\n  }\r\n\r\n  const seeDetailsClicked = (event, row) =>\r\n  {\r\n    setSeeDetailsBooking(row);\r\n    setSeeDetailsDialogOpen(true);\r\n  }\r\n\r\n  const smartMatchClicked = (event, id) =>\r\n  {\r\n    setSmartLinkId(id);\r\n    setOpenDialog(true);\r\n    findBestMatches(id);\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (smartLinkId)\r\n    {\r\n      findBestMatches(smartLinkId);\r\n      // console.log('refrshing....');\r\n\r\n    }\r\n\r\n\r\n  }, [state.bookingDialogDataChanged]);\r\n\r\n  const findBestMatches = (id) =>\r\n  {\r\n    BookService.getLinkDetails(id).then( res => {\r\n      setSmartLinkDetails(res.data);\r\n      console.log(res.data);\r\n    }).catch( err =>\r\n      {\r\n        console.log(err);\r\n      });\r\n\r\n    BookService.findBestMatches(id).then( res => {\r\n      setLikelyBookings(res.data.matchedBookings);\r\n    }).catch( err => {\r\n      console.log(err);\r\n      setLikelyBookings([]);\r\n    })\r\n  }\r\n\r\n  const archiveRecord = (event, id) =>\r\n  {\r\n      if (disableId)\r\n      {\r\n        return;\r\n      }\r\n        setDisableId(id);\r\n        \r\n        BookService.archiveRecord(id).then(\r\n            (res) => {\r\n                setDisableId(null);\r\n                setRefresh(!refresh);\r\n            }\r\n        ).catch( (err) => {\r\n            setDisableId(null);\r\n        })\r\n  }\r\n\r\n  const unArchiveRecord = (event, id) =>\r\n  {\r\n      if (disableId)\r\n      {\r\n        return;\r\n      }\r\n        setDisableId(id);\r\n        \r\n        BookService.unArchiveRecord(id).then(\r\n            (res) => {\r\n                setDisableId(null);\r\n                setRefresh(!refresh);\r\n            }\r\n        ).catch( (err) => {\r\n            setDisableId(null);\r\n        })\r\n  }\r\n\r\n\r\n  const lastPromise = useRef();\r\n\r\n  useEffect( () => {\r\n\r\n            var api = BookService.getUnmatchedRecords;\r\n            if (selectedTab === 'archived')\r\n            {\r\n                api = BookService.getUnmatchedRecordsArchived;\r\n            }\r\n                      \r\n            setData({bookings: [], cachedBookings: [], isFetching: true});\r\n            const currentPromise = api().then( (res) =>{\r\n              \r\n              for (var i=0; i < res.data.length; i++)\r\n              {\r\n                res.data[i] = {...res.data[i], id : i + 1}\r\n              }  \r\n              \r\n              return res.data;\r\n            })\r\n\r\n            lastPromise.current = currentPromise;\r\n\r\n            currentPromise.then(\r\n              result => {\r\n                if (currentPromise === lastPromise.current) {\r\n                  setData({bookings: result, cachedBookings: [...result], isFetching: false});\r\n                }\r\n              },\r\n              e => {\r\n                if (currentPromise === lastPromise.current) {\r\n                    console.log(e);\r\n                    setData({bookings: data.bookings, cachedBookings: data.cachedBookings, isFetching: false});\r\n                }\r\n              });\r\n        },\r\n        [refresh, selectedTab]);\r\n\r\n\r\n\r\n  useEffect( () => {\r\n\r\n        if (filter && filter.trim().length > 0)\r\n        {\r\n          var filteredData = data.cachedBookings.filter( (element) => {\r\n\r\n            return (element.forename.toLowerCase().indexOf(filter.toLowerCase()) >= 0) ||\r\n                   (element.surname.toLowerCase().indexOf(filter.toLowerCase()) >= 0) \r\n            ;\r\n  \r\n          });\r\n  \r\n  \r\n          setData({bookings: filteredData, cachedBookings: data.cachedBookings, isFetching: false});\r\n        }else\r\n        {\r\n          setData({bookings: [...data.cachedBookings], cachedBookings: data.cachedBookings, isFetching: false});\r\n        }\r\n      },\r\n      [filter]);\r\n\r\n\r\n\r\n\r\n\r\n\r\n  const refreshClicked = (event) =>{\r\n    setFilter('');\r\n    setRefresh(!refresh);\r\n\r\n  }\r\n\r\n  const filterChanged = (event) =>{\r\n    setFilter(event.target.value);\r\n  }\r\n\r\n  const handleSelectionChanged = (newSelection) =>\r\n  {\r\n    if (newSelection.length > 0){\r\n      setSelectedRow(newSelection.rows[0]);\r\n    }\r\n  }\r\n\r\n  const handleCheckChanged = (event, row) =>\r\n  {\r\n    if (event.target.checked)\r\n    {\r\n      setSelectedBooking(row);\r\n    }\r\n    else\r\n    {\r\n      setSelectedBooking(null);\r\n    }\r\n  }\r\n\r\n  const matchRecords = (event) => {\r\n\r\n    setMatching(true);\r\n\r\n    BookService.getBookingById(selectedBooking._id).then(res => {\r\n      setSelectedBooking(res.data);\r\n    });\r\n\r\n    BookService.matchRecords(selectedBooking._id, smartLinkId).then (res => {\r\n\r\n      if (res.data.status === 'OK'){\r\n        setMatching(false);\r\n        setMatched(true);\r\n      }\r\n\r\n    }).catch(err =>\r\n      {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  const getProgress = (status) =>\r\n  {\r\n    console.log(`status : ${status}`);\r\n\r\n    if (status === 'downloadFailed')\r\n      return 10 ;\r\n    else if (status === 'downloading') \r\n      return 30 ;  \r\n    else if (status === 'downloadSuccess') \r\n      return 70 ;\r\n    else if (status === 'sent')\r\n      return 100;   \r\n    else\r\n      return 0;\r\n\r\n  }\r\n\r\n  useEffect( () => {\r\n\r\n    setSendingProgress((prevProgress) => (prevProgress >= 100 ? 100 : getProgress(sendingStatus)));\r\n\r\n  }, [sendingStatus]);\r\n\r\n  const resendFilesClicked = (event) =>\r\n  {\r\n    setSending(true);\r\n    setSendingProgress(0);\r\n    setSendingStatus('downloadFailed');\r\n    setSendJustToPCR(true);\r\n\r\n\r\n    BookService.regenerateFiles(smartLinkId).then( res => {\r\n\r\n      interval = setInterval(() => {\r\n             \r\n       // setProgress(sendingCounter);\r\n\r\n       // setProgress(getProgress(sendingStatus));\r\n\r\n       BookService.getLinkDetails(smartLinkId).then( res => {\r\n \r\n         setSendingStatus(res.data.status);\r\n \r\n         if (res.data.status === 'sent')\r\n         {\r\n           setSending(false);\r\n           setSent(true);\r\n           setRefresh(!refresh);\r\n           clearInterval(interval);\r\n         }\r\n       });\r\n \r\n     }, 1000);\r\n\r\n   }).catch(err => {\r\n     console.log(err);\r\n     setSending(false);\r\n   });\r\n\r\n\r\n  }\r\n \r\n  const resendEmailsClicked = (event) => {\r\n    setSending(true);\r\n    setSendingProgress(0);\r\n    setSendingStatus('downloadFailed');\r\n \r\n\r\n    BookService.resendEmails(smartLinkId).then( res => {\r\n\r\n       interval = setInterval(() => {\r\n        \r\n       \r\n\r\n        // setProgress(sendingCounter);\r\n\r\n        // setProgress(getProgress(sendingStatus));\r\n\r\n        BookService.getLinkDetails(smartLinkId).then( res => {\r\n  \r\n          setSendingStatus(res.data.status);\r\n  \r\n          if (res.data.status === 'sent')\r\n          {\r\n            setSending(false);\r\n            setSent(true);\r\n            setRefresh(!refresh);\r\n            clearInterval(interval);\r\n          }\r\n        });\r\n  \r\n      }, 1000);\r\n\r\n    }).catch(err => {\r\n      console.log(err);\r\n      setSending(false);\r\n    });\r\n\r\n  \r\n\r\n  }\r\n\r\n  const cancelResendEmailsClicked = (event) => {\r\n    setMatched(false);\r\n  }\r\n\r\n\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Grid\r\n        container\r\n        direction=\"row\"\r\n        justify=\"space-between\"\r\n        alignItems=\"flex-end\"\r\n      >\r\n        <Grid item md={5}>\r\n            <div style={{textAlign:\"left\", paddingLeft:\"10px\"}}>\r\n                <Grid container direction=\"row\" justify=\"flex-start\" alignItems=\"center\">\r\n                        <Grid item>\r\n                                <span style={{paddingRight: \"15px\", color: \"#555\"}}> <WarningIcon style={{fontSize:\"2.2rem\"}}/> </span>\r\n                        </Grid>\r\n                        <Grid item>\r\n                              <span style={{fontSize: '1.4rem', fontWeight:\"600\", color: \"#444\"}}> Unmatched Records </span>\r\n                        </Grid>\r\n                        <Grid item>\r\n                            <Tooltip title=\"Refresh\" placement=\"right\">\r\n                                <IconButton\r\n                                  color=\"primary\"\r\n                                  className={classes.refreshButton}\r\n                                  onClick={refreshClicked}\r\n                                >\r\n                                  <RefreshIcon />\r\n                                </IconButton>\r\n                            </Tooltip>\r\n                        </Grid>\r\n                  </Grid>\r\n                </div>\r\n        </Grid>\r\n\r\n        <Grid item md={3}>\r\n          <ToggleButtonGroup\r\n            value={selectedTab}\r\n            style={{ marginBottom: \"10px\" }}\r\n            exclusive\r\n            onChange={handleTabChanged}\r\n            aria-label=\"text alignment\"\r\n          >\r\n            <ToggleButton value=\"unresolved\" aria-label=\"left aligned\">\r\n              UnResolved\r\n            </ToggleButton>\r\n            <ToggleButton value=\"archived\" aria-label=\"centered\">\r\n              Archived\r\n            </ToggleButton>\r\n          </ToggleButtonGroup>\r\n        </Grid>\r\n\r\n        <Grid item md={3}>\r\n          <TextField\r\n            variant=\"standard\"\r\n            value={filter}\r\n            onChange={filterChanged}\r\n            margin=\"normal\"\r\n            size=\"small\"\r\n            id=\"filter\"\r\n            label=\"Filter\"\r\n            name=\"filter\"\r\n            autoComplete=\"off\"\r\n          />\r\n        </Grid>\r\n      </Grid>\r\n\r\n      <div style={{ height: 700, width: \"100%\" }}>\r\n        <DataGrid\r\n          rows={data.bookings}\r\n          columns={columns}\r\n          autoPageSize\r\n          onSelectionChange={handleSelectionChanged}\r\n        />\r\n      </div>\r\n\r\n      <Dialog\r\n        maxWidth=\"800px\"\r\n        open={openDialog}\r\n        onClose={handleCloseDialog}\r\n        PaperComponent={PaperComponent}\r\n        aria-labelledby=\"form-dialog-title\"\r\n      >\r\n        <DialogTitle id=\"draggable-dialog-title\">\r\n          <Grid\r\n            container\r\n            spacing={2}\r\n            direction=\"row\"\r\n            justify=\"center\"\r\n            alignItems=\"center\"\r\n          >\r\n            <Grid item>\r\n              <WbIncandescentIcon\r\n                style={{ color: \"#2f942e\", fontSize: \"2rem\" }}\r\n              />\r\n            </Grid>\r\n\r\n            <Grid item>\r\n              <div\r\n                style={{\r\n                  color: \"#2f942e\",\r\n                  paddingBottom: \"12px\",\r\n                  fontWeight: \"800\",\r\n                }}\r\n              >\r\n                {\" \"}\r\n                SMART MATCH{\" \"}\r\n              </div>\r\n            </Grid>\r\n          </Grid>\r\n\r\n          <Divider />\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <div\r\n            style={{\r\n              minHeight: \"600px\",\r\n              maxHeight: \"600px\",\r\n              minWidth: \"1200px\",\r\n              maxWidth: \"1200px\",\r\n            }}\r\n          >\r\n            {(!likelyBookings || !smartLinkDetails) && (\r\n              <React.Fragment>\r\n                <Grid\r\n                  container\r\n                  direction=\"column\"\r\n                  justify=\"center\"\r\n                  alignItems=\"center\"\r\n                  spacing={2}\r\n                >\r\n                  <Grid item>\r\n                    <LoaderSpinner\r\n                      style={{ marginTop: \"170px\" }}\r\n                      type=\"Grid\"\r\n                      color=\"#2f942e\"\r\n                      height={100}\r\n                      width={100}\r\n                      timeout={0} //3 secs\r\n                    />\r\n                  </Grid>\r\n                  <Grid item>\r\n                    <div\r\n                      style={{\r\n                        color: \"#2f942e\",\r\n                        paddingBottom: \"12px\",\r\n                        fontWeight: \"800\",\r\n                      }}\r\n                    >\r\n                      {\" \"}\r\n                      SEARCHING ...{\" \"}\r\n                    </div>\r\n                  </Grid>\r\n                </Grid>\r\n              </React.Fragment>\r\n            )}\r\n\r\n            {likelyBookings && likelyBookings.length === 0 && (\r\n              <React.Fragment>\r\n                <Grid\r\n                  container\r\n                  direction=\"column\"\r\n                  justify=\"center\"\r\n                  alignItems=\"center\"\r\n                  spacing={2}\r\n                >\r\n                  <Grid item>\r\n                    <div\r\n                      style={{\r\n                        color: \"#2f942e\",\r\n                        paddingBottom: \"12px\",\r\n                        fontWeight: \"800\",\r\n                        marginTop: \"230px\",\r\n                      }}\r\n                    >\r\n                      {\" \"}\r\n                      SORRY, NO RECORDS FOUND !{\" \"}\r\n                    </div>\r\n                  </Grid>\r\n                </Grid>\r\n              </React.Fragment>\r\n            )}\r\n\r\n            {likelyBookings && smartLinkDetails && likelyBookings.length > 0 && (\r\n              <React.Fragment>\r\n                <Grid\r\n                  container\r\n                  direction=\"column\"\r\n                  justify=\"flex-start\"\r\n                  alignItems=\"stretch\"\r\n                  spacing={2}\r\n                >\r\n                  <Grid item>\r\n                    <div\r\n                      style={{\r\n                        fontSize: \"1.1rem\",\r\n                        fontWeight: \"600\",\r\n                        color: \"#2f942e\",\r\n                        marginBottom: \"15px\",\r\n                      }}\r\n                    >\r\n                      {\" \"}\r\n                      LAB RECORD :\r\n                    </div>\r\n\r\n                    <Grid\r\n                      style={{ paddingLeft: \"20px\", paddingBottom: \"20px\" }}\r\n                      container\r\n                      direction=\"row\"\r\n                      justify=\"flex-start\"\r\n                      alignItems=\"flex-start\"\r\n                      spacing={4}\r\n                    >\r\n                      <Grid item>\r\n                        <span className={classes.infoTitle}>Forename:</span>\r\n                        <span className={classes.infoData}>\r\n                          {smartLinkDetails.forename}\r\n                        </span>\r\n                      </Grid>\r\n\r\n                      <Grid item>\r\n                        <span className={classes.infoTitle}>Surname:</span>\r\n                        <span className={classes.infoData}>\r\n                          {smartLinkDetails.surname}\r\n                        </span>\r\n                      </Grid>\r\n\r\n                      <Grid item>\r\n                        <span className={classes.infoTitle}>D.O.B:</span>\r\n                        <span className={classes.infoData}>\r\n                          {FormatDateFromString(smartLinkDetails.birthDate)}\r\n                        </span>\r\n                      </Grid>\r\n\r\n                      <Grid item>\r\n                        <span className={classes.infoTitle}>Test Date:</span>\r\n                        <span className={classes.infoData}>\r\n                          {FormatDateFromString(smartLinkDetails.testDate)}\r\n                        </span>\r\n                      </Grid>\r\n                    </Grid>\r\n\r\n                    <Divider />\r\n                  </Grid>\r\n\r\n                  <Grid item>\r\n                    <div\r\n                      style={{\r\n                        fontSize: \"1.1rem\",\r\n                        fontWeight: \"600\",\r\n                        color: \"#2f942e\",\r\n                        marginBottom: \"15px\",\r\n                      }}\r\n                    >\r\n                      {\" \"}\r\n                      BEST MATCHES :\r\n                    </div>\r\n                  </Grid>\r\n\r\n                  <Grid item>\r\n                    <Table size=\"small\">\r\n                      <TableHead>\r\n                        <TableRow>\r\n                          <TableCell>Select</TableCell>\r\n                          <TableCell>Match</TableCell>\r\n                          <TableCell>Forename</TableCell>\r\n                          <TableCell>Surname</TableCell>\r\n                          <TableCell>D.O.B</TableCell>\r\n                          <TableCell>Email</TableCell>\r\n                          <TableCell>Test Date</TableCell>\r\n                          <TableCell></TableCell>\r\n                        </TableRow>\r\n                      </TableHead>\r\n                      <TableBody>\r\n                        {likelyBookings.map((row) => (\r\n                          <TableRow key={row._id}>\r\n                            <TableCell>\r\n                              <Tooltip\r\n                                title={\r\n                                  row.birthDate !== smartLinkDetails.birthDate\r\n                                    ? '\"D.O.B\" DOES NOT MATCH THE LAB REPORT ! PLEASE MAKE SURE \"D.O.B\" OF THE SELECTED BOOKING IS CORRECT !'\r\n                                    : \"\"\r\n                                }\r\n                              >\r\n                                <FormControlLabel\r\n                                  control={\r\n                                    <Checkbox\r\n                                      checked={\r\n                                        selectedBooking &&\r\n                                        selectedBooking._id === row._id\r\n                                      }\r\n                                      disabled={\r\n                                        matched || matching\r\n                                      }\r\n                                      onChange={(event) =>\r\n                                        handleCheckChanged(event, row)\r\n                                      }\r\n                                      name=\"checkedA\"\r\n                                    />\r\n                                  }\r\n                                  label=\"\"\r\n                                />\r\n                              </Tooltip>\r\n                            </TableCell>\r\n                            <TableCell\r\n                              style={{\r\n                                fontWeight: \"800\",\r\n                                color: \"#2f942e\",\r\n                                fontSize: \"1.1rem\",\r\n                              }}\r\n                            >{`${row.likelihood} %`}</TableCell>\r\n                            <TableCell\r\n                              style={\r\n                                row.forenameCapital ===\r\n                                smartLinkDetails.forename\r\n                                  ? { fontWeight: \"800\", color: \"#2f942e\" }\r\n                                  : { fontWeight: \"800\", color: \"#ff871f\" }\r\n                              }\r\n                            >\r\n                              {row.forenameCapital}\r\n                            </TableCell>\r\n                            <TableCell\r\n                              style={\r\n                                row.surnameCapital === smartLinkDetails.surname\r\n                                  ? { fontWeight: \"800\", color: \"#2f942e\" }\r\n                                  : { fontWeight: \"800\", color: \"#ff871f\" }\r\n                              }\r\n                            >\r\n                              {row.surnameCapital}\r\n                            </TableCell>\r\n                            <TableCell\r\n                              style={\r\n                                row.birthDate === smartLinkDetails.birthDate\r\n                                  ? { fontWeight: \"800\", color: \"#2f942e\" }\r\n                                  : { fontWeight: \"800\", color: \"red\" }\r\n                              }\r\n                            >\r\n                              <Grid\r\n                                container\r\n                                direction=\"column\"\r\n                                justify=\"center\"\r\n                                alignItems=\"center\"\r\n                                spacing={1}\r\n                              >\r\n                                <Grid item>\r\n                                  {row.birthDate !==\r\n                                    smartLinkDetails.birthDate && (\r\n                                    <span style={{ textAlign: \"center\" }}>\r\n                                      <ReportProblemIcon />\r\n                                    </span>\r\n                                  )}\r\n                                </Grid>\r\n                                {FormatDateFromString(row.birthDate)}\r\n                                <Grid item></Grid>\r\n                              </Grid>\r\n                            </TableCell>\r\n                            <TableCell>{row.email?.toUpperCase()}</TableCell>\r\n                            <TableCell\r\n                              style={\r\n                                dateformat(\r\n                                  row.samplingTimeStamp,\r\n                                  \"yyyy-mm-dd\"\r\n                                ) === smartLinkDetails.testDate\r\n                                  ? { fontWeight: \"800\", color: \"#2f942e\" }\r\n                                  : { fontWeight: \"800\", color: \"red\" }\r\n                              }\r\n                            >\r\n                              {FormatDateFromString(dateformat(row.samplingTimeStamp, \"yyyy-mm-dd\"))}\r\n                            </TableCell>\r\n                            <TableCell>\r\n                              <Button\r\n                                color=\"primary\"\r\n                                disabled = {sending}\r\n                                onClick={(event) =>\r\n                                  seeDetailsClicked(event, row)\r\n                                }\r\n                              >\r\n                                See Details\r\n                              </Button>\r\n                            </TableCell>\r\n                          </TableRow>\r\n                        ))}\r\n                      </TableBody>\r\n                    </Table>\r\n                  </Grid>\r\n                </Grid>\r\n\r\n                <Grid\r\n                  container\r\n                  direction=\"column\"\r\n                  justify=\"center\"\r\n                  spacing = {1}\r\n                  alignItems=\"center\"\r\n                >\r\n\r\n                {!matched && (\r\n                  <React.Fragment>\r\n                        <Grid item>\r\n                          <Button\r\n                            disabled = {!selectedBooking || matching}\r\n                            className={classes.matchButton}\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            onClick = {matchRecords}\r\n                          >\r\n                            GO Match THE Records\r\n                          </Button>\r\n                        </Grid>\r\n\r\n                        {!selectedBooking && (\r\n                            <Grid item>\r\n                              <Alert severity=\"warning\">No Record is Selected ! — Please select a record you think it is a match.</Alert>\r\n                          </Grid>\r\n                        )}\r\n\r\n                  </React.Fragment>\r\n                )}\r\n\r\n                {matched && !sent && !sending && (\r\n                  <React.Fragment>\r\n\r\n                    <Grid item>\r\n            \r\n                         <Alert style={{marginTop:\"10px\", paddingLeft:\"50px\", paddingRight:\"50px\"}} severity=\"success\"> Success — The Records are Matched Now !</Alert>\r\n                    \r\n                    </Grid>\r\n\r\n                    <Grid item>\r\n\r\n                      <div style={{paddingTop:\"5px\", fontSize:\"1rem\", fontWeight: \"500\", color: \"#555\"}}>\r\n                         Do you want to Resend the LAB Report {selectedBooking.certificate ? ' and Certificate' : ''}  Now?\r\n                      </div>\r\n\r\n                    </Grid>\r\n\r\n                    <Grid item>\r\n                          <Button\r\n                            disabled = {sending || sent}\r\n                            className={classes.resendButton}\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            onClick = {resendEmailsClicked}\r\n                          >\r\n                            YES ! RESEND THE EMAILS\r\n                          </Button>\r\n                    </Grid>\r\n\r\n                    <Grid item>\r\n                          <Button\r\n                            disabled = {sending || sent}\r\n                            className={classes.cancelButton}\r\n                            variant=\"contained\"\r\n                            color=\"default\"\r\n                            onClick = {cancelResendEmailsClicked}\r\n                          >\r\n                            NO ! NOT NOW\r\n                          </Button>\r\n                    </Grid>\r\n\r\n                    \r\n                    <Grid item>\r\n                          <Button\r\n                            disabled = {sending || sent}\r\n                            className={classes.resendFilesButton}\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            onClick = {resendFilesClicked}\r\n                          >\r\n                            Just Generate The Files and send to pcrresults@medicalexpressclinic.co.uk\r\n                          </Button>\r\n                    </Grid>\r\n\r\n                    <Grid item>\r\n            \r\n                         <Alert style={{marginTop:\"10px\",  paddingLeft:\"50px\", paddingRight:\"50px\"}} severity=\"warning\">\r\n                            Caution! — The LAB Report and Certificate will be Sent According to the Record you have Selected !\r\n                          </Alert>\r\n       \r\n                   </Grid>\r\n\r\n\r\n\r\n                  </React.Fragment>\r\n                )}\r\n\r\n                        {matched && (sending || sent) && ( \r\n                          <Grid item>\r\n\r\n                            <div style={{paddingTop: \"50px\", color: \"#2f942e\" , fontWeight:\"600\", fontSize: \"1rem\"}}>\r\n                                 {sending && !sent && (\r\n                                   'Sending ...'\r\n                                 )}\r\n\r\n                                 {sent && !sendJustToPCR && (\r\n                                     <Alert style={{marginTop:\"10px\", paddingLeft:\"50px\", paddingRight:\"50px\"}} severity=\"success\">\r\n                                          Success! — The LAB Report {selectedBooking.certificate? ' and Certificate ': ' ' }  Successfully Sent.\r\n                                     </Alert>\r\n                                 )}\r\n\r\n                                {sent && sendJustToPCR && (\r\n                                     <Alert style={{marginTop:\"10px\", paddingLeft:\"50px\", paddingRight:\"50px\"}} severity=\"success\">\r\n                                          Success! — The LAB Report {selectedBooking.certificate? ' and Certificate ': ' ' }  Successfully Sent Just to pcrresults@medicalexpressclinic.co.uk .\r\n                                     </Alert>\r\n                                 )}\r\n\r\n\r\n\r\n                                 \r\n                            </div>\r\n                            \r\n                          </Grid>\r\n                          \r\n                        )}\r\n\r\n                </Grid>\r\n              </React.Fragment>\r\n            )}\r\n\r\n\r\n              {matched && (sending || sent) && (\r\n                  <React.Fragment>\r\n\r\n                      <div style={{marginTop:\"10px\", width:\"50%\", marginLeft: \"27%\"}}>\r\n                        \r\n                           <LinearProgressWithLabel variant=\"determinate\" color=\"primary\"  value={sendingProgress} />     \r\n\r\n                      </div>\r\n\r\n                      <div style={{paddingTop: \"30px\", color: \"#2f942e\" , fontWeight:\"600\", fontSize: \"1rem\",  marginLeft: \"45%\"}}>\r\n                            {sending && !sent && (\r\n                                   'PLEASE WAIT ...'\r\n                                 )}     \r\n                                  \r\n                    </div>\r\n\r\n                  </React.Fragment>\r\n                )}\r\n\r\n\r\n          </div>\r\n\r\n          <BookingDialog\r\n            booking={seeDetailsBooking}\r\n            open={seeDetailsDialogOpen}\r\n            onClose={handleCloseSeeDetaisDialog}\r\n            deleteButtonDisabled={true}\r\n          />\r\n        </DialogContent>\r\n      </Dialog>\r\n    </React.Fragment>\r\n  );\r\n}","import React, { useEffect, useState } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport PropTypes from 'prop-types';\r\nimport dateformat from 'dateformat';\r\nimport BookService from '../services/BookService';\r\n\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nimport GlobalState from '../GlobalState';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    Container: {\r\n        width: \"100%\",\r\n        paddingTop: \"70%\",\r\n        position: \"relative\",\r\n        backgroundColor: \"#fff\"\r\n    },\r\n\r\n    ContainerPast: {\r\n        width: \"100%\",\r\n        paddingTop: \"70%\",\r\n        position: \"relative\",\r\n        backgroundColor: \"#fafafa\"\r\n    },\r\n    \r\n    DayLabel: {\r\n        position: \"absolute\",\r\n        top: \"5px\",\r\n        right: \"5px\",\r\n        color: \"#555\",\r\n        fontSize: \"1rem\"\r\n    },\r\n\r\n    DayLabelToday: {\r\n        position: \"absolute\",\r\n        top: \"5px\",\r\n        right: \"5px\",\r\n        backgroundColor: \"#1a73e8\",\r\n        color: \"#fff\",\r\n        fontSize: \"1rem\",\r\n        borderRadius: \"50%\",\r\n        padding: \"5px\",\r\n        lineHight: \"35px\",\r\n        minWidth: \"35px\"\r\n    },\r\n\r\n    DayLabelDisabled: {\r\n        position: \"absolute\",\r\n        top: \"5px\",\r\n        right: \"5px\",\r\n        color: \"#ddd\",\r\n        fontSize: \"1rem\"\r\n    },\r\n\r\n    BookingCountLabel: {\r\n        position: \"absolute\",\r\n        top: \"35%\",\r\n        left: \"40%\",\r\n        color: \"#3f51b5\",\r\n        backgroundColor: \"#ebedf7\",\r\n        fontSize: \"16px\",\r\n        fontWeight: \"600\",\r\n        padding: \"10px\",\r\n        borderRadius: \"50%\",\r\n        minWidth: \"40px\",\r\n        lineHight: \"40px\",\r\n        cursor: \"pointer\"\r\n    },\r\n\r\n    BookingCountLabelBusy: {\r\n        position: \"absolute\",\r\n        top: \"35%\",\r\n        left: \"40%\",\r\n        color: \"#b00000\",\r\n        backgroundColor: \"#fce6e6\",\r\n        fontSize: \"16px\",\r\n        fontWeight: \"600\",\r\n        padding: \"10px\",\r\n        borderRadius: \"50%\",\r\n        minWidth: \"40px\",\r\n        cursor: \"pointer\"\r\n    },\r\n\r\n    LoadingProgress: {\r\n        position: \"absolute\",\r\n        top: \"40%\",\r\n        left: \"40%\",\r\n      },\r\n\r\n      BookingCountGauge: {\r\n        position: \"absolute\",\r\n        bottom: \"5%\",\r\n        left: \"8%\",\r\n        width : \"8%\",\r\n        height: \"85%\"\r\n    },\r\n\r\n  }));\r\n\r\nconst MAX_BOOKING_COUNT = 100;  \r\n\r\nconst MonthViewCell = ({key, cellIndex, month, daysInMonth, dayClicked}) => {\r\n    const classes = useStyles();\r\n\r\n    const [state, setState] = React.useContext(GlobalState);\r\n\r\n    const [dateStr, setDateStr] = React.useState('');\r\n\r\n    const [cellDate, setCellDate] = React.useState(new Date());\r\n\r\n    const [bookingsCount, setBookingsCount] = React.useState(-1);\r\n\r\n    const [disableDay, setDisableDay] = React.useState(false);\r\n\r\n    const [isPast, setIsPast] = React.useState(false);\r\n\r\n    useEffect( () => {\r\n\r\n        if (cellIndex <= daysInMonth.length)\r\n        {\r\n            const date = daysInMonth[cellIndex - 1];\r\n            const dateStr = dateformat(date, 'yyyy-mm-dd');\r\n            setDateStr(dateStr);\r\n            setCellDate(date);\r\n            setDisableDay(date.getMonth() !== month - 1);\r\n            const todayStr = dateformat(new Date(), 'yyyy-mm-dd');\r\n            setIsPast(dateStr < todayStr);\r\n        }\r\n        else\r\n        {\r\n            const day = cellIndex - daysInMonth.length;\r\n            const date = new Date((daysInMonth[daysInMonth.length - 1].getTime() + ( day * 86400000)));\r\n            const dateStr = dateformat(date, 'yyyy-mm-dd');\r\n            setDateStr(dateStr);\r\n            setCellDate(date);\r\n            setDisableDay(true);\r\n            const todayStr = dateformat(new Date(), 'yyyy-mm-dd');\r\n            setIsPast(dateStr < todayStr);\r\n        }\r\n\r\n    }, [cellIndex, month, daysInMonth]);\r\n\r\n    useEffect ( () => {\r\n\r\n        const fecthData = async () =>\r\n        {\r\n            if (!dateStr || dateStr.length <= 0)\r\n            {\r\n                return;\r\n            }\r\n        \r\n            if (isPast || disableDay)\r\n            {\r\n                setBookingsCount(-2);\r\n                return;\r\n            }\r\n\r\n            setBookingsCount(-1);\r\n\r\n            var res = state.calendarCache?.find(record => record.method === 'getBookingsCountByDateStr' && record.query === dateStr)?.res;\r\n\r\n            if (!res)\r\n            {\r\n                res = await BookService.getBookingsCountByDateStr(dateStr);\r\n                setState(state => ({...state, calendarCache : [...state.calendarCache, {method: 'getBookingsCountByDateStr' , query : dateStr, res: res}]}));\r\n            }\r\n        \r\n            if (res.data.count >= 0)\r\n            {\r\n                setBookingsCount(res.data.count);\r\n            }\r\n\r\n        }\r\n\r\n      fecthData();\r\n\r\n    }, [dateStr]);\r\n\r\n    const getDayLabel = (_cellIndex , _month , _daysInMonth) =>\r\n    {\r\n        var date = null;\r\n        var disabled = false;\r\n        var day = -1;\r\n\r\n    \r\n\r\n        if (_cellIndex <= _daysInMonth.length)\r\n        {\r\n            date = _daysInMonth[_cellIndex - 1];\r\n            day = date.getDate();\r\n            if (date.getMonth() !== _month - 1)\r\n            {\r\n                disabled = true;\r\n            }\r\n        }\r\n        else\r\n        {\r\n            const _day = _cellIndex - _daysInMonth.length;\r\n            const date = new Date((_daysInMonth[_daysInMonth.length - 1].getTime() + ( _day * 86400000)));\r\n            day = date.getDate();\r\n            disabled = true;\r\n        }\r\n\r\n        const isToday = dateformat(new Date(),'yyyy-mm-dd') === dateformat(date, 'yyyy-mm-dd');\r\n\r\n        return (\r\n            <span className={(disabled || isPast) ? classes.DayLabelDisabled : isToday ? classes.DayLabelToday : classes.DayLabel}>\r\n                 {day > 0 ? `${day}` : ''}\r\n             </span>\r\n        );\r\n    }\r\n\r\n    const getBookingsCountLabel = (_bookingsCount) =>\r\n    {\r\n        if (_bookingsCount === -1)\r\n        {\r\n            return (\r\n                <div className={classes.LoadingProgress}>\r\n                      <CircularProgress disableShrink  />\r\n                </div>\r\n            );  \r\n        }\r\n        else if (_bookingsCount > 0 && !disableDay)\r\n        {\r\n            if (_bookingsCount >= MAX_BOOKING_COUNT / 2)\r\n            {\r\n                return (\r\n                    <div onClick={(event => dayClicked(event,cellDate))} className={classes.BookingCountLabelBusy}>\r\n                        {_bookingsCount}\r\n                    </div>\r\n                );\r\n            }\r\n            else\r\n            {\r\n                return (\r\n                    <div onClick={(event => dayClicked(event,cellDate))} className={classes.BookingCountLabel}>\r\n                        {_bookingsCount}\r\n                    </div>\r\n                );\r\n            }\r\n        }\r\n    }\r\n\r\n    const getBookingsCountGauge = (_bookingsCount) =>\r\n    {\r\n        if (_bookingsCount > 0 && !disableDay)\r\n        {\r\n            let percent = (_bookingsCount / MAX_BOOKING_COUNT) * 100;\r\n            if (percent > 100)\r\n            {\r\n                percent = 100;\r\n            }\r\n\r\n            percent = 100 - percent;\r\n\r\n            return (\r\n\r\n                <div className={classes.BookingCountGauge}>\r\n                  <div style={{padding:\"0\", margin:\"0\", width:\"100%\", height:\"100%\", backgroundColor: \"#3f51b5\"}} >\r\n                        <div  style={{padding:\"0\", margin:\"0\", width:\"100%\", height:`${percent}%`, backgroundColor: \"#fafafa\"}} >\r\n\r\n                        </div>\r\n                  </div>\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n\r\n    return (\r\n        <React.Fragment>\r\n\r\n            <div className={isPast ? classes.ContainerPast : classes.Container}>\r\n\r\n              {getDayLabel(cellIndex, month, daysInMonth)}\r\n\r\n              {getBookingsCountLabel(bookingsCount)}\r\n\r\n              {getBookingsCountGauge(bookingsCount)}\r\n\r\n            </div>\r\n\r\n        </React.Fragment>\r\n\r\n\r\n    );\r\n}\r\n\r\nMonthViewCell.propTypes = {\r\n    key: PropTypes.string.isRequired,\r\n    cellIndex: PropTypes.number.isRequired,\r\n    month: PropTypes.number.isRequired,\r\n    daysInMonth: PropTypes.arrayOf(PropTypes.date),\r\n    dayClicked: PropTypes.func\r\n  };\r\n\r\n \r\n  \r\nexport default MonthViewCell;","import calendar from 'node-calendar';\r\n\r\n\r\nexport default class CalendarUtil {\r\n\r\n    static getMonthRange = (month , year) =>\r\n    {\r\n        return new calendar.Calendar(calendar.SUNDAY).itermonthdates(year, month);\r\n    } \r\n\r\n} ","import React, { useEffect, useState } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport PropTypes from 'prop-types';\r\nimport { Grid } from '@material-ui/core';\r\nimport MonthViewCell from './MonthViewCell';\r\nimport CalendarUtil from './calendar-util';\r\n\r\nconst dayLables = ['Sun', 'Mon', 'Tue', 'Wed' , 'Thu', 'Fri', 'Sat'];\r\nconst days = [1,2,3,4,5,6,7]; \r\nconst rows = [1,2,3,4,5,6];\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    table: {\r\n        width: \"100%\",\r\n        border: \"1px solid #ddd\",\r\n        borderCollapse: \"collapse\",\r\n    },\r\n\r\n    th: {\r\n        border: \"1px solid #ddd\",\r\n        borderCollapse: \"collapse\",\r\n        verticalAlign: \"middle\",\r\n        fontcolor: \"#555\",\r\n        fontWeight: \"400\",\r\n        fontSize: \"15px\",\r\n        paddingTop: \"5px\",\r\n        paddingBottom: \"5px\",\r\n        width: \"14%\"\r\n    },\r\n\r\n    td: {\r\n        border: \"1px solid #ddd\",\r\n        borderCollapse: \"collapse\",\r\n        verticalAlign: \"middle\",\r\n    }\r\n\r\n  }));\r\n\r\nconst MonthView = ({month, year, dayClicked}) => {\r\n    const classes = useStyles();\r\n\r\n    const daysInMonth = CalendarUtil.getMonthRange(month,year);\r\n\r\n    return (\r\n        <React.Fragment>\r\n\r\n            <table className={classes.table}>\r\n                <thead>\r\n                    <tr>\r\n                        {dayLables.map(label => (\r\n                            <th key={`th-${label}`} className={classes.th}>\r\n                                {label}\r\n                            </th>\r\n                        ))}\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {rows.map(row => (\r\n                        <tr>\r\n                            {days.map(day => (\r\n                                <td className={classes.td}>\r\n                                    <MonthViewCell \r\n                                        key={`${month}${year}${(row-1) * days.length + day}`} \r\n                                        cellIndex={(row-1) * days.length + day} \r\n                                        month={month} \r\n                                        daysInMonth={daysInMonth}\r\n                                        dayClicked = {dayClicked}\r\n                                        />\r\n                                </td>\r\n                            ))}\r\n                        </tr>\r\n                    ))}            \r\n                </tbody>\r\n\r\n            </table>\r\n\r\n      \r\n        </React.Fragment>\r\n\r\n\r\n    );\r\n}\r\n\r\nMonthView.propTypes = {\r\n    month: PropTypes.number.isRequired,\r\n    year: PropTypes.number.isRequired,\r\n    dayClicked: PropTypes.func\r\n  };\r\n\r\n\r\nexport default MonthView;","import React, { useEffect, useState } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport PropTypes from 'prop-types';\r\nimport dateformat from 'dateformat';\r\nimport BookService from '../services/BookService';\r\n\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport PersonIcon from '@material-ui/icons/Person';\r\nimport { Badge } from '@material-ui/core';\r\nimport GlobalState from '../GlobalState';\r\n\r\nimport axios from 'axios'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    Container: {\r\n        width: \"100%\",\r\n        paddingTop: \"40%\",\r\n        position: \"relative\",\r\n        backgroundColor: \"#fff\"\r\n    },\r\n\r\n    ContainerPast: {\r\n        width: \"100%\",\r\n        paddingTop: \"40%\",\r\n        position: \"relative\",\r\n        backgroundColor: \"#fafafa\"\r\n    },\r\n    \r\n    DayLabel: {\r\n        position: \"absolute\",\r\n        top: \"5px\",\r\n        right: \"5px\",\r\n        color: \"#555\",\r\n        fontSize: \"1rem\"\r\n    },\r\n\r\n    DayLabelDisabled: {\r\n        position: \"absolute\",\r\n        top: \"5px\",\r\n        right: \"5px\",\r\n        color: \"#ddd\",\r\n        fontSize: \"1rem\"\r\n    },\r\n\r\n    BookingCountLabel: {\r\n        position: \"absolute\",\r\n        top: \"25%\",\r\n        left: \"38%\",\r\n        color: \"#3f51b5\",\r\n        backgroundColor: \"#ebedf7\",\r\n        fontSize: \"14px\",\r\n        fontWeight: \"600\",\r\n        padding: \"5px\",\r\n        borderRadius: \"50%\",\r\n        minWidth: \"30px\",\r\n        cursor : \"pointer\",\r\n    },\r\n\r\n    BookingCountLabelBusy: {\r\n        position: \"absolute\",\r\n        top: \"25%\",\r\n        left: \"38%\",\r\n        color: \"#b00000\",\r\n        backgroundColor: \"#fce6e6\",\r\n        fontSize: \"14px\",\r\n        fontWeight: \"600\",\r\n        padding: \"5px\",\r\n        borderRadius: \"50%\",\r\n        minWidth: \"30px\",\r\n        cursor : \"pointer\",\r\n    },\r\n\r\n    LoadingProgress: {\r\n        position: \"absolute\",\r\n        top: \"40%\",\r\n        left: \"40%\",\r\n      },\r\n\r\n      BookingCountGauge: {\r\n        position: \"absolute\",\r\n        bottom: \"5%\",\r\n        left: \"8%\",\r\n        width : \"85%\",\r\n        height: \"8%\"\r\n    },\r\n\r\n  }));\r\n\r\nconst MAX_BOOKING_COUNT = 5;  \r\n\r\nconst WeekViewCell = ({key, date, time, dayClicked}) => {\r\n    const classes = useStyles();\r\n\r\n    const [state, setState] = React.useContext(GlobalState);\r\n    const [bookingsCount, setBookingsCount] = React.useState(-1);\r\n    const [isPast, setIsPast] = React.useState(false);\r\n\r\n    const [cellDate, setCellDate] = React.useState(new Date());\r\n\r\n    useEffect( () => {\r\n        const todayStr = dateformat(new Date(), 'yyyy-mm-dd');\r\n        setIsPast(date < todayStr);\r\n\r\n        setCellDate(new Date(date));\r\n\r\n    }, [date]);\r\n\r\n    useEffect ( () => {\r\n      \r\n      \r\n      \r\n        if (!date || date.length <= 0 || !time || time.length <= 0)\r\n        {\r\n            return;\r\n        }\r\n        \r\n        if (isPast)\r\n        {\r\n            setBookingsCount(-2);\r\n            return;\r\n        }\r\n\r\n        setBookingsCount(-1);\r\n\r\n       \r\n\r\n        var res = state.calendarCache?.find(record => record.method === 'getBookingsCountByDateStrandTime' && record.query === `${date}${time}`)?.res;\r\n        if (res)\r\n        {\r\n            if (res.data.count >= 0)\r\n            {\r\n                setBookingsCount(res.data.count);\r\n            }  \r\n            return;\r\n        }\r\n\r\n        let source = axios.CancelToken.source();\r\n        BookService.getBookingsCountByDateStrandTime(date, time, source).then( res => {\r\n            if (res.data.count >= 0)\r\n            {\r\n                setBookingsCount(res.data.count);\r\n                setState(state => ({...state, calendarCache : [...state.calendarCache, {method: 'getBookingsCountByDateStrandTime' , query : `${date}${time}`, res: res}]}));\r\n            }  \r\n        }).catch( err => \r\n            {\r\n                //do nothing\r\n            });\r\n     \r\n        return () => {\r\n           if (source)\r\n              source.cancel('Cancelling in cleanup');\r\n        }\r\n     \r\n    }, [date, time]);\r\n\r\n\r\n    const getBookingsCountLabel = (_bookingsCount) =>\r\n    {\r\n        if (_bookingsCount === -1)\r\n        {\r\n            return (\r\n                <div className={classes.LoadingProgress}>\r\n                      <CircularProgress disableShrink  />\r\n                </div>\r\n            );  \r\n        }\r\n        else if (_bookingsCount > 0 && !isPast)\r\n        {\r\n            if (_bookingsCount >= MAX_BOOKING_COUNT)\r\n            {\r\n                return (\r\n                    <div  onClick={(event => dayClicked(event,cellDate))} className={classes.BookingCountLabelBusy}>\r\n                        {_bookingsCount}\r\n                    </div>\r\n                );\r\n            }\r\n            else\r\n            {\r\n                return (\r\n                    <div  onClick={(event => dayClicked(event,cellDate))} className={classes.BookingCountLabel}>\r\n                        {_bookingsCount}\r\n                    </div>\r\n                );\r\n            }\r\n        }\r\n    }\r\n\r\n    const getBookingsCountGauge = (_bookingsCount) =>\r\n    {\r\n        if (_bookingsCount > 0 && !isPast)\r\n        {\r\n            let percent = (_bookingsCount / MAX_BOOKING_COUNT) * 100;\r\n            if (percent > 100)\r\n            {\r\n                percent = 100;\r\n            }\r\n\r\n            // percent = 100 - percent;\r\n\r\n            return (\r\n\r\n                <div className={classes.BookingCountGauge}>\r\n                  <div style={{padding:\"0\", margin:\"0\", width:\"100%\", height:\"100%\", backgroundColor: \"#f5f5f5\"}} >\r\n                        <div  style={{padding:\"0\", margin:\"0\", height:\"100%\", width:`${percent}%`, backgroundColor: \"#3f51b5\"}} >\r\n\r\n                        </div>\r\n                  </div>\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n\r\n    return (\r\n        <React.Fragment>\r\n\r\n            <div className={isPast ? classes.ContainerPast : classes.Container}>\r\n\r\n              {getBookingsCountLabel(bookingsCount)}\r\n\r\n              {getBookingsCountGauge(bookingsCount)}\r\n\r\n            </div>\r\n\r\n        </React.Fragment>\r\n\r\n\r\n    );\r\n}\r\n\r\nWeekViewCell.propTypes = {\r\n    key: PropTypes.string.isRequired,\r\n    date: PropTypes.string.isRequired,\r\n    time: PropTypes.string.isRequired,\r\n    dayClicked: PropTypes.func\r\n  };\r\n\r\n \r\n  \r\nexport default WeekViewCell;","import React, { useEffect, useState } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport PropTypes from 'prop-types';\r\nimport { Grid } from '@material-ui/core';\r\nimport WeekViewCell from './WeekViewCell';\r\nimport dateformat from 'dateformat';\r\n\r\nconst rows = [\r\n    '09:00 AM',\r\n    '09:15 AM', \r\n    '09:30 AM', \r\n    '09:45 AM',\r\n    '10:00 AM',\r\n    '10:15 AM',\r\n    '10:30 AM',\r\n    '10:45 AM',\r\n    '11:00 AM',\r\n    '11:15 AM',\r\n    '11:30 AM',\r\n    '11:45 AM',\r\n    '12:00 PM',\r\n    '12:15 PM',\r\n    '12:30 PM',\r\n    '12:45 PM',\r\n    '01:00 PM',\r\n    '01:15 PM',\r\n    '01:30 PM',\r\n    '01:45 PM',\r\n    '02:00 PM',\r\n    '02:15 PM',\r\n    '02:30 PM',\r\n    '02:45 PM',\r\n    '03:00 PM',\r\n    '03:15 PM',\r\n    '03:30 PM',\r\n    '03:45 PM',\r\n    '04:00 PM',\r\n    '04:15 PM',\r\n    '04:30 PM',\r\n    '04:45 PM',\r\n    '05:00 PM',\r\n    '05:15 PM',\r\n    '05:30 PM',\r\n    '05:45 PM',\r\n];\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    table: {\r\n        width: \"100%\",\r\n        border: \"1px solid #ddd\",\r\n        borderCollapse: \"collapse\",\r\n        overflowY: \"auto\"\r\n    },\r\n\r\n    th: {\r\n        border: \"1px solid #ddd\",\r\n        borderCollapse: \"collapse\",\r\n        verticalAlign: \"middle\",\r\n        fontcolor: \"#555\",\r\n        fontWeight: \"400\",\r\n        fontSize: \"15px\",\r\n        paddingTop: \"5px\",\r\n        paddingBottom: \"5px\",\r\n        width: \"12%\", \r\n    },\r\n\r\n    td: {\r\n        border: \"1px solid #ddd\",\r\n        borderCollapse: \"collapse\",\r\n        verticalAlign: \"middle\",\r\n        height : \"50px\",\r\n        width: \"12%\", \r\n    }\r\n\r\n  }));\r\n\r\nconst WeekView = ({dates, dayClicked}) => {\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <React.Fragment>\r\n\r\n        <div style={{overflowY: \"scroll\" , height: \"60px\"}}>\r\n            <table className={classes.table}>\r\n                <thead>\r\n                    <tr>\r\n                        <th style={{width: \"7%\"}}>\r\n                        \r\n                        </th>\r\n                            {dates.map(date => (\r\n                                <th className={classes.th}>\r\n                                    <div style={{paddingBottom: \"5px\", color: \"#aaa\"}}>\r\n                                         {dateformat(date, 'ddd')}\r\n                                    </div>\r\n                                    <div>\r\n                                        <span style={{color: \"#aaa\"}}>\r\n                                            {dateformat(date, 'mmm ')}\r\n                                        </span> \r\n                                        <span  style={(dateformat(new Date(),'yyyy-mm-dd') === dateformat(date, 'yyyy-mm-dd')) ? { backgroundColor: \"#1a73e8\", color: \"#fff\", borderRadius: \"50%\",  padding: \"5px\",} : {color: \"#333\", fontWeight:\"500\"}}>\r\n                                             {dateformat(date, ' d')}\r\n                                        </span>\r\n                                       \r\n                                    </div>\r\n                                </th>\r\n                        ))}\r\n                    </tr>\r\n                </thead>\r\n             </table>\r\n\r\n        </div>\r\n\r\n            <div style={{overflowY: \"scroll\" , height: \"70vh\"}}>\r\n                <table className={classes.table}>   \r\n                    <tbody>\r\n                        {rows.map(row => (\r\n                            <tr>\r\n                                <td style={{width: \"7%\"}}>\r\n                                    {row}\r\n                                </td>\r\n                                {dates.map(day => (\r\n                                    <td className={classes.td}>\r\n                                        <WeekViewCell \r\n                                            dayClicked = {dayClicked}\r\n                                            key={`${dateformat(day,'yyyy-mm-dd')}-${row.replace(':','-')}`} \r\n                                            date={dateformat(day,'yyyy-mm-dd')}\r\n                                            time={row}/>\r\n                                    </td>\r\n                                ))}\r\n                            </tr>\r\n                        ))}            \r\n                    </tbody>\r\n                </table>\r\n            </div>                    \r\n      \r\n        </React.Fragment>\r\n\r\n\r\n    );\r\n}\r\n\r\nWeekView.propTypes = {\r\n    dates: PropTypes.arrayOf(PropTypes.any).isRequired,\r\n    dayClicked: PropTypes.func\r\n  };\r\n\r\n\r\nexport default WeekView;","import React, { useEffect, useState } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport PropTypes from 'prop-types';\r\nimport dateformat from 'dateformat';\r\nimport BookService from '../services/BookService';\r\n\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport GlobalState from '../GlobalState';\r\nimport BookingDialog from '../BookingDialog';\r\nimport { setRef } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    Container: {\r\n        width: \"100%\",\r\n        height : \"50px\",\r\n        position: \"relative\",\r\n        backgroundColor: \"#fff\",\r\n        display: \"flex\",\r\n        alignItems : \"flex-start\",\r\n        justifyItems: \"flex-start\",\r\n        paddingLeft : \"10px\"\r\n\r\n    },\r\n\r\n    ContainerPast: {\r\n        width: \"100%\",\r\n        paddingTop: \"50px\",\r\n        position: \"relative\",\r\n        backgroundColor: \"#fafafa\"\r\n    },\r\n    \r\n    DayLabel: {\r\n        position: \"absolute\",\r\n        top: \"5px\",\r\n        right: \"5px\",\r\n        color: \"#555\",\r\n        fontSize: \"1rem\"\r\n    },\r\n\r\n    DayLabelDisabled: {\r\n        position: \"absolute\",\r\n        top: \"5px\",\r\n        right: \"5px\",\r\n        color: \"#ddd\",\r\n        fontSize: \"1rem\"\r\n    },\r\n\r\n    LoadingProgress: {\r\n        position: \"absolute\",\r\n        top: \"10%\",\r\n        left: \"40%\",\r\n      },\r\n\r\n      BookingCountGauge: {\r\n        position: \"absolute\",\r\n        bottom: \"5%\",\r\n        left: \"8%\",\r\n        width : \"85%\",\r\n        height: \"8%\"\r\n    },\r\n\r\n    bookingBox: {\r\n        display: \"flex\",\r\n        marginRight: \"10px\",\r\n        marginTop: \"5px\",\r\n        padding: \"10px\",\r\n        maxWidth : \"150px\",\r\n        overflowX: \"hidden\",\r\n        border : \"1px solid #eee\",\r\n        fontSize: \"12px\",\r\n        fontWeight : \"500\",\r\n        cursor: \"pointer\",\r\n        backgroundColor: \"#ebedf7\",\r\n        color: \"#3f51b5\",\r\n        boxShadow: \"2px 4px #fafafa\",\r\n\r\n        \"&:hover\": {\r\n            background: \"#3f51b5\",\r\n            color: \"#ebedf7\"\r\n          },\r\n    }\r\n\r\n  }));\r\n\r\n\r\n\r\nconst DayViewCell = ({key, date, time}) => {\r\n    const classes = useStyles();\r\n\r\n    const [state, setState] = React.useContext(GlobalState);\r\n    const [bookings, setBookings] = React.useState(null);\r\n    const [selectedBooking, setSelectedBooking] = React.useState(null);\r\n\r\n    const [refresh, setRefresh] = React.useState(true); \r\n\r\n    const [isPast, setIsPast] = React.useState(false);\r\n\r\n    const [openDialog, setOpenDialog] = React.useState(false);\r\n\r\n\r\n    useEffect( () => {\r\n        const todayStr = dateformat(new Date(), 'yyyy-mm-dd');\r\n        setIsPast(date < todayStr);\r\n\r\n    }, [date]);\r\n\r\n \r\n\r\n\r\n    useEffect ( () => {\r\n       \r\n        const fetchData = async () =>\r\n        {\r\n            if (!date || date.length <= 0 || !time || time.length <= 0)\r\n            {\r\n                return;\r\n            }\r\n         \r\n            if (isPast)\r\n            {\r\n                setBookings([]);\r\n                return;\r\n            }\r\n    \r\n            setBookings(null);\r\n    \r\n            var res = state.calendarCache?.find(record => record.method === 'getBookingsByDateStrandTime' && record.query === `${date}${time}`)?.res;\r\n            if (!res || openDialog)\r\n            {\r\n                res = await BookService.getBookingsByDateStrandTime(date, time);\r\n                setState(state => ({...state, calendarCache : [...state.calendarCache, {method: 'getBookingsByDateStrandTime' , query : `${date}${time}`, res: res}]}));\r\n            }\r\n          \r\n          \r\n            if (res.data.status === 'OK')\r\n            {\r\n                setBookings(res.data.bookings);\r\n            }   \r\n        }\r\n\r\n        if (openDialog)\r\n        {\r\n            setState(state => ({...state, calendarCache : state.calendarCache.filter(record => !(record.method === 'getBookingsByDateStrandTime' && record.query ===  `${date}${time}`))}));\r\n            setState(state => ({...state, calendarCache : state.calendarCache.filter(record => !(record.method === 'getBookingsCountByDateStrandTime' && record.query ===  `${date}${time}`))}));\r\n            setState(state => ({...state, calendarCache : state.calendarCache.filter(record => !(record.method === 'getBookingsCountByDateStr' && record.query ===  date))}));\r\n        }\r\n\r\n         fetchData();\r\n     \r\n    }, [date, time, state.bookingDialogDataChanged]);\r\n\r\n    const bookingCliked = (event, booking) =>\r\n    {\r\n        setSelectedBooking(booking);\r\n        setOpenDialog(true);\r\n    }\r\n\r\n\r\n    const getBookingsBox = (_bookings) =>\r\n    {\r\n        if (_bookings === null) \r\n        {\r\n            return (\r\n                <div className={classes.LoadingProgress}>\r\n                      <CircularProgress disableShrink  />\r\n                </div>\r\n            );  \r\n        }\r\n        else if (_bookings.length > 0 && !isPast)\r\n        {\r\n           return (\r\n                _bookings.map(booking => (\r\n\r\n                    <div className={classes.bookingBox} onClick={event => bookingCliked(event,booking)}>\r\n\r\n                        {`${booking.forenameCapital}-${booking.surnameCapital}`.substring(0,15)}\r\n\r\n                    </div>\r\n\r\n                ))\r\n\r\n           );\r\n        }\r\n    }\r\n\r\n\r\n    const handleCloseDialog = () =>\r\n    {\r\n        setOpenDialog(false);\r\n    }\r\n\r\n    return (\r\n        <React.Fragment>\r\n\r\n            <div className={isPast ? classes.ContainerPast : classes.Container}>\r\n\r\n              {getBookingsBox(bookings)}\r\n\r\n            </div>\r\n\r\n            <BookingDialog\r\n                booking={selectedBooking}\r\n                open={openDialog}\r\n                onClose={handleCloseDialog}\r\n            />\r\n\r\n        </React.Fragment>\r\n\r\n\r\n    );\r\n}\r\n\r\nDayViewCell.propTypes = {\r\n    key: PropTypes.string.isRequired,\r\n    date: PropTypes.string.isRequired,\r\n    time: PropTypes.string.isRequired,\r\n  };\r\n\r\n \r\n  \r\nexport default DayViewCell;","import React, { useEffect, useState } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport PropTypes from 'prop-types';\r\nimport { Grid } from '@material-ui/core';\r\nimport DayViewCell from './DayViewCell';\r\nimport dateformat from 'dateformat';\r\n\r\nconst rows = [\r\n    '09:00 AM',\r\n    '09:15 AM', \r\n    '09:30 AM', \r\n    '09:45 AM',\r\n    '10:00 AM',\r\n    '10:15 AM',\r\n    '10:30 AM',\r\n    '10:45 AM',\r\n    '11:00 AM',\r\n    '11:15 AM',\r\n    '11:30 AM',\r\n    '11:45 AM',\r\n    '12:00 PM',\r\n    '12:15 PM',\r\n    '12:30 PM',\r\n    '12:45 PM',\r\n    '01:00 PM',\r\n    '01:15 PM',\r\n    '01:30 PM',\r\n    '01:45 PM',\r\n    '02:00 PM',\r\n    '02:15 PM',\r\n    '02:30 PM',\r\n    '02:45 PM',\r\n    '03:00 PM',\r\n    '03:15 PM',\r\n    '03:30 PM',\r\n    '03:45 PM',\r\n    '04:00 PM',\r\n    '04:15 PM',\r\n    '04:30 PM',\r\n    '04:45 PM',\r\n    '05:00 PM',\r\n    '05:15 PM',\r\n    '05:30 PM',\r\n    '05:45 PM',\r\n];\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    table: {\r\n        width: \"100%\",\r\n        border: \"1px solid #ddd\",\r\n        borderCollapse: \"collapse\",\r\n        overflowY: \"auto\"\r\n    },\r\n\r\n    th: {\r\n        border: \"1px solid #ddd\",\r\n        borderCollapse: \"collapse\",\r\n        verticalAlign: \"middle\",\r\n        fontcolor: \"#555\",\r\n        fontWeight: \"400\",\r\n        fontSize: \"15px\",\r\n        paddingTop: \"5px\",\r\n        paddingBottom: \"5px\",\r\n        width: \"12%\", \r\n    },\r\n\r\n    td: {\r\n        border: \"1px solid #ddd\",\r\n        borderCollapse: \"collapse\",\r\n        verticalAlign: \"middle\",\r\n        height : \"50px\",\r\n        width: \"84%\", \r\n    },\r\n\r\n    titleLabel: {\r\n        paddingBottom: \"17px\",\r\n        paddingTop: \"17px\",\r\n        color: \"#777\",\r\n        fontSize: \"16px\"\r\n    },\r\n\r\n    titleLabelToday: {\r\n        paddingBottom: \"17px\",\r\n        paddingTop: \"17px\",\r\n        color: \"#fff\",\r\n        backgroundColor: \"#1a73e8\",\r\n        fontSize: \"16px\"\r\n    },\r\n\r\n  }));\r\n\r\nconst DayView = ({date}) => {\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <React.Fragment>\r\n\r\n        <div style={{overflowY: \"scroll\" , height: \"60px\"}}>\r\n            <table className={classes.table}>\r\n                <thead>\r\n                    <tr>\r\n                        <th style={{width: \"7%\"}}>\r\n                        \r\n                        </th>\r\n                        <th style={{width: \"84%\"}}>\r\n                                <div className={(dateformat(new Date(),'yyyy-mm-dd') === dateformat(date, 'yyyy-mm-dd')) ? classes.titleLabelToday : classes.titleLabel }>\r\n                                        {dateformat(date,'dddd')}\r\n                                </div>                                \r\n                        </th>\r\n                    </tr>\r\n                </thead>\r\n             </table>\r\n\r\n        </div>\r\n\r\n            <div style={{overflowY: \"scroll\" , height: \"70vh\"}}>\r\n                <table className={classes.table}>   \r\n                    <tbody>\r\n                        {rows.map(row => (\r\n                            <tr>\r\n                                <td style={{width: \"7%\"}}>\r\n                                    {row}\r\n                                </td>\r\n                               \r\n                                <td className={classes.td}>\r\n                                     <DayViewCell key={`${dateformat(date,'yyyy-mm-dd')}-${row}`} date={dateformat(date,'yyyy-mm-dd')} time={row}/>  \r\n                                </td>\r\n                            \r\n                            </tr>\r\n                        ))}            \r\n                    </tbody>\r\n                </table>\r\n            </div>                    \r\n      \r\n        </React.Fragment>\r\n\r\n\r\n    );\r\n}\r\n\r\nDayView.propTypes = {\r\n    date: PropTypes.any.isRequired\r\n  };\r\n\r\n\r\nexport default DayView;","import React, { useEffect, useState } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport MonthView from './MonthView';\r\nimport { Button, Grid, IconButton, Tooltip } from '@material-ui/core';\r\nimport ToggleButton from '@material-ui/lab/ToggleButton';\r\nimport ToggleButtonGroup from '@material-ui/lab/ToggleButtonGroup';\r\n\r\nimport NavigateBeforeIcon from '@material-ui/icons/NavigateBefore';\r\nimport NavigateNextIcon from '@material-ui/icons/NavigateNext';\r\nimport WeekView from './WeekView';\r\nimport dateformat from 'dateformat';\r\nimport DayView from './DayView';\r\nimport GlobalState from '../GlobalState';\r\n\r\n\r\n\r\nconst monthNames = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\r\n  \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"\r\n];\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    title: {\r\n        textAlign: \"center\",\r\n        fontSize: \"24px\",\r\n        fontColor: \"#333\"\r\n    },\r\n\r\n  }));\r\n\r\nexport default function CalendarView() {\r\n    const classes = useStyles();\r\n\r\n    const [state, setState] = React.useContext(GlobalState);\r\n\r\n    const [month, setMonth] = React.useState(new Date().getMonth() + 1);\r\n    const [year, setYear] = React.useState(new Date().getFullYear());\r\n\r\n    const [day, setDay] = React.useState(new Date());\r\n\r\n    const [firstDayofWeek, setFirstDayofWeek] = React.useState(new Date());\r\n\r\n    const [weekDates, setWeekDates] = React.useState([]);\r\n\r\n    const [mode, setMode] = React.useState('month');\r\n    const [selectedTab, setSeletedTab] = React.useState('month');\r\n\r\n\r\n    useEffect( () => {\r\n        const today = new Date();\r\n        const dayofWeek = today.getDay();\r\n        const firstdayofweek = new Date(today.getTime() - ( dayofWeek * 86400000));\r\n        setFirstDayofWeek(firstdayofweek);\r\n        setState(state => ({...state, calendarCache : []}));\r\n\r\n        return () =>\r\n        {\r\n            setState(state => ({...state, calendarCache : []}));\r\n        }\r\n       \r\n    }, []);\r\n\r\n\r\n    useEffect( () => {\r\n        const dates = [];\r\n        for (var i = 0; i < 7 ; i++)\r\n        {\r\n            dates.push(new Date(firstDayofWeek.getTime() + ( i * 86400000)));\r\n        }\r\n        setWeekDates(dates);\r\n\r\n    }, [firstDayofWeek]);\r\n\r\n    const handlePrevButton = (event) =>\r\n    {\r\n       if (mode === 'month')\r\n       {\r\n            if (month === 1)\r\n            {\r\n                setYear(year - 1);\r\n            } \r\n\r\n            const newMonth = month === 1 ? 12 : month - 1;\r\n            setMonth(newMonth);\r\n\r\n            const newDay = new Date(year, newMonth - 1 , 1, 0 ,0 ,0 ,0);\r\n            setDay(newDay);\r\n\r\n            const dayofWeek = newDay.getDay();\r\n            setFirstDayofWeek(new Date(newDay.getTime() - ( dayofWeek * 86400000)));\r\n\r\n       } \r\n       else if (mode === 'week')\r\n       {\r\n           const newFirstDayofWeek = new Date(firstDayofWeek.getTime() - ( 7 * 86400000));\r\n           setFirstDayofWeek(newFirstDayofWeek);\r\n\r\n           setDay(newFirstDayofWeek);\r\n           setMonth(newFirstDayofWeek.getMonth() + 1);\r\n           setYear(newFirstDayofWeek.getFullYear());\r\n\r\n       }\r\n       else if (mode === 'day')\r\n       {\r\n           const newDay = new Date(day.getTime() - ( 1 * 86400000));\r\n           setDay(newDay);\r\n\r\n           const dayofWeek = newDay.getDay();\r\n           setFirstDayofWeek(new Date(newDay.getTime() - ( dayofWeek * 86400000)));\r\n\r\n           setMonth(newDay.getMonth() + 1);\r\n           setYear(newDay.getFullYear());\r\n       }\r\n    }\r\n\r\n    const handleNextButton = (event) =>\r\n    {\r\n        if (mode === 'month')\r\n        {\r\n            if (month === 12)\r\n            {\r\n                setYear(year + 1);\r\n            } \r\n       \r\n            const newMonth = month === 12 ? 1 : month + 1;\r\n            setMonth(newMonth);\r\n\r\n            const newDay = new Date(year, newMonth - 1 , 1, 0 ,0 ,0 ,0);\r\n            setDay(newDay);\r\n\r\n            const dayofWeek = newDay.getDay();\r\n            setFirstDayofWeek(new Date(newDay.getTime() - ( dayofWeek * 86400000)));\r\n        }\r\n        else if (mode === 'week')\r\n        {\r\n            const newFirstDayofWeek = new Date(firstDayofWeek.getTime() + ( 7 * 86400000));\r\n            setFirstDayofWeek(newFirstDayofWeek);\r\n\r\n            setDay(newFirstDayofWeek);\r\n            setMonth(newFirstDayofWeek.getMonth() + 1);\r\n            setYear(newFirstDayofWeek.getFullYear());\r\n\r\n        }\r\n        else if (mode === 'day')\r\n        {\r\n            const newDay = new Date(day.getTime() + ( 1 * 86400000));\r\n            setDay(newDay);\r\n\r\n            const dayofWeek = newDay.getDay();\r\n            setFirstDayofWeek(new Date(newDay.getTime() - ( dayofWeek * 86400000)));\r\n \r\n            setMonth(newDay.getMonth() + 1);\r\n            setYear(newDay.getFullYear());\r\n        }\r\n    }\r\n\r\n    const goToday = (event) => {\r\n        const newDay = new Date();\r\n        const dayofWeek = newDay.getDay();\r\n        setFirstDayofWeek(new Date(newDay.getTime() - ( dayofWeek * 86400000)));\r\n        setDay(newDay);\r\n        setMonth(newDay.getMonth() + 1);\r\n        setYear(newDay.getFullYear());\r\n    }\r\n\r\n    const dayClicked = (event, date) =>\r\n    {\r\n        const newDay = new Date(date);\r\n        const dayofWeek = newDay.getDay();\r\n        setFirstDayofWeek(new Date(newDay.getTime() - ( dayofWeek * 86400000)));\r\n        setDay(newDay);\r\n        setMonth(newDay.getMonth() + 1);\r\n        setYear(newDay.getFullYear());\r\n        setSeletedTab('day');\r\n        setMode('day');\r\n    }\r\n\r\n    const getContentFromMode = (_mode) => {\r\n        if (_mode === 'month')\r\n        {\r\n            return (\r\n                <MonthView dayClicked={dayClicked} month={month} year={year}/>    \r\n            );\r\n        }    \r\n        else if (_mode === 'week')\r\n        {\r\n            return (\r\n                    <WeekView dayClicked={dayClicked} dates={weekDates}/>\r\n            );\r\n            \r\n        }\r\n        else if (_mode === 'day')\r\n        {\r\n            return (\r\n                <DayView date={day}/>\r\n            );\r\n        }\r\n    }\r\n\r\n    const getCalendarTitleFromMode = (_mode) => {\r\n        if (_mode === 'month')\r\n        {\r\n            return (\r\n                <span className={classes.title}> {`${monthNames[month - 1]} ${year}`} </span>   \r\n            );\r\n        }    \r\n        else if (_mode === 'week')\r\n        {\r\n            const endOfWeek = new Date(firstDayofWeek.getTime() + ( 6 * 86400000));\r\n            let endofWeekStr = '';\r\n            if (endOfWeek.getMonth() === firstDayofWeek.getMonth())\r\n            {\r\n                endofWeekStr = dateformat(endOfWeek,'d');\r\n            }else\r\n            {\r\n                endofWeekStr = dateformat(endOfWeek,'mmm d');\r\n            }\r\n\r\n            return (\r\n                <span className={classes.title}> {`${dateformat(firstDayofWeek,'mmm d')} - ${endofWeekStr}, ${year}`} </span>\r\n            );\r\n            \r\n        }\r\n        else if (_mode === 'day')\r\n        {\r\n            return (\r\n                <span className={classes.title}> {`${dateformat(day,'mmmm d, yyyy')}`} </span>\r\n            );\r\n        }\r\n    }\r\n\r\n\r\n    const handleTabChanged = (event, value) => {\r\n        if (value && value.length)\r\n        {\r\n          setSeletedTab(value);\r\n          setMode(value);\r\n        }\r\n    };\r\n\r\n    const getPrevButtonTitle = (_mode) =>\r\n    {\r\n        return `Previuos ${mode}`;\r\n    }\r\n\r\n    const getNextButtonTitle = (_mode) =>\r\n    {\r\n        return `Next ${mode}`;\r\n    }\r\n\r\n    return (\r\n        <React.Fragment>\r\n\r\n          <Grid\r\n            container\r\n            direction=\"row\"\r\n            justify=\"space-between\"\r\n            alignItems=\"center\"\r\n            style= {{marginBottom: \"10px\", marginTop: \"0px\"}}\r\n            >  \r\n\r\n            <Grid item md={3}>\r\n                <div  style={{display:\"flex\", alignItems: \"flex-start\", justifyContent: \"flex-start\" , paddingLeft: \"10px\"}}>\r\n                    <Tooltip title={getPrevButtonTitle(mode)} placement=\"bottom-start\">\r\n                        <IconButton \r\n                                color=\"default\" \r\n                                aria-label=\"prev\"\r\n                                onClick = {handlePrevButton}\r\n                                >\r\n                            <NavigateBeforeIcon style={{fontSize: '2rem'}}/>\r\n                        </IconButton>\r\n                    </Tooltip>\r\n\r\n                    <Tooltip title={getNextButtonTitle(mode)} placement=\"bottom-end\">\r\n                        <IconButton \r\n                                color=\"default\" \r\n                                aria-label=\"next\"\r\n                                onClick = {handleNextButton}\r\n                                >\r\n                            <NavigateNextIcon style={{fontSize: '2rem'}}/>\r\n                        </IconButton>\r\n                    </Tooltip>\r\n\r\n                    <Button style={{marginTop: \"11px\", marginLeft: \"10px\"}} onClick={goToday} variant=\"outlined\"> Today </Button>\r\n                </div>\r\n\r\n            </Grid>\r\n\r\n            <Grid item md={6}>\r\n                {getCalendarTitleFromMode(mode)}\r\n            </Grid>\r\n\r\n            <Grid item md={3}>\r\n                <div  style={{display:\"flex\", alignItems: \"flex-end\", justifyContent: \"flex-end\", paddingRight: \"10px\" }}>\r\n                    <ToggleButtonGroup\r\n                        value={selectedTab}\r\n                        exclusive\r\n                        onChange={handleTabChanged}\r\n                        aria-label=\"select view mode\"\r\n                    >\r\n                        <ToggleButton style={selectedTab === 'month' ? {width: \"80px\", color: \"#3f51b5\", backgroundColor: \"#ebedf7\" } : {width: \"80px\"}} value=\"month\" aria-label=\"month view\">\r\n                                month\r\n                        </ToggleButton>\r\n                        <ToggleButton style={selectedTab === 'week' ? {width: \"80px\", color: \"#3f51b5\", backgroundColor: \"#ebedf7\"} : {width: \"80px\"}}  value=\"week\" aria-label=\"week view\">\r\n                                week\r\n                        </ToggleButton>\r\n                        <ToggleButton style={selectedTab === 'day' ? {width: \"80px\", color: \"#3f51b5\", backgroundColor: \"#ebedf7\"} : {width: \"80px\"}} value=\"day\" aria-label=\"day view\">\r\n                                day\r\n                        </ToggleButton>\r\n                    </ToggleButtonGroup>\r\n                </div>\r\n            </Grid>\r\n\r\n           </Grid> \r\n\r\n             {getContentFromMode(mode)}\r\n\r\n        </React.Fragment>\r\n\r\n\r\n    );\r\n\r\n}","import React, { useEffect, useState } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport PropTypes from 'prop-types';\r\nimport dateformat from 'dateformat';\r\nimport BookService from '../services/BookService';\r\n\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nimport GlobalState from '../GlobalState';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    Container: {\r\n        width: \"100%\",\r\n        paddingTop: \"70%\",\r\n        position: \"relative\",\r\n        backgroundColor: \"#fff\"\r\n    },\r\n\r\n    ContainerPast: {\r\n        width: \"100%\",\r\n        paddingTop: \"70%\",\r\n        position: \"relative\",\r\n        backgroundColor: \"#fafafa\"\r\n    },\r\n    \r\n    DayLabel: {\r\n        position: \"absolute\",\r\n        top: \"5px\",\r\n        right: \"5px\",\r\n        color: \"#555\",\r\n        fontSize: \"1rem\"\r\n    },\r\n\r\n    DayLabelToday: {\r\n        position: \"absolute\",\r\n        top: \"5px\",\r\n        right: \"5px\",\r\n        backgroundColor: \"#1a73e8\",\r\n        color: \"#fff\",\r\n        fontSize: \"1rem\",\r\n        borderRadius: \"50%\",\r\n        padding: \"5px\",\r\n        lineHight: \"35px\",\r\n        minWidth: \"35px\"\r\n    },\r\n\r\n    DayLabelDisabled: {\r\n        position: \"absolute\",\r\n        top: \"5px\",\r\n        right: \"5px\",\r\n        color: \"#ddd\",\r\n        fontSize: \"1rem\"\r\n    },\r\n\r\n    BookingCountLabel: {\r\n        position: \"absolute\",\r\n        top: \"35%\",\r\n        left: \"40%\",\r\n        color: \"#3f51b5\",\r\n        backgroundColor: \"#ebedf7\",\r\n        fontSize: \"16px\",\r\n        fontWeight: \"600\",\r\n        padding: \"10px\",\r\n        borderRadius: \"50%\",\r\n        minWidth: \"40px\",\r\n        lineHight: \"40px\",\r\n        cursor: \"pointer\"\r\n    },\r\n\r\n    BookingCountLabelBusy: {\r\n        position: \"absolute\",\r\n        top: \"35%\",\r\n        left: \"40%\",\r\n        color: \"#b00000\",\r\n        backgroundColor: \"#fce6e6\",\r\n        fontSize: \"16px\",\r\n        fontWeight: \"600\",\r\n        padding: \"10px\",\r\n        borderRadius: \"50%\",\r\n        minWidth: \"40px\",\r\n        cursor: \"pointer\"\r\n    },\r\n\r\n    LoadingProgress: {\r\n        position: \"absolute\",\r\n        top: \"40%\",\r\n        left: \"40%\",\r\n      },\r\n\r\n      BookingCountGauge: {\r\n        position: \"absolute\",\r\n        bottom: \"5%\",\r\n        left: \"8%\",\r\n        width : \"8%\",\r\n        height: \"85%\"\r\n    },\r\n\r\n  }));\r\n\r\nconst MAX_BOOKING_COUNT = 100;  \r\n\r\nconst MonthViewCell = ({key, cellIndex, month, daysInMonth, dayClicked}) => {\r\n    const classes = useStyles();\r\n\r\n    const [state, setState] = React.useContext(GlobalState);\r\n\r\n    const [dateStr, setDateStr] = React.useState('');\r\n\r\n    const [cellDate, setCellDate] = React.useState(new Date());\r\n\r\n    const [bookingsCount, setBookingsCount] = React.useState(-1);\r\n\r\n    const [disableDay, setDisableDay] = React.useState(false);\r\n\r\n    const [isPast, setIsPast] = React.useState(false);\r\n\r\n    useEffect( () => {\r\n\r\n        if (cellIndex <= daysInMonth.length)\r\n        {\r\n            const date = daysInMonth[cellIndex - 1];\r\n            const dateStr = dateformat(date, 'yyyy-mm-dd');\r\n            setDateStr(dateStr);\r\n            setCellDate(date);\r\n            setDisableDay(date.getMonth() !== month - 1);\r\n            const todayStr = dateformat(new Date(), 'yyyy-mm-dd');\r\n            setIsPast(dateStr < todayStr);\r\n        }\r\n        else\r\n        {\r\n            const day = cellIndex - daysInMonth.length;\r\n            const date = new Date((daysInMonth[daysInMonth.length - 1].getTime() + ( day * 86400000)));\r\n            const dateStr = dateformat(date, 'yyyy-mm-dd');\r\n            setDateStr(dateStr);\r\n            setCellDate(date);\r\n            setDisableDay(true);\r\n            const todayStr = dateformat(new Date(), 'yyyy-mm-dd');\r\n            setIsPast(dateStr < todayStr);\r\n        }\r\n\r\n    }, [cellIndex, month, daysInMonth]);\r\n\r\n    useEffect ( () => {\r\n\r\n        const fecthData = async () =>\r\n        {\r\n            if (!dateStr || dateStr.length <= 0)\r\n            {\r\n                return;\r\n            }\r\n        \r\n            if (disableDay)\r\n            {\r\n                setBookingsCount(-2);\r\n                return;\r\n            }\r\n\r\n            setBookingsCount(-1);\r\n\r\n            var res = state.AdminCalendarCache?.find(record => record.method === 'getBookingsCountByDateStr' && record.query === dateStr)?.res;\r\n\r\n            if (!res)\r\n            {\r\n                res = await BookService.getAllBookingsCountByDateStr(dateStr);\r\n                setState(state => ({...state, AdminCalendarCache : [...state.AdminCalendarCache, {method: 'getBookingsCountByDateStr' , query : dateStr, res: res}]}));\r\n            }\r\n        \r\n            if (res.data.count >= 0)\r\n            {\r\n                setBookingsCount(res.data.count);\r\n            }\r\n\r\n        }\r\n\r\n      fecthData();\r\n\r\n    }, [dateStr]);\r\n\r\n    const getDayLabel = (_cellIndex , _month , _daysInMonth) =>\r\n    {\r\n        var date = null;\r\n        var disabled = false;\r\n        var day = -1;\r\n\r\n    \r\n\r\n        if (_cellIndex <= _daysInMonth.length)\r\n        {\r\n            date = _daysInMonth[_cellIndex - 1];\r\n            day = date.getDate();\r\n            if (date.getMonth() !== _month - 1)\r\n            {\r\n                disabled = true;\r\n            }\r\n        }\r\n        else\r\n        {\r\n            const _day = _cellIndex - _daysInMonth.length;\r\n            const date = new Date((_daysInMonth[_daysInMonth.length - 1].getTime() + ( _day * 86400000)));\r\n            day = date.getDate();\r\n            disabled = true;\r\n        }\r\n\r\n        const isToday = dateformat(new Date(),'yyyy-mm-dd') === dateformat(date, 'yyyy-mm-dd');\r\n\r\n        return (\r\n            <span className={(disabled) ? classes.DayLabelDisabled : isToday ? classes.DayLabelToday : classes.DayLabel}>\r\n                 {day > 0 ? `${day}` : ''}\r\n             </span>\r\n        );\r\n    }\r\n\r\n    const getBookingsCountLabel = (_bookingsCount) =>\r\n    {\r\n        if (_bookingsCount === -1)\r\n        {\r\n            return (\r\n                <div className={classes.LoadingProgress}>\r\n                      <CircularProgress disableShrink  />\r\n                </div>\r\n            );  \r\n        }\r\n        else if (_bookingsCount > 0 )\r\n        {\r\n            if (_bookingsCount >= MAX_BOOKING_COUNT / 2)\r\n            {\r\n                return (\r\n                    <div onClick={(event => dayClicked(event,cellDate))} className={classes.BookingCountLabelBusy}>\r\n                        {_bookingsCount}\r\n                    </div>\r\n                );\r\n            }\r\n            else\r\n            {\r\n                return (\r\n                    <div onClick={(event => dayClicked(event,cellDate))} className={classes.BookingCountLabel}>\r\n                        {_bookingsCount}\r\n                    </div>\r\n                );\r\n            }\r\n        }\r\n    }\r\n\r\n    const getBookingsCountGauge = (_bookingsCount) =>\r\n    {\r\n        if (_bookingsCount > 0)\r\n        {\r\n            let percent = (_bookingsCount / MAX_BOOKING_COUNT) * 100;\r\n            if (percent > 100)\r\n            {\r\n                percent = 100;\r\n            }\r\n\r\n            percent = 100 - percent;\r\n\r\n            return (\r\n\r\n                <div className={classes.BookingCountGauge}>\r\n                  <div style={{padding:\"0\", margin:\"0\", width:\"100%\", height:\"100%\", backgroundColor: \"#3f51b5\"}} >\r\n                        <div  style={{padding:\"0\", margin:\"0\", width:\"100%\", height:`${percent}%`, backgroundColor: \"#fafafa\"}} >\r\n\r\n                        </div>\r\n                  </div>\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n\r\n    return (\r\n        <React.Fragment>\r\n\r\n            <div className={classes.Container}>\r\n\r\n              {getDayLabel(cellIndex, month, daysInMonth)}\r\n\r\n              {getBookingsCountLabel(bookingsCount)}\r\n\r\n              {getBookingsCountGauge(bookingsCount)}\r\n\r\n            </div>\r\n\r\n        </React.Fragment>\r\n\r\n\r\n    );\r\n}\r\n\r\nMonthViewCell.propTypes = {\r\n    key: PropTypes.string.isRequired,\r\n    cellIndex: PropTypes.number.isRequired,\r\n    month: PropTypes.number.isRequired,\r\n    daysInMonth: PropTypes.arrayOf(PropTypes.date),\r\n    dayClicked: PropTypes.func\r\n  };\r\n\r\n \r\n  \r\nexport default MonthViewCell;","import calendar from 'node-calendar';\r\n\r\n\r\nexport default class CalendarUtil {\r\n\r\n    static getMonthRange = (month , year) =>\r\n    {\r\n        return new calendar.Calendar(calendar.SUNDAY).itermonthdates(year, month);\r\n    } \r\n\r\n} ","import React, { useEffect, useState } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport PropTypes from 'prop-types';\r\nimport { Grid } from '@material-ui/core';\r\nimport MonthViewCell from './MonthViewCell';\r\nimport CalendarUtil from './calendar-util';\r\n\r\nconst dayLables = ['Sun', 'Mon', 'Tue', 'Wed' , 'Thu', 'Fri', 'Sat'];\r\nconst days = [1,2,3,4,5,6,7]; \r\nconst rows = [1,2,3,4,5,6];\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    table: {\r\n        width: \"100%\",\r\n        border: \"1px solid #ddd\",\r\n        borderCollapse: \"collapse\",\r\n    },\r\n\r\n    th: {\r\n        border: \"1px solid #ddd\",\r\n        borderCollapse: \"collapse\",\r\n        verticalAlign: \"middle\",\r\n        fontcolor: \"#555\",\r\n        fontWeight: \"400\",\r\n        fontSize: \"15px\",\r\n        paddingTop: \"5px\",\r\n        paddingBottom: \"5px\",\r\n        width: \"14%\"\r\n    },\r\n\r\n    td: {\r\n        border: \"1px solid #ddd\",\r\n        borderCollapse: \"collapse\",\r\n        verticalAlign: \"middle\",\r\n    }\r\n\r\n  }));\r\n\r\nconst MonthView = ({month, year, dayClicked}) => {\r\n    const classes = useStyles();\r\n\r\n    const daysInMonth = CalendarUtil.getMonthRange(month,year);\r\n\r\n    return (\r\n        <React.Fragment>\r\n\r\n            <table className={classes.table}>\r\n                <thead>\r\n                    <tr>\r\n                        {dayLables.map(label => (\r\n                            <th key={`th-${label}`} className={classes.th}>\r\n                                {label}\r\n                            </th>\r\n                        ))}\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {rows.map(row => (\r\n                        <tr>\r\n                            {days.map(day => (\r\n                                <td className={classes.td}>\r\n                                    <MonthViewCell \r\n                                        key={`${month}${year}${(row-1) * days.length + day}`} \r\n                                        cellIndex={(row-1) * days.length + day} \r\n                                        month={month} \r\n                                        daysInMonth={daysInMonth}\r\n                                        dayClicked = {dayClicked}\r\n                                        />\r\n                                </td>\r\n                            ))}\r\n                        </tr>\r\n                    ))}            \r\n                </tbody>\r\n\r\n            </table>\r\n\r\n      \r\n        </React.Fragment>\r\n\r\n\r\n    );\r\n}\r\n\r\nMonthView.propTypes = {\r\n    month: PropTypes.number.isRequired,\r\n    year: PropTypes.number.isRequired,\r\n    dayClicked: PropTypes.func\r\n  };\r\n\r\n\r\nexport default MonthView;","import React, { useEffect, useState } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport PropTypes from 'prop-types';\r\nimport dateformat from 'dateformat';\r\nimport BookService from '../services/BookService';\r\n\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport PersonIcon from '@material-ui/icons/Person';\r\nimport { Badge } from '@material-ui/core';\r\nimport GlobalState from '../GlobalState';\r\n\r\nimport axios from 'axios'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    Container: {\r\n        width: \"100%\",\r\n        paddingTop: \"40%\",\r\n        position: \"relative\",\r\n        backgroundColor: \"#fff\"\r\n    },\r\n\r\n    ContainerPast: {\r\n        width: \"100%\",\r\n        paddingTop: \"40%\",\r\n        position: \"relative\",\r\n        backgroundColor: \"#fafafa\"\r\n    },\r\n    \r\n    DayLabel: {\r\n        position: \"absolute\",\r\n        top: \"5px\",\r\n        right: \"5px\",\r\n        color: \"#555\",\r\n        fontSize: \"1rem\"\r\n    },\r\n\r\n    DayLabelDisabled: {\r\n        position: \"absolute\",\r\n        top: \"5px\",\r\n        right: \"5px\",\r\n        color: \"#ddd\",\r\n        fontSize: \"1rem\"\r\n    },\r\n\r\n    BookingCountLabel: {\r\n        position: \"absolute\",\r\n        top: \"25%\",\r\n        left: \"38%\",\r\n        color: \"#3f51b5\",\r\n        backgroundColor: \"#ebedf7\",\r\n        fontSize: \"14px\",\r\n        fontWeight: \"600\",\r\n        padding: \"5px\",\r\n        borderRadius: \"50%\",\r\n        minWidth: \"30px\",\r\n        cursor : \"pointer\",\r\n    },\r\n\r\n    BookingCountLabelBusy: {\r\n        position: \"absolute\",\r\n        top: \"25%\",\r\n        left: \"38%\",\r\n        color: \"#b00000\",\r\n        backgroundColor: \"#fce6e6\",\r\n        fontSize: \"14px\",\r\n        fontWeight: \"600\",\r\n        padding: \"5px\",\r\n        borderRadius: \"50%\",\r\n        minWidth: \"30px\",\r\n        cursor : \"pointer\",\r\n    },\r\n\r\n    LoadingProgress: {\r\n        position: \"absolute\",\r\n        top: \"40%\",\r\n        left: \"40%\",\r\n      },\r\n\r\n      BookingCountGauge: {\r\n        position: \"absolute\",\r\n        bottom: \"5%\",\r\n        left: \"8%\",\r\n        width : \"85%\",\r\n        height: \"8%\"\r\n    },\r\n\r\n  }));\r\n\r\nconst MAX_BOOKING_COUNT = 5;  \r\n\r\nconst WeekViewCell = ({key, date, time, dayClicked}) => {\r\n    const classes = useStyles();\r\n\r\n    const [state, setState] = React.useContext(GlobalState);\r\n    const [bookingsCount, setBookingsCount] = React.useState(-1);\r\n    const [isPast, setIsPast] = React.useState(false);\r\n\r\n    const [cellDate, setCellDate] = React.useState(new Date());\r\n\r\n    useEffect( () => {\r\n        const todayStr = dateformat(new Date(), 'yyyy-mm-dd');\r\n        setIsPast(date < todayStr);\r\n\r\n        setCellDate(new Date(date));\r\n\r\n    }, [date]);\r\n\r\n    useEffect ( () => {\r\n      \r\n      \r\n      \r\n        if (!date || date.length <= 0 || !time || time.length <= 0)\r\n        {\r\n            return;\r\n        }\r\n        \r\n        // if (isPast)\r\n        // {\r\n        //     setBookingsCount(-2);\r\n        //     return;\r\n        // }\r\n\r\n        setBookingsCount(-1);\r\n\r\n       \r\n\r\n        var res = state.AdminCalendarCache?.find(record => record.method === 'getBookingsCountByDateStrandTime' && record.query === `${date}${time}`)?.res;\r\n        if (res)\r\n        {\r\n            if (res.data.count >= 0)\r\n            {\r\n                setBookingsCount(res.data.count);\r\n            }  \r\n            return;\r\n        }\r\n\r\n        let source = axios.CancelToken.source();\r\n        BookService.getAllBookingsCountByDateStrandTime(date, time, source).then( res => {\r\n            if (res.data.count >= 0)\r\n            {\r\n                setBookingsCount(res.data.count);\r\n                setState(state => ({...state, AdminCalendarCache : [...state.AdminCalendarCache, {method: 'getBookingsCountByDateStrandTime' , query : `${date}${time}`, res: res}]}));\r\n            }  \r\n        }).catch( err => \r\n            {\r\n                //do nothing\r\n            });\r\n     \r\n        return () => {\r\n           if (source)\r\n              source.cancel('Cancelling in cleanup');\r\n        }\r\n     \r\n    }, [date, time]);\r\n\r\n\r\n    const getBookingsCountLabel = (_bookingsCount) =>\r\n    {\r\n        if (_bookingsCount === -1)\r\n        {\r\n            return (\r\n                <div className={classes.LoadingProgress}>\r\n                      <CircularProgress disableShrink  />\r\n                </div>\r\n            );  \r\n        }\r\n        else if (_bookingsCount > 0)\r\n        {\r\n            if (_bookingsCount >= MAX_BOOKING_COUNT)\r\n            {\r\n                return (\r\n                    <div onClick={(event => dayClicked(event,cellDate))} className={classes.BookingCountLabelBusy}>\r\n                        {_bookingsCount}\r\n                    </div>\r\n                );\r\n            }\r\n            else\r\n            {\r\n                return (\r\n                    <div onClick={(event => dayClicked(event,cellDate))} className={classes.BookingCountLabel}>\r\n                        {_bookingsCount}\r\n                    </div>\r\n                );\r\n            }\r\n        }\r\n    }\r\n\r\n    const getBookingsCountGauge = (_bookingsCount) =>\r\n    {\r\n        if (_bookingsCount > 0 )\r\n        {\r\n            let percent = (_bookingsCount / MAX_BOOKING_COUNT) * 100;\r\n            if (percent > 100)\r\n            {\r\n                percent = 100;\r\n            }\r\n\r\n            // percent = 100 - percent;\r\n\r\n            return (\r\n\r\n                <div className={classes.BookingCountGauge}>\r\n                  <div style={{padding:\"0\", margin:\"0\", width:\"100%\", height:\"100%\", backgroundColor: \"#f5f5f5\"}} >\r\n                        <div  style={{padding:\"0\", margin:\"0\", height:\"100%\", width:`${percent}%`, backgroundColor: \"#3f51b5\"}} >\r\n\r\n                        </div>\r\n                  </div>\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n\r\n    return (\r\n        <React.Fragment>\r\n\r\n            <div className={isPast ? classes.ContainerPast : classes.Container}>\r\n\r\n              {getBookingsCountLabel(bookingsCount)}\r\n\r\n              {getBookingsCountGauge(bookingsCount)}\r\n\r\n            </div>\r\n\r\n        </React.Fragment>\r\n\r\n\r\n    );\r\n}\r\n\r\nWeekViewCell.propTypes = {\r\n    key: PropTypes.string.isRequired,\r\n    date: PropTypes.string.isRequired,\r\n    time: PropTypes.string.isRequired,\r\n    dayClicked: PropTypes.func\r\n  };\r\n\r\n \r\n  \r\nexport default WeekViewCell;","import React, { useEffect, useState } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport PropTypes from 'prop-types';\r\nimport { Grid } from '@material-ui/core';\r\nimport WeekViewCell from './WeekViewCell';\r\nimport dateformat from 'dateformat';\r\n\r\nconst rows = [\r\n    '09:00 AM',\r\n    '09:15 AM', \r\n    '09:30 AM', \r\n    '09:45 AM',\r\n    '10:00 AM',\r\n    '10:15 AM',\r\n    '10:30 AM',\r\n    '10:45 AM',\r\n    '11:00 AM',\r\n    '11:15 AM',\r\n    '11:30 AM',\r\n    '11:45 AM',\r\n    '12:00 PM',\r\n    '12:15 PM',\r\n    '12:30 PM',\r\n    '12:45 PM',\r\n    '01:00 PM',\r\n    '01:15 PM',\r\n    '01:30 PM',\r\n    '01:45 PM',\r\n    '02:00 PM',\r\n    '02:15 PM',\r\n    '02:30 PM',\r\n    '02:45 PM',\r\n    '03:00 PM',\r\n    '03:15 PM',\r\n    '03:30 PM',\r\n    '03:45 PM',\r\n    '04:00 PM',\r\n    '04:15 PM',\r\n    '04:30 PM',\r\n    '04:45 PM',\r\n    '05:00 PM',\r\n    '05:15 PM',\r\n    '05:30 PM',\r\n    '05:45 PM',\r\n];\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    table: {\r\n        width: \"100%\",\r\n        border: \"1px solid #ddd\",\r\n        borderCollapse: \"collapse\",\r\n        overflowY: \"auto\"\r\n    },\r\n\r\n    th: {\r\n        border: \"1px solid #ddd\",\r\n        borderCollapse: \"collapse\",\r\n        verticalAlign: \"middle\",\r\n        fontcolor: \"#555\",\r\n        fontWeight: \"400\",\r\n        fontSize: \"15px\",\r\n        paddingTop: \"5px\",\r\n        paddingBottom: \"5px\",\r\n        width: \"12%\", \r\n    },\r\n\r\n    td: {\r\n        border: \"1px solid #ddd\",\r\n        borderCollapse: \"collapse\",\r\n        verticalAlign: \"middle\",\r\n        height : \"50px\",\r\n        width: \"12%\", \r\n    }\r\n\r\n  }));\r\n\r\nconst WeekView = ({dates, dayClicked}) => {\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <React.Fragment>\r\n\r\n        <div style={{overflowY: \"scroll\" , height: \"60px\"}}>\r\n            <table className={classes.table}>\r\n                <thead>\r\n                    <tr>\r\n                        <th style={{width: \"7%\"}}>\r\n                        \r\n                        </th>\r\n                            {dates.map(date => (\r\n                                <th className={classes.th}>\r\n                                    <div style={{paddingBottom: \"5px\", color: \"#aaa\"}}>\r\n                                         {dateformat(date, 'ddd')}\r\n                                    </div>\r\n                                    <div>\r\n                                        <span style={{color: \"#aaa\"}}>\r\n                                            {dateformat(date, 'mmm ')}\r\n                                        </span> \r\n                                        <span  style={(dateformat(new Date(),'yyyy-mm-dd') === dateformat(date, 'yyyy-mm-dd')) ? { backgroundColor: \"#1a73e8\", color: \"#fff\", borderRadius: \"50%\",  padding: \"5px\",} : {color: \"#333\", fontWeight:\"500\"}}>\r\n                                             {dateformat(date, ' d')}\r\n                                        </span>\r\n                                       \r\n                                    </div>\r\n                                </th>\r\n                        ))}\r\n                    </tr>\r\n                </thead>\r\n             </table>\r\n\r\n        </div>\r\n\r\n            <div style={{overflowY: \"scroll\" , height: \"70vh\"}}>\r\n                <table className={classes.table}>   \r\n                    <tbody>\r\n                        {rows.map(row => (\r\n                            <tr>\r\n                                <td style={{width: \"7%\"}}>\r\n                                    {row}\r\n                                </td>\r\n                                {dates.map(day => (\r\n                                    <td className={classes.td}>\r\n                                        <WeekViewCell \r\n                                                dayClicked = {dayClicked}\r\n                                                key={`${dateformat(day,'yyyy-mm-dd')}-${row.replace(':','-')}`} \r\n                                                date={dateformat(day,'yyyy-mm-dd')} \r\n                                                time={row}/>\r\n                                    </td>\r\n                                ))}\r\n                            </tr>\r\n                        ))}            \r\n                    </tbody>\r\n                </table>\r\n            </div>                    \r\n      \r\n        </React.Fragment>\r\n\r\n\r\n    );\r\n}\r\n\r\nWeekView.propTypes = {\r\n    dates: PropTypes.arrayOf(PropTypes.any).isRequired,\r\n    dayClicked: PropTypes.func\r\n  };\r\n\r\n\r\nexport default WeekView;","import React, { useEffect, useState } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport PropTypes from 'prop-types';\r\nimport dateformat from 'dateformat';\r\nimport BookService from '../services/BookService';\r\n\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport GlobalState from '../GlobalState';\r\nimport BookingDialog from '../BookingDialog';\r\nimport { setRef } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    Container: {\r\n        width: \"100%\",\r\n        height : \"50px\",\r\n        position: \"relative\",\r\n        backgroundColor: \"#fff\",\r\n        display: \"flex\",\r\n        alignItems : \"flex-start\",\r\n        justifyItems: \"flex-start\",\r\n        paddingLeft : \"10px\"\r\n\r\n    },\r\n\r\n    ContainerPast: {\r\n        width: \"100%\",\r\n        paddingTop: \"50px\",\r\n        position: \"relative\",\r\n        backgroundColor: \"#fafafa\"\r\n    },\r\n    \r\n    DayLabel: {\r\n        position: \"absolute\",\r\n        top: \"5px\",\r\n        right: \"5px\",\r\n        color: \"#555\",\r\n        fontSize: \"1rem\"\r\n    },\r\n\r\n    DayLabelDisabled: {\r\n        position: \"absolute\",\r\n        top: \"5px\",\r\n        right: \"5px\",\r\n        color: \"#ddd\",\r\n        fontSize: \"1rem\"\r\n    },\r\n\r\n    LoadingProgress: {\r\n        position: \"absolute\",\r\n        top: \"10%\",\r\n        left: \"40%\",\r\n      },\r\n\r\n      BookingCountGauge: {\r\n        position: \"absolute\",\r\n        bottom: \"5%\",\r\n        left: \"8%\",\r\n        width : \"85%\",\r\n        height: \"8%\"\r\n    },\r\n\r\n    bookingBox: {\r\n        display: \"flex\",\r\n        marginRight: \"10px\",\r\n        marginTop: \"5px\",\r\n        padding: \"10px\",\r\n        maxWidth : \"150px\",\r\n        overflowX: \"hidden\",\r\n        border : \"1px solid #eee\",\r\n        fontSize: \"12px\",\r\n        fontWeight : \"500\",\r\n        cursor: \"pointer\",\r\n        backgroundColor: \"#ebedf7\",\r\n        color: \"#3f51b5\",\r\n        boxShadow: \"2px 4px #fafafa\",\r\n\r\n        \"&:hover\": {\r\n            background: \"#3f51b5\",\r\n            color: \"#ebedf7\"\r\n          },\r\n    },\r\n\r\n    bookingBoxSampleTaken: {\r\n        display: \"flex\",\r\n        marginRight: \"10px\",\r\n        marginTop: \"5px\",\r\n        padding: \"10px\",\r\n        maxWidth : \"150px\",\r\n        overflowX: \"hidden\",\r\n        border : \"1px solid #eee\",\r\n        fontSize: \"12px\",\r\n        fontWeight : \"500\",\r\n        cursor: \"pointer\",\r\n        backgroundColor: \"#0066cc\",\r\n        color: \"#eee\",\r\n        boxShadow: \"2px 4px #fafafa\",\r\n\r\n        \"&:hover\": {\r\n            background: \"#0059b3\",\r\n            color: \"#fafafa\"\r\n          },\r\n    },\r\n\r\n    bookingBoxPositive: {\r\n        display: \"flex\",\r\n        marginRight: \"10px\",\r\n        marginTop: \"5px\",\r\n        padding: \"10px\",\r\n        maxWidth : \"150px\",\r\n        overflowX: \"hidden\",\r\n        border : \"1px solid #eee\",\r\n        fontSize: \"12px\",\r\n        fontWeight : \"500\",\r\n        cursor: \"pointer\",\r\n        backgroundColor: \"#ebedf7\",\r\n        color: \"#3f51b5\",\r\n        boxShadow: \"2px 4px #fafafa\",\r\n\r\n        \"&:hover\": {\r\n            background: \"#3f51b5\",\r\n            color: \"#ebedf7\"\r\n          },\r\n    },\r\n\r\n    bookingBoxReportSent: {\r\n        display: \"flex\",\r\n        marginRight: \"10px\",\r\n        marginTop: \"5px\",\r\n        padding: \"10px\",\r\n        maxWidth : \"150px\",\r\n        overflowX: \"hidden\",\r\n        border : \"1px solid #eee\",\r\n        fontSize: \"12px\",\r\n        fontWeight : \"500\",\r\n        cursor: \"pointer\",\r\n        backgroundColor: \"#009900\",\r\n        color: \"#eee\",\r\n        boxShadow: \"2px 4px #fafafa\",\r\n\r\n        \"&:hover\": {\r\n            background: \"#006e00\",\r\n            color: \"#fafafa\"\r\n          },\r\n    }\r\n\r\n\r\n\r\n  }));\r\n\r\n\r\n\r\nconst DayViewCell = ({key, date, time}) => {\r\n    const classes = useStyles();\r\n\r\n    const [state, setState] = React.useContext(GlobalState);\r\n    const [bookings, setBookings] = React.useState(null);\r\n    const [selectedBooking, setSelectedBooking] = React.useState(null);\r\n\r\n    const [refresh, setRefresh] = React.useState(true); \r\n\r\n    const [isPast, setIsPast] = React.useState(false);\r\n\r\n    const [openDialog, setOpenDialog] = React.useState(false);\r\n\r\n\r\n    useEffect( () => {\r\n        const todayStr = dateformat(new Date(), 'yyyy-mm-dd');\r\n        setIsPast(date < todayStr);\r\n\r\n    }, [date]);\r\n\r\n \r\n\r\n\r\n    useEffect ( () => {\r\n       \r\n        const fetchData = async () =>\r\n        {\r\n            if (!date || date.length <= 0 || !time || time.length <= 0)\r\n            {\r\n                return;\r\n            }\r\n         \r\n            // if (isPast)\r\n            // {\r\n            //     setBookings([]);\r\n            //     return;\r\n            // }\r\n    \r\n            setBookings(null);\r\n    \r\n            var res = state.AdminCalendarCache?.find(record => record.method === 'getBookingsByDateStrandTime' && record.query === `${date}${time}`)?.res;\r\n            if (!res || openDialog)\r\n            {\r\n                res = await BookService.getAllBookingsByDateStrandTime(date, time);\r\n                setState(state => ({...state, AdminCalendarCache : [...state.AdminCalendarCache, {method: 'getBookingsByDateStrandTime' , query : `${date}${time}`, res: res}]}));\r\n            }\r\n          \r\n          \r\n            if (res.data.status === 'OK')\r\n            {\r\n                setBookings(res.data.bookings);\r\n            }   \r\n        }\r\n\r\n        if (openDialog)\r\n        {\r\n            setState(state => ({...state, AdminCalendarCache : state.AdminCalendarCache.filter(record => !(record.method === 'getBookingsByDateStrandTime' && record.query ===  `${date}${time}`))}));\r\n            setState(state => ({...state, AdminCalendarCache : state.AdminCalendarCache.filter(record => !(record.method === 'getBookingsCountByDateStrandTime' && record.query ===  `${date}${time}`))}));\r\n            setState(state => ({...state, AdminCalendarCache : state.AdminCalendarCache.filter(record => !(record.method === 'getBookingsCountByDateStr' && record.query ===  date))}));\r\n        }\r\n\r\n         fetchData();\r\n     \r\n    }, [date, time, state.bookingDialogDataChanged]);\r\n\r\n    const bookingCliked = (event, booking) =>\r\n    {\r\n        setSelectedBooking(booking);\r\n        setOpenDialog(true);\r\n    }\r\n\r\n    const getBookingClass = (status) =>\r\n    {\r\n        switch (status) {\r\n\r\n            case 'sample_taken':\r\n                return classes.bookingBoxSampleTaken;\r\n            case 'positive':\r\n                return classes.bookingBoxPositive;\r\n            case 'report_sent':\r\n            case 'report_cert_sent':\r\n                return classes.bookingBoxReportSent;     \r\n\r\n            default : \r\n                return classes.bookingBox;\r\n        }\r\n    }\r\n\r\n    const getBookingsBox = (_bookings) =>\r\n    {\r\n        if (_bookings === null) \r\n        {\r\n            return (\r\n                <div className={classes.LoadingProgress}>\r\n                      <CircularProgress disableShrink  />\r\n                </div>\r\n            );  \r\n        }\r\n        else if (_bookings.length > 0)\r\n        {\r\n           return (\r\n                _bookings.map(booking => (\r\n\r\n                    <div className={getBookingClass(booking.status)} onClick={event => bookingCliked(event,booking)}>\r\n\r\n                        {`${booking.forenameCapital}-${booking.surnameCapital}`.substring(0,15)}\r\n\r\n                    </div>\r\n\r\n                ))\r\n\r\n           );\r\n        }\r\n    }\r\n\r\n\r\n    const handleCloseDialog = () =>\r\n    {\r\n        setOpenDialog(false);\r\n    }\r\n\r\n    return (\r\n        <React.Fragment>\r\n\r\n            <div className={classes.Container}>\r\n\r\n              {getBookingsBox(bookings)}\r\n\r\n            </div>\r\n\r\n            <BookingDialog\r\n                booking={selectedBooking}\r\n                open={openDialog}\r\n                onClose={handleCloseDialog}\r\n            />\r\n\r\n        </React.Fragment>\r\n\r\n\r\n    );\r\n}\r\n\r\nDayViewCell.propTypes = {\r\n    key: PropTypes.string.isRequired,\r\n    date: PropTypes.string.isRequired,\r\n    time: PropTypes.string.isRequired,\r\n  };\r\n\r\n \r\n  \r\nexport default DayViewCell;","import React, { useEffect, useState } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport PropTypes from 'prop-types';\r\nimport { Grid } from '@material-ui/core';\r\nimport DayViewCell from './DayViewCell';\r\nimport dateformat from 'dateformat';\r\n\r\nconst rows = [\r\n    '09:00 AM',\r\n    '09:15 AM', \r\n    '09:30 AM', \r\n    '09:45 AM',\r\n    '10:00 AM',\r\n    '10:15 AM',\r\n    '10:30 AM',\r\n    '10:45 AM',\r\n    '11:00 AM',\r\n    '11:15 AM',\r\n    '11:30 AM',\r\n    '11:45 AM',\r\n    '12:00 PM',\r\n    '12:15 PM',\r\n    '12:30 PM',\r\n    '12:45 PM',\r\n    '01:00 PM',\r\n    '01:15 PM',\r\n    '01:30 PM',\r\n    '01:45 PM',\r\n    '02:00 PM',\r\n    '02:15 PM',\r\n    '02:30 PM',\r\n    '02:45 PM',\r\n    '03:00 PM',\r\n    '03:15 PM',\r\n    '03:30 PM',\r\n    '03:45 PM',\r\n    '04:00 PM',\r\n    '04:15 PM',\r\n    '04:30 PM',\r\n    '04:45 PM',\r\n    '05:00 PM',\r\n    '05:15 PM',\r\n    '05:30 PM',\r\n    '05:45 PM',\r\n];\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    table: {\r\n        width: \"100%\",\r\n        border: \"1px solid #ddd\",\r\n        borderCollapse: \"collapse\",\r\n        overflowY: \"auto\"\r\n    },\r\n\r\n    th: {\r\n        border: \"1px solid #ddd\",\r\n        borderCollapse: \"collapse\",\r\n        verticalAlign: \"middle\",\r\n        fontcolor: \"#555\",\r\n        fontWeight: \"400\",\r\n        fontSize: \"15px\",\r\n        paddingTop: \"5px\",\r\n        paddingBottom: \"5px\",\r\n        width: \"12%\", \r\n    },\r\n\r\n    td: {\r\n        border: \"1px solid #ddd\",\r\n        borderCollapse: \"collapse\",\r\n        verticalAlign: \"middle\",\r\n        height : \"50px\",\r\n        width: \"84%\", \r\n    },\r\n\r\n    titleLabel: {\r\n        paddingBottom: \"17px\",\r\n        paddingTop: \"17px\",\r\n        color: \"#777\",\r\n        fontSize: \"16px\"\r\n    },\r\n\r\n    titleLabelToday: {\r\n        paddingBottom: \"17px\",\r\n        paddingTop: \"17px\",\r\n        color: \"#fff\",\r\n        backgroundColor: \"#1a73e8\",\r\n        fontSize: \"16px\"\r\n    },\r\n\r\n  }));\r\n\r\nconst DayView = ({date}) => {\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <React.Fragment>\r\n\r\n        <div style={{overflowY: \"scroll\" , height: \"60px\"}}>\r\n            <table className={classes.table}>\r\n                <thead>\r\n                    <tr>\r\n                        <th style={{width: \"7%\"}}>\r\n                        \r\n                        </th>\r\n                        <th style={{width: \"84%\"}}>\r\n                                <div className={(dateformat(new Date(),'yyyy-mm-dd') === dateformat(date, 'yyyy-mm-dd')) ? classes.titleLabelToday : classes.titleLabel }>\r\n                                        {dateformat(date,'dddd')}\r\n                                </div>                                \r\n                        </th>\r\n                    </tr>\r\n                </thead>\r\n             </table>\r\n\r\n        </div>\r\n\r\n            <div style={{overflowY: \"scroll\" , height: \"70vh\"}}>\r\n                <table className={classes.table}>   \r\n                    <tbody>\r\n                        {rows.map(row => (\r\n                            <tr>\r\n                                <td style={{width: \"7%\"}}>\r\n                                    {row}\r\n                                </td>\r\n                               \r\n                                <td className={classes.td}>\r\n                                     <DayViewCell key={`${dateformat(date,'yyyy-mm-dd')}-${row}`} date={dateformat(date,'yyyy-mm-dd')} time={row}/>  \r\n                                </td>\r\n                            \r\n                            </tr>\r\n                        ))}            \r\n                    </tbody>\r\n                </table>\r\n            </div>                    \r\n      \r\n        </React.Fragment>\r\n\r\n\r\n    );\r\n}\r\n\r\nDayView.propTypes = {\r\n    date: PropTypes.any.isRequired\r\n  };\r\n\r\n\r\nexport default DayView;","import React, { useEffect, useState } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport MonthView from './MonthView';\r\nimport { Button, Grid, IconButton, Tooltip } from '@material-ui/core';\r\nimport ToggleButton from '@material-ui/lab/ToggleButton';\r\nimport ToggleButtonGroup from '@material-ui/lab/ToggleButtonGroup';\r\n\r\nimport NavigateBeforeIcon from '@material-ui/icons/NavigateBefore';\r\nimport NavigateNextIcon from '@material-ui/icons/NavigateNext';\r\nimport WeekView from './WeekView';\r\nimport dateformat from 'dateformat';\r\nimport DayView from './DayView';\r\nimport GlobalState from '../GlobalState';\r\n\r\n\r\n\r\nconst monthNames = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\r\n  \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"\r\n];\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    title: {\r\n        textAlign: \"center\",\r\n        fontSize: \"24px\",\r\n        fontColor: \"#333\"\r\n    },\r\n\r\n  }));\r\n\r\nexport default function CalendarView() {\r\n    const classes = useStyles();\r\n\r\n    const [state, setState] = React.useContext(GlobalState);\r\n\r\n    const [month, setMonth] = React.useState(new Date().getMonth() + 1);\r\n    const [year, setYear] = React.useState(new Date().getFullYear());\r\n\r\n    const [day, setDay] = React.useState(new Date());\r\n\r\n    const [firstDayofWeek, setFirstDayofWeek] = React.useState(new Date());\r\n\r\n    const [weekDates, setWeekDates] = React.useState([]);\r\n\r\n    const [mode, setMode] = React.useState('month');\r\n    const [selectedTab, setSeletedTab] = React.useState('month');\r\n\r\n\r\n    useEffect( () => {\r\n        const today = new Date();\r\n        const dayofWeek = today.getDay();\r\n        const firstdayofweek = new Date(today.getTime() - ( dayofWeek * 86400000));\r\n        setFirstDayofWeek(firstdayofweek);\r\n        setState(state => ({...state, AdminCalendarCache : []}));\r\n\r\n        return () =>\r\n        {\r\n            setState(state => ({...state, AdminCalendarCache : []}));\r\n        }\r\n       \r\n    }, []);\r\n\r\n\r\n    useEffect( () => {\r\n        const dates = [];\r\n        for (var i = 0; i < 7 ; i++)\r\n        {\r\n            dates.push(new Date(firstDayofWeek.getTime() + ( i * 86400000)));\r\n        }\r\n        setWeekDates(dates);\r\n\r\n    }, [firstDayofWeek]);\r\n\r\n    const handlePrevButton = (event) =>\r\n    {\r\n       if (mode === 'month')\r\n       {\r\n            if (month === 1)\r\n            {\r\n                setYear(year - 1);\r\n            } \r\n\r\n            const newMonth = month === 1 ? 12 : month - 1;\r\n            setMonth(newMonth);\r\n\r\n            const newDay = new Date(year, newMonth - 1 , 1, 0 ,0 ,0 ,0);\r\n            setDay(newDay);\r\n\r\n            const dayofWeek = newDay.getDay();\r\n            setFirstDayofWeek(new Date(newDay.getTime() - ( dayofWeek * 86400000)));\r\n\r\n       } \r\n       else if (mode === 'week')\r\n       {\r\n           const newFirstDayofWeek = new Date(firstDayofWeek.getTime() - ( 7 * 86400000));\r\n           setFirstDayofWeek(newFirstDayofWeek);\r\n\r\n           setDay(newFirstDayofWeek);\r\n           setMonth(newFirstDayofWeek.getMonth() + 1);\r\n           setYear(newFirstDayofWeek.getFullYear());\r\n\r\n       }\r\n       else if (mode === 'day')\r\n       {\r\n           const newDay = new Date(day.getTime() - ( 1 * 86400000));\r\n           setDay(newDay);\r\n\r\n           const dayofWeek = newDay.getDay();\r\n           setFirstDayofWeek(new Date(newDay.getTime() - ( dayofWeek * 86400000)));\r\n\r\n           setMonth(newDay.getMonth() + 1);\r\n           setYear(newDay.getFullYear());\r\n       }\r\n    }\r\n\r\n    const handleNextButton = (event) =>\r\n    {\r\n        if (mode === 'month')\r\n        {\r\n            if (month === 12)\r\n            {\r\n                setYear(year + 1);\r\n            } \r\n       \r\n            const newMonth = month === 12 ? 1 : month + 1;\r\n            setMonth(newMonth);\r\n\r\n            const newDay = new Date(year, newMonth - 1 , 1, 0 ,0 ,0 ,0);\r\n            setDay(newDay);\r\n\r\n            const dayofWeek = newDay.getDay();\r\n            setFirstDayofWeek(new Date(newDay.getTime() - ( dayofWeek * 86400000)));\r\n        }\r\n        else if (mode === 'week')\r\n        {\r\n            const newFirstDayofWeek = new Date(firstDayofWeek.getTime() + ( 7 * 86400000));\r\n            setFirstDayofWeek(newFirstDayofWeek);\r\n\r\n            setDay(newFirstDayofWeek);\r\n            setMonth(newFirstDayofWeek.getMonth() + 1);\r\n            setYear(newFirstDayofWeek.getFullYear());\r\n\r\n        }\r\n        else if (mode === 'day')\r\n        {\r\n            const newDay = new Date(day.getTime() + ( 1 * 86400000));\r\n            setDay(newDay);\r\n\r\n            const dayofWeek = newDay.getDay();\r\n            setFirstDayofWeek(new Date(newDay.getTime() - ( dayofWeek * 86400000)));\r\n \r\n            setMonth(newDay.getMonth() + 1);\r\n            setYear(newDay.getFullYear());\r\n        }\r\n    }\r\n\r\n    const goToday = (event) => {\r\n        const newDay = new Date();\r\n        const dayofWeek = newDay.getDay();\r\n        setFirstDayofWeek(new Date(newDay.getTime() - ( dayofWeek * 86400000)));\r\n        setDay(newDay);\r\n        setMonth(newDay.getMonth() + 1);\r\n        setYear(newDay.getFullYear());\r\n    }\r\n\r\n    const dayClicked = (event, date) =>\r\n    {\r\n        const newDay = new Date(date);\r\n        const dayofWeek = newDay.getDay();\r\n        setFirstDayofWeek(new Date(newDay.getTime() - ( dayofWeek * 86400000)));\r\n        setDay(newDay);\r\n        setMonth(newDay.getMonth() + 1);\r\n        setYear(newDay.getFullYear());\r\n        setSeletedTab('day');\r\n        setMode('day');\r\n    }\r\n\r\n    const getContentFromMode = (_mode) => {\r\n        if (_mode === 'month')\r\n        {\r\n            return (\r\n                <MonthView dayClicked={dayClicked} month={month} year={year}/>    \r\n            );\r\n        }    \r\n        else if (_mode === 'week')\r\n        {\r\n            return (\r\n                    <WeekView dayClicked={dayClicked} dates={weekDates}/>\r\n            );\r\n            \r\n        }\r\n        else if (_mode === 'day')\r\n        {\r\n            return (\r\n                <DayView date={day}/>\r\n            );\r\n        }\r\n    }\r\n\r\n    const getCalendarTitleFromMode = (_mode) => {\r\n        if (_mode === 'month')\r\n        {\r\n            return (\r\n                <span className={classes.title}> {`${monthNames[month - 1]} ${year}`} </span>   \r\n            );\r\n        }    \r\n        else if (_mode === 'week')\r\n        {\r\n            const endOfWeek = new Date(firstDayofWeek.getTime() + ( 6 * 86400000));\r\n            let endofWeekStr = '';\r\n            if (endOfWeek.getMonth() === firstDayofWeek.getMonth())\r\n            {\r\n                endofWeekStr = dateformat(endOfWeek,'d');\r\n            }else\r\n            {\r\n                endofWeekStr = dateformat(endOfWeek,'mmm d');\r\n            }\r\n\r\n            return (\r\n                <span className={classes.title}> {`${dateformat(firstDayofWeek,'mmm d')} - ${endofWeekStr}, ${year}`} </span>\r\n            );\r\n            \r\n        }\r\n        else if (_mode === 'day')\r\n        {\r\n            return (\r\n                <span className={classes.title}> {`${dateformat(day,'mmmm d, yyyy')}`} </span>\r\n            );\r\n        }\r\n    }\r\n\r\n\r\n    const handleTabChanged = (event, value) => {\r\n        if (value && value.length)\r\n        {\r\n          setSeletedTab(value);\r\n          setMode(value);\r\n        }\r\n    };\r\n\r\n    const getPrevButtonTitle = (_mode) =>\r\n    {\r\n        return `Previuos ${mode}`;\r\n    }\r\n\r\n    const getNextButtonTitle = (_mode) =>\r\n    {\r\n        return `Next ${mode}`;\r\n    }\r\n\r\n    return (\r\n        <React.Fragment>\r\n\r\n          <Grid\r\n            container\r\n            direction=\"row\"\r\n            justify=\"space-between\"\r\n            alignItems=\"center\"\r\n            style= {{marginBottom: \"10px\", marginTop: \"0px\"}}\r\n            >  \r\n\r\n            <Grid item md={3}>\r\n                <div  style={{display:\"flex\", alignItems: \"flex-start\", justifyContent: \"flex-start\" , paddingLeft: \"10px\"}}>\r\n                    <Tooltip title={getPrevButtonTitle(mode)} placement=\"bottom-start\">\r\n                        <IconButton \r\n                                color=\"default\" \r\n                                aria-label=\"prev\"\r\n                                onClick = {handlePrevButton}\r\n                                >\r\n                            <NavigateBeforeIcon style={{fontSize: '2rem'}}/>\r\n                        </IconButton>\r\n                    </Tooltip>\r\n\r\n                    <Tooltip title={getNextButtonTitle(mode)} placement=\"bottom-end\">\r\n                        <IconButton \r\n                                color=\"default\" \r\n                                aria-label=\"next\"\r\n                                onClick = {handleNextButton}\r\n                                >\r\n                            <NavigateNextIcon style={{fontSize: '2rem'}}/>\r\n                        </IconButton>\r\n                    </Tooltip>\r\n\r\n                    <Button style={{marginTop: \"11px\", marginLeft: \"10px\"}} onClick={goToday} variant=\"outlined\"> Today </Button>\r\n                </div>\r\n\r\n            </Grid>\r\n\r\n            <Grid item md={6}>\r\n                {getCalendarTitleFromMode(mode)}\r\n            </Grid>\r\n\r\n            <Grid item md={3}>\r\n                <div  style={{display:\"flex\", alignItems: \"flex-end\", justifyContent: \"flex-end\", paddingRight: \"10px\" }}>\r\n                    <ToggleButtonGroup\r\n                        value={selectedTab}\r\n                        exclusive\r\n                        onChange={handleTabChanged}\r\n                        aria-label=\"select view mode\"\r\n                    >\r\n                        <ToggleButton style={selectedTab === 'month' ? {width: \"80px\", color: \"#3f51b5\", backgroundColor: \"#ebedf7\" } : {width: \"80px\"}} value=\"month\" aria-label=\"month view\">\r\n                                month\r\n                        </ToggleButton>\r\n                        <ToggleButton style={selectedTab === 'week' ? {width: \"80px\", color: \"#3f51b5\", backgroundColor: \"#ebedf7\"} : {width: \"80px\"}}  value=\"week\" aria-label=\"week view\">\r\n                                week\r\n                        </ToggleButton>\r\n                        <ToggleButton style={selectedTab === 'day' ? {width: \"80px\", color: \"#3f51b5\", backgroundColor: \"#ebedf7\"} : {width: \"80px\"}} value=\"day\" aria-label=\"day view\">\r\n                                day\r\n                        </ToggleButton>\r\n                    </ToggleButtonGroup>\r\n                </div>\r\n            </Grid>\r\n\r\n           </Grid> \r\n\r\n             {getContentFromMode(mode)}\r\n\r\n        </React.Fragment>\r\n\r\n\r\n    );\r\n\r\n}","import ListSubheader from '@material-ui/core/ListSubheader';\r\nimport DashboardIcon from '@material-ui/icons/Dashboard';\r\nimport FindByRef from './FindByRef';\r\nimport BookingTable from './BookingTable';\r\nimport DashboardPreview from './DashboardPreview';\r\nimport UnmatchedRecords from './UnmatchedRecords';\r\nimport CalendarView from './calendar/CalendarView';\r\nimport AdminCalendarView from './calendar-admin/CalendarView';\r\n\r\nimport NewReleasesIcon from '@material-ui/icons/NewReleases';\r\nimport HistoryIcon from '@material-ui/icons/History';\r\nimport TimelineIcon from '@material-ui/icons/Timeline';\r\nimport DescriptionIcon from '@material-ui/icons/Description';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport AutorenewIcon from '@material-ui/icons/Autorenew';\r\nimport LiveTvIcon from '@material-ui/icons/LiveTv';\r\nimport PlaylistAddCheckIcon from '@material-ui/icons/PlaylistAddCheck';\r\nimport WarningIcon from '@material-ui/icons/Warning';\r\nimport AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport HourglassEmptyIcon from '@material-ui/icons/HourglassEmpty';\r\nimport DateRangeIcon from '@material-ui/icons/DateRange';\r\nimport EventNoteIcon from '@material-ui/icons/EventNote';\r\n\r\nexport const MenuList = [\r\n    {index: 0, id:`dashboard`, title: `Dashboard`, icon : <DashboardIcon/>, content: <DashboardPreview />},\r\n    {index: 1, id:`recentBookings`, title: `Recent Bookings`, icon : <AutorenewIcon/>, content: <BookingTable date=\"recent\"/>, hidden : false},\r\n    {index: 2, id:`todayBookings`, title: `Today's Bookings`, icon : <NewReleasesIcon/>, content: <BookingTable date=\"today\"/>},\r\n    {index: 3, id:`liveBookings`, title: `Live Bookings`, icon : <LiveTvIcon/>, content: <BookingTable date=\"live\"/>},\r\n    {index: 4, id:`oldBookings`, title: `Old Bookings`, icon : <HistoryIcon/>, content: <BookingTable date=\"old\"/>},\r\n    {index: 5, id:`futureBookings`, title: `Future Bookings`, icon : <TimelineIcon/>, content: <BookingTable date=\"future\"/>},\r\n    {index: 6, id:`allBookings`, title: `All Bookings`, icon : <DescriptionIcon/>, content: <BookingTable date=\"all\"/>},\r\n    {index: 7, id:`completedBookings`, title: `Completed Bookings`, icon : <PlaylistAddCheckIcon/>, content: <BookingTable date=\"completed\"/>},\r\n    {index: 8, id:`positiveBookings`, title: `Positive Results`, icon : <AddCircleOutlineIcon/>, content: <BookingTable date=\"positive\"/>},\r\n    {index: 9, id:`latebookings`, title: `40 Hours Late`, icon : <HourglassEmptyIcon/>, content: <BookingTable date=\"late\"/>},\r\n    {index: 10, id:`deletedBookings`, title: `Deleted Records`, icon : <DeleteIcon/>, content: <BookingTable date=\"deleted\"/>},\r\n    {index: 11, id:`unmatchedRecords`, title: `Unmatched Records`, icon : <WarningIcon/>, content: <UnmatchedRecords/>},\r\n    {index: 12, id:`calendarView`, title: `Calendar View`, icon : <DateRangeIcon/>, content: <CalendarView/>},\r\n    {index: 13, id:`adminCalendarView`, title: `Admin Calendar`, icon : <EventNoteIcon/>, content: <AdminCalendarView/>},\r\n    {index: 14, id:`findByRef`, title: `Find By Ref No`, icon : <SearchIcon/>, content: <FindByRef/>},\r\n  ];\r\n\r\n  export const getMenuContent = (index) =>\r\n  {\r\n      for (var i=0; i < MenuList.length; i++)\r\n      {\r\n          if (MenuList[i].index === index)\r\n          {\r\n              return MenuList[i].content;\r\n          }\r\n      }\r\n\r\n      return (`Page Not Found!`); \r\n  }\r\n\r\n\r\n  export const getMenuIndex = (id) =>\r\n  {\r\n      for (var i=0; i < MenuList.length; i++)\r\n      {\r\n          if (MenuList[i].id === id)\r\n          {\r\n              return MenuList[i].index;\r\n          }\r\n      }\r\n\r\n      return -1;\r\n  }\r\n\r\n\r\n\r\n\r\n","import React, { useEffect } from 'react';\r\nimport clsx from 'clsx';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\n\r\nimport { ListItemIcon, Tooltip } from '@material-ui/core';\r\nimport GlobalState from './GlobalState';\r\nimport { List, ListItem } from '@material-ui/core';\r\n\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport {MenuList} from './MenuList';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n \r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    display: 'flex',\r\n    overflow: 'auto',\r\n    flexDirection: 'column',\r\n  },\r\n  fixedHeight: {\r\n    height: 240,\r\n  },\r\n}));\r\n\r\n\r\n\r\nexport default function DashboardPreview() {\r\n  const classes = useStyles();\r\n  const [state, setState] = React.useContext(GlobalState);\r\n\r\n  const [selectedIndex, setSelectedIndex] = React.useState(0);\r\n\r\n  useEffect(() => {\r\n    setSelectedIndex(state.currentMenuIndex);\r\n  }, [state.currentMenuIndex]);\r\n\r\n  const handleListItemClick = (event, index) => {\r\n    setSelectedIndex(index);\r\n    setState(state => ({...state, currentMenuIndex: index}))\r\n  };\r\n\r\n  return (\r\n        <React.Fragment>\r\n\r\n            <List>\r\n\r\n                  {MenuList.map((item) => ( (!item.hidden) && (\r\n                        <ListItem button selected={selectedIndex === item.index} onClick={(event) => handleListItemClick(event, item.index)}>\r\n                        <ListItemIcon>\r\n                            {item.icon}\r\n                        </ListItemIcon>\r\n                        <ListItemText primary={`${item.title}`} />\r\n                        </ListItem>\r\n                     )\r\n                  ))}\r\n\r\n            </List>\r\n\r\n        </React.Fragment>\r\n  );\r\n}","import React, { useEffect } from 'react';\r\nimport clsx from 'clsx';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport Box from '@material-ui/core/Box';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Container from '@material-ui/core/Container';\r\nimport Link from '@material-ui/core/Link';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\r\n\r\nimport { ExitToAppOutlined } from '@material-ui/icons';\r\n\r\n\r\nimport { Tooltip } from '@material-ui/core';\r\nimport GlobalState from './GlobalState';\r\nimport Menu from './Menu';\r\nimport {getMenuContent} from './MenuList';\r\n\r\n\r\nfunction Copyright() {\r\n    return (\r\n      <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n        {'Copyright © '}\r\n        <Link color=\"inherit\" href=\"#\">\r\n          Medical Express Clinic\r\n        </Link>{' '}\r\n        {new Date().getFullYear()}\r\n        {'.'}\r\n      </Typography>\r\n    );\r\n  }\r\n  \r\n\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n  },\r\n  toolbar: {\r\n    paddingRight: 24, // keep right padding when drawer closed\r\n  },\r\n  toolbarIcon: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-end',\r\n    padding: '0 8px',\r\n    ...theme.mixins.toolbar,\r\n  },\r\n  appBar: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    transition: theme.transitions.create(['width', 'margin'], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n  },\r\n  appBarShift: {\r\n    marginLeft: drawerWidth,\r\n    width: `calc(100% - ${drawerWidth}px)`,\r\n    transition: theme.transitions.create(['width', 'margin'], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  menuButton: {\r\n    marginRight: 36,\r\n  },\r\n  menuButtonHidden: {\r\n    display: 'none',\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n  drawerPaper: {\r\n    position: 'relative',\r\n    whiteSpace: 'nowrap',\r\n    width: drawerWidth,\r\n    transition: theme.transitions.create('width', {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  drawerPaperClose: {\r\n    overflowX: 'hidden',\r\n    transition: theme.transitions.create('width', {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    width: theme.spacing(7),\r\n    [theme.breakpoints.up('sm')]: {\r\n      width: theme.spacing(9),\r\n    },\r\n  },\r\n  appBarSpacer: theme.mixins.toolbar,\r\n  content: {\r\n    flexGrow: 1,\r\n    height: '100vh',\r\n    overflow: 'auto',\r\n  },\r\n  container: {\r\n    paddingTop: theme.spacing(2),\r\n    paddingBottom: theme.spacing(2),\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    display: 'flex',\r\n    overflow: 'auto',\r\n    flexDirection: 'column',\r\n  },\r\n  fixedHeight: {\r\n    height: 240,\r\n  },\r\n}));\r\n\r\nexport default function Dashboard() {\r\n  const classes = useStyles();\r\n  const [state, setState] = React.useContext(GlobalState);\r\n  const [open, setOpen] = React.useState(true);\r\n\r\n  const [currentMenuIndex, setCurrentMenuIndex] = React.useState(0);\r\n\r\n  useEffect( () => {\r\n      setCurrentMenuIndex(state.currentMenuIndex);\r\n  },[state.currentMenuIndex]);\r\n\r\n  const handleDrawerOpen = () => {\r\n    setOpen(true);\r\n  };\r\n  const handleDrawerClose = () => {\r\n    setOpen(false);\r\n  };\r\n  const fixedHeightPaper = clsx(classes.paper, classes.fixedHeight);\r\n\r\n  const handleLogout = () =>\r\n  {\r\n    setState(state => ({...state, signedIn: false}));\r\n  }\r\n\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <CssBaseline />\r\n      <AppBar position=\"absolute\" className={clsx(classes.appBar, open && classes.appBarShift)}>\r\n        <Toolbar className={classes.toolbar}>\r\n          <IconButton\r\n            edge=\"start\"\r\n            color=\"inherit\"\r\n            aria-label=\"open drawer\"\r\n            onClick={handleDrawerOpen}\r\n            className={clsx(classes.menuButton, open && classes.menuButtonHidden)}\r\n          >\r\n            <MenuIcon />\r\n          </IconButton>\r\n          <Typography component=\"h1\" variant=\"h6\" color=\"inherit\" noWrap className={classes.title}>\r\n               PCR Booking Admin Console\r\n          </Typography>\r\n\r\n        {state.signedIn && (\r\n            <IconButton onClick={handleLogout} color=\"inherit\">\r\n                 <Tooltip title=\"Logout\">\r\n                      <ExitToAppOutlined/>\r\n                  </Tooltip>\r\n          </IconButton>\r\n        )}\r\n        </Toolbar>\r\n      </AppBar>\r\n     \r\n      <Drawer\r\n        variant=\"permanent\"\r\n        classes={{\r\n          paper: clsx(classes.drawerPaper, !open && classes.drawerPaperClose),\r\n        }}\r\n        open={open}\r\n      >\r\n        <div className={classes.toolbarIcon}>\r\n          <IconButton onClick={handleDrawerClose}>\r\n            <ChevronLeftIcon />\r\n          </IconButton>\r\n        </div>\r\n        <Divider />\r\n\r\n        <Menu/>\r\n\r\n\r\n      </Drawer>\r\n\r\n\r\n      <main className={classes.content}>\r\n        <div className={classes.appBarSpacer} />\r\n        <Container maxWidth=\"lg\" className={classes.container}>\r\n\r\n          {getMenuContent(currentMenuIndex)}\r\n\r\n          <Box pt={4}>\r\n            <Copyright />\r\n          </Box>\r\n        </Container>\r\n      </main>\r\n    </div>\r\n  );\r\n}","import React from 'react';\r\n\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nimport GlobalState from './GlobalState';\r\n\r\n\r\n\r\n\r\nimport SignIn from './SignIn';\r\nimport Dashboard from './Dashboard';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    appBar: {\r\n        position: 'static',\r\n        backgroundColor: \"#333\",\r\n        color: \"#fff\",\r\n        //alignItems: 'center'\r\n    \r\n      },\r\n\r\n      signOutButton:{\r\n        color: \"#fff\",\r\n        marginRight : \"20px\",\r\n        fontWeight: \"500\"\r\n      },\r\n\r\n      title: {\r\n        flexGrow : 1\r\n      }\r\n\r\n\r\n}));\r\n\r\nexport default function Navigator() {\r\n\r\n    const classes = useStyles();\r\n    const [state, setState] = React.useContext(GlobalState);\r\n\r\n    const handleSignOut = () =>\r\n    {\r\n      setState(state => ({...state, signedIn: false}));\r\n    }\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <CssBaseline />\r\n\r\n                {!state.signedIn && (\r\n                    <SignIn/> \r\n                )}\r\n\r\n                { state.signedIn && (\r\n                   <Dashboard/>\r\n                )}      \r\n        \r\n        </React.Fragment>\r\n    );\r\n}","export default \"data:image/png;base64,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\"","import React from 'react';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Button from '@material-ui/core/Button';\r\nimport Link from '@material-ui/core/Link';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport GlobalState from './../GlobalState';\r\n\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nimport HttpsIcon from '@material-ui/icons/Https';\r\n\r\nimport {BrowserView, MobileView, isMobile, isBrowser} from 'react-device-detect';\r\n\r\nimport AirplanemodeActiveIcon from '@material-ui/icons/AirplanemodeActive';\r\nimport { Divider, Grid } from '@material-ui/core';\r\n\r\nimport logoImage from './../images/logo.png';\r\n\r\nimport dateFormat from 'dateformat';\r\nimport {calculatePrice} from './../PriceCalculator';\r\n\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright © '}\r\n      {new Date().getFullYear()}\r\n      {' '}\r\n      <Link color=\"inherit\" href=\"#\">\r\n           <strong> Medical Express Clinic </strong> \r\n      </Link>{isMobile ? ' ' : ' All rights reserved.' }\r\n   \r\n       \r\n \r\n     \r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  appBar: {\r\n    position: 'relative',\r\n    backgroundColor: \"#fff\",\r\n    color: \"#00a1c5\",\r\n    alignItems: 'center',\r\n  },\r\n\r\n  logo: {\r\n    maxWidth: 160,\r\n  },\r\n  layout: {\r\n    width: 'auto',\r\n    marginLeft: theme.spacing(2),\r\n    marginRight: theme.spacing(2),\r\n    [theme.breakpoints.up(600 + theme.spacing(2) * 2)]: {\r\n      width: 700,\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n    },\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(1),\r\n    marginBottom: theme.spacing(3),\r\n    padding: theme.spacing(1),\r\n    [theme.breakpoints.up(600 + theme.spacing(3) * 2)]: {\r\n      marginTop: theme.spacing(2),\r\n      marginBottom: theme.spacing(2),\r\n      padding: theme.spacing(3),\r\n    },\r\n  },\r\n  stepper: {\r\n    padding: theme.spacing(3, 0, 5),\r\n  },\r\n  buttons: {\r\n    display: 'flex',\r\n    justifyContent: 'flex-end',\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing(3),\r\n    marginLeft: theme.spacing(1),\r\n  },\r\n\r\n  bold: {\r\n    fontWeight: \"800\",\r\n    padding: \"5px\"\r\n  },\r\n\r\n  doneImage: {\r\n    width: \"240px\",\r\n    height: \"150px\",\r\n    margin: \"20px\"\r\n  },\r\n\r\n  logoImage: {\r\n    width: \"40px\",\r\n    height: \"40px\",\r\n    marginLeft: \"0px\",\r\n    \r\n  },\r\n\r\n  privacyButton: {\r\n    marginBottom : \"20px\"\r\n  },\r\n\r\n  textContent : {\r\n      color : \"#222\",\r\n      fontSize : \"1.1rem\",\r\n      textAlign: \"justify\",\r\n      paddingLeft: \"20px\",\r\n      paddingRight: \"20px\",\r\n      lineHeight: \"1.5em\",\r\n      fontWeight : \"400\"\r\n  },\r\n\r\n  textContentMobile : {\r\n    color : \"#222\",\r\n    fontSize : \"1.1rem\",\r\n    textAlign: \"justify\",\r\n    paddingLeft: \"20px\",\r\n    paddingRight: \"20px\",\r\n    lineHeight: \"1.5em\",\r\n    fontWeight : \"400\"\r\n},\r\n\r\n  getStartedButton: {\r\n      marginTop : \"10px\",\r\n      marginBottom : \"10px\",\r\n  },\r\n\r\n  changeTimeButton: {\r\n    marginTop : \"20px\",\r\n    textDecoration : \"none !important\",\r\n    padding: \"10px\"  \r\n  },\r\n\r\n  editInfoButton: {\r\n    \r\n\r\n    backgroundColor : \"#2f942e\",\r\n    \"&:hover\": {\r\n      background: \"green\",\r\n      color: \"#fff\"\r\n    },\r\n    textDecoration : \"none !important\",\r\n    padding: \"10px\"  \r\n\r\n  },\r\n\r\n  cancelTimeButton: {\r\n\r\n    marginBottom : \"20px\",\r\n    backgroundColor : \"#d90015\",\r\n    \"&:hover\": {\r\n      background: \"#b80012\",\r\n      color: \"#fff\"\r\n    },\r\n\r\n    padding: \"10px\"\r\n  },\r\n\r\n\r\n  AirIcon : {\r\n      marginRight : \"10px\",\r\n      fontSize: \"32px\"\r\n  },\r\n\r\n  \r\n  ul: {\r\n    listStyle: \"none\",\r\n    padding: \"0\",\r\n    margin: \"0\"\r\n },\r\n\r\n li: {\r\n   marginBottom : \"5px\"\r\n },\r\n\r\n infoDetails:{\r\n    textAlign: \"left\"\r\n  },\r\n\r\n  infoTitle:{\r\n    fontWeight: \"800\",\r\n    marginRight: \"10px\"\r\n  },\r\n\r\n  infoData:{\r\n    fontWeight: \"400\",\r\n  },\r\n\r\n\r\n}));\r\n\r\n\r\n\r\n\r\nexport default function WelcomeUser() {\r\n  const [state, setState] = React.useContext(GlobalState);\r\n  const classes = useStyles();\r\n\r\n\r\n  //// ** Dialog\r\n\r\n  const [open, setOpen] = React.useState(false);\r\n  const [scroll, setScroll] = React.useState('paper');\r\n\r\n  const descriptionElementRef = React.useRef(null);\r\n  React.useEffect(() => {\r\n    if (open) {\r\n      const { current: descriptionElement } = descriptionElementRef;\r\n      if (descriptionElement !== null) {\r\n        descriptionElement.focus();\r\n      }\r\n    }\r\n  }, [open]);\r\n\r\n\r\n  const handleClickOpen = (scrollType) => () => {\r\n    setOpen(true);\r\n    setScroll(scrollType);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n\r\n\r\nconst changeTimeClicked = (event) => {\r\n    setState(state => ({...state, welcomeUser: true, changeTimeClicked : true}));\r\n}\r\n\r\nconst editInfoClicked = (event) => {\r\n    setState(state => ({...state, welcomeUser: true, editInfoClicked  : true}));\r\n}\r\n\r\nconst cancelTimeClicked = (event) => {\r\n    setState(state => ({...state, welcomeUser: true, cancelTimeClicked  : true}));\r\n}\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <CssBaseline />\r\n      <AppBar position=\"absolute\" color=\"default\" className={classes.appBar}>\r\n        <Toolbar>\r\n\r\n        <Grid\r\n            container\r\n            direction=\"row\"\r\n            spacing= {1}\r\n            justify=\"center\"\r\n            alignItems=\"center\"\r\n        >\r\n\r\n\r\n            <Grid item xs={10}>\r\n                  <Typography  style={{fontWeight: \"400\"}} variant=\"h6\" color=\"inherit\" noWrap>\r\n                    Medical Express Clinic\r\n                  </Typography>\r\n            </Grid>\r\n\r\n            <Grid item xs={2}>\r\n                    <img className={classes.logoImage} src={logoImage} alt=\"logo image\"/> \r\n            </Grid>\r\n\r\n        \r\n        </Grid>  \r\n        </Toolbar>\r\n      </AppBar>\r\n      <main className={classes.layout}>\r\n        <Paper className={classes.paper}>\r\n\r\n       \r\n          <Typography style={{fontWeight : 700, marginBottom: \"50px\"}} component=\"h1\" variant=\"h6\" align=\"center\">\r\n\r\n                    <div style={{\r\n                            display: 'flex',\r\n                            alignItems: 'center',\r\n                            justifyContent: 'center'\r\n                        }}>\r\n              \r\n                  <AirplanemodeActiveIcon className={classes.AirIcon} color=\"primary\" />  \r\n                            RT-PCR Fit to Fly Test\r\n\r\n                    </div>\r\n          </Typography>\r\n\r\n          <p className={isMobile ? classes.textContentMobile : classes.textContent}>\r\n                 Welcome Back {state.userBooking.forename.toUpperCase()},\r\n          </p>\r\n\r\n          <p className={isMobile ? classes.textContentMobile : classes.textContent}>\r\n                  Do you want to change or cancel your appointment?\r\n          </p>\r\n\r\n          <Divider/>\r\n        \r\n        <div style={{textAlign: \"left\", paddingLeft: \"20px\", paddingTop:\"10px\"}}>\r\n                            <ul className={classes.ul}>\r\n                            <li className={classes.li}>\r\n                            <span className={classes.infoTitle}>Booked Date</span> <span className={classes.infoData}>{state.userBooking.bookingDate}</span>   \r\n                            </li>\r\n                            <li className={classes.li}>\r\n                            <span className={classes.infoTitle}>Booked Time</span> <span className={classes.infoData}>{state.userBooking.bookingTime}</span>   \r\n                            </li>\r\n                            <li className={classes.li}>\r\n                            <span className={classes.infoTitle}>Gender</span> <span className={classes.infoData}>{state.userBooking.gender}</span>   \r\n                            </li>\r\n                            <li className={classes.li}>\r\n                            <span className={classes.infoTitle}>Title</span>  <span className={classes.infoData}>{state.userBooking.title}</span>   \r\n                            </li>\r\n                            <li className={classes.li}>\r\n                            <span className={classes.infoTitle}>Forename</span> <span className={classes.infoData}>{state.userBooking.forename.toUpperCase()}</span>   \r\n                            </li>\r\n                            <li className={classes.li}>\r\n                                <span className={classes.infoTitle}>Surname</span> <span className={classes.infoData}>{state.userBooking.surname.toUpperCase()}</span>   \r\n                            </li>\r\n                            <li className={classes.li}>\r\n                                <span className={classes.infoTitle}>Email</span> <span className={classes.infoData}>{state.userBooking.email.toUpperCase()}</span>   \r\n                            </li>\r\n                            <li className={classes.li}>\r\n                                <span className={classes.infoTitle}>D.O.B</span> <span className={classes.infoData}>{dateFormat(new Date(state.userBooking.birthDate),'dd/mm/yyyy') }</span>  \r\n                            </li>\r\n                            <li className={classes.li}>\r\n                                <span className={classes.infoTitle}>Telephone</span> <span className={classes.infoData}>{state.userBooking.phone}</span>  \r\n                            </li>\r\n                            <li className={classes.li}>\r\n                                <span className={classes.infoTitle}>Post Code</span> <span className={classes.infoData}>{state.userBooking.postCode}</span>  \r\n                            </li>\r\n                            <li className={classes.li}>\r\n                                <span className={classes.infoTitle}>Address</span> <span className={classes.infoData}>{state.userBooking.address}</span>  \r\n                            </li>\r\n                            <li className={classes.li}>\r\n                                <span className={classes.infoTitle}>Passport No.</span> <span className={classes.infoData}>{state.userBooking.passportNumber ?? 'N/A'}</span>  \r\n                            </li>\r\n                            <li className={classes.li} hidden={!state.userBooking.passportNumber2 || state.userBooking.passportNumber2.length === 0}>\r\n                                <span className={classes.infoTitle}>Second Passport No.</span> <span className={classes.infoData}>{state.userBooking.passportNumber2 ?? 'N/A'}</span>  \r\n                            </li>\r\n\r\n                            <li className={classes.li}>\r\n                                <span className={classes.infoTitle}>Request for Certificate</span> <span className={classes.infoData}>{state.userBooking.certificate ? 'Yes' : 'No'}</span>  \r\n                            </li>\r\n                            <li className={classes.li}>\r\n                                <span className={classes.infoTitle}>Request for Antibody Test</span> <span className={classes.infoData}>{state.userBooking.antiBodyTest ? 'Yes' : 'No'}</span>  \r\n                            </li>\r\n\r\n                            <li className={classes.li}>\r\n                                <span className={classes.infoTitle}>Price</span> <span className={classes.infoData}>{`£${calculatePrice(state.userBooking)}`}</span>  \r\n                            </li>\r\n\r\n                        </ul>\r\n                    </div>\r\n\r\n                    <Divider/>\r\n\r\n          <div style={isBrowser ? {paddingLeft: \"50px\", paddingRight: \"50px\"} :  {paddingLeft: \"10px\", paddingRight: \"10px\"}}>\r\n\r\n                <Grid\r\n                        container\r\n                        spacing = {3}\r\n                        direction=\"column\"\r\n                        justify=\"space-between\"\r\n                        alignItems=\"stretch\"\r\n                        >\r\n                    \r\n                                <Grid item xs>\r\n                                        <Button \r\n                                            fullWidth\r\n                                            variant=\"contained\" \r\n                                            className={classes.changeTimeButton} \r\n                                            color=\"primary\"\r\n                                            onClick={changeTimeClicked}\r\n                                            onTouchTap={changeTimeClicked} \r\n                                            >\r\n                                        Change My appointment Time\r\n                                    </Button>\r\n                                </Grid>\r\n\r\n                                <Grid item xs>\r\n                                    <Button \r\n                                                fullWidth\r\n                                                variant=\"contained\" \r\n                                                className={classes.editInfoButton} \r\n                                                color=\"primary\"\r\n                                                onClick={editInfoClicked}\r\n                                                onTouchTap={editInfoClicked} \r\n                                                >\r\n                                            Edit My Info\r\n                                        </Button>\r\n                                </Grid>\r\n\r\n\r\n                                <Grid item xs>\r\n\r\n                                    <Button \r\n                                            fullWidth\r\n                                            variant=\"contained\" \r\n                                            className={classes.cancelTimeButton} \r\n                                            color=\"primary\"\r\n                                            onClick={cancelTimeClicked}\r\n                                            onTouchTap={cancelTimeClicked} \r\n                                            >\r\n                                            Cancel my appointment\r\n                                </Button>\r\n                                                \r\n                                </Grid>\r\n                    </Grid>\r\n\r\n            </div>\r\n\r\n        </Paper>\r\n\r\n        <Button \r\n                  variant=\"contained\" \r\n                  className={classes.privacyButton} \r\n                  color=\"secondary\"\r\n                  startIcon={<HttpsIcon/>}\r\n                  onClick={handleClickOpen('paper')}\r\n                  onTouchTap={handleClickOpen('paper')} \r\n                  >\r\n             Privacy\r\n         </Button>\r\n         <Dialog\r\n                        open={open}\r\n                        onClose={handleClose}\r\n                        scroll={scroll}\r\n                        aria-labelledby=\"scroll-dialog-title\"\r\n                        aria-describedby=\"scroll-dialog-description\"\r\n                      >\r\n                        <DialogTitle id=\"scroll-dialog-title\">Application Disclaimer</DialogTitle>\r\n                        <DialogContent dividers={scroll === 'paper'}>\r\n                          <DialogContentText\r\n                            id=\"scroll-dialog-description\"\r\n                            ref={descriptionElementRef}\r\n                            tabIndex={-1}\r\n                          >\r\n                            <div style={{textAlign:\"justify\", padding:\"10px\"}}>\r\n                              Medical Express Clinic will not contact you for any other reason than to share your test results, and certificate if selected, via the email address provided. The information provided to us via this registration form is never shared with any other organisations, except when this is required by law. \r\n\r\n                                Information provided will never be used for marketing purposes, you cannot opt in.\r\n\r\n                                In the case of a positive swab result, our doctor will call on the telephone number provided to inform you of your result and provide additional advice or guidance.\r\n                          </div>\r\n                          </DialogContentText>\r\n                        </DialogContent>\r\n                        <DialogActions>\r\n                          <Button onClick={handleClose} color=\"primary\">\r\n                            Close\r\n                          </Button>\r\n                      \r\n                        </DialogActions>\r\n      </Dialog>\r\n\r\n\r\n\r\n\r\n        <Copyright />\r\n      </main>\r\n    </React.Fragment>\r\n  );\r\n}","export default __webpack_public_path__ + \"static/media/error.8ab2c9d7.png\";","import React from 'react';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Button from '@material-ui/core/Button';\r\nimport Link from '@material-ui/core/Link';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport GlobalState from './../GlobalState';\r\n\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nimport HttpsIcon from '@material-ui/icons/Https';\r\n\r\nimport errorImage from './../images/error.png';\r\n\r\nimport {BrowserView, MobileView, isMobile} from 'react-device-detect';\r\n\r\nimport AirplanemodeActiveIcon from '@material-ui/icons/AirplanemodeActive';\r\nimport { Grid } from '@material-ui/core';\r\n\r\nimport logoImage from './../images/logo.png';\r\n\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright © '}\r\n      {new Date().getFullYear()}\r\n      {' '}\r\n      <Link color=\"inherit\" href=\"#\">\r\n           <strong> Medical Express Clinic </strong> \r\n      </Link>{isMobile ? ' ' : ' All rights reserved.' }\r\n   \r\n       \r\n \r\n     \r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  appBar: {\r\n    position: 'relative',\r\n    backgroundColor: \"#fff\",\r\n    color: \"#00a1c5\",\r\n    alignItems: 'center',\r\n  },\r\n\r\n  logo: {\r\n    maxWidth: 160,\r\n  },\r\n  layout: {\r\n    width: 'auto',\r\n    marginLeft: theme.spacing(2),\r\n    marginRight: theme.spacing(2),\r\n    [theme.breakpoints.up(600 + theme.spacing(2) * 2)]: {\r\n      width: 700,\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n    },\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(1),\r\n    marginBottom: theme.spacing(3),\r\n    padding: theme.spacing(1),\r\n    [theme.breakpoints.up(600 + theme.spacing(3) * 2)]: {\r\n      marginTop: theme.spacing(2),\r\n      marginBottom: theme.spacing(2),\r\n      padding: theme.spacing(3),\r\n    },\r\n  },\r\n  stepper: {\r\n    padding: theme.spacing(3, 0, 5),\r\n  },\r\n  buttons: {\r\n    display: 'flex',\r\n    justifyContent: 'flex-end',\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing(3),\r\n    marginLeft: theme.spacing(1),\r\n  },\r\n\r\n  bold: {\r\n    fontWeight: \"800\",\r\n    padding: \"5px\"\r\n  },\r\n\r\n  doneImage: {\r\n    width: \"240px\",\r\n    height: \"150px\",\r\n    margin: \"20px\"\r\n  },\r\n\r\n  logoImage: {\r\n    width: \"40px\",\r\n    height: \"40px\",\r\n    marginLeft: \"0px\",\r\n    \r\n  },\r\n\r\n  privacyButton: {\r\n    marginBottom : \"20px\"\r\n  },\r\n\r\n  textContent : {\r\n      color : \"#666f77\",\r\n      fontSize : \"1.1rem\",\r\n      textAlign: \"justify\",\r\n      paddingLeft: \"30px\",\r\n      paddingRight: \"30px\",\r\n      lineHeight: \"2.2em\",\r\n      fontWeight : \"400\"\r\n  },\r\n\r\n  textContentMobile : {\r\n    color : \"#666f77\",\r\n    fontSize : \"0.9rem\",\r\n    textAlign: \"justify\",\r\n    paddingLeft: \"30px\",\r\n    paddingRight: \"30px\",\r\n    lineHeight: \"2.2em\",\r\n    fontWeight : \"400\"\r\n},\r\n\r\n  getStartedButton: {\r\n      marginTop : \"10px\",\r\n      marginBottom : \"10px\",\r\n\r\n  },\r\n\r\n  AirIcon : {\r\n      marginRight : \"10px\",\r\n      fontSize: \"32px\"\r\n  },\r\n\r\n  errorImage: {\r\n    width: \"200px\",\r\n    height: \"190px\",\r\n    marginBottom: \"30px\"\r\n  },\r\n\r\n\r\n}));\r\n\r\n\r\n\r\n\r\nexport default function ErrorUser() {\r\n  const [state, setState] = React.useContext(GlobalState);\r\n  const classes = useStyles();\r\n\r\n\r\n  //// ** Dialog\r\n\r\n  const [open, setOpen] = React.useState(false);\r\n  const [scroll, setScroll] = React.useState('paper');\r\n\r\n  const descriptionElementRef = React.useRef(null);\r\n  React.useEffect(() => {\r\n    if (open) {\r\n      const { current: descriptionElement } = descriptionElementRef;\r\n      if (descriptionElement !== null) {\r\n        descriptionElement.focus();\r\n      }\r\n    }\r\n  }, [open]);\r\n\r\n\r\n  const handleClickOpen = (scrollType) => () => {\r\n    setOpen(true);\r\n    setScroll(scrollType);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n\r\n\r\nconst getStartedClicked = (event) => {\r\n    window.location.href = 'https://travelpcrtest.com/';\r\n}\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <CssBaseline />\r\n      <AppBar position=\"absolute\" color=\"default\" className={classes.appBar}>\r\n        <Toolbar>\r\n\r\n        <Grid\r\n            container\r\n            direction=\"row\"\r\n            spacing= {1}\r\n            justify=\"center\"\r\n            alignItems=\"center\"\r\n        >\r\n\r\n\r\n            <Grid item item xs={10}>\r\n                  <Typography  style={{fontWeight: \"400\"}} variant=\"h6\" color=\"inherit\" noWrap>\r\n                    Medical Express Clinic\r\n                  </Typography>\r\n            </Grid>\r\n\r\n            <Grid item xs={2}>\r\n                    <img className={classes.logoImage} src={logoImage} alt=\"logo image\"/> \r\n            </Grid>\r\n\r\n        \r\n        </Grid>  \r\n        </Toolbar>\r\n      </AppBar>\r\n      <main className={classes.layout}>\r\n        <Paper className={classes.paper}>\r\n\r\n       \r\n          <Typography style={{fontWeight : 700, marginBottom: \"50px\"}} component=\"h1\" variant=\"h6\" align=\"center\">\r\n\r\n                    <div style={{\r\n                            display: 'flex',\r\n                            alignItems: 'center',\r\n                            justifyContent: 'center'\r\n                        }}>\r\n              \r\n                  <AirplanemodeActiveIcon className={classes.AirIcon} color=\"primary\" />  \r\n                            RT-PCR Fit to Fly Test\r\n\r\n                    </div>\r\n          </Typography>\r\n\r\n          <React.Fragment>\r\n\r\n                <img className={classes.errorImage} src={errorImage} alt=\"Error image\"/>\r\n\r\n                <Typography variant=\"h6\" gutterBottom>\r\n                    {state.pathIdNotFound ? \r\n                         'Sorry, we cannot find your booking! '\r\n                    :\r\n                         'Sorry, your booking appointment is expired! '\r\n                    }\r\n                    <br/><br/>\r\n\r\n                    Please book for a new appointment.   \r\n                </Typography>\r\n                <br/>\r\n                \r\n                <Button \r\n                  variant=\"contained\" \r\n                  className={classes.getStartedButton} \r\n                  color=\"primary\"\r\n                  onClick={getStartedClicked}\r\n                  onTouchTap={getStartedClicked} \r\n                  >\r\n            Book New appointment\r\n         </Button>\r\n\r\n        </React.Fragment>\r\n      \r\n\r\n        </Paper>\r\n\r\n        <Button \r\n                  variant=\"contained\" \r\n                  className={classes.privacyButton} \r\n                  color=\"secondary\"\r\n                  startIcon={<HttpsIcon/>}\r\n                  onClick={handleClickOpen('paper')}\r\n                  onTouchTap={handleClickOpen('paper')} \r\n                  >\r\n             Privacy\r\n         </Button>\r\n         <Dialog\r\n                        open={open}\r\n                        onClose={handleClose}\r\n                        scroll={scroll}\r\n                        aria-labelledby=\"scroll-dialog-title\"\r\n                        aria-describedby=\"scroll-dialog-description\"\r\n                      >\r\n                        <DialogTitle id=\"scroll-dialog-title\">Application Disclaimer</DialogTitle>\r\n                        <DialogContent dividers={scroll === 'paper'}>\r\n                          <DialogContentText\r\n                            id=\"scroll-dialog-description\"\r\n                            ref={descriptionElementRef}\r\n                            tabIndex={-1}\r\n                          >\r\n                            <div style={{textAlign:\"justify\", padding:\"10px\"}}>\r\n                              Medical Express Clinic will not contact you for any other reason than to share your test results, and certificate if selected, via the email address provided. The information provided to us via this registration form is never shared with any other organisations, except when this is required by law. \r\n\r\n                                Information provided will never be used for marketing purposes, you cannot opt in.\r\n\r\n                                In the case of a positive swab result, our doctor will call on the telephone number provided to inform you of your result and provide additional advice or guidance.\r\n                          </div>\r\n                          </DialogContentText>\r\n                        </DialogContent>\r\n                        <DialogActions>\r\n                          <Button onClick={handleClose} color=\"primary\">\r\n                            Close\r\n                          </Button>\r\n                      \r\n                        </DialogActions>\r\n      </Dialog>\r\n\r\n\r\n\r\n\r\n        <Copyright />\r\n      </main>\r\n    </React.Fragment>\r\n  );\r\n}","import React from 'react';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Button from '@material-ui/core/Button';\r\nimport Link from '@material-ui/core/Link';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport GlobalState from './../GlobalState';\r\n\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nimport HttpsIcon from '@material-ui/icons/Https';\r\n\r\nimport {BrowserView, MobileView, isMobile, isBrowser} from 'react-device-detect';\r\n\r\nimport AirplanemodeActiveIcon from '@material-ui/icons/AirplanemodeActive';\r\nimport { Divider, Grid } from '@material-ui/core';\r\n\r\nimport logoImage from './../images/logo.png';\r\n\r\nimport dateFormat from 'dateformat';\r\nimport {calculatePrice} from './../PriceCalculator';\r\nimport BookService from '../services/BookService';\r\n\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright © '}\r\n      {new Date().getFullYear()}\r\n      {' '}\r\n      <Link color=\"inherit\" href=\"#\">\r\n           <strong> Medical Express Clinic </strong> \r\n      </Link>{isMobile ? ' ' : ' All rights reserved.' }\r\n \r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  appBar: {\r\n    position: 'relative',\r\n    backgroundColor: \"#fff\",\r\n    color: \"#00a1c5\",\r\n    alignItems: 'center',\r\n  },\r\n\r\n  logo: {\r\n    maxWidth: 160,\r\n  },\r\n  layout: {\r\n    width: 'auto',\r\n    marginLeft: theme.spacing(2),\r\n    marginRight: theme.spacing(2),\r\n    [theme.breakpoints.up(600 + theme.spacing(2) * 2)]: {\r\n      width: 700,\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n    },\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(1),\r\n    marginBottom: theme.spacing(3),\r\n    padding: theme.spacing(1),\r\n    [theme.breakpoints.up(600 + theme.spacing(3) * 2)]: {\r\n      marginTop: theme.spacing(2),\r\n      marginBottom: theme.spacing(2),\r\n      padding: theme.spacing(3),\r\n    },\r\n  },\r\n  stepper: {\r\n    padding: theme.spacing(3, 0, 5),\r\n  },\r\n  buttons: {\r\n    display: 'flex',\r\n    justifyContent: 'flex-end',\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing(3),\r\n    marginLeft: theme.spacing(1),\r\n  },\r\n\r\n  bold: {\r\n    fontWeight: \"800\",\r\n    padding: \"5px\"\r\n  },\r\n\r\n  doneImage: {\r\n    width: \"240px\",\r\n    height: \"150px\",\r\n    margin: \"20px\"\r\n  },\r\n\r\n  logoImage: {\r\n    width: \"40px\",\r\n    height: \"40px\",\r\n    marginLeft: \"0px\",\r\n    \r\n  },\r\n\r\n  privacyButton: {\r\n    marginBottom : \"20px\"\r\n  },\r\n\r\n  textContent : {\r\n      color : \"#222\",\r\n      fontSize : \"1.1rem\",\r\n      textAlign: \"justify\",\r\n      paddingLeft: \"20px\",\r\n      paddingRight: \"20px\",\r\n      lineHeight: \"1.5em\",\r\n      fontWeight : \"400\"\r\n  },\r\n\r\n  textContentMobile : {\r\n    color : \"#222\",\r\n    fontSize : \"1.1rem\",\r\n    textAlign: \"justify\",\r\n    paddingLeft: \"20px\",\r\n    paddingRight: \"20px\",\r\n    lineHeight: \"1.5em\",\r\n    fontWeight : \"400\"\r\n},\r\n\r\n  getStartedButton: {\r\n      marginTop : \"10px\",\r\n      marginBottom : \"10px\",\r\n  },\r\n\r\n  backButton: {\r\n    marginBottom : \"20px\",\r\n    textDecoration : \"none !important\",\r\n    padding: \"10px\"  \r\n  },\r\n\r\n  cancelTimeButton: {\r\n\r\n    marginTop : \"20px\",\r\n    backgroundColor : \"#d90015\",\r\n    \"&:hover\": {\r\n      background: \"#b80012\",\r\n      color: \"#fff\"\r\n    },\r\n\r\n    padding: \"10px\"\r\n  },\r\n\r\n\r\n  AirIcon : {\r\n      marginRight : \"10px\",\r\n      fontSize: \"32px\"\r\n  },\r\n\r\n  \r\n  ul: {\r\n    listStyle: \"none\",\r\n    padding: \"0\",\r\n    margin: \"0\"\r\n },\r\n\r\n li: {\r\n   marginBottom : \"5px\"\r\n },\r\n\r\n infoDetails:{\r\n    textAlign: \"left\"\r\n  },\r\n\r\n  infoTitle:{\r\n    fontWeight: \"800\",\r\n    marginRight: \"10px\"\r\n  },\r\n\r\n  infoData:{\r\n    fontWeight: \"400\",\r\n  },\r\n\r\n  backdrop: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    color: '#fff',\r\n  },\r\n\r\n\r\n}));\r\n\r\n\r\n\r\n\r\nexport default function CancelTimeUser() {\r\n  const [state, setState] = React.useContext(GlobalState);\r\n  const classes = useStyles();\r\n\r\n\r\n  //// ** Dialog\r\n\r\n  const [open, setOpen] = React.useState(false);\r\n  const [scroll, setScroll] = React.useState('paper');\r\n\r\n  const [canceling,  setCanceling] =  React.useState(false);\r\n\r\n  const descriptionElementRef = React.useRef(null);\r\n  React.useEffect(() => {\r\n    if (open) {\r\n      const { current: descriptionElement } = descriptionElementRef;\r\n      if (descriptionElement !== null) {\r\n        descriptionElement.focus();\r\n      }\r\n    }\r\n  }, [open]);\r\n\r\n\r\n  const handleClickOpen = (scrollType) => () => {\r\n    setOpen(true);\r\n    setScroll(scrollType);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n\r\n\r\nconst cancelTimeClicked = (event) => {\r\n    setCanceling(true);\r\n    BookService.deleteBooking(state.userBooking._id).then( (res) => {\r\n        setCanceling(false);\r\n        setState(state => ({...state, cancelTimeClicked  : false, canceledResult : true}));\r\n\r\n    }).catch ((err) => {\r\n        console.log(err);\r\n        setCanceling(false);\r\n\r\n    });\r\n}\r\n\r\n\r\nconst backButtonClicked = (event) => {\r\n    setState(state => ({...state, welcomeUser: false, cancelTimeClicked  : false}));\r\n}\r\n\r\n\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <CssBaseline />\r\n      <AppBar position=\"absolute\" color=\"default\" className={classes.appBar}>\r\n        <Toolbar>\r\n\r\n        <Grid\r\n            container\r\n            direction=\"row\"\r\n            spacing= {1}\r\n            justify=\"center\"\r\n            alignItems=\"center\"\r\n        >\r\n\r\n\r\n            <Grid item xs={10}>\r\n                  <Typography  style={{fontWeight: \"400\"}} variant=\"h6\" color=\"inherit\" noWrap>\r\n                    Medical Express Clinic\r\n                  </Typography>\r\n            </Grid>\r\n\r\n            <Grid item xs={2}>\r\n                    <img className={classes.logoImage} src={logoImage} alt=\"logo image\"/> \r\n            </Grid>\r\n\r\n        \r\n        </Grid>  \r\n        </Toolbar>\r\n      </AppBar>\r\n      <main className={classes.layout}>\r\n        <Paper className={classes.paper}>\r\n\r\n       \r\n          <Typography style={{fontWeight : 700, marginBottom: \"50px\"}} component=\"h1\" variant=\"h6\" align=\"center\">\r\n\r\n                    <div style={{\r\n                            display: 'flex',\r\n                            alignItems: 'center',\r\n                            justifyContent: 'center'\r\n                        }}>\r\n              \r\n                  <AirplanemodeActiveIcon className={classes.AirIcon} color=\"primary\" />  \r\n                            RT-PCR Fit to Fly Test\r\n\r\n                    </div>\r\n          </Typography>\r\n\r\n\r\n          <p className={isMobile ? classes.textContentMobile : classes.textContent}>\r\n                 Are you sure you want to cancel the appointment?\r\n          </p>\r\n\r\n          <Divider/>\r\n        \r\n           \r\n\r\n          <div style={isBrowser ? {paddingLeft: \"50px\", paddingRight: \"50px\"} :  {paddingLeft: \"10px\", paddingRight: \"10px\"}}>\r\n\r\n                <Grid\r\n                        container\r\n                        spacing = {3}\r\n                        direction=\"column\"\r\n                        justify=\"space-between\"\r\n                        alignItems=\"stretch\"\r\n                        >\r\n                    \r\n                                <Grid item xs>\r\n                                        <Button \r\n                                            fullWidth\r\n                                            disabled = {canceling}\r\n                                            variant=\"contained\" \r\n                                            className={classes.cancelTimeButton} \r\n                                            color=\"primary\"\r\n                                            onClick={cancelTimeClicked}\r\n                                            onTouchTap={cancelTimeClicked} \r\n                                            >\r\n                                        Yes cancel my appointment\r\n                                    </Button>\r\n                                </Grid>\r\n\r\n                                <Grid item xs>\r\n                                    <Button \r\n                                                fullWidth\r\n                                                disabled = {canceling}\r\n                                                variant=\"contained\" \r\n                                                className={classes.backButton} \r\n                                                color=\"default\"\r\n                                                onClick={backButtonClicked}\r\n                                                onTouchTap={backButtonClicked} \r\n                                                >\r\n                                            Back\r\n                                        </Button>\r\n                                </Grid>\r\n\r\n                    </Grid>\r\n\r\n            </div>\r\n\r\n        </Paper>\r\n\r\n        <Button \r\n                  variant=\"contained\" \r\n                  className={classes.privacyButton} \r\n                  color=\"secondary\"\r\n                  startIcon={<HttpsIcon/>}\r\n                  onClick={handleClickOpen('paper')}\r\n                  onTouchTap={handleClickOpen('paper')} \r\n                  >\r\n             Privacy\r\n         </Button>\r\n         <Dialog\r\n                        open={open}\r\n                        onClose={handleClose}\r\n                        scroll={scroll}\r\n                        aria-labelledby=\"scroll-dialog-title\"\r\n                        aria-describedby=\"scroll-dialog-description\"\r\n                      >\r\n                        <DialogTitle id=\"scroll-dialog-title\">Application Disclaimer</DialogTitle>\r\n                        <DialogContent dividers={scroll === 'paper'}>\r\n                          <DialogContentText\r\n                            id=\"scroll-dialog-description\"\r\n                            ref={descriptionElementRef}\r\n                            tabIndex={-1}\r\n                          >\r\n                            <div style={{textAlign:\"justify\", padding:\"10px\"}}>\r\n                              Medical Express Clinic will not contact you for any other reason than to share your test results, and certificate if selected, via the email address provided. The information provided to us via this registration form is never shared with any other organisations, except when this is required by law. \r\n\r\n                                Information provided will never be used for marketing purposes, you cannot opt in.\r\n\r\n                                In the case of a positive swab result, our doctor will call on the telephone number provided to inform you of your result and provide additional advice or guidance.\r\n                          </div>\r\n                          </DialogContentText>\r\n                        </DialogContent>\r\n                        <DialogActions>\r\n                          <Button onClick={handleClose} color=\"primary\">\r\n                            Close\r\n                          </Button>\r\n                      \r\n                        </DialogActions>\r\n      </Dialog>\r\n\r\n      <Backdrop className={classes.backdrop} open={canceling} >\r\n        <CircularProgress color=\"inherit\" />\r\n      </Backdrop>\r\n\r\n\r\n\r\n        <Copyright />\r\n      </main>\r\n    </React.Fragment>\r\n  );\r\n}","import * as EmailValidator from 'email-validator';\r\n\r\nexport default function ValidateInfo (state,setState) \r\n  {\r\n\r\n    var error = false;\r\n\r\n      ///validate Basic Info\r\n      if (!state.gender)\r\n      {\r\n        setState(state => ({...state, genderError : true}));\r\n        error = true;\r\n      }\r\n      if (!state.title)\r\n      {\r\n        setState(state => ({...state, titleError : true}));\r\n        error = true;\r\n      }\r\n      if (!state.firstname || state.firstname.trim().length < 1)\r\n      {\r\n        setState(state => ({...state, firstnameError : true}));\r\n        error = true;\r\n      }\r\n      if (!state.lastname || state.lastname.trim().length < 1)\r\n      {\r\n        setState(state => ({...state, lastnameError : true}));\r\n        error = true;\r\n      }\r\n      if (!state.birthDate)\r\n      {\r\n        setState(state => ({...state, birthDateError : true}));\r\n        error = true;\r\n      }\r\n      if (!state.email || !EmailValidator.validate(state.email))\r\n      {\r\n        setState(state => ({...state, emailError : true}));\r\n        error = true;\r\n      }\r\n\r\n      if (!state.retypeEmail || !EmailValidator.validate(state.retypeEmail) || state.email !== state.retypeEmail)\r\n      {\r\n        setState(state => ({...state, retypeEmailError : true}));\r\n        error = true;\r\n      }\r\n\r\n\r\n      if (!state.phone || state.phone.trim().length < 6)\r\n      {\r\n        setState(state => ({...state, phoneError : true}));\r\n        error = true;\r\n      }\r\n      if (!state.postCode || state.postCode.trim().length < 5)\r\n      {\r\n        setState(state => ({...state, postCodeError : true}));\r\n        error = true;\r\n      }\r\n      if (!state.address || state.address.trim().length < 10)\r\n      {\r\n        setState(state => ({...state, addressError : true}));\r\n        error = true;\r\n      }    \r\n      if (state.certificate && (!state.passportNumber || state.passportNumber.trim().length < 6))\r\n      {\r\n        setState(state => ({...state, passportNumberError : true}));\r\n        error = true;\r\n      }\r\n\r\n      return !error;   \r\n  }","import React, { useEffect } from 'react';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Button from '@material-ui/core/Button';\r\nimport Link from '@material-ui/core/Link';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport GlobalState from './../GlobalState';\r\n\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nimport HttpsIcon from '@material-ui/icons/Https';\r\n\r\nimport {BrowserView, MobileView, isMobile, isBrowser} from 'react-device-detect';\r\n\r\nimport AirplanemodeActiveIcon from '@material-ui/icons/AirplanemodeActive';\r\nimport { Divider, Grid } from '@material-ui/core';\r\nimport { Checkbox, FormControlLabel } from '@material-ui/core';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport * as EmailValidator from 'email-validator';\r\nimport {\r\n    DatePicker,\r\n    KeyboardDatePicker,\r\n    MuiPickersUtilsProvider\r\n  } from '@material-ui/pickers';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\n\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\n\r\nimport logoImage from './../images/logo.png';\r\n\r\nimport dateFormat from 'dateformat';\r\nimport {calculatePrice} from './../PriceCalculator';\r\n\r\nimport ValidateInfo from './Validation';\r\nimport BookService from '../services/BookService';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright © '}\r\n      {new Date().getFullYear()}\r\n      {' '}\r\n      <Link color=\"inherit\" href=\"#\">\r\n           <strong> Medical Express Clinic </strong> \r\n      </Link>{isMobile ? ' ' : ' All rights reserved.' }\r\n   \r\n       \r\n \r\n     \r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  appBar: {\r\n    position: 'relative',\r\n    backgroundColor: \"#fff\",\r\n    color: \"#00a1c5\",\r\n    alignItems: 'center',\r\n  },\r\n\r\n  logo: {\r\n    maxWidth: 160,\r\n  },\r\n  layout: {\r\n    width: 'auto',\r\n    marginLeft: theme.spacing(2),\r\n    marginRight: theme.spacing(2),\r\n    [theme.breakpoints.up(600 + theme.spacing(2) * 2)]: {\r\n      width: 700,\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n    },\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(1),\r\n    marginBottom: theme.spacing(3),\r\n    padding: theme.spacing(1),\r\n    [theme.breakpoints.up(600 + theme.spacing(3) * 2)]: {\r\n      marginTop: theme.spacing(2),\r\n      marginBottom: theme.spacing(2),\r\n      padding: theme.spacing(3),\r\n    },\r\n  },\r\n  stepper: {\r\n    padding: theme.spacing(3, 0, 5),\r\n  },\r\n  buttons: {\r\n    display: 'flex',\r\n    justifyContent: 'flex-end',\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing(3),\r\n    marginLeft: theme.spacing(1),\r\n  },\r\n\r\n  bold: {\r\n    fontWeight: \"800\",\r\n    padding: \"5px\"\r\n  },\r\n\r\n  doneImage: {\r\n    width: \"240px\",\r\n    height: \"150px\",\r\n    margin: \"20px\"\r\n  },\r\n\r\n  logoImage: {\r\n    width: \"40px\",\r\n    height: \"40px\",\r\n    marginLeft: \"0px\",\r\n    \r\n  },\r\n\r\n  privacyButton: {\r\n    marginBottom : \"20px\"\r\n  },\r\n\r\n  textContent : {\r\n      color : \"#222\",\r\n      fontSize : \"1.1rem\",\r\n      textAlign: \"justify\",\r\n      paddingLeft: \"20px\",\r\n      paddingRight: \"20px\",\r\n      lineHeight: \"1.5em\",\r\n      fontWeight : \"400\"\r\n  },\r\n\r\n  textContentMobile : {\r\n    color : \"#222\",\r\n    fontSize : \"1.1rem\",\r\n    textAlign: \"justify\",\r\n    paddingLeft: \"20px\",\r\n    paddingRight: \"20px\",\r\n    lineHeight: \"1.5em\",\r\n    fontWeight : \"400\"\r\n},\r\n\r\n  getStartedButton: {\r\n      marginTop : \"10px\",\r\n      marginBottom : \"10px\",\r\n  },\r\n\r\n  backButton: {\r\n    marginBottom : \"20px\",\r\n    textDecoration : \"none !important\",\r\n    padding: \"10px\"  \r\n  },\r\n\r\n  editInfoButton: {\r\n    \r\n    marginTop : \"20px\",\r\n    backgroundColor : \"#2f942e\",\r\n    \"&:hover\": {\r\n      background: \"green\",\r\n      color: \"#fff\"\r\n    },\r\n    textDecoration : \"none !important\",\r\n    padding: \"10px\"  \r\n\r\n  },\r\n\r\n  cancelTimeButton: {\r\n\r\n    marginTop : \"20px\",\r\n    backgroundColor : \"#d90015\",\r\n    \"&:hover\": {\r\n      background: \"#b80012\",\r\n      color: \"#fff\"\r\n    },\r\n\r\n    padding: \"10px\"\r\n  },\r\n\r\n\r\n  AirIcon : {\r\n      marginRight : \"10px\",\r\n      fontSize: \"32px\"\r\n  },\r\n\r\n  \r\n  ul: {\r\n    listStyle: \"none\",\r\n    padding: \"0\",\r\n    margin: \"0\"\r\n },\r\n\r\n li: {\r\n   marginBottom : \"5px\"\r\n },\r\n\r\n infoDetails:{\r\n    textAlign: \"left\"\r\n  },\r\n\r\n  infoTitle:{\r\n    fontWeight: \"800\",\r\n    marginRight: \"10px\"\r\n  },\r\n\r\n  infoData:{\r\n    fontWeight: \"400\",\r\n  },\r\n\r\n  Box:{\r\n    backgroundColor : \"#f1f1f1\",\r\n    padding: \"10px\",\r\n    //maxWidth: \"300px\",\r\n    borderRadius  : \"10px\",\r\n    boxShadow: \"2px 4px #ddd\",\r\n    marginTop: \"5px\",\r\n    marginBottom : \"15px\",\r\n    textAlign: \"left\"\r\n    \r\n  \r\n  },\r\n  backdrop: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    color: '#fff',\r\n  },\r\n\r\n}));\r\n\r\n\r\n\r\n\r\nexport default function EditInfoUser() {\r\n  const [state, setState] = React.useContext(GlobalState);\r\n  const classes = useStyles();\r\n\r\n\r\n  //// ** Dialog\r\n\r\n  const [open, setOpen] = React.useState(false);\r\n  const [scroll, setScroll] = React.useState('paper');\r\n\r\n  const descriptionElementRef = React.useRef(null);\r\n  React.useEffect(() => {\r\n    if (open) {\r\n      const { current: descriptionElement } = descriptionElementRef;\r\n      if (descriptionElement !== null) {\r\n        descriptionElement.focus();\r\n      }\r\n    }\r\n  }, [open]);\r\n\r\n\r\n  const handleClickOpen = (scrollType) => () => {\r\n    setOpen(true);\r\n    setScroll(scrollType);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n\r\n\r\nconst saveClicked = (event) => {\r\n\r\n    console.log(ValidateInfo(state,setState));\r\n  \r\n    if (ValidateInfo(state,setState))\r\n    {\r\n        setSaving(true);\r\n        const person = {\r\n            bookingId: state.userBooking._id,\r\n            title: title,\r\n            gender: gender,\r\n            birthDate: dateFormat(birthDate, 'yyyy-mm-dd'),\r\n            forename: firstname,\r\n            surname: lastname,\r\n            email: email,\r\n            phone: phone,\r\n            certificate: certificate,\r\n            address: address,\r\n            postCode: postCode,\r\n            passportNumber: passportNumber,\r\n            passportNumber2: passportNumber2,\r\n            antiBodyTest: antiBodyCheck,\r\n            bookingDate: state.userBooking.bookingDate,\r\n            bookingTime: state.userBooking.bookingTime,\r\n            bookingRef: state.userBooking.bookingRef\r\n        };\r\n\r\n        BookService.updateBooking({bookingId: state.userBooking._id, person: person}).then( (res) => {\r\n\r\n            setSaving(false);\r\n\r\n            setState((state) => ({\r\n                ...state,\r\n                editInfoClicked: false,\r\n                editInfoResult: true,\r\n              }));\r\n\r\n\r\n        }).catch( (err) =>\r\n        {\r\n            console.log(err);\r\n            setSaving(false);\r\n        })\r\n    }\r\n}\r\n\r\n\r\nconst backButtonClicked = (event) => {\r\n    setState(state => ({...state, welcomeUser: false, editInfoClicked  : false}));\r\n}\r\n\r\n\r\nconst [birthDate, handleBirthDateChange] = React.useState(state.userBooking.birthDate ?? null);\r\nconst [firstname, setFirstname] = React.useState(state.userBooking.forename ?? '');\r\nconst [lastname, setLastname] = React.useState(state.userBooking.surname ?? '');\r\nconst [email, setEmail] = React.useState(state.userBooking.email ?? '');\r\nconst [retypeEmail, setRetypeEmail] = React.useState(state.userBooking.email ?? '');\r\n\r\nconst [gender, setGender] = React.useState(state.userBooking.gender ?? '');\r\nconst [title, setTitle] = React.useState(state.userBooking.title ?? '');\r\n\r\nconst [emailConfirmed, setEmailConfirmed] = React.useState(false);\r\n\r\nconst [phone, setPhone] = React.useState(state.userBooking.phone ?? '');\r\nconst [postCode, setPostCode] = React.useState(state.userBooking.postCode ?? '');\r\nconst [address, setAddress] = React.useState(state.userBooking.address ?? '');\r\n\r\nconst [passportNumber, setPassportNumber] = React.useState(state.userBooking.passportNumber);\r\nconst [passportNumber2, setPassportNumber2] = React.useState(state.userBooking.passportNumber2);\r\n\r\nconst [changed, setChanged] = React.useState(false);\r\nconst [saving, setSaving] = React.useState(false);\r\n\r\nconst [fieldChanged, setFieldChanged] = React.useState(false);\r\n\r\nuseEffect( () => {\r\n    setState(state => ({...state, emailConfirmed: false}));\r\n    setState(state => ({...state, title: state.userBooking.title }));\r\n    setState(state => ({...state, gender: state.userBooking.gender}));\r\n    setState(state => ({...state, birthDate: state.userBooking.birthDate }));\r\n    setState(state => ({...state, firstname : state.userBooking.forename}));\r\n    setState(state => ({...state, lastname : state.userBooking.surname}));\r\n    setState(state => ({...state, email : state.userBooking.email }));\r\n    setState(state => ({...state, retypeEmail :  state.userBooking.email }));\r\n    setState(state => ({...state, phone : state.userBooking.phone }));\r\n    setState(state => ({...state, certificate: state.userBooking.certificate}));\r\n    setState(state => ({...state, postCode : state.userBooking.postCode }));\r\n    setState(state => ({...state, address : state.userBooking.address }));\r\n    setState(state => ({...state, passportNumber : state.userBooking.passportNumber }));\r\n    setState(state => ({...state, passportNumber2 : state.userBooking.passportNumber2}));\r\n    setState(state => ({...state, antiBodyTest : state.userBooking.antiBodyTest}));\r\n\r\n}, []);\r\n\r\n\r\nuseEffect( () => {\r\n    setChanged(\r\n            title !== state.userBooking.title \r\n         || gender !== state.userBooking.gender \r\n         || dateFormat(birthDate,'yyyy-mm-dd') !== state.userBooking.birthDate \r\n         || firstname !== state.userBooking.forename \r\n         || lastname !== state.userBooking.surname \r\n         || email !== state.userBooking.email \r\n         || phone !== state.userBooking.phone \r\n         || certificate !== state.userBooking.certificate \r\n         || postCode !== state.userBooking.postCode \r\n         || address !== state.userBooking.address \r\n         || passportNumber !== state.userBooking.passportNumber \r\n         || passportNumber2 !== state.userBooking.passportNumber2 \r\n         || antiBodyCheck !== state.userBooking.antiBodyTest \r\n    );\r\n\r\n}, [fieldChanged])\r\n\r\n\r\n\r\nconst titleChanged = (event) => {\r\n        setTitle(event.target.value);\r\n        setState(state => ({...state, title: event.target.value}));\r\n        setState(state => ({...state, titleError : false}));\r\n\r\n        setFieldChanged(!fieldChanged);\r\n    };\r\n\r\nconst genderChanged = (event) => {\r\n        setGender(event.target.value);\r\n        setState(state => ({...state, gender: event.target.value}));\r\n        setState(state => ({...state, genderError : false}));\r\n\r\n        setFieldChanged(!fieldChanged);\r\n    };\r\n\r\nconst birthDateChanged = (date) =>\r\n{\r\n    handleBirthDateChange(date);\r\n    setState(state => ({...state, birthDate: date}));\r\n    setState(state => ({...state, birthDateError : false}));\r\n\r\n    setFieldChanged(!fieldChanged);\r\n}  \r\n\r\nconst firstnameChanged = (event) =>\r\n{\r\n    setFirstname(event.target.value);\r\n    setState(state => ({...state, firstname : event.target.value }));\r\n    if (event.target.value && event.target.value.trim().length > 0)\r\n    {\r\n      setState(state => ({...state, firstnameError : false}));\r\n    }\r\n\r\n    setFieldChanged(!fieldChanged);\r\n}\r\n\r\nconst lastnameChanged = (event) =>\r\n{\r\n    setLastname(event.target.value);\r\n    setState(state => ({...state, lastname : event.target.value }));\r\n    if (event.target.value && event.target.value.trim().length > 0)\r\n    {\r\n      setState(state => ({...state, lastnameError : false}));\r\n    }\r\n\r\n    setFieldChanged(!fieldChanged);\r\n}\r\n\r\nconst emailChanged = (event) =>\r\n{\r\n    setEmail(event.target.value);\r\n    setState(state => ({...state, email : event.target.value }));\r\n    if (event.target.value && EmailValidator.validate(event.target.value))\r\n    {\r\n      setState(state => ({...state, emailError : false}));\r\n    }\r\n\r\n    setFieldChanged(!fieldChanged);\r\n}\r\n\r\n\r\nconst retypeEmailChanged = (event) =>\r\n{\r\n    setRetypeEmail(event.target.value);\r\n    setState(state => ({...state, retypeEmail : event.target.value }));\r\n    if (event.target.value && EmailValidator.validate(event.target.value))\r\n    {\r\n      setState(state => ({...state, retypeEmailError : false}));\r\n    }\r\n\r\n    setFieldChanged(!fieldChanged);\r\n}\r\n\r\n\r\n\r\n\r\n\r\nconst [certificate, setCertificate] = React.useState(state.userBooking.certificate ?? false);\r\n\r\nconst certificateChanged = (event) => {\r\n    setCertificate(event.target.checked);\r\n    setState(state => ({...state, certificate: event.target.checked}));\r\n\r\n    setFieldChanged(!fieldChanged);\r\n};\r\n\r\n\r\n\r\nconst phoneChanged = (event) =>\r\n{\r\n    setPhone(event.target.value);\r\n    setState(state => ({...state, phone : event.target.value }));\r\n    if (event.target.value && event.target.value.trim().length >= 6)\r\n    {\r\n    setState(state => ({...state, phoneError : false}));\r\n    } \r\n\r\n    setFieldChanged(!fieldChanged);\r\n}\r\n\r\nconst postCodeChanged = (event) =>\r\n{\r\n    setPostCode(event.target.value);\r\n    setState(state => ({...state, postCode : event.target.value }));\r\n    if (event.target.value && event.target.value.trim().length >= 5)\r\n    {\r\n    setState(state => ({...state, postCodeError : false}));\r\n    }\r\n\r\n    setFieldChanged(!fieldChanged);\r\n}\r\n\r\nconst addressChanged = (event) =>\r\n{\r\n    setAddress(event.target.value);\r\n    setState(state => ({...state, address : event.target.value }));\r\n    if (event.target.value && event.target.value.trim().length >= 10)\r\n    {\r\n    setState(state => ({...state, addressError : false}));\r\n    }\r\n    setFieldChanged(!fieldChanged);\r\n}\r\n\r\nconst passportNumberChanged = (event) =>\r\n{\r\n    setPassportNumber(event.target.value);\r\n    setState(state => ({...state, passportNumber : event.target.value }));\r\n    if (event.target.value && event.target.value.trim().length >= 6)\r\n    {\r\n    setState(state => ({...state, passportNumberError : false}));\r\n    }\r\n    setFieldChanged(!fieldChanged);\r\n}\r\n\r\nconst passportNumberChanged2 = (event) =>\r\n{\r\n    setPassportNumber2(event.target.value);\r\n    setState(state => ({...state, passportNumber2 : event.target.value}));\r\n    setFieldChanged(!fieldChanged);\r\n}\r\n\r\n\r\nconst [antiBodyCheck, setAntiBodyCheck] = React.useState(state.userBooking.antiBodyTest ?? false);\r\n\r\nconst antiBodyCheckChanged = (event) =>\r\n{\r\n  setAntiBodyCheck(event.target.checked);\r\n  setState(state => ({...state, antiBodyTest : event.target.checked}));\r\n  setFieldChanged(!fieldChanged);\r\n}\r\n\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <CssBaseline />\r\n      <AppBar position=\"absolute\" color=\"default\" className={classes.appBar}>\r\n        <Toolbar>\r\n\r\n        <Grid\r\n            container\r\n            direction=\"row\"\r\n            spacing= {1}\r\n            justify=\"center\"\r\n            alignItems=\"center\"\r\n        >\r\n\r\n\r\n            <Grid item xs={10}>\r\n                  <Typography  style={{fontWeight: \"400\"}} variant=\"h6\" color=\"inherit\" noWrap>\r\n                    Medical Express Clinic\r\n                  </Typography>\r\n            </Grid>\r\n\r\n            <Grid item xs={2}>\r\n                    <img className={classes.logoImage} src={logoImage} alt=\"logo image\"/> \r\n            </Grid>\r\n\r\n        \r\n        </Grid>  \r\n        </Toolbar>\r\n      </AppBar>\r\n      <main className={classes.layout}>\r\n        <Paper className={classes.paper}>\r\n\r\n       \r\n          <Typography style={{fontWeight : 700, marginBottom: \"50px\"}} component=\"h1\" variant=\"h6\" align=\"center\">\r\n\r\n                    <div style={{\r\n                            display: 'flex',\r\n                            alignItems: 'center',\r\n                            justifyContent: 'center'\r\n                        }}>\r\n              \r\n                  <AirplanemodeActiveIcon className={classes.AirIcon} color=\"primary\" />  \r\n                            RT-PCR Fit to Fly Test\r\n\r\n                    </div>\r\n          </Typography>\r\n\r\n          <div className={classes.Box}>\r\n\r\n                <div className= {classes.Label}>\r\n                    Add to your Appointment...\r\n                </div>\r\n\r\n                <div className= {classes.CheckBox}>\r\n                <FormControlLabel className={classes.formControl} \r\n                        control={<Checkbox className={classes.formControl}  color=\"secondary\" name=\"emailConfirmCheckBox\" checked={antiBodyCheck} onChange={antiBodyCheckChanged} />}\r\n                        label={<span style={{ fontSize: '0.7rem' }}>{`COVID-19 Antibody Test (IgM & IgG)`} \r\n                        <span  style={{ fontSize: '0.8rem', textDecoration: \"italic\" ,fontWeight:\"600\" ,color:\"#333\" }}> £99.00 </span> </span> } />\r\n                </div>\r\n        </div>\r\n\r\n          <Grid container spacing={3} alignItems=\"baseline\" style={{paddingTop:\"20px\", paddingBottom:\"20px\"}}>\r\n\r\n                        <Grid item xs={12} md={6}>\r\n                            <FormControl className={classes.formControl} fullWidth required>\r\n                                <InputLabel id=\"gender-label-id\">Gender</InputLabel>\r\n                                <Select\r\n                                    error={state.genderError ? true : false}\r\n                                    fullWidth\r\n                                    labelId=\"gender-label-id\"\r\n                                    id=\"gender-id\"\r\n                                    value={gender}\r\n                                    onChange={genderChanged}\r\n                                >\r\n                                    <MenuItem value={'Male'}>Male</MenuItem>\r\n                                    <MenuItem value={'Female'}>Female</MenuItem>\r\n                                </Select>\r\n                        </FormControl>\r\n                        </Grid>\r\n                        <Grid item xs={12} md={6}>\r\n                            <FormControl className={classes.formControl} fullWidth required>\r\n                                <InputLabel id=\"title-label-id\">Title</InputLabel>\r\n                                <Select\r\n                                    error={state.titleError ? true : false}\r\n                                    fullWidth\r\n                                    labelId=\"title-label-id\"\r\n                                    id=\"title-id\"\r\n                                    value={title}\r\n                                    onChange={titleChanged}\r\n                                >\r\n                                    <MenuItem value={'Mr'}>Mr</MenuItem>\r\n                                    <MenuItem value={'Mrs'}>Mrs</MenuItem>\r\n                                    <MenuItem value={'Miss'}>Miss</MenuItem>\r\n                                    <MenuItem value={'Ms'}>Ms</MenuItem>\r\n                                    <MenuItem value={'Dr'}>Dr</MenuItem>\r\n                                </Select>\r\n                        </FormControl>\r\n                        </Grid>\r\n                        <Grid item xs={12} md={6}>\r\n                            <TextField \r\n                                    error={state.firstnameError ? true : false}\r\n                                    required id=\"firstName\" label=\"First Name\" \r\n                                    fullWidth autoComplete=\"given-name\" \r\n                                    value = {firstname}\r\n                                    onChange = {firstnameChanged} \r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12} md={6}>\r\n                        <TextField \r\n                                    error={state.lastnameError ? true : false}\r\n                                    required id=\"lastName\" label=\"Last Name\" \r\n                                    fullWidth autoComplete=\"family-name\" \r\n                                    value = {lastname}\r\n                                    onChange = {lastnameChanged} \r\n                        />  \r\n                        </Grid>\r\n                        <Grid item xs={12} md={12}>\r\n                        <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n                            <KeyboardDatePicker  \r\n                                        error={state.birthDateError ? true : false}\r\n                                        autoOk\r\n                                        fullWidth\r\n                                        variant=\"inline\"\r\n                                        label=\"Birthdate\"\r\n                                        format=\"dd/MM/yyyy\"\r\n                                        disableFuture\r\n                                        InputAdornmentProps={{ position: \"start\" }}\r\n                                        helperText=\"dd/MM/yyyy\"\r\n                                        value={birthDate}\r\n                                        onChange={birthDateChanged}\r\n                                        />\r\n                            </MuiPickersUtilsProvider>\r\n                        </Grid>\r\n                        <Grid item xs={12} md={6}>\r\n                            <TextField\r\n                                        error={state.emailError ? true : false}\r\n                                        required id=\"email\" label=\"Email Address\" \r\n                                        fullWidth autoComplete=\"email\"  type=\"email\"\r\n                                        value = {email}\r\n                                        onChange = {emailChanged} \r\n                                        helperText = 'This email address is where you will receive your results.'\r\n                            />  \r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} md={6}>\r\n                            <TextField\r\n                                        error={state.retypeEmailError ? true : false}\r\n                                        required id=\"retypeEmail\" label=\"Retype Email Address\" \r\n                                        fullWidth autoComplete=\"none\"  type=\"email\"\r\n                                        value = {retypeEmail}\r\n                                        onChange = {retypeEmailChanged} \r\n                                        // helperText = 'This email address is where you will receive your results. Please tick the box below to confirm that this is a private email address to which you are happy for us to send your results.'\r\n                            />  \r\n                        </Grid>\r\n\r\n                        {/* <Grid item xs={12} className={classes.formControl} >\r\n                            <FormControlLabel className={classes.formControl}  style={ {color: state.emailConfirmedError ? \"red\" : ''}} \r\n                            control={<Checkbox className={classes.formControl} style={ {color: state.emailConfirmedError ? \"red\" : ''}}  color=\"secondary\" name=\"emailConfirmCheckBox\" checked={emailConfirmed} onChange={emailConfirmedChanged} />}\r\n                            label={<span style={{ fontSize: '0.8rem' }}>{`I confirm that this is a private email address to which I am happy for you to send my results.`} </span>}\r\n                            />\r\n                        </Grid> */}\r\n\r\n\r\n                        </Grid>\r\n\r\n        <Divider/>\r\n\r\n            <Grid container spacing={3} alignItems=\"baseline\" style={{paddingTop:\"20px\", paddingBottom:\"20px\"}}>\r\n\r\n                    <Grid item xs={12} md={6}>\r\n                                <TextField \r\n                                            error={state.phoneError ? true : false}\r\n                                    \r\n                                            required id=\"phone\" label=\"Phone Number\" \r\n                                            fullWidth autoComplete=\"tel\" \r\n                                            value = {phone}\r\n                                            onChange = {phoneChanged} \r\n                                />  \r\n                            </Grid>\r\n                            <Grid item xs={12} md={6}>\r\n                                <TextField \r\n                                            error={state.postCodeError ? true : false}\r\n                                    \r\n                                            required id=\"postCode\" label=\"Postal Code\" \r\n                                            fullWidth autoComplete=\"postal-code\"\r\n                                            value = {postCode}\r\n                                            onChange = {postCodeChanged} \r\n                                />  \r\n                            </Grid>\r\n                            <Grid item xs={12}>\r\n                                <TextField \r\n                                            error={state.addressError ? true : false}\r\n                                            required id=\"address\" label=\"Address\" \r\n                  \r\n                                            multiline rowsMax={2} \r\n                                            fullWidth autoComplete=\"street-address\" \r\n                                            value = {address}\r\n                                            onChange = {addressChanged} \r\n                                />  \r\n                            </Grid>\r\n\r\n                            <Grid item xs={12} className={classes.formControl} >\r\n                            <FormControlLabel className={classes.formControl} \r\n                                control={<Checkbox className={classes.formControl}  color=\"secondary\" name=\"certificate\" checked={certificate} onChange={certificateChanged} />}\r\n                                label={<span style={{ fontSize: '0.8rem' }}>{`I also require a medical certificate signed by a doctor declaring me 'fit-to-fly'.`} \r\n                                \r\n                                <span  style={{ fontSize: '1rem', textDecoration: \"italic\" ,fontWeight:\"600\" ,color:\"#333\" }}>  + £50.00 </span> \r\n                                </span>}\r\n                            />\r\n                            </Grid>\r\n                            <Grid item xs={12} hidden={!certificate} >\r\n                                <TextField \r\n                                            error={state.passportNumberError ? true : false}\r\n                                            required id=\"passport\" label=\"Passport Number\" \r\n                                            helperText=\"your passport number will be noted on your certificate\" \r\n                                            fullWidth autoComplete=\"\" \r\n                                            value = {passportNumber}\r\n                                            onChange = {passportNumberChanged} \r\n                                />  \r\n                            </Grid>\r\n                            <Grid item xs={12} hidden={!certificate} >\r\n                                <TextField \r\n                                            // error={state.passportNumberError ? true : false}\r\n                                            id=\"passport2\" label=\"Second Passport Number (optional)\" \r\n                                            helperText=\"your passport number will be noted on your certificate\" \r\n                                            fullWidth autoComplete=\"\" \r\n                                            value = {passportNumber2}\r\n                                            onChange = {passportNumberChanged2} \r\n                                />  \r\n                            </Grid>\r\n             </Grid>\r\n\r\n\r\n             <Divider/>\r\n        \r\n           \r\n\r\n          <div style={isBrowser ? {paddingLeft: \"50px\", paddingRight: \"50px\"} :  {paddingLeft: \"10px\", paddingRight: \"10px\"}}>\r\n\r\n                <Grid\r\n                        container\r\n                        spacing = {3}\r\n                        direction=\"column\"\r\n                        justify=\"space-between\"\r\n                        alignItems=\"stretch\"\r\n                        >\r\n                    \r\n                                <Grid item xs>\r\n                                        <Button \r\n                                            disabled = {saving || !changed}\r\n                                            fullWidth\r\n                                            variant=\"contained\" \r\n                                            className={classes.editInfoButton} \r\n                                            color=\"primary\"\r\n                                            onClick={saveClicked}\r\n                                            onTouchTap={saveClicked} \r\n                                            >\r\n                                        Save Changes\r\n                                    </Button>\r\n                                </Grid>\r\n\r\n                                <Grid item xs>\r\n                                    <Button \r\n                                                disabled = {saving}\r\n                                                fullWidth\r\n                                                variant=\"contained\" \r\n                                                className={classes.backButton} \r\n                                                color=\"default\"\r\n                                                onClick={backButtonClicked}\r\n                                                onTouchTap={backButtonClicked} \r\n                                                >\r\n                                            Back\r\n                                        </Button>\r\n                                </Grid>\r\n\r\n                    </Grid>\r\n\r\n            </div>\r\n\r\n        </Paper>\r\n\r\n        <Button \r\n                  variant=\"contained\" \r\n                  className={classes.privacyButton} \r\n                  color=\"secondary\"\r\n                  startIcon={<HttpsIcon/>}\r\n                  onClick={handleClickOpen('paper')}\r\n                  onTouchTap={handleClickOpen('paper')} \r\n                  >\r\n             Privacy\r\n         </Button>\r\n         <Dialog\r\n                        open={open}\r\n                        onClose={handleClose}\r\n                        scroll={scroll}\r\n                        aria-labelledby=\"scroll-dialog-title\"\r\n                        aria-describedby=\"scroll-dialog-description\"\r\n                      >\r\n                        <DialogTitle id=\"scroll-dialog-title\">Application Disclaimer</DialogTitle>\r\n                        <DialogContent dividers={scroll === 'paper'}>\r\n                          <DialogContentText\r\n                            id=\"scroll-dialog-description\"\r\n                            ref={descriptionElementRef}\r\n                            tabIndex={-1}\r\n                          >\r\n                            <div style={{textAlign:\"justify\", padding:\"10px\"}}>\r\n                              Medical Express Clinic will not contact you for any other reason than to share your test results, and certificate if selected, via the email address provided. The information provided to us via this registration form is never shared with any other organisations, except when this is required by law. \r\n\r\n                                Information provided will never be used for marketing purposes, you cannot opt in.\r\n\r\n                                In the case of a positive swab result, our doctor will call on the telephone number provided to inform you of your result and provide additional advice or guidance.\r\n                          </div>\r\n                          </DialogContentText>\r\n                        </DialogContent>\r\n                        <DialogActions>\r\n                          <Button onClick={handleClose} color=\"primary\">\r\n                            Close\r\n                          </Button>\r\n                      \r\n                        </DialogActions>\r\n      </Dialog>\r\n\r\n\r\n      <Backdrop className={classes.backdrop} open={saving} >\r\n        <CircularProgress color=\"inherit\" />\r\n      </Backdrop>\r\n\r\n        <Copyright />\r\n      </main>\r\n    </React.Fragment>\r\n  );\r\n}","\r\nimport API from './api';\r\n\r\nexport default class TimeService{\r\n\r\n     static getFirstAvailableDate =  () =>\r\n    {\r\n        return API.get('/api/time/getfirstavaiabledate');\r\n    }\r\n\r\n    // static dayIsBooked =  (date) =>\r\n    // {\r\n    //    /// check if this date is booked or not\r\n    //    return new Promise( (resolve, reject) =>\r\n    //    {\r\n    //         setTimeout(() => {\r\n    //             resolve(false);\r\n    //         }, 1000);\r\n    //    });\r\n    // }\r\n\r\n    static getFullyBookedDates = () =>\r\n    {        \r\n       return API.get('/api/time/getfullybookeddays');\r\n    }\r\n\r\n    static getTimeSlots = (date) =>\r\n    {\r\n        return API.get(`/api/time/gettimeslots?date=${date}`);\r\n    }\r\n\r\n\r\n}","import React, { useEffect } from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport {\r\n    DatePicker,\r\n    MuiPickersUtilsProvider\r\n  } from '@material-ui/pickers';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport GlobalState from './../GlobalState';\r\nimport {BrowserView, MobileView} from 'react-device-detect';\r\n\r\nimport TimeService from './../services/TimeService';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Skeleton from '@material-ui/lab/Skeleton';\r\n\r\nimport dateformat from 'dateformat';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n  loadingBox: {\r\n    \r\n  }\r\n\r\n}));\r\n\r\n\r\n\r\n\r\nexport default function DateForm() {\r\n   const classes = useStyles();\r\n\r\n    const [state, setState] = React.useContext(GlobalState);\r\n    const [bookingDate, handleDateChange] = React.useState(state.userBooking.bookingDate ?? new Date());\r\n\r\n    const [firstAvailableDay, setFirstAvailableDay] = React.useState(new Date());\r\n    const [fullyBookedDays, setFullyBookedDays] = React.useState(null);\r\n\r\n    const [dataLoaded, setDataLoaded] =  React.useState(false);\r\n\r\n    const LoadData = () => {\r\n\r\n      const promise1 = TimeService.getFirstAvailableDate();\r\n      const promise2 = TimeService.getFullyBookedDates();\r\n\r\n      Promise.all([promise1, promise2]).then( (values) => {\r\n\r\n        setFirstAvailableDay(new Date((values[0].data).date));\r\n        setFullyBookedDays(values[1].data);\r\n\r\n        setDataLoaded(true);\r\n\r\n      }).catch( (err) =>\r\n      {\r\n        console.log(err);\r\n      });\r\n}\r\n\r\n\r\n\r\n    useEffect(() => {\r\n\r\n      setState(state => ({...state, bookingDate : state.userBooking.bookingDate}));\r\n      setState(state => ({...state, bookingTime : state.userBooking.bookingTime}));\r\n      \r\n      LoadData();\r\n\r\n\r\n\r\n    },[]);\r\n\r\n    \r\n\r\n    const dateChanged = (date) =>\r\n    {\r\n        handleDateChange(date);\r\n        setState(state => ({...state, bookingDate : date}));\r\n        if (dateformat(date,'yyyy-mm-dd') === state.userBooking.bookingDate)\r\n        {\r\n          setState(state => ({...state, bookingTime : state.userBooking.bookingTime}));\r\n        }\r\n        else\r\n        {\r\n          setState(state => ({...state, bookingTime : null}));\r\n        }\r\n       \r\n    }\r\n\r\n    const checkFullyBooked = (date) =>\r\n  {\r\n    var result = false;\r\n\r\n    if (date.setHours(0,0,0,0) < firstAvailableDay.setHours(0,0,0,0))\r\n    {\r\n       result = true;\r\n    }\r\n\r\n    else if (fullyBookedDays && fullyBookedDays.length > 0)\r\n    {\r\n     \r\n\r\n      for (var i=0 ; i < fullyBookedDays.length ; i++ )\r\n      {\r\n        if (new Date(fullyBookedDays[i]).setHours(0,0,0,0) === date.setHours(0,0,0,0))\r\n        {\r\n          result = true;\r\n        }\r\n      }\r\n\r\n      return result;\r\n    }\r\n    else\r\n    {\r\n      return false;\r\n    }\r\n}\r\n\r\n  return (\r\n\r\n    <React.Fragment>\r\n               \r\n                <Typography variant=\"h6\" gutterBottom>\r\n                    Pick a Date\r\n                </Typography>\r\n\r\n        {dataLoaded ?  (\r\n            \r\n                <React.Fragment>\r\n\r\n                <Grid\r\n                  container\r\n                  direction=\"column\"\r\n                  justify=\"center\"\r\n                  alignItems=\"center\"\r\n                  >\r\n\r\n                        <BrowserView>\r\n                            <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n                                    <DatePicker autoOk \r\n                                                disablePast=\"true\" \r\n                                                openTo=\"date\"\r\n                                                orientation=\"landscape\" \r\n                                                variant=\"static\" \r\n                                                fullWidth\r\n                                                value={bookingDate} \r\n                                                onChange={dateChanged} \r\n                                                shouldDisableDate={checkFullyBooked}\r\n                                                />\r\n                            </MuiPickersUtilsProvider>\r\n                        </BrowserView>\r\n\r\n                        <MobileView>\r\n                            <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n                                        <DatePicker autoOk \r\n                                                    disablePast=\"true\" \r\n                                                    openTo=\"date\"\r\n                                                    variant=\"static\" \r\n                                                    fullWidth\r\n                                                    value={bookingDate} \r\n                                                    onChange={dateChanged} \r\n                                                    shouldDisableDate={checkFullyBooked}\r\n                                                    />\r\n                                </MuiPickersUtilsProvider>\r\n                        </MobileView>\r\n                </Grid>\r\n\r\n              </React.Fragment>\r\n              )\r\n            : \r\n            (\r\n            <React.Fragment>\r\n                <Grid\r\n                  container\r\n                  direction=\"column\"\r\n                  justify=\"center\"\r\n                  alignItems=\"center\"\r\n                  >\r\n\r\n                      <Skeleton variant=\"text\" width={'80%'} />\r\n                      <Skeleton variant=\"text\" width={'80%'}  />\r\n                      <Skeleton variant=\"rect\" width={'80%'}  height={220} />\r\n\r\n                  </Grid>\r\n            </React.Fragment>\r\n            )\r\n          }\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\n\r\n\r\n\r\n\r\nfunction EquallDates(date1, date2)\r\n{\r\n   return (\r\n           date1.getFullYear() === date2.getFullYear() &&\r\n           date1.getMonth() === date2.getMonth() &&\r\n           date1.getDate() === date2.getDate()\r\n   );      \r\n}\r\n","import React, { useEffect } from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport GlobalState from './../GlobalState';\r\nimport { makeStyles , useTheme} from '@material-ui/core/styles';\r\n\r\nimport GridList from '@material-ui/core/GridList';\r\nimport GridListTile from '@material-ui/core/GridListTile';\r\n\r\nimport TimeService from './../services/TimeService';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Skeleton from '@material-ui/lab/Skeleton';\r\n\r\nimport {BrowserView, MobileView} from 'react-device-detect';\r\n\r\n// import Card from '@material-ui/core/Card';\r\n// import CardActions from '@material-ui/core/CardActions';\r\n// import CardContent from '@material-ui/core/CardContent';\r\n// import Button from '@material-ui/core/Button'\r\n// import { Mouse, Satellite } from '@material-ui/icons';\r\n// import { BrowserView } from 'react-device-detect';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    \r\n    root: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        justifyContent: 'space-around',\r\n        overflow: 'hidden',\r\n        backgroundColor: theme.palette.background.paper,\r\n      },\r\n      gridList: {\r\n        // width: 500,\r\n        // height: 450,\r\n      },\r\n\r\n      box: {\r\n        //backgroundColor: \"red\",\r\n        border: \"1px solid #999\",\r\n        margin: \"5px\",\r\n        padding: \"5px\",\r\n        color: \"#555\",\r\n        cursor: \"pointer\",\r\n        \"&:hover\": {\r\n            background: \"green\",\r\n            color: \"#fff\"\r\n          },\r\n      },\r\n\r\n      boxMobile: {\r\n        //backgroundColor: \"red\",\r\n        border: \"1px solid #999\",\r\n        margin: \"5px\",\r\n        padding: \"5px\",\r\n        color: \"#555\",\r\n        cursor: \"pointer\"\r\n      },\r\n\r\n      boxSelected: {\r\n        backgroundColor: \"green\",\r\n        border: \"1px solid #999\",\r\n        margin: \"5px\",\r\n        padding: \"5px\",\r\n        color: \"#fff\",\r\n        cursor: \"pointer\",\r\n      },\r\n\r\n      boxDisable: {\r\n        backgroundColor: \"#999\",\r\n        border: \"1px solid #ddd\",\r\n        margin: \"5px\",\r\n        padding: \"5px\",\r\n        color: \"#fff\"\r\n        \r\n      },\r\n\r\n  }));\r\n\r\n\r\n  function isWeekend(date)\r\n  {\r\n      return (date.getDay() === 0 || date.getDay() === 6) /// Weekend\r\n  }\r\n\r\nexport default function TimeForm() {\r\n    const classes = useStyles();\r\n    // const theme = useTheme();\r\n\r\n    const [state, setState] = React.useContext(GlobalState);\r\n    // const [bookingTime, setTime] = React.useState(state.userBooking.bookingTime ?? '');\r\n\r\n    const [dataLoaded, setDataLoaded] =  React.useState(false);\r\n\r\n    const emptyTimeSlots = [];\r\n    for (var i=0; i<28; i++)\r\n    {\r\n      emptyTimeSlots.push(i);\r\n    }\r\n\r\n    const [timeSlots, setTimeSlots] = React.useState(emptyTimeSlots);\r\n\r\n    const LoadData = (dateStr) => {\r\n\r\n      const date = new Date(dateStr);\r\n\r\n      const promise1 = TimeService.getTimeSlots(date);\r\n      setDataLoaded(false);\r\n  \r\n      Promise.all([promise1]).then( (values) => {\r\n  \r\n        const timeSlotsTmp = values[0].data;\r\n        \r\n        if (isWeekend(date))\r\n        {\r\n          for (var i=0 ; i < timeSlotsTmp.length ; i++)\r\n          {\r\n            if (parseInt(timeSlotsTmp[i].time.substr(0,2)) < 10 && timeSlotsTmp[i].time.indexOf('AM') > 0)\r\n            {\r\n              timeSlotsTmp[i].available = false;\r\n            }\r\n  \r\n            if (parseInt(timeSlotsTmp[i].time.substr(0,2)) > 1 && parseInt(timeSlotsTmp[i].time.substr(0,2)) < 12 &&timeSlotsTmp[i].time.indexOf('PM') > 0)\r\n            {\r\n              timeSlotsTmp[i].available = false;\r\n            }\r\n          }\r\n        }\r\n\r\n\r\n        setTimeSlots(timeSlotsTmp);\r\n        setDataLoaded(true);\r\n  \r\n      }).catch( (err) =>\r\n      {\r\n        console.log(err);\r\n      }\r\n      );\r\n    }\r\n\r\n    useEffect(() => {\r\n      if (state.bookingDate && state.bookingDate !== 'undefined')\r\n         LoadData(state.bookingDate);\r\n    }, [state.bookingDate]);\r\n\r\n\r\n    const boxClicked = (key) =>\r\n    {\r\n        if (key)\r\n        {\r\n            // setTime(key);\r\n            setState({...state, bookingTime : key});\r\n        }\r\n\r\n    }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Typography variant=\"h6\" gutterBottom>\r\n        Pick a Time\r\n      </Typography>\r\n\r\n      {dataLoaded ?  (\r\n            \r\n          \r\n\r\n            <React.Fragment>\r\n\r\n              <BrowserView>\r\n                  <div className={classes.root}>\r\n                            <GridList cellHeight={60} className={classes.gridList} cols={4}>\r\n                              {timeSlots.map((timeSlot) => (\r\n                                <GridListTile key={timeSlot.time} cols={1}>\r\n                                  <div \r\n                                      onClick= {() => {timeSlot.available? boxClicked(timeSlot.time) : boxClicked(null)}}\r\n                                      className={(timeSlot.available) ? ((state.bookingTime === timeSlot.time)? classes.boxSelected : classes.box ): classes.boxDisable}>\r\n                                      {timeSlot.time}\r\n                                  </div>\r\n                                </GridListTile>\r\n                              ))}\r\n                            </GridList>\r\n                  </div>\r\n              \r\n              </BrowserView>\r\n\r\n              <MobileView>\r\n\r\n              <div className={classes.root}>\r\n                            <GridList cellHeight={60} className={classes.gridList} cols={4}>\r\n                              {timeSlots.map((timeSlot) => (\r\n                                <GridListTile key={timeSlot.time} cols={1}>\r\n                                  <div \r\n                                      onClick = {() => {timeSlot.available? boxClicked(timeSlot.time) : boxClicked(null)}}\r\n                                      className={(timeSlot.available) ? ((state.bookingTime === timeSlot.time)? classes.boxSelected : classes.boxMobile ): classes.boxDisable}>\r\n                                      {timeSlot.time}\r\n                                  </div>\r\n                                </GridListTile>\r\n                              ))}\r\n                            </GridList>\r\n                  </div>\r\n\r\n              </MobileView>\r\n\r\n            </React.Fragment>\r\n      ) : (\r\n        <React.Fragment>\r\n                <Grid\r\n                  container\r\n                  direction=\"column\"\r\n                  justify=\"center\"\r\n                  alignItems=\"center\"\r\n                  >\r\n                      <GridList cellHeight={60} className={classes.gridList} cols={4}>\r\n                          {emptyTimeSlots.map((timeSlot) => (\r\n                            <GridListTile key={timeSlot} cols={1}>\r\n                                 <Skeleton variant=\"rect\" width={120}  height={35} />\r\n                            </GridListTile>\r\n                          ))}\r\n                        </GridList>\r\n                  </Grid>\r\n\r\n    </React.Fragment>\r\n\r\n      ) }\r\n\r\n\r\n\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nconst checkFullyBooked = (time) =>\r\n{\r\n    return false;\r\n}\r\n","import React from \"react\";\r\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport GlobalState from \"./../GlobalState\";\r\n\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\n\r\nimport HttpsIcon from \"@material-ui/icons/Https\";\r\n\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nimport {\r\n  BrowserView,\r\n  MobileView,\r\n  isMobile,\r\n  isBrowser,\r\n} from \"react-device-detect\";\r\n\r\nimport AirplanemodeActiveIcon from \"@material-ui/icons/AirplanemodeActive\";\r\nimport { Divider, Grid } from \"@material-ui/core\";\r\n\r\nimport logoImage from \"./../images/logo.png\";\r\n\r\nimport dateformat from \"dateformat\";\r\nimport { calculatePrice } from \"./../PriceCalculator\";\r\nimport DateForm from \"./DateForm\";\r\nimport TimeForm from \"./TimeForm\";\r\nimport BookService from \"../services/BookService\";\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {\"Copyright © \"}\r\n      {new Date().getFullYear()}{\" \"}\r\n      <Link color=\"inherit\" href=\"#\">\r\n        <strong> Medical Express Clinic </strong>\r\n      </Link>\r\n      {isMobile ? \" \" : \" All rights reserved.\"}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  appBar: {\r\n    position: \"relative\",\r\n    backgroundColor: \"#fff\",\r\n    color: \"#00a1c5\",\r\n    alignItems: \"center\",\r\n  },\r\n\r\n  logo: {\r\n    maxWidth: 160,\r\n  },\r\n  layout: {\r\n    width: \"auto\",\r\n    marginLeft: theme.spacing(2),\r\n    marginRight: theme.spacing(2),\r\n    [theme.breakpoints.up(600 + theme.spacing(2) * 2)]: {\r\n      width: 700,\r\n      marginLeft: \"auto\",\r\n      marginRight: \"auto\",\r\n    },\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(1),\r\n    marginBottom: theme.spacing(3),\r\n    padding: theme.spacing(1),\r\n    [theme.breakpoints.up(600 + theme.spacing(3) * 2)]: {\r\n      marginTop: theme.spacing(2),\r\n      marginBottom: theme.spacing(2),\r\n      padding: theme.spacing(3),\r\n    },\r\n  },\r\n  stepper: {\r\n    padding: theme.spacing(3, 0, 5),\r\n  },\r\n  buttons: {\r\n    display: \"flex\",\r\n    justifyContent: \"flex-end\",\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing(3),\r\n    marginLeft: theme.spacing(1),\r\n  },\r\n\r\n  bold: {\r\n    fontWeight: \"800\",\r\n    padding: \"5px\",\r\n  },\r\n\r\n  doneImage: {\r\n    width: \"240px\",\r\n    height: \"150px\",\r\n    margin: \"20px\",\r\n  },\r\n\r\n  logoImage: {\r\n    width: \"40px\",\r\n    height: \"40px\",\r\n    marginLeft: \"0px\",\r\n  },\r\n\r\n  privacyButton: {\r\n    marginBottom: \"20px\",\r\n  },\r\n\r\n  textContent: {\r\n    color: \"#222\",\r\n    fontSize: \"1.1rem\",\r\n    textAlign: \"justify\",\r\n    paddingLeft: \"20px\",\r\n    paddingRight: \"20px\",\r\n    lineHeight: \"1.5em\",\r\n    fontWeight: \"400\",\r\n  },\r\n\r\n  textContentMobile: {\r\n    color: \"#222\",\r\n    fontSize: \"1.1rem\",\r\n    textAlign: \"justify\",\r\n    paddingLeft: \"20px\",\r\n    paddingRight: \"20px\",\r\n    lineHeight: \"1.5em\",\r\n    fontWeight: \"400\",\r\n  },\r\n\r\n  getStartedButton: {\r\n    marginTop: \"10px\",\r\n    marginBottom: \"10px\",\r\n  },\r\n\r\n  backButton: {\r\n    marginBottom: \"20px\",\r\n    textDecoration: \"none !important\",\r\n    padding: \"10px\",\r\n  },\r\n\r\n  cancelTimeButton: {\r\n    marginTop: \"20px\",\r\n    backgroundColor: \"#d90015\",\r\n    \"&:hover\": {\r\n      background: \"#b80012\",\r\n      color: \"#fff\",\r\n    },\r\n\r\n    padding: \"10px\",\r\n  },\r\n\r\n  editInfoButton: {\r\n    marginTop: \"20px\",\r\n    backgroundColor: \"#2f942e\",\r\n    \"&:hover\": {\r\n      background: \"green\",\r\n      color: \"#fff\",\r\n    },\r\n    textDecoration: \"none !important\",\r\n    padding: \"10px\",\r\n  },\r\n\r\n  AirIcon: {\r\n    marginRight: \"10px\",\r\n    fontSize: \"32px\",\r\n  },\r\n\r\n  ul: {\r\n    listStyle: \"none\",\r\n    padding: \"0\",\r\n    margin: \"0\",\r\n  },\r\n\r\n  li: {\r\n    marginBottom: \"5px\",\r\n  },\r\n\r\n  infoDetails: {\r\n    textAlign: \"left\",\r\n  },\r\n\r\n  infoTitle: {\r\n    fontWeight: \"800\",\r\n    marginRight: \"10px\",\r\n  },\r\n\r\n  infoData: {\r\n    fontWeight: \"400\",\r\n  },\r\n\r\n  backdrop: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    color: '#fff',\r\n  },\r\n}));\r\n\r\nexport default function ChangeTimeUser() {\r\n  const [state, setState] = React.useContext(GlobalState);\r\n  const classes = useStyles();\r\n\r\n  const [saving, setSaving] = React.useState(false);\r\n  //// ** Dialog\r\n\r\n  const [open, setOpen] = React.useState(false);\r\n  const [scroll, setScroll] = React.useState(\"paper\");\r\n\r\n  const descriptionElementRef = React.useRef(null);\r\n  React.useEffect(() => {\r\n    if (open) {\r\n      const { current: descriptionElement } = descriptionElementRef;\r\n      if (descriptionElement !== null) {\r\n        descriptionElement.focus();\r\n      }\r\n    }\r\n  }, [open]);\r\n\r\n  const handleClickOpen = (scrollType) => () => {\r\n    setOpen(true);\r\n    setScroll(scrollType);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const saveClicked = (event) => {\r\n    setSaving(true);\r\n\r\n    BookService.updateBookingTime({\r\n      bookingId: state.userBooking._id,\r\n      bookingTime: state.bookingTime,\r\n      bookingDate: dateformat(state.bookingDate, \"yyyy-mm-dd\"),\r\n    })\r\n      .then((res) => {\r\n        setSaving(false);\r\n        setState((state) => ({\r\n          ...state,\r\n          changeTimeClicked: false,\r\n          timeChangedResult: true,\r\n        }));\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        setSaving(false);\r\n      });\r\n  };\r\n\r\n  const backButtonClicked = (event) => {\r\n    setState((state) => ({\r\n      ...state,\r\n      welcomeUser: false,\r\n      changeTimeClicked: false,\r\n    }));\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <CssBaseline />\r\n      <AppBar position=\"absolute\" color=\"default\" className={classes.appBar}>\r\n        <Toolbar>\r\n          <Grid\r\n            container\r\n            direction=\"row\"\r\n            spacing={1}\r\n            justify=\"center\"\r\n            alignItems=\"center\"\r\n          >\r\n            <Grid item xs={10}>\r\n              <Typography\r\n                style={{ fontWeight: \"400\" }}\r\n                variant=\"h6\"\r\n                color=\"inherit\"\r\n                noWrap\r\n              >\r\n                Medical Express Clinic\r\n              </Typography>\r\n            </Grid>\r\n\r\n            <Grid item xs={2}>\r\n              <img\r\n                className={classes.logoImage}\r\n                src={logoImage}\r\n                alt=\"logo image\"\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <main className={classes.layout}>\r\n        <Paper className={classes.paper}>\r\n          <Typography\r\n            style={{ fontWeight: 700, marginBottom: \"50px\" }}\r\n            component=\"h1\"\r\n            variant=\"h6\"\r\n            align=\"center\"\r\n          >\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                alignItems: \"center\",\r\n                justifyContent: \"center\",\r\n              }}\r\n            >\r\n              <AirplanemodeActiveIcon\r\n                className={classes.AirIcon}\r\n                color=\"primary\"\r\n              />\r\n              RT-PCR Fit to Fly Test\r\n            </div>\r\n          </Typography>\r\n\r\n          <div style={{ paddingBottom: \"20px\" }}>\r\n            <DateForm />\r\n          </div>\r\n\r\n          <div style={{ paddingBottom: \"20px\" }}>\r\n            <TimeForm />\r\n          </div>\r\n\r\n          <Divider />\r\n\r\n          <div\r\n            style={\r\n              isBrowser\r\n                ? { paddingLeft: \"50px\", paddingRight: \"50px\" }\r\n                : { paddingLeft: \"10px\", paddingRight: \"10px\" }\r\n            }\r\n          >\r\n            <Grid\r\n              container\r\n              spacing={3}\r\n              direction=\"column\"\r\n              justify=\"space-between\"\r\n              alignItems=\"stretch\"\r\n            >\r\n              <Grid item xs>\r\n                <Button\r\n                  disabled={\r\n                    saving || !state.bookingTime || state.bookingTime.length < 1\r\n                  }\r\n                  fullWidth\r\n                  variant=\"contained\"\r\n                  className={classes.editInfoButton}\r\n                  color=\"primary\"\r\n                  onClick={saveClicked}\r\n                  onTouchTap={saveClicked}\r\n                >\r\n                  Save Changes\r\n                </Button>\r\n              </Grid>\r\n\r\n              <Grid item xs>\r\n                <Button\r\n                  disabled={saving}\r\n                  fullWidth\r\n                  variant=\"contained\"\r\n                  className={classes.backButton}\r\n                  color=\"default\"\r\n                  onClick={backButtonClicked}\r\n                  onTouchTap={backButtonClicked}\r\n                >\r\n                  Back\r\n                </Button>\r\n              </Grid>\r\n            </Grid>\r\n          </div>\r\n        </Paper>\r\n\r\n        <Button\r\n          variant=\"contained\"\r\n          className={classes.privacyButton}\r\n          color=\"secondary\"\r\n          startIcon={<HttpsIcon />}\r\n          onClick={handleClickOpen(\"paper\")}\r\n          onTouchTap={handleClickOpen(\"paper\")}\r\n        >\r\n          Privacy\r\n        </Button>\r\n        <Dialog\r\n          open={open}\r\n          onClose={handleClose}\r\n          scroll={scroll}\r\n          aria-labelledby=\"scroll-dialog-title\"\r\n          aria-describedby=\"scroll-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"scroll-dialog-title\">\r\n            Application Disclaimer\r\n          </DialogTitle>\r\n          <DialogContent dividers={scroll === \"paper\"}>\r\n            <DialogContentText\r\n              id=\"scroll-dialog-description\"\r\n              ref={descriptionElementRef}\r\n              tabIndex={-1}\r\n            >\r\n              <div style={{ textAlign: \"justify\", padding: \"10px\" }}>\r\n                Medical Express Clinic will not contact you for any other reason\r\n                than to share your test results, and certificate if selected,\r\n                via the email address provided. The information provided to us\r\n                via this registration form is never shared with any other\r\n                organisations, except when this is required by law. Information\r\n                provided will never be used for marketing purposes, you cannot\r\n                opt in. In the case of a positive swab result, our doctor will\r\n                call on the telephone number provided to inform you of your\r\n                result and provide additional advice or guidance.\r\n              </div>\r\n            </DialogContentText>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={handleClose} color=\"primary\">\r\n              Close\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n\r\n        <Backdrop className={classes.backdrop} open={saving} >\r\n        <CircularProgress color=\"inherit\" />\r\n      </Backdrop>\r\n\r\n\r\n        <Copyright />\r\n      </main>\r\n    </React.Fragment>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/ok.c105a1fa.png\";","import React from 'react';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Button from '@material-ui/core/Button';\r\nimport Link from '@material-ui/core/Link';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport GlobalState from './../GlobalState';\r\n\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nimport HttpsIcon from '@material-ui/icons/Https';\r\n\r\nimport doneImage from './../images/ok.png';\r\n\r\nimport {BrowserView, MobileView, isMobile} from 'react-device-detect';\r\n\r\nimport AirplanemodeActiveIcon from '@material-ui/icons/AirplanemodeActive';\r\nimport { Grid } from '@material-ui/core';\r\n\r\nimport logoImage from './../images/logo.png';\r\n\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright © '}\r\n      {new Date().getFullYear()}\r\n      {' '}\r\n      <Link color=\"inherit\" href=\"#\">\r\n           <strong> Medical Express Clinic </strong> \r\n      </Link>{isMobile ? ' ' : ' All rights reserved.' }\r\n   \r\n       \r\n \r\n     \r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  appBar: {\r\n    position: 'relative',\r\n    backgroundColor: \"#fff\",\r\n    color: \"#00a1c5\",\r\n    alignItems: 'center',\r\n  },\r\n\r\n  logo: {\r\n    maxWidth: 160,\r\n  },\r\n  layout: {\r\n    width: 'auto',\r\n    marginLeft: theme.spacing(2),\r\n    marginRight: theme.spacing(2),\r\n    [theme.breakpoints.up(600 + theme.spacing(2) * 2)]: {\r\n      width: 700,\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n    },\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(1),\r\n    marginBottom: theme.spacing(3),\r\n    padding: theme.spacing(1),\r\n    [theme.breakpoints.up(600 + theme.spacing(3) * 2)]: {\r\n      marginTop: theme.spacing(2),\r\n      marginBottom: theme.spacing(2),\r\n      padding: theme.spacing(3),\r\n    },\r\n  },\r\n  stepper: {\r\n    padding: theme.spacing(3, 0, 5),\r\n  },\r\n  buttons: {\r\n    display: 'flex',\r\n    justifyContent: 'flex-end',\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing(3),\r\n    marginLeft: theme.spacing(1),\r\n  },\r\n\r\n  bold: {\r\n    fontWeight: \"800\",\r\n    padding: \"5px\"\r\n  },\r\n\r\n  doneImage: {\r\n    width: \"240px\",\r\n    height: \"150px\",\r\n    margin: \"20px\"\r\n  },\r\n\r\n  logoImage: {\r\n    width: \"40px\",\r\n    height: \"40px\",\r\n    marginLeft: \"0px\",\r\n    \r\n  },\r\n\r\n  privacyButton: {\r\n    marginBottom : \"20px\"\r\n  },\r\n\r\n  textContent : {\r\n      color : \"#666f77\",\r\n      fontSize : \"1.1rem\",\r\n      textAlign: \"justify\",\r\n      paddingLeft: \"30px\",\r\n      paddingRight: \"30px\",\r\n      lineHeight: \"2.2em\",\r\n      fontWeight : \"400\"\r\n  },\r\n\r\n  textContentMobile : {\r\n    color : \"#666f77\",\r\n    fontSize : \"0.9rem\",\r\n    textAlign: \"justify\",\r\n    paddingLeft: \"30px\",\r\n    paddingRight: \"30px\",\r\n    lineHeight: \"2.2em\",\r\n    fontWeight : \"400\"\r\n},\r\n\r\n  getStartedButton: {\r\n      marginTop : \"10px\",\r\n      marginBottom : \"10px\",\r\n\r\n  },\r\n\r\n  AirIcon : {\r\n      marginRight : \"10px\",\r\n      fontSize: \"32px\"\r\n  },\r\n\r\n  errorImage: {\r\n    width: \"200px\",\r\n    height: \"190px\",\r\n    marginBottom: \"30px\"\r\n  },\r\n\r\n\r\n}));\r\n\r\n\r\n\r\n\r\nexport default function CanceledResultUser() {\r\n  const [state, setState] = React.useContext(GlobalState);\r\n  const classes = useStyles();\r\n\r\n\r\n  //// ** Dialog\r\n\r\n  const [open, setOpen] = React.useState(false);\r\n  const [scroll, setScroll] = React.useState('paper');\r\n\r\n  const descriptionElementRef = React.useRef(null);\r\n  React.useEffect(() => {\r\n    if (open) {\r\n      const { current: descriptionElement } = descriptionElementRef;\r\n      if (descriptionElement !== null) {\r\n        descriptionElement.focus();\r\n      }\r\n    }\r\n  }, [open]);\r\n\r\n\r\n  const handleClickOpen = (scrollType) => () => {\r\n    setOpen(true);\r\n    setScroll(scrollType);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n\r\n\r\nconst getStartedClicked = (event) => {\r\n    window.location.href = 'https://travelpcrtest.com/';\r\n}\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <CssBaseline />\r\n      <AppBar position=\"absolute\" color=\"default\" className={classes.appBar}>\r\n        <Toolbar>\r\n\r\n        <Grid\r\n            container\r\n            direction=\"row\"\r\n            spacing= {1}\r\n            justify=\"center\"\r\n            alignItems=\"center\"\r\n        >\r\n\r\n\r\n            <Grid item item xs={10}>\r\n                  <Typography  style={{fontWeight: \"400\"}} variant=\"h6\" color=\"inherit\" noWrap>\r\n                    Medical Express Clinic\r\n                  </Typography>\r\n            </Grid>\r\n\r\n            <Grid item xs={2}>\r\n                    <img className={classes.logoImage} src={logoImage} alt=\"logo image\"/> \r\n            </Grid>\r\n\r\n        \r\n        </Grid>  \r\n        </Toolbar>\r\n      </AppBar>\r\n      <main className={classes.layout}>\r\n        <Paper className={classes.paper}>\r\n\r\n       \r\n          <Typography style={{fontWeight : 700, marginBottom: \"50px\"}} component=\"h1\" variant=\"h6\" align=\"center\">\r\n\r\n                    <div style={{\r\n                            display: 'flex',\r\n                            alignItems: 'center',\r\n                            justifyContent: 'center'\r\n                        }}>\r\n              \r\n                  <AirplanemodeActiveIcon className={classes.AirIcon} color=\"primary\" />  \r\n                            RT-PCR Fit to Fly Test\r\n\r\n                    </div>\r\n          </Typography>\r\n\r\n          <React.Fragment>\r\n\r\n                <img className={classes.doneImage} src={doneImage} alt=\"Error image\"/>\r\n\r\n                <Typography variant=\"h6\" gutterBottom>\r\n                    \r\n                     Thank you for letting us know.\r\n                     <br/>\r\n                     Your appointment was successfully cancelled.\r\n\r\n                    <br/><br/>\r\n\r\n                    You can book a new appointment if needed later on.  \r\n                </Typography>\r\n                <br/>\r\n                \r\n                <Button \r\n                  variant=\"contained\" \r\n                  className={classes.getStartedButton} \r\n                  color=\"primary\"\r\n                  onClick={getStartedClicked}\r\n                  onTouchTap={getStartedClicked} \r\n                  >\r\n            Book New appointment\r\n         </Button>\r\n\r\n        </React.Fragment>\r\n      \r\n\r\n        </Paper>\r\n\r\n        <Button \r\n                  variant=\"contained\" \r\n                  className={classes.privacyButton} \r\n                  color=\"secondary\"\r\n                  startIcon={<HttpsIcon/>}\r\n                  onClick={handleClickOpen('paper')}\r\n                  onTouchTap={handleClickOpen('paper')} \r\n                  >\r\n             Privacy\r\n         </Button>\r\n         <Dialog\r\n                        open={open}\r\n                        onClose={handleClose}\r\n                        scroll={scroll}\r\n                        aria-labelledby=\"scroll-dialog-title\"\r\n                        aria-describedby=\"scroll-dialog-description\"\r\n                      >\r\n                        <DialogTitle id=\"scroll-dialog-title\">Application Disclaimer</DialogTitle>\r\n                        <DialogContent dividers={scroll === 'paper'}>\r\n                          <DialogContentText\r\n                            id=\"scroll-dialog-description\"\r\n                            ref={descriptionElementRef}\r\n                            tabIndex={-1}\r\n                          >\r\n                            <div style={{textAlign:\"justify\", padding:\"10px\"}}>\r\n                              Medical Express Clinic will not contact you for any other reason than to share your test results, and certificate if selected, via the email address provided. The information provided to us via this registration form is never shared with any other organisations, except when this is required by law. \r\n\r\n                                Information provided will never be used for marketing purposes, you cannot opt in.\r\n\r\n                                In the case of a positive swab result, our doctor will call on the telephone number provided to inform you of your result and provide additional advice or guidance.\r\n                          </div>\r\n                          </DialogContentText>\r\n                        </DialogContent>\r\n                        <DialogActions>\r\n                          <Button onClick={handleClose} color=\"primary\">\r\n                            Close\r\n                          </Button>\r\n                      \r\n                        </DialogActions>\r\n      </Dialog>\r\n\r\n\r\n\r\n\r\n        <Copyright />\r\n      </main>\r\n    </React.Fragment>\r\n  );\r\n}","import React from 'react';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Button from '@material-ui/core/Button';\r\nimport Link from '@material-ui/core/Link';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport GlobalState from './../GlobalState';\r\n\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nimport HttpsIcon from '@material-ui/icons/Https';\r\n\r\nimport doneImage from './../images/ok.png';\r\n\r\nimport {BrowserView, MobileView, isMobile} from 'react-device-detect';\r\n\r\nimport AirplanemodeActiveIcon from '@material-ui/icons/AirplanemodeActive';\r\nimport { Grid } from '@material-ui/core';\r\n\r\nimport logoImage from './../images/logo.png';\r\n\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright © '}\r\n      {new Date().getFullYear()}\r\n      {' '}\r\n      <Link color=\"inherit\" href=\"#\">\r\n           <strong> Medical Express Clinic </strong> \r\n      </Link>{isMobile ? ' ' : ' All rights reserved.' }\r\n   \r\n       \r\n \r\n     \r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  appBar: {\r\n    position: 'relative',\r\n    backgroundColor: \"#fff\",\r\n    color: \"#00a1c5\",\r\n    alignItems: 'center',\r\n  },\r\n\r\n  logo: {\r\n    maxWidth: 160,\r\n  },\r\n  layout: {\r\n    width: 'auto',\r\n    marginLeft: theme.spacing(2),\r\n    marginRight: theme.spacing(2),\r\n    [theme.breakpoints.up(600 + theme.spacing(2) * 2)]: {\r\n      width: 700,\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n    },\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(1),\r\n    marginBottom: theme.spacing(3),\r\n    padding: theme.spacing(1),\r\n    [theme.breakpoints.up(600 + theme.spacing(3) * 2)]: {\r\n      marginTop: theme.spacing(2),\r\n      marginBottom: theme.spacing(2),\r\n      padding: theme.spacing(3),\r\n    },\r\n  },\r\n  stepper: {\r\n    padding: theme.spacing(3, 0, 5),\r\n  },\r\n  buttons: {\r\n    display: 'flex',\r\n    justifyContent: 'flex-end',\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing(3),\r\n    marginLeft: theme.spacing(1),\r\n  },\r\n\r\n  bold: {\r\n    fontWeight: \"800\",\r\n    padding: \"5px\"\r\n  },\r\n\r\n  doneImage: {\r\n    width: \"240px\",\r\n    height: \"150px\",\r\n    margin: \"20px\"\r\n  },\r\n\r\n  logoImage: {\r\n    width: \"40px\",\r\n    height: \"40px\",\r\n    marginLeft: \"0px\",\r\n    \r\n  },\r\n\r\n  privacyButton: {\r\n    marginBottom : \"20px\"\r\n  },\r\n\r\n  textContent : {\r\n      color : \"#666f77\",\r\n      fontSize : \"1.1rem\",\r\n      textAlign: \"justify\",\r\n      paddingLeft: \"30px\",\r\n      paddingRight: \"30px\",\r\n      lineHeight: \"2.2em\",\r\n      fontWeight : \"400\"\r\n  },\r\n\r\n  textContentMobile : {\r\n    color : \"#666f77\",\r\n    fontSize : \"0.9rem\",\r\n    textAlign: \"justify\",\r\n    paddingLeft: \"30px\",\r\n    paddingRight: \"30px\",\r\n    lineHeight: \"2.2em\",\r\n    fontWeight : \"400\"\r\n},\r\n\r\n  getStartedButton: {\r\n      marginTop : \"10px\",\r\n      marginBottom : \"10px\",\r\n\r\n  },\r\n\r\n  AirIcon : {\r\n      marginRight : \"10px\",\r\n      fontSize: \"32px\"\r\n  },\r\n\r\n  errorImage: {\r\n    width: \"200px\",\r\n    height: \"190px\",\r\n    marginBottom: \"30px\"\r\n  },\r\n\r\n\r\n}));\r\n\r\n\r\n\r\n\r\nexport default function TimeChangedResult() {\r\n  const [state, setState] = React.useContext(GlobalState);\r\n  const classes = useStyles();\r\n\r\n\r\n  //// ** Dialog\r\n\r\n  const [open, setOpen] = React.useState(false);\r\n  const [scroll, setScroll] = React.useState('paper');\r\n\r\n  const descriptionElementRef = React.useRef(null);\r\n  React.useEffect(() => {\r\n    if (open) {\r\n      const { current: descriptionElement } = descriptionElementRef;\r\n      if (descriptionElement !== null) {\r\n        descriptionElement.focus();\r\n      }\r\n    }\r\n  }, [open]);\r\n\r\n\r\n  const handleClickOpen = (scrollType) => () => {\r\n    setOpen(true);\r\n    setScroll(scrollType);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const backButtonClicked = (event) =>\r\n  {\r\n    setState((state) => ({\r\n        ...state,\r\n        RefreshInfo : state.RefreshInfo ? false : true       \r\n      })); \r\n    setState((state) => ({\r\n        ...state,\r\n        welcomeUser: false,\r\n        changeTimeClicked: false,\r\n        timeChangedResult : false\r\n      }));\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <CssBaseline />\r\n      <AppBar position=\"absolute\" color=\"default\" className={classes.appBar}>\r\n        <Toolbar>\r\n\r\n        <Grid\r\n            container\r\n            direction=\"row\"\r\n            spacing= {1}\r\n            justify=\"center\"\r\n            alignItems=\"center\"\r\n        >\r\n\r\n\r\n            <Grid item item xs={10}>\r\n                  <Typography  style={{fontWeight: \"400\"}} variant=\"h6\" color=\"inherit\" noWrap>\r\n                    Medical Express Clinic\r\n                  </Typography>\r\n            </Grid>\r\n\r\n            <Grid item xs={2}>\r\n                    <img className={classes.logoImage} src={logoImage} alt=\"logo image\"/> \r\n            </Grid>\r\n\r\n        \r\n        </Grid>  \r\n        </Toolbar>\r\n      </AppBar>\r\n      <main className={classes.layout}>\r\n        <Paper className={classes.paper}>\r\n\r\n       \r\n          <Typography style={{fontWeight : 700, marginBottom: \"50px\"}} component=\"h1\" variant=\"h6\" align=\"center\">\r\n\r\n                    <div style={{\r\n                            display: 'flex',\r\n                            alignItems: 'center',\r\n                            justifyContent: 'center'\r\n                        }}>\r\n              \r\n                  <AirplanemodeActiveIcon className={classes.AirIcon} color=\"primary\" />  \r\n                            RT-PCR Fit to Fly Test\r\n\r\n                    </div>\r\n          </Typography>\r\n\r\n          <React.Fragment>\r\n\r\n                <img className={classes.doneImage} src={doneImage} alt=\"Error image\"/>\r\n\r\n                <Typography variant=\"h6\" gutterBottom>\r\n                    \r\n                   <p>Your Appointment Time was Successfully Changed.</p> \r\n                   <p> We have emailed your new booking information, and will look forward to meet you at the clinic.</p>\r\n                   <p> If you still have more changes to do click the button below: </p>\r\n                   \r\n\r\n                </Typography>\r\n                <br/>\r\n                \r\n                <Button\r\n                  fullWidth\r\n                  variant=\"contained\"\r\n                  className={classes.backButton}\r\n                  color=\"primary\"\r\n                  onClick={backButtonClicked}\r\n                  onTouchTap={backButtonClicked}\r\n                >\r\n                 I have more changes\r\n                </Button>\r\n\r\n        </React.Fragment>\r\n      \r\n\r\n        </Paper>\r\n\r\n        <Button \r\n                  variant=\"contained\" \r\n                  className={classes.privacyButton} \r\n                  color=\"secondary\"\r\n                  startIcon={<HttpsIcon/>}\r\n                  onClick={handleClickOpen('paper')}\r\n                  onTouchTap={handleClickOpen('paper')} \r\n                  >\r\n             Privacy\r\n         </Button>\r\n         <Dialog\r\n                        open={open}\r\n                        onClose={handleClose}\r\n                        scroll={scroll}\r\n                        aria-labelledby=\"scroll-dialog-title\"\r\n                        aria-describedby=\"scroll-dialog-description\"\r\n                      >\r\n                        <DialogTitle id=\"scroll-dialog-title\">Application Disclaimer</DialogTitle>\r\n                        <DialogContent dividers={scroll === 'paper'}>\r\n                          <DialogContentText\r\n                            id=\"scroll-dialog-description\"\r\n                            ref={descriptionElementRef}\r\n                            tabIndex={-1}\r\n                          >\r\n                            <div style={{textAlign:\"justify\", padding:\"10px\"}}>\r\n                              Medical Express Clinic will not contact you for any other reason than to share your test results, and certificate if selected, via the email address provided. The information provided to us via this registration form is never shared with any other organisations, except when this is required by law. \r\n\r\n                                Information provided will never be used for marketing purposes, you cannot opt in.\r\n\r\n                                In the case of a positive swab result, our doctor will call on the telephone number provided to inform you of your result and provide additional advice or guidance.\r\n                          </div>\r\n                          </DialogContentText>\r\n                        </DialogContent>\r\n                        <DialogActions>\r\n                          <Button onClick={handleClose} color=\"primary\">\r\n                            Close\r\n                          </Button>\r\n                      \r\n                        </DialogActions>\r\n      </Dialog>\r\n\r\n\r\n\r\n\r\n        <Copyright />\r\n      </main>\r\n    </React.Fragment>\r\n  );\r\n}","import React from 'react';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Button from '@material-ui/core/Button';\r\nimport Link from '@material-ui/core/Link';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport GlobalState from './../GlobalState';\r\n\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nimport HttpsIcon from '@material-ui/icons/Https';\r\n\r\nimport doneImage from './../images/ok.png';\r\n\r\nimport {BrowserView, MobileView, isMobile} from 'react-device-detect';\r\n\r\nimport AirplanemodeActiveIcon from '@material-ui/icons/AirplanemodeActive';\r\nimport { Grid } from '@material-ui/core';\r\n\r\nimport logoImage from './../images/logo.png';\r\n\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright © '}\r\n      {new Date().getFullYear()}\r\n      {' '}\r\n      <Link color=\"inherit\" href=\"#\">\r\n           <strong> Medical Express Clinic </strong> \r\n      </Link>{isMobile ? ' ' : ' All rights reserved.' }\r\n   \r\n       \r\n \r\n     \r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  appBar: {\r\n    position: 'relative',\r\n    backgroundColor: \"#fff\",\r\n    color: \"#00a1c5\",\r\n    alignItems: 'center',\r\n  },\r\n\r\n  logo: {\r\n    maxWidth: 160,\r\n  },\r\n  layout: {\r\n    width: 'auto',\r\n    marginLeft: theme.spacing(2),\r\n    marginRight: theme.spacing(2),\r\n    [theme.breakpoints.up(600 + theme.spacing(2) * 2)]: {\r\n      width: 700,\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n    },\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(1),\r\n    marginBottom: theme.spacing(3),\r\n    padding: theme.spacing(1),\r\n    [theme.breakpoints.up(600 + theme.spacing(3) * 2)]: {\r\n      marginTop: theme.spacing(2),\r\n      marginBottom: theme.spacing(2),\r\n      padding: theme.spacing(3),\r\n    },\r\n  },\r\n  stepper: {\r\n    padding: theme.spacing(3, 0, 5),\r\n  },\r\n  buttons: {\r\n    display: 'flex',\r\n    justifyContent: 'flex-end',\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing(3),\r\n    marginLeft: theme.spacing(1),\r\n  },\r\n\r\n  bold: {\r\n    fontWeight: \"800\",\r\n    padding: \"5px\"\r\n  },\r\n\r\n  doneImage: {\r\n    width: \"240px\",\r\n    height: \"150px\",\r\n    margin: \"20px\"\r\n  },\r\n\r\n  logoImage: {\r\n    width: \"40px\",\r\n    height: \"40px\",\r\n    marginLeft: \"0px\",\r\n    \r\n  },\r\n\r\n  privacyButton: {\r\n    marginBottom : \"20px\"\r\n  },\r\n\r\n  textContent : {\r\n      color : \"#666f77\",\r\n      fontSize : \"1.1rem\",\r\n      textAlign: \"justify\",\r\n      paddingLeft: \"30px\",\r\n      paddingRight: \"30px\",\r\n      lineHeight: \"2.2em\",\r\n      fontWeight : \"400\"\r\n  },\r\n\r\n  textContentMobile : {\r\n    color : \"#666f77\",\r\n    fontSize : \"0.9rem\",\r\n    textAlign: \"justify\",\r\n    paddingLeft: \"30px\",\r\n    paddingRight: \"30px\",\r\n    lineHeight: \"2.2em\",\r\n    fontWeight : \"400\"\r\n},\r\n\r\n  getStartedButton: {\r\n      marginTop : \"10px\",\r\n      marginBottom : \"10px\",\r\n\r\n  },\r\n\r\n  AirIcon : {\r\n      marginRight : \"10px\",\r\n      fontSize: \"32px\"\r\n  },\r\n\r\n  errorImage: {\r\n    width: \"200px\",\r\n    height: \"190px\",\r\n    marginBottom: \"30px\"\r\n  },\r\n\r\n\r\n}));\r\n\r\n\r\n\r\n\r\nexport default function EditInfoResult() {\r\n  const [state, setState] = React.useContext(GlobalState);\r\n  const classes = useStyles();\r\n\r\n\r\n  //// ** Dialog\r\n\r\n  const [open, setOpen] = React.useState(false);\r\n  const [scroll, setScroll] = React.useState('paper');\r\n\r\n  const descriptionElementRef = React.useRef(null);\r\n  React.useEffect(() => {\r\n    if (open) {\r\n      const { current: descriptionElement } = descriptionElementRef;\r\n      if (descriptionElement !== null) {\r\n        descriptionElement.focus();\r\n      }\r\n    }\r\n  }, [open]);\r\n\r\n\r\n  const handleClickOpen = (scrollType) => () => {\r\n    setOpen(true);\r\n    setScroll(scrollType);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const backButtonClicked = (event) =>\r\n  {\r\n    setState((state) => ({\r\n        ...state,\r\n        RefreshInfo : state.RefreshInfo ? false : true       \r\n      })); \r\n    setState((state) => ({\r\n        ...state,\r\n        welcomeUser: false,\r\n        changeTimeClicked: false,\r\n        timeChangedResult : false,\r\n        editInfoResult: false,\r\n        \r\n      }));\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <CssBaseline />\r\n      <AppBar position=\"absolute\" color=\"default\" className={classes.appBar}>\r\n        <Toolbar>\r\n\r\n        <Grid\r\n            container\r\n            direction=\"row\"\r\n            spacing= {1}\r\n            justify=\"center\"\r\n            alignItems=\"center\"\r\n        >\r\n\r\n\r\n            <Grid item item xs={10}>\r\n                  <Typography  style={{fontWeight: \"400\"}} variant=\"h6\" color=\"inherit\" noWrap>\r\n                    Medical Express Clinic\r\n                  </Typography>\r\n            </Grid>\r\n\r\n            <Grid item xs={2}>\r\n                    <img className={classes.logoImage} src={logoImage} alt=\"logo image\"/> \r\n            </Grid>\r\n\r\n        \r\n        </Grid>  \r\n        </Toolbar>\r\n      </AppBar>\r\n      <main className={classes.layout}>\r\n        <Paper className={classes.paper}>\r\n\r\n       \r\n          <Typography style={{fontWeight : 700, marginBottom: \"50px\"}} component=\"h1\" variant=\"h6\" align=\"center\">\r\n\r\n                    <div style={{\r\n                            display: 'flex',\r\n                            alignItems: 'center',\r\n                            justifyContent: 'center'\r\n                        }}>\r\n              \r\n                  <AirplanemodeActiveIcon className={classes.AirIcon} color=\"primary\" />  \r\n                            RT-PCR Fit to Fly Test\r\n\r\n                    </div>\r\n          </Typography>\r\n\r\n          <React.Fragment>\r\n\r\n                <img className={classes.doneImage} src={doneImage} alt=\"Error image\"/>\r\n\r\n                <Typography variant=\"h6\" gutterBottom>\r\n                    \r\n                   <p>Your Booking Info was Successfully Changed.</p> \r\n                   <p> We have emailed your new booking information, and will look forward to meet you at the clinic.</p>\r\n                   <p> If you still have more changes to do click the button below: </p>\r\n                   \r\n\r\n                </Typography>\r\n                <br/>\r\n                \r\n                <Button\r\n                  fullWidth\r\n                  variant=\"contained\"\r\n                  className={classes.backButton}\r\n                  color=\"primary\"\r\n                  onClick={backButtonClicked}\r\n                  onTouchTap={backButtonClicked}\r\n                >\r\n                 I have more changes\r\n                </Button>\r\n\r\n        </React.Fragment>\r\n      \r\n\r\n        </Paper>\r\n\r\n        <Button \r\n                  variant=\"contained\" \r\n                  className={classes.privacyButton} \r\n                  color=\"secondary\"\r\n                  startIcon={<HttpsIcon/>}\r\n                  onClick={handleClickOpen('paper')}\r\n                  onTouchTap={handleClickOpen('paper')} \r\n                  >\r\n             Privacy\r\n         </Button>\r\n         <Dialog\r\n                        open={open}\r\n                        onClose={handleClose}\r\n                        scroll={scroll}\r\n                        aria-labelledby=\"scroll-dialog-title\"\r\n                        aria-describedby=\"scroll-dialog-description\"\r\n                      >\r\n                        <DialogTitle id=\"scroll-dialog-title\">Application Disclaimer</DialogTitle>\r\n                        <DialogContent dividers={scroll === 'paper'}>\r\n                          <DialogContentText\r\n                            id=\"scroll-dialog-description\"\r\n                            ref={descriptionElementRef}\r\n                            tabIndex={-1}\r\n                          >\r\n                            <div style={{textAlign:\"justify\", padding:\"10px\"}}>\r\n                              Medical Express Clinic will not contact you for any other reason than to share your test results, and certificate if selected, via the email address provided. The information provided to us via this registration form is never shared with any other organisations, except when this is required by law. \r\n\r\n                                Information provided will never be used for marketing purposes, you cannot opt in.\r\n\r\n                                In the case of a positive swab result, our doctor will call on the telephone number provided to inform you of your result and provide additional advice or guidance.\r\n                          </div>\r\n                          </DialogContentText>\r\n                        </DialogContent>\r\n                        <DialogActions>\r\n                          <Button onClick={handleClose} color=\"primary\">\r\n                            Close\r\n                          </Button>\r\n                      \r\n                        </DialogActions>\r\n      </Dialog>\r\n\r\n\r\n\r\n\r\n        <Copyright />\r\n      </main>\r\n    </React.Fragment>\r\n  );\r\n}","import React, { useEffect } from 'react';\r\n\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nimport GlobalState from './../GlobalState';\r\n\r\n\r\n\r\nimport WelcomeUser from './welcome-user';\r\n\r\nimport BookService from './../services/BookService';\r\nimport ErrorUser from './error-user';\r\nimport CancelTimeUser from './cancel-time-user';\r\nimport EditInfoUser from './edit-info-user';\r\nimport ChangeTimeUser from './change-time-user';\r\nimport CanceledResultUser from './canceled-result-user';\r\nimport TimeChangedResult from './timechanged-result-user';\r\nimport EditInfoResult from './edit-info-result-user';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    appBar: {\r\n        position: 'static',\r\n        backgroundColor: \"#333\",\r\n        color: \"#fff\",\r\n        //alignItems: 'center'\r\n    \r\n      },\r\n\r\n      signOutButton:{\r\n        color: \"#fff\",\r\n        marginRight : \"20px\",\r\n        fontWeight: \"500\"\r\n      },\r\n\r\n      title: {\r\n        flexGrow : 1\r\n      }\r\n\r\n\r\n}));\r\n\r\nexport default function NavigatorUser(props) {\r\n\r\n    const classes = useStyles();\r\n    const [state, setState] = React.useContext(GlobalState);\r\n    const [loaded, setLoaded] = React.useState(false);\r\n\r\n    useEffect(() => {\r\n        document.title = \"Edit Booking Info\"\r\n     }, []);\r\n\r\n    useEffect( () => {\r\n\r\n        if (props.pathId && props.pathId.length === 22)\r\n        {\r\n            const bookingRef = props.pathId.substr(0,11);\r\n            const birthDate = props.pathId.substr(12,10);\r\n\r\n            BookService.findBookingByRefBirthDate(bookingRef,birthDate).then( res => {\r\n\r\n                if (res.data.status === 'OK')\r\n                {\r\n                    setState(state => ({...state,  userBooking : res.data.booking}) );\r\n                    setLoaded(true);\r\n                }else if (res.data.status === 'FAILED')\r\n                {\r\n                    if (res.data.error === 'Not Found')\r\n                    {\r\n                        setState(state => ({...state, pathIdNotFound : true}));\r\n                    }else if (res.data.error === 'Time Passed')\r\n                    {\r\n                        setState(state => ({...state, pathIdNotFound:false, timePassed : true}));\r\n                    }\r\n                  \r\n                    setLoaded(true);\r\n                }\r\n            }).catch((err) => {\r\n                console.log(err);\r\n                setLoaded(true);\r\n            });\r\n\r\n        }else\r\n        {\r\n            setState(state => ({...state, pathIdNotFound : true}) );\r\n            setLoaded(true);\r\n        }\r\n    }, [state.RefreshInfo])\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <CssBaseline />\r\n\r\n                {loaded && !state.welcomeUser && !state.pathIdNotFound && !state.timePassed && (\r\n                    <WelcomeUser/> \r\n                )}\r\n\r\n                {loaded && !state.welcomeUser && state.pathIdNotFound && (\r\n                    <ErrorUser/>\r\n                )}\r\n\r\n                {loaded && !state.welcomeUser && state.timePassed && (\r\n                    <ErrorUser/>\r\n                )}\r\n\r\n                {loaded && state.welcomeUser && state.changeTimeClicked && (\r\n                    <ChangeTimeUser/>\r\n                )}\r\n\r\n                {loaded && state.welcomeUser && state.editInfoClicked && (\r\n                    <EditInfoUser/>\r\n                )}\r\n\r\n                {loaded && state.welcomeUser && state.cancelTimeClicked && (\r\n                    <CancelTimeUser/>\r\n                )}\r\n\r\n                {loaded && state.welcomeUser && state.canceledResult && (\r\n                    <CanceledResultUser/>\r\n                )}\r\n\r\n                {loaded && state.welcomeUser && state.timeChangedResult && (\r\n                    <TimeChangedResult/>\r\n                )}\r\n\r\n                {loaded && state.welcomeUser && state.editInfoResult && (\r\n                    <EditInfoResult/>\r\n                )}\r\n\r\n\r\n\r\n        \r\n        </React.Fragment>\r\n    );\r\n}","import './App.css';\nimport GlobalState from './GlobalState'; \nimport React from 'react';\nimport Navigator from './Navigator';\nimport NavigatorUser from './users/navigator-user';\n\n\nconst getPathId = (path) =>\n{\n  let urlElements = window.location.pathname.split('/');\n  if (urlElements.length === 4)\n  {\n    return urlElements[urlElements.length - 1];\n  }\n  return null;  \n}\n\n\nfunction App() {\n  const [state, setState] = React.useState({foundRecords: [], currentMenuIndex: 0});\n\n\n\n  return (\n    <GlobalState.Provider value={[state, setState]}>\n      <div className=\"App\">\n\n      {getPathId() && (\n\n          <NavigatorUser pathId={`${getPathId()}`}/>\n\n          )          \n    }\n\n      {!getPathId() &&  (\n            <Navigator/>\n          )\n      }\n      \n    \n      </div>\n    </GlobalState.Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n// import reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"],"sourceRoot":""}