(this["webpackJsonppcr-booking-ui"]=this["webpackJsonppcr-booking-ui"]||[]).push([[0],{321:function(e,t,n){},322:function(e,t,n){},542:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n(0),i=n.n(c),r=n(18),o=n.n(r),s=(n(321),n(7)),l=(n(322),i.a.createContext([{},function(){}])),d=n(8),j=n(608),u=n(590),b=n(64),p=n(543),h=n(626),f=n(604),m=n(627),g=n(619),x=n(112),O=n.n(x),k=n(593),v=n(620),w=n(591),N=n(596),y=n(629),C=n(628),B=n(600),T=n(603),R=n(268),S=n(592),F=n(171),I=n(601),D=n(602),A=n(4);function M(){return Object(a.jsxs)(b.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(a.jsx)(u.a,{color:"inherit",href:"#",children:"Medical Express Clinic"})," ",(new Date).getFullYear(),"."]})}var P=Object(p.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)},display:"flex",flexWrap:"wrap"},margin:{marginTop:e.spacing(2),marginBottom:e.spacing(2)},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",flexWrap:"wrap"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},RememberMe:{textAlign:"left"},appBar:{position:"static",alignItems:"center"}}}));function E(){var e=P(),t=i.a.useContext(l),n=Object(s.a)(t,2),c=n[0],r=n[1],o=i.a.useState(localStorage.getItem("pcr-admin-password")||""),j=Object(s.a)(o,2),u=j[0],p=j[1],x=i.a.useState(localStorage.getItem("pcr-admin-username")||""),E=Object(s.a)(x,2),L=E[0],W=E[1],_=i.a.useState(!!localStorage.getItem("pcr-admin-username")),z=Object(s.a)(_,2),V=z[0],H=z[1],G=function(){L&&u&&"admin"===L.toLowerCase()&&"pcr$321"===u?(r((function(e){return Object(d.a)(Object(d.a)({},e),{},{signedIn:!0})})),V?(localStorage.setItem("pcr-admin-username",L),localStorage.setItem("pcr-admin-password",u)):(localStorage.removeItem("pcr-admin-username"),localStorage.removeItem("pcr-admin-password"))):r((function(e){return Object(d.a)(Object(d.a)({},e),{},{signedInError:!0})}))};return Object(a.jsxs)(i.a.Fragment,{children:[Object(a.jsx)(w.a,{position:"absolute",color:"primary",className:e.appBar,children:Object(a.jsx)(S.a,{children:Object(a.jsx)(b.a,{variant:"h6",color:"inherit",noWrap:!0,className:e.title,children:"PCR Booking Admin Console"})})}),Object(a.jsxs)(k.a,{component:"main",maxWidth:"xs",children:[Object(a.jsxs)("div",{className:e.paper,children:[Object(a.jsx)(h.a,{className:e.avatar,children:Object(a.jsx)(O.a,{})}),Object(a.jsx)(b.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(a.jsxs)("form",{className:e.form,noValidate:!0,children:[Object(a.jsx)(m.a,{variant:"outlined",value:L,onChange:function(e){W(e.target.value),r((function(e){return Object(d.a)(Object(d.a)({},e),{},{signedInError:!1})}))},margin:"normal",required:!0,fullWidth:!0,id:"usrname",label:"Username",name:"username",autoComplete:"username",autoFocus:!0}),Object(a.jsxs)(N.a,{fullWidth:!0,required:!0,className:Object(A.a)(e.margin,e.textField),variant:"outlined",onKeyPress:function(e){"Enter"===e.key&&G()},children:[Object(a.jsx)(y.a,{htmlFor:"outlined-adornment-password",children:"Password"}),Object(a.jsx)(C.a,{id:"outlined-adornment-password",name:"outlined-adornment-password",type:c.showPassword?"text":"password",value:u,onChange:function(e){p(e.target.value),r((function(e){return Object(d.a)(Object(d.a)({},e),{},{signedInError:!1})}))},endAdornment:Object(a.jsx)(B.a,{position:"end",children:Object(a.jsx)(F.a,{"aria-label":"toggle password visibility",onClick:function(){r((function(e){return Object(d.a)(Object(d.a)({},e),{},{showPassword:!e.showPassword})}))},onMouseDown:function(e){e.preventDefault()},children:c.showPassword?Object(a.jsx)(I.a,{}):Object(a.jsx)(D.a,{})})}),labelWidth:100})]}),Object(a.jsx)("div",{align:"left",children:Object(a.jsx)(T.a,{className:e.RememberMe,control:Object(a.jsx)(R.a,{value:"remember",color:"primary",checked:V,onChange:function(e){H(e.target.checked)}}),label:"Save password on this device"})}),Object(a.jsx)(f.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",onClick:G,onTouchTap:G,className:e.submit,children:"Sign In"})]})]}),c.signedInError&&Object(a.jsx)("div",{className:e.root,children:Object(a.jsx)(v.a,{fullWidth:!0,severity:"error",children:"Invalid Username or Password. Please try again."})}),Object(a.jsx)(g.a,{mt:8,children:Object(a.jsx)(M,{})})]})]})}var L=n(266),W=n(239),_=n.n(W),z=n(605),V=n(75),H=n(240),G=n.n(H).a.create({baseURL:"https://www.travelpcrtest.com",headers:{Authorization:"Basic QXp1cmXEaWFtb45kOmh1bnRlcjO="}}),U=function e(){Object(V.a)(this,e)};U.getBookingsByRef=function(e){return G.get("/api/book/getbookingsbyref?ref=".concat(e))},U.getAllBookings=function(){return G.get("/api/book/getallbookings")},U.getTodayBookings=function(){return G.get("/api/book/gettodaybookings")},U.getOldBookings=function(){return G.get("/api/book/getoldbookings")},U.getFutureBookings=function(){return G.get("/api/book/getfuturebookings")},U.getRecentBookings=function(){return G.get("/api/book/getrecentbookings")},U.getRecentBookingsAll=function(){return G.get("/api/book/getrecentbookingsall")};var K=n(625),J=n(607),X=n(606),Y=n(241),q=n.n(Y),Q=n(76),$=n.n(Q),Z=function e(){Object(V.a)(this,e)};Z.downloadCovidForm1=function(e){return G.get("/api/pdf/downloadcovidform1?id=".concat(e),{responseType:"arraybuffer",id:e,headers:{Accept:"application/pdf"}})},Z.downloadCovidForm2=function(e){return G.get("/api/pdf/downloadcovidform2?id=".concat(e),{responseType:"arraybuffer",headers:{Accept:"application/pdf"}})},Z.downloadPdfResult=function(e){return G.get("/api/pdf/downloadpdfresult?id=".concat(e),{responseType:"arraybuffer",headers:{Accept:"application/pdf"}})},Z.downloadPdfCert=function(e){return G.get("/api/pdf/downloadpdfcert?id=".concat(e),{responseType:"arraybuffer",headers:{Accept:"application/pdf"}})};var ee=n(96),te=n.n(ee),ne=Object(p.a)((function(e){return{box:{backgroundColor:"#373737",color:"#fff",padding:"1px",borderRadius:"4px",textAlign:"justify",paddingRight:"40px"},boxRed:{backgroundColor:"#dc2626",color:"#fff",padding:"1px",borderRadius:"4px",textAlign:"justify",paddingRight:"40px"},boxInfo:{textAlign:"justify",backgroundColor:"#fafafa",color:"#333",padding:"1px",borderRadius:"4px",paddingRight:"40px",border:"1px solid #eee"},ul:{listStyle:"none",padding:"0",margin:"0"},li:{marginBottom:"5px"},icon:{marginRight:"8px"},root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0,color:e.palette.text.secondary},secondaryHeading:{fontSize:e.typography.pxToRem(15)},infoDetails:{textAlign:"left"},infoTitle:{fontWeight:"800",marginRight:"10px"},infoData:{fontWeight:"400"},title:{textAlign:"center",fontWeight:"600",marginLeft:"10px",marginBottom:"5px"},Accordion:{backgroundColor:"#f5f5f5",color:"#222"},DownloadForm:{marginTop:"10px",marginBottom:"10px"}}}));function ae(){var e=ne(),t=i.a.useContext(l),n=Object(s.a)(t,2),c=n[0],r=(n[1],i.a.useState(!1)),o=Object(s.a)(r,2),d=o[0],j=o[1];return Object(a.jsx)(i.a.Fragment,{children:Object(a.jsxs)(z.a,{container:!0,direction:"column",spacing:1,justify:"flex-start",alignItems:"stretch",children:[Object(a.jsx)("div",{className:e.title,children:" Following Records Found :"}),c.foundRecords.map((function(t,n){var c,i,r;return Object(a.jsx)(z.a,{item:!0,xs:12,md:12,children:Object(a.jsx)("div",{className:e.root,children:Object(a.jsxs)(K.a,{className:e.Accordion,expanded:d==="panel".concat(n),onChange:(r="panel".concat(n),function(e,t){j(!!t&&r)}),children:[Object(a.jsxs)(X.a,{expandIcon:Object(a.jsx)(q.a,{}),"aria-controls":"panel1bh-content",id:"panel".concat(n,"bh-header"),children:[Object(a.jsxs)(b.a,{className:e.heading,children:[" ","#".concat(n+1)," "]}),Object(a.jsx)(b.a,{className:e.secondaryHeading,children:"".concat(t.forename," ").concat(t.surname)})]}),Object(a.jsx)(J.a,{className:e.infoDetails,children:Object(a.jsxs)("ul",{className:e.ul,children:[Object(a.jsxs)("li",{className:e.li,children:[Object(a.jsx)("span",{className:e.infoTitle,children:"Gender"})," ",Object(a.jsx)("span",{className:e.infoData,children:t.gender})]}),Object(a.jsxs)("li",{className:e.li,children:[Object(a.jsx)("span",{className:e.infoTitle,children:"Title"}),"  ",Object(a.jsx)("span",{className:e.infoData,children:t.title})]}),Object(a.jsxs)("li",{className:e.li,children:[Object(a.jsx)("span",{className:e.infoTitle,children:"Forename"})," ",Object(a.jsx)("span",{className:e.infoData,children:t.forename})]}),Object(a.jsxs)("li",{className:e.li,children:[Object(a.jsx)("span",{className:e.infoTitle,children:"Surname"})," ",Object(a.jsx)("span",{className:e.infoData,children:t.surname})]}),Object(a.jsxs)("li",{className:e.li,children:[Object(a.jsx)("span",{className:e.infoTitle,children:"Email"})," ",Object(a.jsx)("span",{className:e.infoData,children:t.email})]}),Object(a.jsxs)("li",{className:e.li,children:[Object(a.jsx)("span",{className:e.infoTitle,children:"D.O.B"})," ",Object(a.jsx)("span",{className:e.infoData,children:$()(new Date(t.birthDate),"dd mmm yyyy")})]}),Object(a.jsxs)("li",{className:e.li,children:[Object(a.jsx)("span",{className:e.infoTitle,children:"Telephone"})," ",Object(a.jsx)("span",{className:e.infoData,children:t.phone})]}),Object(a.jsxs)("li",{className:e.li,children:[Object(a.jsx)("span",{className:e.infoTitle,children:"Post Code"})," ",Object(a.jsx)("span",{className:e.infoData,children:t.postCode})]}),Object(a.jsxs)("li",{className:e.li,children:[Object(a.jsx)("span",{className:e.infoTitle,children:"Address"})," ",Object(a.jsx)("span",{className:e.infoData,children:t.address})]}),Object(a.jsxs)("li",{className:e.li,children:[Object(a.jsx)("span",{className:e.infoTitle,children:"Notes"})," ",Object(a.jsx)("span",{className:e.infoData,children:null!==(c=t.notes)&&void 0!==c?c:"N/A"})]}),Object(a.jsxs)("li",{className:e.li,children:[Object(a.jsx)("span",{className:e.infoTitle,children:"Passport No."})," ",Object(a.jsx)("span",{className:e.infoData,children:null!==(i=t.passportNumber)&&void 0!==i?i:"N/A"})]}),Object(a.jsx)("li",{children:Object(a.jsx)(f.a,{type:"button",fullWidth:!0,variant:"outlined",color:"primary",onClick:function(){var e;e=t._id,Z.downloadCovidForm1(e).then((function(t){te.a.saveAs(new Blob([t.data],{type:"application/pdf"}),"pcr-reg-form-".concat(e,".pdf"))})).catch((function(e){console.log(e)}))},className:e.DownloadForm,children:"Download Registration Form"})}),Object(a.jsx)("li",{children:Object(a.jsx)(f.a,{type:"button",fullWidth:!0,variant:"outlined",color:"primary",onClick:function(){var e;e=t._id,Z.downloadCovidForm2(e).then((function(t){te.a.saveAs(new Blob([t.data],{type:"application/pdf"}),"pcr-clinic-form-".concat(e,".pdf"))})).catch((function(e){console.log(e)}))},className:e.DownloadForm,children:"Download Clinic Form"})}),Object(a.jsx)("li",{hidden:"report_sent"!==t.status,children:Object(a.jsx)(f.a,{type:"button",fullWidth:!0,variant:"outlined",color:"primary",onClick:function(){var e;e=t._id,Z.downloadPdfResult(e).then((function(t){te.a.saveAs(new Blob([t.data],{type:"application/pdf"}),"lab-result-".concat(e,".pdf"))})).catch((function(e){console.log(e)}))},className:e.DownloadForm,children:"Download Lab Results"})}),Object(a.jsx)("li",{hidden:"report_sent"!==t.status||!t.certificate,children:Object(a.jsx)(f.a,{type:"button",fullWidth:!0,variant:"outlined",color:"primary",onClick:function(){var e;e=t._id,Z.downloadPdfCert(e).then((function(t){te.a.saveAs(new Blob([t.data],{type:"application/pdf"}),"certificate-".concat(e,".pdf"))})).catch((function(e){console.log(e)}))},className:e.DownloadForm,children:"Download Certificate"})})]})})]})})},"panel".concat(n))}))]})})}var ce=function(e){return"boolean"===typeof e};function ie(e){var t=e.inputRef,n=Object(L.a)(e,["inputRef"]);return Object(a.jsx)(_.a,Object(d.a)(Object(d.a)({},n),{},{ref:function(e){t(e?e.inputElement:null)},mask:[/\d/,/\d/,/\d/,"-",/\d/,/\d/,/\d/,"-",/\d/,/\d/,/\d/],showMask:!0}))}var re=Object(p.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)},marginTop:"20px"},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},Find:{width:"80px"},Clear:{marginRight:"20px"},title:{marginTop:"20px"},TextBox:{marginTop:"30px","& > *":{textAlign:"center"}},TextField:{},NoRecordsFound:{marginTop:"20px",color:"red",fontWeight:"600",fontSize:"14px"},PersonsBox:{marginTop:"20px",marginBottom:"50px"}}}));function oe(){var e=re(),t=i.a.useContext(l),n=Object(s.a)(t,2),r=n[0],o=n[1],u=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=i.a.useState(e),a=Object(s.a)(n,2),c=a[0],r=a[1];return[function(e){return r(!ce(e)||e)},{autoFocus:c,key:"".concat(t).concat(c),onFocus:function(){return r(!0)},onBlur:function(){return r(!1)}}]}(!0),p=Object(s.a)(u,2),h=p[0],g=p[1];Object(c.useEffect)((function(){O()}),[r.findRecords]);var x=function(){o((function(e){return Object(d.a)(Object(d.a)({},e),{},{refError:!1})})),o((function(e){return Object(d.a)(Object(d.a)({},e),{},{ref:"___-___-___"})})),o((function(e){return Object(d.a)(Object(d.a)({},e),{},{foundRecords:[]})})),h()},O=function(){!r.ref||r.ref.indexOf("_")>=0?o((function(e){return Object(d.a)(Object(d.a)({},e),{},{refError:!0})})):(o((function(e){return Object(d.a)(Object(d.a)({},e),{},{submiting:!0})})),o((function(e){return Object(d.a)(Object(d.a)({},e),{},{foundRecords:[]})})),U.getBookingsByRef(r.ref).then((function(e){o((function(e){return Object(d.a)(Object(d.a)({},e),{},{submiting:!1})})),e.data.length>0?o((function(t){return Object(d.a)(Object(d.a)({},t),{},{foundRecords:e.data})})):o((function(e){return Object(d.a)(Object(d.a)({},e),{},{foundRecords:null})})),console.log(e.data)})).catch((function(e){console.log(e),o((function(e){return Object(d.a)(Object(d.a)({},e),{},{submiting:!1})}))})))};return Object(a.jsxs)(i.a.Fragment,{children:[Object(a.jsx)(j.a,{}),Object(a.jsx)("div",{className:e.title,children:Object(a.jsx)(b.a,{component:"h6",variant:"h6",align:"center",children:"Find Booking Appoinments"})}),Object(a.jsxs)(z.a,{container:!0,direction:"column",spacing:1,justify:"flex-start",alignItems:"center",children:[Object(a.jsx)(z.a,{item:!0,xs:12,md:12,children:Object(a.jsx)(N.a,{className:e.TextBox,children:Object(a.jsx)(m.a,Object(d.a)(Object(d.a)({},g),{},{pattern:"[0-9]*",error:!!r.refError,value:r.ref,className:e.TextField,width:"50px",onChange:function(e){o((function(t){return Object(d.a)(Object(d.a)({},t),{},{ref:e.target.value})})),o((function(e){return Object(d.a)(Object(d.a)({},e),{},{refError:!1})}))},label:"Reference No.",helperText:"Enter Your 9-digits Reference No.",name:"refNo",id:"refNo",variant:"outlined",size:"medium",margin:"normal",fullWidth:!0,InputProps:{inputComponent:ie,style:{textAlign:"center",fontSize:"24px",width:"210px",paddingLeft:"20px"}},onKeyPress:function(e){"Enter"===e.key&&O()}}))})}),Object(a.jsxs)(z.a,{item:!0,xs:12,md:12,children:[Object(a.jsx)(f.a,{disabled:r.submiting,color:"default",onClick:x,onTouchTap:x,className:e.Clear,children:"Clear"}),Object(a.jsx)(f.a,{type:"button",disabled:r.submiting,variant:"contained",color:"primary",onClick:O,onTouchTap:O,className:e.Find,children:"Find"})]}),Object(a.jsxs)(z.a,{item:!0,xs:12,md:12,children:[r.foundRecords&&r.foundRecords.length>0&&Object(a.jsx)(i.a.Fragment,{children:Object(a.jsx)("div",{className:e.PersonsBox,children:Object(a.jsx)(ae,{})})}),!r.foundRecords&&Object(a.jsx)(i.a.Fragment,{children:Object(a.jsx)("div",{className:e.root,children:Object(a.jsxs)(v.a,{severity:"error",children:[" ",Object(a.jsx)("strong",{children:"No Records Found !"})," ",Object(a.jsx)("br",{})," Please check you reference number again."]})})})]})]})]})}var se=n(24),le=n(242),de=n(549),je=n(248),ue=n.n(je),be=n(245),pe=n.n(be),he=n(246),fe=n.n(he),me=n(247),ge=n.n(me),xe=Object(p.a)((function(e){return{title:{marginTop:e.spacing(0),marginBottom:e.spacing(1)},refreshButton:{marginLeft:e.spacing(2)},checkIcon:{color:"green"},closeIcon:{color:"red"},RefLink:{cursor:"pointer"},BookedLabel:{backgroundColor:"#606060",color:"#fff",paddingRight:"10px",paddingLeft:"10px"},TestTakenLabel:{backgroundColor:"#0066cc",color:"#fff",paddingRight:"15px",paddingLeft:"10px"},ReportSentLabel:{backgroundColor:"#009900",color:"#fff",paddingRight:"40px",paddingLeft:"10px"}}}));function Oe(e){var t=xe(),n=[{field:"id",headerName:"#",width:50},{field:"bookingDate",headerName:"Booked Date",width:150},{field:"bookingTimeNormalized",headerName:"Booked Time",width:150,valueGetter:function(e){return e.getValue("bookingTime")}},{field:"status",headerName:"Status",width:150,renderCell:function(e){return"booked"===e.value?Object(a.jsx)("span",{className:t.BookedLabel,children:" Booked "}):"took_the_test"===e.value?Object(a.jsx)("span",{className:t.TestTakenLabel,children:" Test Taken "}):"report_sent"===e.value?Object(a.jsx)("span",{className:t.ReportSentLabel,children:" Report Sent "}):"Unknown"}},{field:"bookingRef",headerName:"Ref No.",width:150,renderCell:function(e){return Object(a.jsx)(de.a,{title:"Go Find By Ref",placement:"right",children:Object(a.jsx)(u.a,{className:t.RefLink,onClick:function(){console.log(e.value),j((function(e){return Object(d.a)(Object(d.a)({},e),{},{currentMenuIndex:5})})),j((function(t){return Object(d.a)(Object(d.a)({},t),{},{ref:e.value})})),j((function(e){return Object(d.a)(Object(d.a)({},e),{},{refError:!1})})),j((function(e){return Object(d.a)(Object(d.a)({},e),{},{foundRecords:[]})})),j((function(e){return Object(d.a)(Object(d.a)({},e),{},{findRecords:!e.findRecords})}))},children:e.value})})}},{field:"forename",headerName:"Forename",width:150},{field:"surname",headerName:"Surname",width:150},{field:"birthDate",headerName:"D.O.B",width:150},{field:"email",headerName:"email",width:300},{field:"phone",headerName:"Tel",width:150},{field:"passportNumber",headerName:"Passport No.",width:250,valueGetter:function(e){var t=e.getValue("passportNumber2");return t&&t.length>0&&t.trim().length>0?"".concat(e.getValue("passportNumber")," - ").concat(e.getValue("passportNumber2")):e.getValue("passportNumber")}},{field:"certificate",headerName:"Certificate",width:150,renderCell:function(e){return e.value?Object(a.jsx)(fe.a,{className:t.checkIcon}):Object(a.jsx)(ge.a,{className:t.closeIcon})}},{field:"postCode",headerName:"Post Code",width:150},{field:"address",headerName:"Address",width:500},{field:"notes",headerName:"Notes",width:500}],r=i.a.useContext(l),o=Object(s.a)(r,2),j=(o[0],o[1]),p=i.a.useState({bookings:[],cachedBookings:[],isFetching:!1}),h=Object(s.a)(p,2),f=h[0],g=h[1],x=i.a.useState(null),O=Object(s.a)(x,2),k=(O[0],O[1]),v=i.a.useState(""),w=Object(s.a)(v,2),N=w[0],y=w[1],C=i.a.useState(!1),B=Object(s.a)(C,2),T=B[0],R=B[1],S=U.getAllBookings;"today"===e.date?S=U.getTodayBookings:"old"===e.date?S=U.getOldBookings:"future"===e.date?S=U.getFutureBookings:"recent"===e.date&&(S=U.getRecentBookingsAll),Object(c.useEffect)((function(){g({bookings:[],cachedBookings:[],isFetching:!0}),S().then((function(e){e.data.forEach((function(t,n){e.data[n]=Object(d.a)(Object(d.a)({},t),{},{id:n+1})})),g({bookings:e.data,cachedBookings:Object(se.a)(e.data),isFetching:!1})})).catch((function(e){console.log(e),g({bookings:f.bookings,cachedBookings:f.cachedBookings,isFetching:!1})}))}),[e.date,T]),Object(c.useEffect)((function(){if(N&&N.trim().length>0){var e=f.bookings.filter((function(e){return e.forename.toLowerCase().indexOf(N.toLowerCase())>=0||e.surname.toLowerCase().indexOf(N.toLowerCase())>=0||e.email.toLowerCase().indexOf(N.toLowerCase())>=0}));g({bookings:e,cachedBookings:f.cachedBookings,isFetching:!1})}else g({bookings:Object(se.a)(f.cachedBookings),cachedBookings:f.cachedBookings,isFetching:!1})}),[N]);var I;return Object(a.jsxs)(i.a.Fragment,{children:[Object(a.jsxs)(z.a,{container:!0,direction:"row",justify:"space-between",alignItems:"flex-end",children:[Object(a.jsx)(z.a,{item:!0,md:3,children:Object(a.jsxs)(b.a,{variant:"h6",color:"inherit",noWrap:!0,className:t.title,children:[(I=e.date,"today"===I?"Today's Bookings":"old"===I?"Old Bookings":"future"===I?"Future Bookings":"recent"===I?"Recent Bookings":"All Bookings"),Object(a.jsx)(de.a,{title:"Refresh",placement:"right",children:Object(a.jsx)(F.a,{color:"primary",className:t.refreshButton,onClick:function(e){y(""),R(!T)},children:Object(a.jsx)(ue.a,{})})})]})}),Object(a.jsx)(z.a,{item:!0,md:3,children:f.isFetching&&Object(a.jsx)(pe.a,{type:"ThreeDots",color:"#3f51b5",height:50,width:50,timeout:0})}),Object(a.jsx)(z.a,{item:!0,md:3,children:Object(a.jsx)(m.a,{variant:"standard",value:N,onChange:function(e){y(e.target.value)},margin:"normal",size:"small",id:"filter",label:"Filter",name:"filter",autoComplete:"off"})})]}),Object(a.jsx)("div",{style:{height:700,width:"100%"},children:Object(a.jsx)(le.a,{rows:f.bookings,columns:n,autoPageSize:!0,onSelectionChange:function(e){e.length>0&&k(e.rows[0])}})})]})}Object(p.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));n(363);var ke=n(72),ve=n(624),we=n(618),Ne=n(263),ye=n.n(Ne),Ce=n(264),Be=n.n(Ce),Te=n(617),Re=n(544),Se=n(21),Fe=n(63);function Ie(e){return Object(a.jsx)(b.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0,children:e.children})}function De(e,t){return{time:e,amount:t}}var Ae=[De("00:00",0),De("03:00",3),De("06:00",6),De("09:00",8),De("12:00",15),De("15:00",20),De("18:00",24),De("21:00",24),De("24:00",void 0)];function Me(){var e=Object(Se.a)();return Object(a.jsxs)(i.a.Fragment,{children:[Object(a.jsx)(Ie,{children:"Today"}),Object(a.jsx)(Fe.d,{children:Object(a.jsxs)(Fe.c,{data:Ae,margin:{top:16,right:16,bottom:0,left:24},children:[Object(a.jsx)(Fe.e,{dataKey:"time",stroke:e.palette.text.secondary}),Object(a.jsx)(Fe.f,{stroke:e.palette.text.secondary,children:Object(a.jsx)(Fe.a,{angle:270,position:"left",style:{textAnchor:"middle",fill:e.palette.text.primary},children:"Online Bookings"})}),Object(a.jsx)(Fe.b,{type:"monotone",dataKey:"amount",stroke:e.palette.primary.main,dot:!1})]})})]})}function Pe(e){e.preventDefault()}var Ee=Object(p.a)({depositContext:{flex:1}});function Le(){var e=Ee();return Object(a.jsxs)(i.a.Fragment,{children:[Object(a.jsx)(Ie,{children:"Current Visits"}),Object(a.jsx)(b.a,{component:"p",variant:"h6",children:"9:00 AM - 9:15 AM"}),Object(a.jsxs)(b.a,{color:"textSecondary",className:e.depositContext,children:["on ",Q(new Date,"dd mmmm, yyyy")]}),Object(a.jsx)("div",{children:Object(a.jsx)(u.a,{color:"primary",href:"#",onClick:Pe,children:"View Visitors"})})]})}var We=n(611),_e=n(614),ze=n(609),Ve=n(612),He=n(613);function Ge(e,t,n,a,c,i){return{id:e,date:t,name:n,shipTo:a,paymentMethod:c,amount:i}}Ge(0,"16 Mar, 2019","Elvis Presley","Tupelo, MS","VISA \u2800\u2022\u2022\u2022\u2022 3719",312.44),Ge(1,"16 Mar, 2019","Paul McCartney","London, UK","VISA \u2800\u2022\u2022\u2022\u2022 2574",866.99),Ge(2,"16 Mar, 2019","Tom Scholz","Boston, MA","MC \u2800\u2022\u2022\u2022\u2022 1253",100.81),Ge(3,"16 Mar, 2019","Michael Jackson","Gary, IN","AMEX \u2800\u2022\u2022\u2022\u2022 2000",654.39),Ge(4,"15 Mar, 2019","Bruce Springsteen","Long Branch, NJ","VISA \u2800\u2022\u2022\u2022\u2022 5919",212.79);Object(p.a)((function(e){return{seeMore:{marginTop:e.spacing(3)}}}));var Ue=Object(p.a)((function(e){return{seeMore:{marginTop:e.spacing(3)}}}));function Ke(){var e=Ue(),t=i.a.useContext(l),n=Object(s.a)(t,2),r=(n[0],n[1]),o=i.a.useState({bookings:[],isFetching:!1}),j=Object(s.a)(o,2),b=j[0],p=j[1];return Object(c.useEffect)((function(){p({bookings:b.bookings,isFetching:!0}),U.getRecentBookings().then((function(e){p({bookings:e.data,isFetching:!1})})).catch((function(e){console.log(e),p({bookings:b.bookings,isFetching:!1})}))}),[]),Object(a.jsxs)(i.a.Fragment,{children:[Object(a.jsx)(Ie,{children:"Recent Bookings"}),Object(a.jsxs)(We.a,{size:"small",children:[Object(a.jsx)(Ve.a,{children:Object(a.jsxs)(He.a,{children:[Object(a.jsx)(ze.a,{children:"TimeStamp"}),Object(a.jsx)(ze.a,{children:"Name"}),Object(a.jsx)(ze.a,{children:"Surname"}),Object(a.jsx)(ze.a,{children:"Email"}),Object(a.jsx)(ze.a,{children:"D.O.B"}),Object(a.jsx)(ze.a,{children:"Booked Date"}),Object(a.jsx)(ze.a,{children:"Booked Time"})]})}),Object(a.jsx)(_e.a,{children:b.bookings.map((function(e){return Object(a.jsxs)(He.a,{children:[Object(a.jsx)(ze.a,{children:Q(e.timeStamp,"mmm dS, h:MM:ss TT")}),Object(a.jsx)(ze.a,{children:e.forename}),Object(a.jsx)(ze.a,{children:e.surname}),Object(a.jsx)(ze.a,{children:e.email}),Object(a.jsx)(ze.a,{children:e.birthDate}),Object(a.jsx)(ze.a,{children:e.bookingDate}),Object(a.jsx)(ze.a,{children:e.bookingTime})]},e._id)}))})]}),Object(a.jsx)("div",{className:e.seeMore,children:Object(a.jsx)(u.a,{color:"primary",href:"#",onClick:function(e){e.preventDefault(),r((function(e){return Object(d.a)(Object(d.a)({},e),{},{currentMenuIndex:100})}))},children:"See more records"})})]})}var Je=Object(p.a)((function(e){return{paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}}));function Xe(){var e=Je(),t=i.a.useContext(l),n=Object(s.a)(t,2),c=(n[0],n[1],Object(A.a)(e.paper,e.fixedHeight));return Object(a.jsx)(i.a.Fragment,{children:Object(a.jsxs)(z.a,{container:!0,spacing:3,children:[Object(a.jsx)(z.a,{item:!0,xs:12,md:8,lg:9,children:Object(a.jsx)(Re.a,{className:c,children:Object(a.jsx)(Me,{})})}),Object(a.jsx)(z.a,{item:!0,xs:12,md:4,lg:3,children:Object(a.jsx)(Re.a,{className:c,children:Object(a.jsx)(Le,{})})}),Object(a.jsx)(z.a,{item:!0,xs:12,children:Object(a.jsx)(Re.a,{className:e.paper,children:Object(a.jsx)(Ke,{})})})]})})}var Ye=n(615),qe=n(599),Qe=n(610),$e=n(616),Ze=n(257),et=n.n(Ze),tt=n(258),nt=n.n(tt),at=n(259),ct=n.n(at),it=n(260),rt=n.n(it),ot=n(261),st=n.n(ot),lt=n(262),dt=n.n(lt),jt=Object(p.a)((function(e){return{paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}}));function ut(){jt();var e=i.a.useContext(l),t=Object(s.a)(e,2),n=t[0],r=t[1],o=i.a.useState(0),j=Object(s.a)(o,2),u=j[0],b=j[1];Object(c.useEffect)((function(){b(n.currentMenuIndex)}),[n.currentMenuIndex]);var p=function(e,t){b(t),r((function(e){return Object(d.a)(Object(d.a)({},e),{},{currentMenuIndex:t})}))};return Object(a.jsx)(i.a.Fragment,{children:Object(a.jsxs)(qe.a,{children:[Object(a.jsxs)(Qe.a,{button:!0,selected:0===u,onClick:function(e){return p(0,0)},children:[Object(a.jsx)(Ye.a,{children:Object(a.jsx)(et.a,{})}),Object(a.jsx)($e.a,{primary:"Dashboard"})]}),Object(a.jsxs)(Qe.a,{button:!0,selected:1===u,onClick:function(e){return p(0,1)},children:[Object(a.jsx)(Ye.a,{children:Object(a.jsx)(nt.a,{})}),Object(a.jsx)($e.a,{primary:"Today's Bookings"})]}),Object(a.jsxs)(Qe.a,{button:!0,selected:2===u,onClick:function(e){return p(0,2)},children:[Object(a.jsx)(Ye.a,{children:Object(a.jsx)(ct.a,{})}),Object(a.jsx)($e.a,{primary:"Old Bookings"})]}),Object(a.jsxs)(Qe.a,{button:!0,selected:3===u,onClick:function(e){return p(0,3)},children:[Object(a.jsx)(Ye.a,{children:Object(a.jsx)(rt.a,{})}),Object(a.jsx)($e.a,{primary:"Future Bookings"})]}),Object(a.jsxs)(Qe.a,{button:!0,selected:4===u,onClick:function(e){return p(0,4)},children:[Object(a.jsx)(Ye.a,{children:Object(a.jsx)(st.a,{})}),Object(a.jsx)($e.a,{primary:"All Bookings"})]}),Object(a.jsxs)(Qe.a,{button:!0,selected:5===u,onClick:function(e){return p(0,5)},children:[Object(a.jsx)(Ye.a,{children:Object(a.jsx)(dt.a,{})}),Object(a.jsx)($e.a,{primary:"Find By Ref No."})]})]})})}function bt(){return Object(a.jsxs)(b.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(a.jsx)(u.a,{color:"inherit",href:"#",children:"Medical Express Clinic"})," ",(new Date).getFullYear(),"."]})}var pt=Object(p.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(d.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(ke.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}}));function ht(){var e=pt(),t=i.a.useContext(l),n=Object(s.a)(t,2),r=n[0],o=n[1],u=i.a.useState(!0),p=Object(s.a)(u,2),h=p[0],f=p[1],m=i.a.useState(0),x=Object(s.a)(m,2),O=x[0],v=x[1];Object(c.useEffect)((function(){v(r.currentMenuIndex)}),[r.currentMenuIndex]);Object(A.a)(e.paper,e.fixedHeight);return Object(a.jsxs)("div",{className:e.root,children:[Object(a.jsx)(j.a,{}),Object(a.jsx)(w.a,{position:"absolute",className:Object(A.a)(e.appBar,h&&e.appBarShift),children:Object(a.jsxs)(S.a,{className:e.toolbar,children:[Object(a.jsx)(F.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){f(!0)},className:Object(A.a)(e.menuButton,h&&e.menuButtonHidden),children:Object(a.jsx)(ye.a,{})}),Object(a.jsx)(b.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:e.title,children:"PCR Booking Admin Console"}),r.signedIn&&Object(a.jsx)(F.a,{onClick:function(){o((function(e){return Object(d.a)(Object(d.a)({},e),{},{signedIn:!1})}))},color:"inherit",children:Object(a.jsx)(de.a,{title:"Logout",children:Object(a.jsx)(Te.a,{})})})]})}),Object(a.jsxs)(ve.a,{variant:"permanent",classes:{paper:Object(A.a)(e.drawerPaper,!h&&e.drawerPaperClose)},open:h,children:[Object(a.jsx)("div",{className:e.toolbarIcon,children:Object(a.jsx)(F.a,{onClick:function(){f(!1)},children:Object(a.jsx)(Be.a,{})})}),Object(a.jsx)(we.a,{}),Object(a.jsx)(ut,{})]}),Object(a.jsxs)("main",{className:e.content,children:[Object(a.jsx)("div",{className:e.appBarSpacer}),Object(a.jsxs)(k.a,{maxWidth:"lg",className:e.container,children:[function(e){switch(e){case 0:return Object(a.jsx)(Xe,{});case 1:return Object(a.jsx)(Oe,{date:"today"});case 2:return Object(a.jsx)(Oe,{date:"old"});case 3:return Object(a.jsx)(Oe,{date:"future"});case 4:return Object(a.jsx)(Oe,{date:"all"});case 5:return Object(a.jsx)(oe,{});case 100:return Object(a.jsx)(Oe,{date:"recent"});default:throw new Error("Unknown MenuItem")}}(O),Object(a.jsx)(g.a,{pt:4,children:Object(a.jsx)(bt,{})})]})]})]})}var ft=Object(p.a)((function(e){return{appBar:{position:"static",backgroundColor:"#333",color:"#fff"},signOutButton:{color:"#fff",marginRight:"20px",fontWeight:"500"},title:{flexGrow:1}}}));function mt(){ft();var e=i.a.useContext(l),t=Object(s.a)(e,2),n=t[0];t[1];return Object(a.jsxs)(i.a.Fragment,{children:[Object(a.jsx)(j.a,{}),!n.signedIn&&Object(a.jsx)(E,{}),n.signedIn&&Object(a.jsx)(ht,{})]})}var gt=function(){var e=i.a.useState({foundRecords:[],currentMenuIndex:0}),t=Object(s.a)(e,2),n=t[0],c=t[1];return Object(a.jsx)(l.Provider,{value:[n,c],children:Object(a.jsx)("div",{className:"App",children:Object(a.jsx)(mt,{})})})};o.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(gt,{})}),document.getElementById("root"))}},[[542,1,2]]]);
//# sourceMappingURL=main.522d7f0a.chunk.js.map