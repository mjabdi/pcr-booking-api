(this["webpackJsonppcr-booking-ui"]=this["webpackJsonppcr-booking-ui"]||[]).push([[0],{27:function(e,t){e.exports={FormatDateFromString:function(e){return"".concat(e.substr(8,2),"-").concat(e.substr(5,2),"-").concat(e.substr(0,4))},FormatDateFromStringShortYear:function(e){return"".concat(e.substr(8,2),"-").concat(e.substr(5,2),"-").concat(e.substr(2,2))},RevertFormatDateFromString:function(e){return"".concat(e.substr(6,4),"-").concat(e.substr(3,2),"-").concat(e.substr(0,2))}}},398:function(e,t,a){},399:function(e,t,a){},48:function(e,t){var a=function(e){var t=199;return e.tr&&(t=250),e.certificate&&(t+=50),e.antiBodyTest&&(t+=149),t};e.exports={calculatePrice:a,calculateTotalPrice:function(e){for(var t=0,n=0;n<e.length;n++)t+=a(e[n]);return t}}},625:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a(0),o=a.n(i),r=a(26),c=a.n(r),s=(a(398),a(4)),l=(a(399),o.a.createContext([{},function(){}])),d=a(3),j=a(692),u=a(626),b=a(723),p=a(688),h=a(724),g=a(674),m=a(716),f=a(233),x=a.n(f),O=a(84),v=a(677),y=a(718),k=a(675),C=a(680),B=a(725),N=a(726),T=a(684),S=a(687),w=a(345),D=a(676),R=a(202),I=a(685),A=a(686),F=a(6);function L(){return Object(n.jsxs)(O.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(n.jsx)(g.a,{color:"inherit",href:"#",children:"Medical Express Clinic"})," ",(new Date).getFullYear(),"."]})}var M=Object(u.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)},display:"flex",flexWrap:"wrap"},margin:{marginTop:e.spacing(2),marginBottom:e.spacing(2)},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",flexWrap:"wrap"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},RememberMe:{textAlign:"left"},appBar:{position:"static",alignItems:"center"}}}));function E(){var e=M(),t=o.a.useContext(l),a=Object(s.a)(t,2),i=a[0],r=a[1],c=o.a.useState(localStorage.getItem("pcr-admin-password")||""),j=Object(s.a)(c,2),u=j[0],g=j[1],f=o.a.useState(localStorage.getItem("pcr-admin-username")||""),E=Object(s.a)(f,2),P=E[0],W=E[1],U=o.a.useState(!!localStorage.getItem("pcr-admin-username")),_=Object(s.a)(U,2),z=_[0],H=_[1],K=function(){P&&u&&("admin"===P.toLowerCase()&&"MELLIM2020!gbc"===u||"rptadmin"===P.toLowerCase()&&"MELLIM2020!gbc"===u)?("rptadmin"===P.toLowerCase()?r((function(e){return Object(d.a)(Object(d.a)({},e),{},{showCreateExcel:!0})})):r((function(e){return Object(d.a)(Object(d.a)({},e),{},{showCreateExcel:!1})})),r((function(e){return Object(d.a)(Object(d.a)({},e),{},{signedIn:!0})})),z?(localStorage.setItem("pcr-admin-username",P),localStorage.setItem("pcr-admin-password",u)):(localStorage.removeItem("pcr-admin-username"),localStorage.removeItem("pcr-admin-password"))):r((function(e){return Object(d.a)(Object(d.a)({},e),{},{signedInError:!0})}))};return Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)(k.a,{position:"absolute",color:"primary",className:e.appBar,children:Object(n.jsx)(D.a,{children:Object(n.jsx)(O.a,{variant:"h6",color:"inherit",noWrap:!0,className:e.title,children:"PCR Booking Admin Console"})})}),Object(n.jsxs)(v.a,{component:"main",maxWidth:"xs",children:[Object(n.jsxs)("div",{className:e.paper,children:[Object(n.jsx)(b.a,{className:e.avatar,children:Object(n.jsx)(x.a,{})}),Object(n.jsx)(O.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(n.jsxs)("form",{className:e.form,noValidate:!0,children:[Object(n.jsx)(h.a,{variant:"outlined",value:P,onChange:function(e){W(e.target.value),r((function(e){return Object(d.a)(Object(d.a)({},e),{},{signedInError:!1})}))},margin:"normal",required:!0,fullWidth:!0,id:"usrname",label:"Username",name:"username",autoComplete:"username",autoFocus:!0}),Object(n.jsxs)(C.a,{fullWidth:!0,required:!0,className:Object(F.a)(e.margin,e.textField),variant:"outlined",onKeyPress:function(e){"Enter"===e.key&&K()},children:[Object(n.jsx)(B.a,{htmlFor:"outlined-adornment-password",children:"Password"}),Object(n.jsx)(N.a,{id:"outlined-adornment-password",name:"outlined-adornment-password",type:i.showPassword?"text":"password",value:u,onChange:function(e){g(e.target.value),r((function(e){return Object(d.a)(Object(d.a)({},e),{},{signedInError:!1})}))},endAdornment:Object(n.jsx)(T.a,{position:"end",children:Object(n.jsx)(R.a,{"aria-label":"toggle password visibility",onClick:function(){r((function(e){return Object(d.a)(Object(d.a)({},e),{},{showPassword:!e.showPassword})}))},onMouseDown:function(e){e.preventDefault()},children:i.showPassword?Object(n.jsx)(I.a,{}):Object(n.jsx)(A.a,{})})}),labelWidth:100})]}),Object(n.jsx)("div",{align:"left",children:Object(n.jsx)(S.a,{className:e.RememberMe,control:Object(n.jsx)(w.a,{value:"remember",color:"primary",checked:z,onChange:function(e){H(e.target.checked)}}),label:"Save password on this device"})}),Object(n.jsx)(p.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",onClick:K,onTouchTap:K,className:e.submit,children:"Sign In"})]})]}),i.signedInError&&Object(n.jsx)("div",{className:e.root,children:Object(n.jsx)(y.a,{fullWidth:!0,severity:"error",children:"Invalid Username or Password. Please try again."})}),Object(n.jsx)(m.a,{mt:8,children:Object(n.jsx)(L,{})})]})]})}var P=a(19),W=a(711),U=a(698),_=a(340),z=a.n(_),H=a(341),K=a.n(H),q=a(710),Y=a(635),V=a(708),G=a(683),Q=a(630),J=a(709),X=a(337),Z=a.n(X),$=a(342),ee=a(315),te=a.n(ee),ae=a(689),ne=a(47),ie=a(116),oe=a.n(ie),re=oe.a.create({baseURL:"https://www.travelpcrtest.com",headers:{Authorization:"Basic QXp1cmXEaWFtb45kOmh1bnRlcjO="}}),ce=a(316),se=a.n(ce),le=function e(){Object(ne.a)(this,e)};le.payBooking=function(e,t,a){return re.post("/api/book/paybooking?id=".concat(e,"&paymentmethod=").concat(t,"&corporate=").concat(a))},le.unPayBooking=function(e){return re.post("/api/book/unpaybooking?id=".concat(e))},le.getTestsTimeReport=function(){return se()(re,{retries:3,retryDelay:function(e){return 1e3*e}}),re.get("/api/book/getteststimereport")},le.getBookingsStatsByDateStr=function(e){return re.get("/api/book/getbookingsstatsbydatestr?date=".concat(e))},le.getBookingsCountByDateStr=function(e){return re.get("/api/book/getbookingscountbydatestr?date=".concat(e))},le.getBookingsCountByDateStrandTime=function(e,t,a){return re.get("/api/book/getbookingscountbydatestrandtime?date=".concat(e,"&time=").concat(t),{cancelToken:a.token})},le.getBookingsByDateStrandTime=function(e,t){return re.get("/api/book/getbookingsbydatestrandtime?date=".concat(e,"&time=").concat(t))},le.getAllBookingsCountByDateStr=function(e){return re.get("/api/book/getallbookingscountbydatestr?date=".concat(e))},le.getAllBookingsCountByDateStrandTime=function(e,t,a){return re.get("/api/book/getallbookingscountbydatestrandtime?date=".concat(e,"&time=").concat(t),{cancelToken:a.token})},le.getAllBookingsByDateStrandTime=function(e,t){return re.get("/api/book/getallbookingsbydatestrandtime?date=".concat(e,"&time=").concat(t))},le.changeBackToBookingMade=function(e){return re.post("/api/book/changebacktobookingmade?id=".concat(e))},le.resendEmailsWithBookingId=function(e){return re.post("/api/book/resendemailswithbookingid?id=".concat(e))},le.regenerateFilesWithBookingId=function(e){return re.post("/api/book/regeneratefileswithbookingid?id=".concat(e))},le.resendEmails=function(e){return re.post("/api/book/resendemails?id=".concat(e))},le.regenerateFiles=function(e){return re.post("/api/book/regeneratefiles?id=".concat(e))},le.matchRecords=function(e,t){return re.post("/api/book/matchrecords?bookingid=".concat(e,"&linkid=").concat(t))},le.findBestMatches=function(e){return re.get("/api/book/getbestmatchedbookings?id=".concat(e))},le.getLinkDetails=function(e){return re.get("/api/book/getlinkdetails?id=".concat(e))},le.getLinkDetailsWithBookingId=function(e){return re.get("/api/book/getlinkdetailswithbookingid?id=".concat(e))},le.findBookingByRefBirthDate=function(e,t){return re.get("/api/book/getbookingsbyrefandbirthdate?ref=".concat(e,"&birthdate=").concat(t))},le.updateBooking=function(e){return re.post("/api/book/updatebookappointment",e)},le.updateBookingTime=function(e){return re.post("/api/book/updatebookappointmenttime",e)},le.deleteBooking=function(e){return re.post("/api/book/deletebookappointment?id=".concat(e))},le.unDeleteBooking=function(e){return re.post("/api/book/undeletebookappointment?id=".concat(e))},le.getBookingsByRef=function(e){return re.get("/api/book/getbookingsbyref?ref=".concat(e))},le.getBookingById=function(e){return re.get("/api/book/getbookingbyid?id=".concat(e))},le.getAllBookings=function(){return re.get("/api/book/getallbookings")},le.getLateBookings=function(){return re.get("/api/book/getlatebookings")},le.getDeletedBookings=function(){return re.get("/api/book/getdeletedbookings")},le.getLiveBookings=function(){return re.get("/api/book/getlivebookings")},le.getCompletedBookings=function(){return re.get("/api/book/getcompletedbookings")},le.getPositiveBookings=function(){return re.get("/api/book/getpositivebookings")},le.getTodayBookings=function(){return re.get("/api/book/gettodaybookings")},le.getOldBookings=function(){return re.get("/api/book/getoldbookings")},le.getFutureBookings=function(){return re.get("/api/book/getfuturebookings")},le.getRecentBookings=function(){return re.get("/api/book/getrecentbookings")},le.getRecentBookingsAll=function(){return re.get("/api/book/getrecentbookingsall")},le.getUnmatchedRecords=function(){return re.get("/api/book/getunmatchedrecords")},le.getUnmatchedRecordsArchived=function(){return re.get("/api/book/getunmatchedrecordsarchived")},le.archiveRecord=function(e){return re.post("/api/book/archiverecord?id=".concat(e))},le.unArchiveRecord=function(e){return re.post("/api/book/unarchiverecord?id=".concat(e))};var de=a(722),je=a(691),ue=a(690),be=a(317),pe=a.n(be),he=a(9),ge=a.n(he),me=function e(){Object(ne.a)(this,e)};me.downloadCovidForm1=function(e){return re.get("/api/pdf/downloadcovidform1?id=".concat(e),{responseType:"arraybuffer",id:e,headers:{Accept:"application/pdf"}})},me.downloadCovidForm2=function(e){return re.get("/api/pdf/downloadcovidform2?id=".concat(e),{responseType:"arraybuffer",headers:{Accept:"application/pdf"}})},me.downloadPdfResult=function(e){return re.get("/api/pdf/downloadpdfresult?id=".concat(e),{responseType:"arraybuffer",headers:{Accept:"application/pdf"}})},me.downloadPdfCert=function(e){return re.get("/api/pdf/downloadpdfcert?id=".concat(e),{responseType:"arraybuffer",headers:{Accept:"application/pdf"}})},me.downloadPdfLabReport=function(e){return re.get("/api/pdf/downloadpdflabreport?id=".concat(e),{responseType:"arraybuffer",headers:{Accept:"application/pdf"}})};var fe=a(48),xe=a.n(fe),Oe=(a(422),a(60)),ve=a.n(Oe),ye=a(40),ke=a.n(ye),Ce=a(90),Be=a.n(Ce),Ne=a(27),Te=a(76),Se=a.n(Te),we=Object(u.a)((function(e){return{box:{backgroundColor:"#373737",color:"#fff",padding:"1px",borderRadius:"4px",textAlign:"justify",paddingRight:"40px"},boxRed:{backgroundColor:"#dc2626",color:"#fff",padding:"1px",borderRadius:"4px",textAlign:"justify",paddingRight:"40px"},boxInfo:{textAlign:"justify",backgroundColor:"#fafafa",color:"#333",padding:"1px",borderRadius:"4px",paddingRight:"40px",border:"1px solid #eee"},ul:{listStyle:"none",padding:"0",margin:"0"},li:{marginBottom:"15px"},icon:{marginRight:"8px"},root:{width:"100%"},lineThrough:{textDecoration:"line-through"},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0,color:e.palette.text.secondary},secondaryHeading:{fontSize:e.typography.pxToRem(15)},infoDetails:{textAlign:"left"},infoTitle:{fontWeight:"800",marginRight:"10px"},infoData:{fontWeight:"400"},title:{textAlign:"center",fontWeight:"600",marginLeft:"10px",marginBottom:"5px"},Accordion:{backgroundColor:"#f5f5f5",color:"#222"},AccordionDeleted:{backgroundColor:"#aaa",color:"#555"},DownloadForm:{marginTop:"10px",marginBottom:"10px"},infoDataCharges:{fontSize:"18px",color:"green",fontWeight:"600"},infoDataChargesHigher:{fontSize:"18px",color:"red",fontWeight:"600"},BookedLabel:{color:"#606060",paddingRight:"10px",paddingLeft:"5px",paddingBottom:"3px",paddingTop:"3px",fontWeight:"800",borderLeft:"5px solid",borderColor:"#606060"},PatientAttendedLabel:{color:"#0066aa",paddingRight:"10px",paddingLeft:"5px",paddingBottom:"3px",paddingTop:"3px",fontWeight:"800",borderLeft:"5px solid",borderColor:"#0066aa"},SampleTakenLabel:{color:"#0066cc",paddingRight:"10px",paddingLeft:"5px",paddingBottom:"3px",paddingTop:"3px",fontWeight:"800",borderLeft:"5px solid",borderColor:"#0066cc"},ReportSentLabel:{color:"#009900",paddingRight:"10px",paddingLeft:"5px",paddingBottom:"3px",paddingTop:"3px",fontWeight:"800",borderLeft:"5px solid",borderColor:"#009900"},ReportCertSentLabel:{color:"#009900",paddingRight:"10px",paddingLeft:"5px",paddingBottom:"3px",paddingTop:"3px",fontWeight:"800",borderLeft:"5px solid",borderColor:"#009900"},PositiveLabel:{color:"red",paddingRight:"10px",paddingLeft:"5px",paddingBottom:"3px",paddingTop:"3px",fontWeight:"800",borderLeft:"5px solid",borderColor:"red"},EditButton:{marginBottom:"20px",backgroundColor:"#2f942e","&:hover":{background:"green",color:"#fff"},textDecoration:"none !important",padding:"10px"},RestoreButton:{marginBottom:"20px",backgroundColor:"#fafafa",color:"#555","&:hover":{background:"#f1f1f1",color:"#111"},textDecoration:"none !important",padding:"10px"},DeleteButton:{marginBottom:"20px",backgroundColor:"#d90015","&:hover":{background:"#b80012",color:"#fff"},padding:"10px"},SaveButton:{marginBottom:"10px",padding:"10px",backgroundColor:"#d1175e","&:hover":{background:"#bd0d50",color:"#fff"}},CancelButton:{marginBottom:"20px"},TextBox:{padding:"0px"},checkIcon:{color:"green"},closeIcon:{color:"red"},centeredLabel:{display:"flex",alignItems:"center"}}}));function De(){var e=we(),t=o.a.useContext(l),a=Object(s.a)(t,2),i=a[0],r=a[1],c=o.a.useState("panel0"),j=Object(s.a)(c,2),u=j[0],b=j[1],g=o.a.useState({edit:!1,person:null}),m=Object(s.a)(g,2),f=m[0],x=m[1],v=o.a.useState({delete:!1,person:null}),y=Object(s.a)(v,2),k=y[0],C=y[1],B=o.a.useState({restore:!1,person:null}),N=Object(s.a)(B,2),T=N[0],D=N[1],R=o.a.useState(!1),I=Object(s.a)(R,2),A=I[0],F=I[1],L=o.a.useState(!1),M=Object(s.a)(L,2),E=M[0],P=M[1],W=o.a.useState(!1),U=Object(s.a)(W,2),_=U[0],z=U[1],H=o.a.useState({}),K=Object(s.a)(H,2),q=K[0],V=K[1],G=o.a.useState(""),Q=Object(s.a)(G,2),J=Q[0],X=Q[1],Z=o.a.useState(""),$=Object(s.a)(Z,2),ee=$[0],te=$[1],ne=o.a.useState(""),ie=Object(s.a)(ne,2),oe=ie[0],re=ie[1],ce=o.a.useState(""),se=Object(s.a)(ce,2),be=se[0],he=se[1],ge=o.a.useState(""),xe=Object(s.a)(ge,2),Oe=xe[0],ye=xe[1],Ce=o.a.useState(""),Te=Object(s.a)(Ce,2),De=Te[0],Re=Te[1],Ie=o.a.useState(""),Ae=Object(s.a)(Ie,2),Fe=Ae[0],Le=Ae[1],Me=o.a.useState(""),Ee=Object(s.a)(Me,2),Pe=Ee[0],We=Ee[1],Ue=o.a.useState(""),_e=Object(s.a)(Ue,2),ze=_e[0],He=_e[1],Ke=o.a.useState(""),qe=Object(s.a)(Ke,2),Ye=qe[0],Ve=qe[1],Ge=o.a.useState(""),Qe=Object(s.a)(Ge,2),Je=Qe[0],Xe=Qe[1],Ze=o.a.useState(""),$e=Object(s.a)(Ze,2),et=$e[0],tt=$e[1],at=o.a.useState(""),nt=Object(s.a)(at,2),it=nt[0],ot=nt[1],rt=o.a.useState(""),ct=Object(s.a)(rt,2),st=ct[0],lt=ct[1],dt=o.a.useState(!1),jt=Object(s.a)(dt,2),ut=jt[0],bt=jt[1],pt=o.a.useState(!1),ht=Object(s.a)(pt,2),gt=ht[0],mt=ht[1],ft=function(e){X(e.target.value),V(Object(d.a)(Object(d.a)({},q),{},{bookingDateError:!1}))},xt=function(e){te(e.target.value),V(Object(d.a)(Object(d.a)({},q),{},{bookingTimeError:!1}))},Ot=function(e){re(e.target.value)},vt=function(e){he(e.target.value)},yt=function(e){ye(e.target.value)},kt=function(e){Re(e.target.value)},Ct=function(e){Le(e.target.value)},Bt=function(e){We(e.target.value),V(Object(d.a)(Object(d.a)({},q),{},{dobError:!1}))},Nt=function(e){He(e.target.value)},Tt=function(e){Ve(e.target.value)},St=function(e){Xe(e.target.value)},wt=function(e){ot(e.target.value)},Dt=function(e){lt(e.target.value)},Rt=function(e){bt(e.target.checked)},It=function(e){mt(e.target.checked)},At=function(e,t){if(e)ye(t.forenameCapital),Re(t.surnameCapital),X(Object(Ne.FormatDateFromString)(t.bookingDate)),te(t.bookingTime.toUpperCase()),re(t.gender.toUpperCase()),he(t.title.toUpperCase()),Le(t.email.toUpperCase()),We(Object(Ne.FormatDateFromString)(t.birthDate)),He(t.phone.toUpperCase()),Ve(t.postCode.toUpperCase()),Xe(t.address.toUpperCase()),t.notes&&tt(t.notes.toUpperCase()),t.passportNumber&&ot(t.passportNumber.toUpperCase()),t.passportNumber2&&lt(t.passportNumber2.toUpperCase()),bt(t.certificate),mt(t.antiBodyTest),x({edit:e,person:t});else if(e||t){if(!e&&t){var a={},n=t._id;a.certificate=ut,a.antiBodyTest=gt,a.gender=oe,a.title=be,a.birthDate=Object(Ne.RevertFormatDateFromString)(Pe),a.email=Fe,a.phone=ze,a.postCode=Ye,a.address=Je,a.passportNumber=it,a.passportNumber2=st,a.forename=Oe,a.surname=De,a.notes=et,a.bookingDate=Object(Ne.RevertFormatDateFromString)(J),a.bookingTime=ee,a.bookingRef=t.bookingRef,Lt(a)&&Mt({bookingId:n,person:a})}}else x({edit:e,person:t})},Ft=function(e){var t=!1;e&&10===e.length||(t=!0),"-"===e.charAt(4)&&"-"===e.charAt(7)||(t=!0);try{/^\d{4}-\d{2}-\d{2}$/.test(e)||(t=!0);var a=parseInt(e.substr(0,4)),n=parseInt(e.substr(5,2)),i=parseInt(e.substr(8,2));a<1900&&(t=!0),(n<1||n>12)&&(t=!0),i>31&&(t=!0)}catch(o){t=!0}return!t},Lt=function(e){var t=!1;return Ft(e.bookingDate)||(t=!0,V(Object(d.a)(Object(d.a)({},q),{},{bookingDateError:!0}))),Ft(e.birthDate)||(t=!0,V(Object(d.a)(Object(d.a)({},q),{},{dobError:!0}))),function(e){var t=!1;/^\d{2}:\d{2} AM$|^\d{2}:\d{2} PM$/.test(e)||(t=!0);try{var a=parseInt(e.substr(0,2)),n=parseInt(e.substr(3,2));(a<0||a>12)&&(t=!0),(n<0||n>59)&&(t=!0)}catch(i){t=!0}return!t}(e.bookingTime)||(t=!0,V(Object(d.a)(Object(d.a)({},q),{},{bookingTimeError:!0}))),!t},Mt=function(e){F(!0),le.updateBooking(e).then((function(e){F(!1),x({edit:!1,person:null}),r((function(e){return Object(d.a)(Object(d.a)({},e),{},{RefreshPersonInfo:!e.RefreshPersonInfo})}))})).catch((function(e){F(!1),x({edit:!1,person:null}),console.log(e)}))},Et=function(e,t){var a;e?C({delete:e,person:t}):e||t?!e&&t&&(a=t._id,P(!0),le.deleteBooking(a).then((function(e){P(!1),C({delete:!1,person:null}),r((function(e){return Object(d.a)(Object(d.a)({},e),{},{RefreshPersonInfo:!e.RefreshPersonInfo})}))})).catch((function(e){P(!1),C({delete:!1,person:null}),console.log(e)}))):C({delete:e,person:t})},Pt=function(e,t){var a;e?D({restore:e,person:t}):e||t?!e&&t&&(a=t._id,z(!0),le.unDeleteBooking(a).then((function(e){z(!1),D({restore:!1,person:null}),r((function(e){return Object(d.a)(Object(d.a)({},e),{},{RefreshPersonInfo:!e.RefreshPersonInfo})}))})).catch((function(e){z(!1),D({restore:!1,person:null}),console.log(e)}))):D({restore:e,person:t})};return Object(n.jsx)(o.a.Fragment,{children:Object(n.jsxs)(ae.a,{container:!0,direction:"column",spacing:1,justify:"flex-start",alignItems:"stretch",children:[Object(n.jsx)("div",{className:e.title,children:" Following Records Found :"}),i.foundRecords.map((function(t,a){var i,o,c,s,l,j,g,m,x,v;return Object(n.jsx)(ae.a,{item:!0,xs:12,md:12,children:Object(n.jsx)("div",{className:e.root,children:Object(n.jsxs)(de.a,{className:t.deleted?e.AccordionDeleted:e.Accordion,expanded:u==="panel".concat(a),onChange:(v="panel".concat(a),function(e,t){b(!!t&&v)}),children:[Object(n.jsxs)(ue.a,{className:t.deleted?e.lineThrough:"",expandIcon:Object(n.jsx)(pe.a,{}),"aria-controls":"panel1bh-content",id:"panel".concat(a,"bh-header"),children:[t.deleted&&Object(n.jsx)(Y.a,{title:"This record has been deleted.",children:Object(n.jsx)(Be.a,{style:{padding:0,margin:0,color:"#fff",fontSize:25}})}),Object(n.jsxs)(O.a,{className:e.heading,children:[" ","#".concat(a+1)," "]}),Object(n.jsx)(O.a,{className:e.secondaryHeading,children:"".concat(t.forenameCapital," ").concat(t.surnameCapital)})]}),Object(n.jsx)(je.a,{className:e.infoDetails,children:Object(n.jsxs)("ul",{className:e.ul,children:[Object(n.jsx)("li",{hidden:!(T.restore&&T.person._id===t._id),children:Object(n.jsx)("div",{style:{fontWeight:"500",paddingBottom:"5px",paddingLeft:"5px",fontSize:"16px",color:"#fff"},children:"Are you sure you want to restore this record?"})}),Object(n.jsx)("li",{hidden:!t.deleted||T.restore&&T.person._id===t._id,children:Object(n.jsx)(p.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",onClick:function(){Pt(!0,t)},className:e.RestoreButton,children:"Restore This Record"})}),Object(n.jsx)("li",{hidden:!(T.restore&&T.person._id===t._id),children:Object(n.jsx)(p.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",disabled:_,onClick:function(){Pt(!1,t)},className:e.SaveButton,children:"YES, Restore this!"})}),Object(n.jsx)("li",{hidden:!(T.restore&&T.person._id===t._id),children:Object(n.jsx)(p.a,{type:"button",fullWidth:!0,variant:"contained",color:"default",disabled:_,onClick:function(){Pt(!1,null)},className:e.CancelButton,children:"Cancel"})}),Object(n.jsx)("li",{hidden:t.deleted||k.delete||f.edit&&f.person._id===t._id,children:Object(n.jsx)(p.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",onClick:function(){At(!0,t)},className:e.EditButton,children:"Edit Booking Info"})}),Object(n.jsx)("li",{hidden:!(f.edit&&f.person._id===t._id),children:Object(n.jsx)(p.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",disabled:A,onClick:function(){At(!1,t)},className:e.SaveButton,children:"Save Changes"})}),Object(n.jsx)("li",{hidden:!(f.edit&&f.person._id===t._id),children:Object(n.jsx)(p.a,{type:"button",fullWidth:!0,variant:"contained",color:"default",disabled:A,onClick:function(){At(!1,null)},className:e.CancelButton,children:"Cancel"})}),Object(n.jsx)("li",{hidden:!(k.delete&&k.person._id===t._id),children:Object(n.jsx)("div",{style:{fontWeight:"600",paddingBottom:"5px",paddingLeft:"5px",fontSize:"16px"},children:"Are you sure you want to delete this record?"})}),Object(n.jsx)("li",{hidden:t.deleted||f.edit||k.delete&&k.person._id===t._id,children:Object(n.jsx)(p.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",onClick:function(){Et(!0,t)},className:e.DeleteButton,children:"Delete This Record"})}),Object(n.jsx)("li",{hidden:!(k.delete&&k.person._id===t._id),children:Object(n.jsx)(p.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",disabled:E,onClick:function(){Et(!1,t)},className:e.SaveButton,children:"YES, Delete this!"})}),Object(n.jsx)("li",{hidden:!(k.delete&&k.person._id===t._id),children:Object(n.jsx)(p.a,{type:"button",fullWidth:!0,variant:"contained",color:"default",disabled:E,onClick:function(){Et(!1,null)},className:e.CancelButton,children:"Cancel"})}),Object(n.jsxs)("li",{className:e.li,children:[Object(n.jsx)("span",{className:e.infoTitle,children:"BOOKED DATE"}),Object(n.jsx)("span",{hidden:f.edit&&f.person._id===t._id,className:e.infoData,children:Object(Ne.FormatDateFromString)(t.bookingDate)}),Object(n.jsx)("span",{hidden:!(f.edit&&f.person._id===t._id),className:e.infoData,children:Object(n.jsx)(h.a,{fullWidth:!0,error:q.bookingDateError,className:e.TextBox,value:J,onChange:ft,inputProps:{style:{padding:0}}})})]}),Object(n.jsxs)("li",{className:e.li,children:[Object(n.jsx)("span",{className:e.infoTitle,children:"BOOKED TIME"}),Object(n.jsx)("span",{hidden:f.edit&&f.person._id===t._id,className:e.infoData,children:t.bookingTime.toUpperCase()}),Object(n.jsx)("span",{hidden:!(f.edit&&f.person._id===t._id),className:e.infoData,children:Object(n.jsx)(h.a,{fullWidth:!0,error:q.bookingTimeError,className:e.TextBox,value:ee,onChange:xt,inputProps:{style:{padding:0}}})})]}),Object(n.jsxs)("li",{className:e.li,children:[Object(n.jsx)("span",{className:e.infoTitle,children:"GENDER"}),Object(n.jsx)("span",{hidden:f.edit&&f.person._id===t._id,className:e.infoData,children:null===(i=t.gender)||void 0===i?void 0:i.toUpperCase()}),Object(n.jsx)("span",{hidden:!(f.edit&&f.person._id===t._id),className:e.infoData,children:Object(n.jsx)(h.a,{fullWidth:!0,className:e.TextBox,value:oe,onChange:Ot,inputProps:{style:{padding:0}}})})]}),Object(n.jsxs)("li",{className:e.li,children:[Object(n.jsx)("span",{className:e.infoTitle,children:"TITLE"}),Object(n.jsx)("span",{hidden:f.edit&&f.person._id===t._id,className:e.infoData,children:null===(o=t.title)||void 0===o?void 0:o.toUpperCase()}),Object(n.jsx)("span",{hidden:!(f.edit&&f.person._id===t._id),className:e.infoData,children:Object(n.jsx)(h.a,{fullWidth:!0,className:e.TextBox,value:be,onChange:vt,inputProps:{style:{padding:0}}})})]}),Object(n.jsxs)("li",{className:e.li,children:[Object(n.jsx)("span",{className:e.infoTitle,children:"FORENAME"}),Object(n.jsx)("span",{hidden:f.edit&&f.person._id===t._id,className:e.infoData,children:t.forenameCapital}),Object(n.jsx)("span",{hidden:!(f.edit&&f.person._id===t._id),className:e.infoData,children:Object(n.jsx)(h.a,{fullWidth:!0,className:e.TextBox,value:Oe,onChange:yt,inputProps:{style:{padding:0}}})})]}),Object(n.jsxs)("li",{className:e.li,children:[Object(n.jsx)("span",{className:e.infoTitle,children:"SURNAME"}),Object(n.jsx)("span",{hidden:f.edit&&f.person._id===t._id,className:e.infoData,children:t.surnameCapital}),Object(n.jsx)("span",{hidden:!(f.edit&&f.person._id===t._id),className:e.infoData,children:Object(n.jsx)(h.a,{fullWidth:!0,className:e.TextBox,value:De,onChange:kt,inputProps:{style:{padding:0}}})})]}),Object(n.jsxs)("li",{className:e.li,children:[Object(n.jsx)("span",{className:e.infoTitle,children:"EMAIL"}),Object(n.jsx)("span",{hidden:f.edit&&f.person._id===t._id,className:e.infoData,children:null===(c=t.email)||void 0===c?void 0:c.toUpperCase()}),Object(n.jsx)("span",{hidden:!(f.edit&&f.person._id===t._id),className:e.infoData,children:Object(n.jsx)(h.a,{fullWidth:!0,className:e.TextBox,value:Fe,onChange:Ct,inputProps:{style:{padding:0}}})})]}),Object(n.jsxs)("li",{className:e.li,children:[Object(n.jsx)("span",{className:e.infoTitle,children:"D.O.B"}),Object(n.jsx)("span",{hidden:f.edit&&f.person._id===t._id,className:e.infoData,children:Object(Ne.FormatDateFromString)(t.birthDate)}),Object(n.jsx)("span",{hidden:!(f.edit&&f.person._id===t._id),className:e.infoData,children:Object(n.jsx)(h.a,{fullWidth:!0,error:q.dobError,className:e.TextBox,value:Pe,onChange:Bt,inputProps:{style:{padding:0}}})})]}),Object(n.jsxs)("li",{className:e.li,children:[Object(n.jsx)("span",{className:e.infoTitle,children:"TEL"}),Object(n.jsx)("span",{hidden:f.edit&&f.person._id===t._id,className:e.infoData,children:null===(s=t.phone)||void 0===s?void 0:s.toUpperCase()}),Object(n.jsx)("span",{hidden:!(f.edit&&f.person._id===t._id),className:e.infoData,children:Object(n.jsx)(h.a,{fullWidth:!0,className:e.TextBox,value:ze,onChange:Nt,inputProps:{style:{padding:0}}})})]}),Object(n.jsxs)("li",{className:e.li,children:[Object(n.jsx)("span",{className:e.infoTitle,children:"POST CODE"}),Object(n.jsx)("span",{hidden:f.edit&&f.person._id===t._id,className:e.infoData,children:null===(l=t.postCode)||void 0===l?void 0:l.toUpperCase()}),Object(n.jsx)("span",{hidden:!(f.edit&&f.person._id===t._id),className:e.infoData,children:Object(n.jsx)(h.a,{fullWidth:!0,className:e.TextBox,value:Ye,onChange:Tt,inputProps:{style:{padding:0}}})})]}),Object(n.jsxs)("li",{className:e.li,children:[Object(n.jsx)("span",{className:e.infoTitle,children:"ADDRESS"}),Object(n.jsx)("span",{hidden:f.edit&&f.person._id===t._id,className:e.infoData,children:null===(j=t.address)||void 0===j?void 0:j.toUpperCase()}),Object(n.jsx)("span",{hidden:!(f.edit&&f.person._id===t._id),className:e.infoData,children:Object(n.jsx)(h.a,{fullWidth:!0,className:e.TextBox,value:Je,onChange:St,inputProps:{style:{padding:0}}})})]}),Object(n.jsxs)("li",{className:e.li,children:[Object(n.jsx)("span",{className:e.infoTitle,children:"PASSPORT NO."}),Object(n.jsx)("span",{hidden:f.edit&&f.person._id===t._id,className:e.infoData,children:null===(g=t.passportNumber)||void 0===g?void 0:g.toUpperCase()}),Object(n.jsx)("span",{hidden:!(f.edit&&f.person._id===t._id),className:e.infoData,children:Object(n.jsx)(h.a,{fullWidth:!0,className:e.TextBox,value:it,onChange:wt,inputProps:{style:{padding:0}}})})]}),Object(n.jsxs)("li",{className:e.li,children:[Object(n.jsx)("span",{className:e.infoTitle,children:"SECOND PASSPORT NO."}),Object(n.jsx)("span",{hidden:f.edit&&f.person._id===t._id,className:e.infoData,children:null===(m=t.passportNumber2)||void 0===m?void 0:m.toUpperCase()}),Object(n.jsx)("span",{hidden:!(f.edit&&f.person._id===t._id),className:e.infoData,children:Object(n.jsx)(h.a,{fullWidth:!0,className:e.TextBox,value:st,onChange:Dt,inputProps:{style:{padding:0}}})})]}),Object(n.jsxs)("li",{className:e.li,children:[Object(n.jsx)("span",{className:e.infoTitle,children:"REQUEST FOR CERTIFICATE"}),Object(n.jsx)("span",{hidden:f.edit&&f.person._id===t._id,className:e.infoData,children:t.certificate?Object(n.jsx)(ve.a,{className:e.checkIcon}):Object(n.jsx)(ke.a,{className:e.closeIcon})}),Object(n.jsx)("span",{hidden:!(f.edit&&f.person._id===t._id),className:e.infoData,children:Object(n.jsx)(S.a,{className:e.formControl,control:Object(n.jsx)(w.a,{className:e.formControl,color:"secondary",name:"certificate",checked:ut,onChange:Rt}),label:""})})]}),Object(n.jsxs)("li",{className:e.li,children:[Object(n.jsx)("span",{className:e.infoTitle,children:"REQUEST FOR ANTIBODY TEST"}),Object(n.jsx)("span",{hidden:f.edit&&f.person._id===t._id,className:e.infoData,children:t.antiBodyTest?Object(n.jsx)(ve.a,{className:e.checkIcon}):Object(n.jsx)(ke.a,{className:e.closeIcon})}),Object(n.jsx)("span",{hidden:!(f.edit&&f.person._id===t._id),className:e.infoData,children:Object(n.jsx)(S.a,{className:e.formControl,control:Object(n.jsx)(w.a,{className:e.formControl,color:"secondary",name:"certificate",checked:gt,onChange:It}),label:""})})]}),Object(n.jsxs)("li",{className:e.li,children:[Object(n.jsx)("span",{className:e.infoTitle,children:"STATUS"}),(x=t.status,"booked"===x?Object(n.jsx)("span",{className:e.BookedLabel,children:" Booking Made "}):"patient_attended"===x?Object(n.jsx)("span",{className:e.PatientAttendedLabel,children:" Patient Attended "}):"sample_taken"===x?Object(n.jsx)("span",{className:e.SampleTakenLabel,children:" Sample Taken "}):"report_sent"===x?Object(n.jsx)("span",{className:e.ReportSentLabel,children:" Report Sent "}):"report_cert_sent"===x?Object(n.jsxs)("span",{className:e.ReportCertSentLabel,children:[" ","Report & Certificate Sent"," "]}):"positive"===x?Object(n.jsxs)("span",{className:e.PositiveLabel,children:[" ","POSITIVE"," "]}):"Unknown"),"sample_taken"===t.status&&!(f.edit&&f.person._id===t._id)&&Object(n.jsx)(p.a,{variant:"outlined",color:"primary",disabled:A,onClick:function(e){return a=t._id,F(!0),void le.changeBackToBookingMade(a).then((function(e){F(!1),r((function(e){return Object(d.a)(Object(d.a)({},e),{},{RefreshPersonInfo:!e.RefreshPersonInfo})}))})).catch((function(e){console.log(e),F(!1)}));var a},children:"Change Back To Booking Made"})]}),Object(n.jsxs)("li",{className:e.li,children:[Object(n.jsx)("span",{className:e.infoTitle,children:"TOTAL CHARGES"})," ",Object(n.jsx)("span",{className:Object(fe.calculatePrice)(t)<=199?e.infoDataCharges:e.infoDataChargesHigher,children:"\xa3".concat(Object(fe.calculatePrice)(t))})]}),Object(n.jsx)("li",{hidden:t.deleted,children:Object(n.jsx)(p.a,{startIcon:Object(n.jsx)(Se.a,{}),type:"button",fullWidth:!0,variant:"outlined",color:"primary",onClick:function(){var e;e=t._id,me.downloadCovidForm1(e).then((function(e){var t=new Blob([e.data],{type:"application/pdf"}),a=URL.createObjectURL(t);window.open(a,"_blank")})).catch((function(e){console.log(e)}))},className:e.DownloadForm,children:"Download Registration Form"})}),Object(n.jsx)("li",{hidden:t.deleted,children:Object(n.jsx)(p.a,{startIcon:Object(n.jsx)(Se.a,{}),type:"button",fullWidth:!0,variant:"outlined",color:"primary",onClick:function(){var e;e=t._id,me.downloadCovidForm2(e).then((function(e){var t=new Blob([e.data],{type:"application/pdf"}),a=URL.createObjectURL(t);window.open(a,"_blank"),r((function(e){return Object(d.a)(Object(d.a)({},e),{},{RefreshPersonInfo:!e.RefreshPersonInfo})}))})).catch((function(e){console.log(e)}))},className:e.DownloadForm,children:"Download Lab Form"})}),Object(n.jsx)("li",{hidden:t.deleted||"report_sent"!==t.status&&"report_cert_sent"!==t.status,children:Object(n.jsx)(p.a,{startIcon:Object(n.jsx)(Se.a,{}),type:"button",fullWidth:!0,variant:"outlined",color:"primary",onClick:function(){var e;e=t._id,me.downloadPdfResult(e).then((function(e){var t=new Blob([e.data],{type:"application/pdf"}),a=URL.createObjectURL(t);window.open(a,"_blank")})).catch((function(e){console.log(e)}))},className:e.DownloadForm,children:"Download Lab Results"})}),Object(n.jsx)("li",{hidden:t.deleted||"report_cert_sent"!==t.status,children:Object(n.jsx)(p.a,{startIcon:Object(n.jsx)(Se.a,{}),type:"button",fullWidth:!0,variant:"outlined",color:"primary",onClick:function(){var e;e=t._id,me.downloadPdfCert(e).then((function(e){var t=new Blob([e.data],{type:"application/pdf"}),a=URL.createObjectURL(t);window.open(a,"_blank")})).catch((function(e){console.log(e)}))},className:e.DownloadForm,children:"Download Certificate"})})]})})]})})},"panel".concat(a))}))]})})}var Re=function(e){return"boolean"===typeof e};function Ie(e){var t=e.inputRef,a=Object($.a)(e,["inputRef"]);return Object(n.jsx)(te.a,Object(d.a)(Object(d.a)({},a),{},{ref:function(e){t(e?e.inputElement:null)},mask:[/\d/,/\d/,/\d/,"-",/\d/,/\d/,/\d/,"-",/\d/,/\d/,/\d/],showMask:!0}))}var Ae=Object(u.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)},marginTop:"20px"},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},Find:{width:"80px"},Clear:{marginRight:"20px"},title:{marginTop:"20px"},TextBox:{marginTop:"30px","& > *":{textAlign:"center"}},TextField:{},NoRecordsFound:{marginTop:"20px",color:"red",fontWeight:"600",fontSize:"14px"},PersonsBox:{marginTop:"20px",marginBottom:"50px"}}}));function Fe(){var e=Ae(),t=o.a.useContext(l),a=Object(s.a)(t,2),r=a[0],c=a[1],u=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=o.a.useState(e),n=Object(s.a)(a,2),i=n[0],r=n[1];return[function(e){return r(!Re(e)||e)},{autoFocus:i,key:"".concat(t).concat(i),onFocus:function(){return r(!0)},onBlur:function(){return r(!1)}}]}(!0),b=Object(s.a)(u,2),g=b[0],m=b[1];Object(i.useEffect)((function(){x()}),[r.findRecords]),Object(i.useEffect)((function(){le.getBookingsByRef(r.ref).then((function(e){e.data.length>0&&c((function(t){return Object(d.a)(Object(d.a)({},t),{},{foundRecords:e.data})}))}))}),[r.RefreshPersonInfo]);var f=function(){c((function(e){return Object(d.a)(Object(d.a)({},e),{},{refError:!1})})),c((function(e){return Object(d.a)(Object(d.a)({},e),{},{ref:"___-___-___"})})),c((function(e){return Object(d.a)(Object(d.a)({},e),{},{foundRecords:[]})})),g()},x=function(){!r.ref||r.ref.indexOf("_")>=0?c((function(e){return Object(d.a)(Object(d.a)({},e),{},{refError:!0})})):(c((function(e){return Object(d.a)(Object(d.a)({},e),{},{submiting:!0})})),c((function(e){return Object(d.a)(Object(d.a)({},e),{},{foundRecords:[]})})),le.getBookingsByRef(r.ref).then((function(e){c((function(e){return Object(d.a)(Object(d.a)({},e),{},{submiting:!1})})),e.data.length>0?c((function(t){return Object(d.a)(Object(d.a)({},t),{},{foundRecords:e.data})})):c((function(e){return Object(d.a)(Object(d.a)({},e),{},{foundRecords:null})})),console.log(e.data)})).catch((function(e){console.log(e),c((function(e){return Object(d.a)(Object(d.a)({},e),{},{submiting:!1})}))})))};return Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)(j.a,{}),Object(n.jsx)("div",{className:e.title,children:Object(n.jsx)(O.a,{component:"h6",variant:"h6",align:"center",children:"Find Booking Appoinments"})}),Object(n.jsxs)(ae.a,{container:!0,direction:"column",spacing:1,justify:"flex-start",alignItems:"center",children:[Object(n.jsx)(ae.a,{item:!0,xs:12,md:12,children:Object(n.jsx)(C.a,{className:e.TextBox,children:Object(n.jsx)(h.a,Object(d.a)(Object(d.a)({},m),{},{pattern:"[0-9]*",error:!!r.refError,value:r.ref,className:e.TextField,width:"50px",onChange:function(e){c((function(t){return Object(d.a)(Object(d.a)({},t),{},{ref:e.target.value})})),c((function(e){return Object(d.a)(Object(d.a)({},e),{},{refError:!1})}))},label:"Reference No.",helperText:"Enter Your 9-digits Reference No.",name:"refNo",id:"refNo",variant:"outlined",size:"medium",margin:"normal",fullWidth:!0,InputProps:{inputComponent:Ie,style:{textAlign:"center",fontSize:"24px",width:"210px",paddingLeft:"20px"}},onKeyPress:function(e){"Enter"===e.key&&x()}}))})}),Object(n.jsxs)(ae.a,{item:!0,xs:12,md:12,children:[Object(n.jsx)(p.a,{disabled:r.submiting,color:"default",onClick:f,onTouchTap:f,className:e.Clear,children:"Clear"}),Object(n.jsx)(p.a,{type:"button",disabled:r.submiting,variant:"contained",color:"primary",onClick:x,onTouchTap:x,className:e.Find,children:"Find"})]}),Object(n.jsxs)(ae.a,{item:!0,xs:12,md:12,children:[r.foundRecords&&r.foundRecords.length>0&&Object(n.jsx)(o.a.Fragment,{children:Object(n.jsx)("div",{className:e.PersonsBox,children:Object(n.jsx)(De,{})})}),!r.foundRecords&&Object(n.jsx)(o.a.Fragment,{children:Object(n.jsx)("div",{className:e.root,children:Object(n.jsxs)(y.a,{severity:"error",children:[" ",Object(n.jsx)("strong",{children:"No Records Found !"})," ",Object(n.jsx)("br",{})," Please check you reference number again."]})})})]})]})]})}var Le,Me=a(21),Ee=a(174),Pe=a(201),We=a(696),Ue=a(697),_e=a(699),ze=a(702),He=a(717),Ke=a(694),qe=a(188),Ye=a.n(qe),Ve=a(235),Ge=a.n(Ve),Qe=a(136),Je=a.n(Qe),Xe=a(32),Ze=a.n(Xe),$e=a(49),et=a(701),tt=a(700),at=a(58),nt=a.n(at),it=a(631),ot=a(344),rt=a(629),ct=a(8),st=a(236),lt=a.n(st),dt=a(695),jt=Object(u.a)((function(e){return{title:{marginTop:e.spacing(0),marginBottom:e.spacing(1)},refreshButton:{marginLeft:e.spacing(2)},checkIcon:{color:"green"},closeIcon:{color:"red"},RefLink:{cursor:"pointer"},BookedLabel:{backgroundColor:"#606060",color:"#fff",paddingRight:"10px",paddingLeft:"10px"},PatientAttendedLabel:{backgroundColor:"#0066aa",color:"#fff",paddingRight:"15px",paddingLeft:"10px"},SampleTakenLabel:{backgroundColor:"#0066cc",color:"#fff",paddingRight:"40px",paddingLeft:"10px"},ReportSentLabel:{backgroundColor:"#009900",color:"#fff",paddingRight:"90px",paddingLeft:"10px"},ReportCertSentLabel:{backgroundColor:"#009900",color:"#fff",paddingRight:"68px",paddingLeft:"10px"},archiveButton:{},smartMatchButton:{backgroundColor:"#2f942e","&:hover":{background:"green",color:"#fff"},textDecoration:"none !important",marginRight:"10px"},infoTitle:{fontWeight:"400"},infoData:{paddingLeft:"10px",fontWeight:"800"},matchButton:{marginTop:"30px",marginBottom:"20px",backgroundColor:"#2f942e","&:hover":{background:"green",color:"#fff"},textDecoration:"none !important",padding:"10px",paddingLeft:"50px",paddingRight:"50px"},resendButton:{marginTop:"5px",marginBottom:"5px",backgroundColor:"#2f942e","&:hover":{background:"green",color:"#fff"},textDecoration:"none !important",padding:"10px",paddingLeft:"50px",paddingRight:"50px"},resendFilesButton:{marginTop:"5px",marginBottom:"5px",backgroundColor:"#3792ad","&:hover":{background:"#2f798f",color:"#fff"},textDecoration:"none !important",padding:"10px",paddingLeft:"50px",paddingRight:"50px"},cancelButton:{marginBottom:"10px",textDecoration:"none !important",padding:"10px",paddingLeft:"90px",paddingRight:"90px"}}})),ut=Object(ct.a)((function(e){return{root:{height:10,borderRadius:5},colorPrimary:{backgroundColor:"#cedbce"},bar:{borderRadius:5,backgroundColor:"#2f942e"}}}))(dt.a);function bt(e){return Object(n.jsxs)(m.a,{display:"flex",alignItems:"center",children:[Object(n.jsx)(m.a,{width:"100%",mr:1,children:Object(n.jsx)(ut,Object(d.a)({variant:"determinate"},e))}),Object(n.jsx)(m.a,{minWidth:35,children:Object(n.jsx)(O.a,{style:{fontWeight:"800",color:"#5e855e"},variant:"body2",color:"textSecondary",children:"".concat(Math.round(e.value),"%")})})]})}function pt(e){return Object(n.jsx)(nt.a,{handle:"#draggable-dialog-title",cancel:'[class*="MuiDialogContent-root"]',children:Object(n.jsx)(Pe.a,Object(d.a)({},e))})}function ht(e){var t=jt(),a=o.a.useContext(l),r=Object(s.a)(a,2),c=(r[0],r[1],o.a.useState(!1)),d=Object(s.a)(c,2),j=d[0],u=d[1],b=o.a.useState(!1),h=Object(s.a)(b,2),g=h[0],m=h[1],f=o.a.useState(!1),x=Object(s.a)(f,2),O=x[0],v=x[1],k=o.a.useState(""),C=Object(s.a)(k,2),B=C[0],N=C[1],T=o.a.useState(10),S=Object(s.a)(T,2),w=S[0],D=S[1],R=o.a.useState(!1),I=Object(s.a)(R,2),A=I[0],F=I[1];Object(i.useEffect)((function(){D((function(e){return e>=100?100:(t=B,console.log("status : ".concat(t)),"downloadFailed"===t?10:"downloading"===t?30:"downloadSuccess"===t?70:"sent"===t?100:0);var t}))}),[B]);return Object(n.jsx)(o.a.Fragment,{children:e.booking&&Object(n.jsx)(o.a.Fragment,{children:Object(n.jsxs)(We.a,{maxWidth:"800px",open:e.open,onClose:function(){u(!1),m(!1),F(!1),clearInterval(Le),e.handleClose()},PaperComponent:pt,"aria-labelledby":"form-dialog-title",children:[Object(n.jsxs)(Ue.a,{id:"draggable-dialog-title",children:[Object(n.jsxs)(ae.a,{container:!0,spacing:2,direction:"row",justify:"center",alignItems:"center",children:[Object(n.jsx)(ae.a,{item:!0,children:Object(n.jsx)(lt.a,{style:{color:"#2f942e",fontSize:"2rem"}})}),Object(n.jsx)(ae.a,{item:!0,children:Object(n.jsxs)("div",{style:{color:"#2f942e",paddingBottom:"12px",fontWeight:"800"},children:[" ","RESEND EMAILS"," "]})})]}),Object(n.jsx)(U.a,{})]}),Object(n.jsx)(_e.a,{children:Object(n.jsxs)("div",{style:{minHeight:"270px",maxHeight:"270px",minWidth:"750px",maxWidth:"750px"},children:[Object(n.jsxs)(ae.a,{container:!0,direction:"column",justify:"center",spacing:1,alignItems:"center",children:[!g&&!j&&Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)(ae.a,{item:!0,children:Object(n.jsxs)("div",{style:{paddingTop:"5px",fontSize:"1rem",fontWeight:"500",color:"#555"},children:["Do you want to Resend the LAB Report ",e.booking.certificate?" and Certificate":"","  Now?"]})}),Object(n.jsx)(ae.a,{item:!0,children:Object(n.jsx)(p.a,{disabled:j||g,className:t.resendButton,variant:"contained",color:"primary",onClick:function(t){u(!0),D(0),N("downloadFailed"),le.resendEmailsWithBookingId(e.booking._id).then((function(t){Le=setInterval((function(){le.getLinkDetailsWithBookingId(e.booking._id).then((function(e){"OK"===e.data.status?(N(e.data.link.status),"sent"===e.data.link.status&&(u(!1),m(!0),clearInterval(Le))):"FAILED"===e.data.status&&(u(!1),m(!1),clearInterval(Le),F(!0))}))}),1e3),setTimeout((function(){F(!0),clearInterval(Le)}),6e4)})).catch((function(e){console.log(e),u(!1)}))},children:"YES ! RESEND THE EMAILS"})}),Object(n.jsx)(ae.a,{item:!0,children:Object(n.jsx)(p.a,{disabled:j||g,className:t.cancelButton,variant:"contained",color:"default",onClick:function(t){e.handleClose()},children:"NO ! NOT NOW"})}),Object(n.jsx)(ae.a,{item:!0,children:Object(n.jsx)(p.a,{disabled:j||g,className:t.resendFilesButton,variant:"contained",color:"primary",onClick:function(t){u(!0),D(0),N("downloadFailed"),v(!0),le.regenerateFilesWithBookingId(e.booking._id).then((function(t){Le=setInterval((function(){le.getLinkDetailsWithBookingId(e.booking._id).then((function(e){"OK"===e.data.status?(N(e.data.link.status),"sent"===e.data.link.status&&(u(!1),m(!0),clearInterval(Le))):"FAILED"===e.data.status&&(u(!1),m(!1),clearInterval(Le),F(!0))}))}),1e3),setTimeout((function(){F(!0),clearInterval(Le)}),6e4)})).catch((function(e){console.log(e),u(!1)}))},children:"Just Generate The Files and send to pcrresults@medicalexpressclinic.co.uk"})})]}),A&&!j&&!g&&Object(n.jsx)(ae.a,{item:!0,children:Object(n.jsx)(y.a,{style:{marginTop:"10px",paddingLeft:"50px",paddingRight:"50px"},severity:"error",children:"Error! \u2014 Something is wrong with this record!"})}),(j||g)&&Object(n.jsx)(ae.a,{item:!0,children:Object(n.jsxs)("div",{style:{paddingTop:"50px",color:"#2f942e",fontWeight:"600",fontSize:"1rem"},children:[j&&!g&&"Sending ...",g&&!O&&Object(n.jsxs)(y.a,{style:{marginTop:"10px",paddingLeft:"50px",paddingRight:"50px"},severity:"success",children:["Success! \u2014 The LAB Report ",e.booking.certificate?" and Certificate ":" ","  Successfully Sent."]}),g&&O&&Object(n.jsxs)(y.a,{style:{marginTop:"10px",paddingLeft:"50px",paddingRight:"50px"},severity:"success",children:["Success! \u2014 The LAB Report ",e.booking.certificate?" and Certificate ":" ","  Successfully Sent Just to pcrresults@medicalexpressclinic.co.uk ."]})]})})]}),(j||g)&&Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)("div",{style:{marginTop:"10px",width:"50%",marginLeft:"27%"},children:Object(n.jsx)(bt,{variant:"determinate",color:"primary",value:w})}),Object(n.jsx)("div",{style:{paddingTop:"30px",color:"#2f942e",fontWeight:"600",fontSize:"1rem",marginLeft:"45%"},children:j&&!g&&"PLEASE WAIT ..."})]})]})})]})})})}var gt=a(176),mt=a.n(gt),ft=a(720),xt=a(727),Ot=["Visa Medical"],vt=Object(u.a)((function(e){return{title:{marginTop:e.spacing(0),marginBottom:e.spacing(1)},refreshButton:{marginLeft:e.spacing(2)},checkIcon:{color:"green"},closeIcon:{color:"red"},RefLink:{cursor:"pointer"},BookedLabel:{backgroundColor:"#606060",color:"#fff",paddingRight:"10px",paddingLeft:"10px"},PatientAttendedLabel:{backgroundColor:"#0066aa",color:"#fff",paddingRight:"15px",paddingLeft:"10px"},SampleTakenLabel:{backgroundColor:"#0066cc",color:"#fff",paddingRight:"40px",paddingLeft:"10px"},ReportSentLabel:{backgroundColor:"#009900",color:"#fff",paddingRight:"90px",paddingLeft:"10px"},ReportCertSentLabel:{backgroundColor:"#009900",color:"#fff",paddingRight:"68px",paddingLeft:"10px"},archiveButton:{},smartMatchButton:{backgroundColor:"#2f942e","&:hover":{background:"green",color:"#fff"},textDecoration:"none !important",marginRight:"10px"},infoTitle:{fontWeight:"400"},infoData:{paddingLeft:"10px",fontWeight:"800"},matchButton:{marginTop:"30px",marginBottom:"20px",backgroundColor:"#2f942e","&:hover":{background:"green",color:"#fff"},textDecoration:"none !important",padding:"10px",paddingLeft:"50px",paddingRight:"50px"},resendButton:{marginTop:"5px",marginBottom:"5px",backgroundColor:"#2f942e","&:hover":{background:"green",color:"#fff"},textDecoration:"none !important",padding:"10px",paddingLeft:"50px",paddingRight:"50px"},resendFilesButton:{marginTop:"5px",marginBottom:"5px",backgroundColor:"#3792ad","&:hover":{background:"#2f798f",color:"#fff"},textDecoration:"none !important",padding:"10px",paddingLeft:"50px",paddingRight:"50px"},cancelButton:{marginBottom:"10px",textDecoration:"none !important",padding:"10px",paddingLeft:"90px",paddingRight:"90px"}}}));Object(ct.a)((function(e){return{root:{height:10,borderRadius:5},colorPrimary:{backgroundColor:"#cedbce"},bar:{borderRadius:5,backgroundColor:"#2f942e"}}}))(dt.a);function yt(e){return Object(n.jsx)(nt.a,{handle:"#draggable-dialog-title",cancel:'[class*="MuiDialogContent-root"]',children:Object(n.jsx)(Pe.a,Object(d.a)({},e))})}function kt(e){var t=vt(),a=o.a.useContext(l),r=Object(s.a)(a,2),c=(r[0],r[1]),j=Object(i.useState)("credit card"),u=Object(s.a)(j,2),b=u[0],h=u[1],g=Object(i.useState)(Ot[0]),m=Object(s.a)(g,2),f=m[0],x=m[1],O=Object(i.useState)(!1),v=Object(s.a)(O,2),y=v[0],k=v[1],B=function(){y||(e.handleClose(),h("credit card"),x(Ot[0]),k(!1))},N=function(){var t=Object($e.a)(Ze.a.mark((function t(){return Ze.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return k(!0),t.prev=1,t.next=4,le.payBooking(e.booking._id,b,"corporate"===b?f:"");case 4:k(!1),c((function(e){return Object(d.a)(Object(d.a)({},e),{},{bookingPayChanged:!e.bookingPayChanged})})),B(),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),console.error(t.t0),k(!1);case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(){return t.apply(this,arguments)}}();return Object(n.jsx)(o.a.Fragment,{children:e.booking&&Object(n.jsx)(o.a.Fragment,{children:Object(n.jsxs)(We.a,{maxWidth:"800px",open:e.open,onClose:B,PaperComponent:yt,"aria-labelledby":"form-dialog-title",children:[Object(n.jsxs)(Ue.a,{id:"draggable-dialog-title",children:[Object(n.jsxs)(ae.a,{container:!0,spacing:2,direction:"row",justify:"center",alignItems:"center",children:[Object(n.jsx)(ae.a,{item:!0,children:Object(n.jsx)(mt.a,{style:{color:"#f50057",fontSize:"3rem"}})}),Object(n.jsx)(ae.a,{item:!0,children:Object(n.jsxs)("div",{style:{color:"#f50057",paddingBottom:"10px",fontWeight:"800"},children:[" ","PAY the CHARGE"," "]})})]}),Object(n.jsx)(U.a,{})]}),Object(n.jsxs)(_e.a,{children:[Object(n.jsxs)("div",{style:{minHeight:"270px",maxHeight:"270px",minWidth:"500px",maxWidth:"500px"},children:[Object(n.jsxs)(ae.a,{container:!0,direction:"column",justify:"space-between",spacing:2,alignItems:"flex-start",children:[Object(n.jsx)(ae.a,{item:!0,children:Object(n.jsx)("div",{style:{fontSize:"17px"},children:" How do you want to pay? "})}),Object(n.jsx)(ae.a,{item:!0,children:Object(n.jsxs)(C.a,{component:"fieldset",children:[Object(n.jsxs)(xt.a,{"aria-label":"paymentMethod",name:"paymentMethod",value:b,onChange:function(e){h(e.target.value)},children:[Object(n.jsx)(S.a,{value:"credit card",control:Object(n.jsx)(ft.a,{}),label:"Credit Card"}),Object(n.jsx)(S.a,{value:"cash",control:Object(n.jsx)(ft.a,{}),label:"Cash"}),Object(n.jsx)(S.a,{value:"corporate",control:Object(n.jsx)(ft.a,{}),label:"Corporate"})]}),"corporate"===b&&Object(n.jsx)(C.a,{style:{marginTop:"10px"},className:t.formControl,children:Object(n.jsx)(He.a,{labelId:"select-corporate",id:"select-corporate-id",value:f,onChange:function(e){x(e.target.value)},children:Ot.map((function(e){return Object(n.jsx)(Ke.a,{value:e,children:"".concat(e)})}))})})]})})]}),Object(n.jsx)(ae.a,{item:!0}),Object(n.jsx)("div",{style:{position:"absolute",bottom:"20px",right:"20px"},children:Object(n.jsxs)(ae.a,{container:!0,direction:"row",justify:"flex-end",alignItems:"center",spacing:1,children:[Object(n.jsx)(ae.a,{item:!0,children:Object(n.jsx)(p.a,{onClick:B,style:{width:"100px"},disabled:y,children:"back"})}),Object(n.jsx)(ae.a,{item:!0,children:Object(n.jsx)(p.a,{onClick:N,variant:"contained",color:"secondary",style:{width:"100px"},disabled:y,children:"Pay"})})]})})]}),Object(n.jsx)(ot.a,{className:t.backdrop,open:y,children:Object(n.jsx)(rt.a,{color:"inherit"})})]})]})})})}var Ct=a(321),Bt=a.n(Ct),Nt=a(92),Tt=a.n(Nt),St=a(320),wt=a.n(St),Dt=function(e,t){return e=new Date(e),new Date(e.getTime()+60*t*1e3)},Rt=Object(u.a)((function(e){return{title:{marginTop:e.spacing(0),marginBottom:e.spacing(1)},refreshButton:{marginLeft:e.spacing(2)},checkIcon:{color:"green"},closeIcon:{color:"red"},RefLink:{cursor:"pointer"},BookedLabel:{backgroundColor:"#606060",color:"#fff",paddingRight:"10px",paddingLeft:"10px"},PatientAttendedLabel:{backgroundColor:"#0066aa",color:"#fff",paddingRight:"15px",paddingLeft:"10px"},SampleTakenLabel:{backgroundColor:"#0066cc",color:"#fff",paddingRight:"40px",paddingLeft:"10px"},ReportSentLabel:{backgroundColor:"#009900",color:"#fff",paddingRight:"90px",paddingLeft:"10px"},ReportCertSentLabel:{backgroundColor:"#009900",color:"#fff",paddingRight:"68px",paddingLeft:"10px"},archiveButton:{},smartMatchButton:{backgroundColor:"#2f942e","&:hover":{background:"green",color:"#fff"},textDecoration:"none !important",marginRight:"10px"},infoTitle:{fontWeight:"400"},infoData:{paddingLeft:"10px",fontWeight:"800"},matchButton:{marginTop:"30px",marginBottom:"20px",backgroundColor:"#2f942e","&:hover":{background:"green",color:"#fff"},textDecoration:"none !important",padding:"10px",paddingLeft:"50px",paddingRight:"50px"},resendButton:{marginTop:"5px",marginBottom:"5px",backgroundColor:"#2f942e","&:hover":{background:"green",color:"#fff"},textDecoration:"none !important",padding:"10px",paddingLeft:"50px",paddingRight:"50px"},resendFilesButton:{marginTop:"5px",marginBottom:"5px",backgroundColor:"#3792ad","&:hover":{background:"#2f798f",color:"#fff"},textDecoration:"none !important",padding:"10px",paddingLeft:"50px",paddingRight:"50px"},cancelButton:{marginBottom:"10px",textDecoration:"none !important",padding:"10px",paddingLeft:"90px",paddingRight:"90px"},itemTitle:{fontWeight:"500",color:"#555"},itemData:{paddingLeft:"10px",fontWeight:"600",color:"#127512"}}}));function It(e){return Object(n.jsx)(nt.a,{handle:"#draggable-dialog-title",cancel:'[class*="MuiDialogContent-root"]',children:Object(n.jsx)(Pe.a,Object(d.a)({},e))})}function At(e){var t=Rt(),a=o.a.useContext(l),r=Object(s.a)(a,2),c=(r[0],r[1],o.a.useState(null)),d=Object(s.a)(c,2),j=d[0],u=d[1],b=function(){u(null),e.handleClose()};Object(i.useEffect)((function(){e.booking&&e.booking.filename&&e.booking.filename.length>0&&le.getLinkDetailsWithBookingId(e.booking._id).then((function(e){"OK"===e.data.status&&u(e.data.link.timeStamp)}))}),[e.booking]);return Object(n.jsx)(o.a.Fragment,{children:e.booking&&Object(n.jsx)(o.a.Fragment,{children:Object(n.jsxs)(We.a,{maxWidth:"800px",open:e.open,onClose:b,PaperComponent:It,"aria-labelledby":"form-dialog-title",children:[Object(n.jsxs)(Ue.a,{id:"draggable-dialog-title",children:[Object(n.jsxs)(ae.a,{container:!0,spacing:2,direction:"row",justify:"center",alignItems:"center",children:[Object(n.jsx)(ae.a,{item:!0,children:Object(n.jsx)(Tt.a,{style:{color:"#f50057",fontSize:"2rem"}})}),Object(n.jsx)(ae.a,{item:!0,children:Object(n.jsxs)("div",{style:{color:"#f50057",paddingBottom:"12px",fontWeight:"800"},children:[" ","Audit Trail"," "]})})]}),Object(n.jsx)(U.a,{})]}),Object(n.jsx)(_e.a,{children:Object(n.jsx)("div",{style:{minHeight:"370px",maxHeight:"370px",minWidth:"500px",maxWidth:"500px"},children:Object(n.jsxs)(ae.a,{container:!0,direction:"column",justify:"flex-start",spacing:4,alignItems:"flex-start",children:[Object(n.jsxs)(ae.a,{item:!0,children:[Object(n.jsx)("span",{className:t.itemTitle,children:"PATIENT BOOKING TIMESTAMP : "}),Object(n.jsxs)("span",{className:t.itemData,children:[" ",ge()(e.booking.timeStamp,"isoDateTime")," "]})]}),Object(n.jsxs)(ae.a,{item:!0,children:[Object(n.jsx)("span",{className:t.itemTitle,children:"BOOKED DATE AND TIME : "}),Object(n.jsx)("span",{className:t.itemData,children:ge()(function(e){var t=new Date(e.bookingDate);return t.setHours(e.bookingTimeNormalized.substr(0,2)),t.setMinutes(e.bookingTimeNormalized.substr(3,2)),t.setSeconds(0),t.setMilliseconds(0),t}(e.booking),"isoDateTime")})]}),Object(n.jsxs)(ae.a,{item:!0,children:[Object(n.jsx)("span",{className:t.itemTitle,children:"TIMESTAMP ATTENDED : "}),e.booking.samplingTimeStamp?Object(n.jsxs)("span",{className:t.itemData,children:[" ",ge()(e.booking.samplingTimeStamp,"isoDateTime")," "]}):Object(n.jsx)("span",{className:t.itemData,children:" - "})]}),Object(n.jsxs)(ae.a,{item:!0,children:[Object(n.jsx)("span",{className:t.itemTitle,children:"TIMESTAMP - SAMPLE TAKEN : "}),e.booking.samplingTimeStamp?Object(n.jsxs)("span",{className:t.itemData,children:["  ",ge()(Dt(e.booking.samplingTimeStamp,5),"isoDateTime")," "]}):Object(n.jsx)("span",{className:t.itemData,children:" - "})]}),Object(n.jsxs)(ae.a,{item:!0,children:[Object(n.jsx)("span",{className:t.itemTitle,children:"TIMESTAMP - COLLECTED BY COURIER : "}),e.booking.samplingTimeStamp?Object(n.jsxs)("span",{className:t.itemData,children:["  ",ge()(Dt(e.booking.samplingTimeStamp,35),"isoDateTime"),"  "]}):Object(n.jsx)("span",{className:t.itemData,children:" - "})]}),Object(n.jsxs)(ae.a,{item:!0,children:[Object(n.jsx)("span",{className:t.itemTitle,children:"TIMESTAMP - RESULTS RECEIVED : "}),j?Object(n.jsxs)("span",{className:t.itemData,children:[" ",ge()(j,"isoDateTime"),"  "]}):Object(n.jsx)("span",{className:t.itemData,children:" - "})]}),Object(n.jsxs)(ae.a,{item:!0,children:[Object(n.jsx)("span",{className:t.itemTitle,children:"TIMESTAMP - SENT TO PATIENT : "}),j?Object(n.jsxs)("span",{className:t.itemData,children:["  ",ge()(Dt(j,5),"isoDateTime"),"  "]}):Object(n.jsx)("span",{className:t.itemData,children:" - "})]})]})})}),Object(n.jsx)(tt.a,{children:Object(n.jsx)(p.a,{onClick:b,color:"default",children:"Back"})})]})})})}var Ft=Object(u.a)((function(e){return{box:{backgroundColor:"#373737",color:"#fff",padding:"1px",borderRadius:"4px",textAlign:"justify",paddingRight:"40px"},boxRed:{backgroundColor:"#dc2626",color:"#fff",padding:"1px",borderRadius:"4px",textAlign:"justify",paddingRight:"40px"},boxInfo:{textAlign:"justify",backgroundColor:"#fafafa",color:"#333",padding:"1px",borderRadius:"4px",paddingRight:"40px",border:"1px solid #eee"},ul:{listStyle:"none",padding:"0",margin:"0"},li:{marginBottom:"15px"},icon:{marginRight:"8px"},root:{width:"100%"},lineThrough:{textDecoration:"line-through"},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0,color:e.palette.text.secondary},secondaryHeading:{fontSize:e.typography.pxToRem(15)},infoDetails:{textAlign:"left"},infoTitle:{fontWeight:"800",marginRight:"10px"},infoData:{fontWeight:"400"},title:{textAlign:"center",fontWeight:"600",marginLeft:"10px",marginBottom:"5px"},Accordion:{backgroundColor:"#f5f5f5",color:"#222"},AccordionDeleted:{backgroundColor:"#aaa",color:"#555"},DownloadForm:{marginTop:"10px",marginBottom:"10px"},infoDataCharges:{fontSize:"18px",color:"green",fontWeight:"600"},infoDataChargesHigher:{fontSize:"18px",color:"red",fontWeight:"600"},BookedLabel:{color:"#606060",paddingRight:"10px",paddingLeft:"5px",paddingBottom:"3px",paddingTop:"3px",fontWeight:"800",borderLeft:"5px solid",borderColor:"#606060"},PatientAttendedLabel:{color:"#0066aa",paddingRight:"10px",paddingLeft:"5px",paddingBottom:"3px",paddingTop:"3px",fontWeight:"800",borderLeft:"5px solid",borderColor:"#0066aa"},SampleTakenLabel:{color:"#0066cc",paddingRight:"10px",paddingLeft:"5px",paddingBottom:"3px",paddingTop:"3px",fontWeight:"800",borderLeft:"5px solid",borderColor:"#0066cc"},ReportSentLabel:{color:"#009900",paddingRight:"10px",paddingLeft:"5px",paddingBottom:"3px",paddingTop:"3px",fontWeight:"800",borderLeft:"5px solid",borderColor:"#009900"},ReportCertSentLabel:{color:"#009900",paddingRight:"10px",paddingLeft:"5px",paddingBottom:"3px",paddingTop:"3px",fontWeight:"800",borderLeft:"5px solid",borderColor:"#009900"},PositiveLabel:{color:"red",paddingRight:"10px",paddingLeft:"5px",paddingBottom:"3px",paddingTop:"3px",fontWeight:"800",borderLeft:"5px solid",borderColor:"red"},EditButton:{marginBottom:"20px",backgroundColor:"#2f942e","&:hover":{background:"green",color:"#fff"},textDecoration:"none !important",padding:"10px"},ResendEmailsButton:{color:"#2f942e",borderColor:"#2f942e","&:hover":{background:"#fafffa",borderColor:"#2f942e"},textDecoration:"none !important",paddingLeft:"50px",paddingRight:"50px"},PayButton:{marginLeft:"83px",paddingLeft:"30px",paddingRight:"30px"},PayLabel:{marginLeft:"20px",color:"#2f942e",fontWeight:"500",textAlign:"center"},RestoreButton:{marginBottom:"20px",backgroundColor:"#eee",color:"#333","&:hover":{background:"#f1f1f1",color:"#111"},textDecoration:"none !important",padding:"10px"},DeleteButton:{marginBottom:"20px",backgroundColor:"#d90015","&:hover":{background:"#b80012",color:"#fff"},padding:"10px"},SaveButton:{marginBottom:"10px",padding:"10px",backgroundColor:"#d1175e","&:hover":{background:"#bd0d50",color:"#fff"}},CancelButton:{marginBottom:"20px"},TextBox:{padding:"0px"},checkIcon:{color:"green"},checkIconSmall:{color:"green",paddingTop:"5px"},closeIcon:{color:"red"},centeredLabel:{display:"flex",alignItems:"center"},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}})),Lt=o.a.forwardRef((function(e,t){return Object(n.jsx)(it.a,Object(d.a)({direction:"up",ref:t},e))}));function Mt(e){return Object(n.jsx)(nt.a,{handle:"#alert-dialog-slide-title",cancel:'[class*="MuiDialogContent-root"]',children:Object(n.jsx)(Pe.a,Object(d.a)({},e))})}function Et(e){var t,a,r,c,j,u,b,g,m=Ft(),f=o.a.useContext(l),x=Object(s.a)(f,2),O=x[0],v=x[1],y=Object(i.useState)(!1),k=Object(s.a)(y,2),C=k[0],B=k[1],N=o.a.useState(!1),T=Object(s.a)(N,2),D=T[0],I=T[1],A=o.a.useState(!1),F=Object(s.a)(A,2),L=F[0],M=F[1],E=o.a.useState(null),P=Object(s.a)(E,2),W=P[0],U=P[1],_=o.a.useState({edit:!1,person:null}),z=Object(s.a)(_,2),H=z[0],K=z[1],q=o.a.useState({delete:!1,person:null}),V=Object(s.a)(q,2),G=V[0],Q=V[1],J=o.a.useState({restore:!1,person:null}),X=Object(s.a)(J,2),Z=X[0],$=X[1],ee=o.a.useState(!1),te=Object(s.a)(ee,2),ne=te[0],ie=te[1],oe=o.a.useState(!1),re=Object(s.a)(oe,2),ce=re[0],se=re[1],de=o.a.useState(!1),je=Object(s.a)(de,2),ue=je[0],be=je[1],pe=o.a.useState({}),he=Object(s.a)(pe,2),ge=he[0],xe=he[1],Oe=o.a.useState(""),ye=Object(s.a)(Oe,2),Ce=ye[0],Te=ye[1],we=o.a.useState(""),De=Object(s.a)(we,2),Re=De[0],Ie=De[1],Ae=o.a.useState(""),Fe=Object(s.a)(Ae,2),Le=Fe[0],Me=Fe[1],Ee=o.a.useState(""),Pe=Object(s.a)(Ee,2),ze=Pe[0],He=Pe[1],Ke=o.a.useState(""),qe=Object(s.a)(Ke,2),Ye=qe[0],Ve=qe[1],Ge=o.a.useState(""),Qe=Object(s.a)(Ge,2),Je=Qe[0],Xe=Qe[1],at=o.a.useState(""),nt=Object(s.a)(at,2),it=nt[0],ct=nt[1],st=o.a.useState(""),lt=Object(s.a)(st,2),dt=lt[0],jt=lt[1],ut=o.a.useState(""),bt=Object(s.a)(ut,2),pt=bt[0],gt=bt[1],mt=o.a.useState(""),ft=Object(s.a)(mt,2),xt=ft[0],Ot=ft[1],vt=o.a.useState(""),yt=Object(s.a)(vt,2),Ct=yt[0],Nt=yt[1],St=o.a.useState(""),Dt=Object(s.a)(St,2),Rt=Dt[0],It=Dt[1],Et=o.a.useState(""),Pt=Object(s.a)(Et,2),Wt=Pt[0],Ut=Pt[1],_t=o.a.useState(""),zt=Object(s.a)(_t,2),Ht=zt[0],Kt=zt[1],qt=o.a.useState(!1),Yt=Object(s.a)(qt,2),Vt=Yt[0],Gt=Yt[1],Qt=o.a.useState(!1),Jt=Object(s.a)(Qt,2),Xt=Jt[0],Zt=Jt[1],$t=o.a.useState(!1),ea=Object(s.a)($t,2),ta=ea[0],aa=ea[1],na=o.a.useState(null),ia=Object(s.a)(na,2),oa=ia[0],ra=ia[1],ca=o.a.useState(!1),sa=Object(s.a)(ca,2),la=sa[0],da=sa[1],ja=o.a.useState(!1),ua=Object(s.a)(ja,2),ba=ua[0],pa=ua[1],ha=o.a.useState(!1),ga=Object(s.a)(ha,2),ma=ga[0],fa=ga[1],xa=o.a.useState(!1),Oa=Object(s.a)(xa,2),va=Oa[0],ya=Oa[1],ka=function(){fa(!1)};Object(i.useEffect)((function(){if(oa){var e=Ce!==Object(Ne.FormatDateFromString)(oa.bookingDate)||Re!==oa.bookingTime||Le!==oa.gender||Ye!==oa.forenameCapital||Je!==oa.surnameCapital||ze!==oa.title||it!==oa.email||dt!==Object(Ne.FormatDateFromString)(oa.birthDate)||pt!==oa.phone||xt!==oa.postCode||Ct!==oa.address||Wt!==oa.passportNumber||Ht!==oa.passportNumber2||Vt!==oa.certificate||Xt!==oa.antiBodyTest;da(e)}}),[ba]),Object(i.useEffect)((function(){e.open||setTimeout((function(){K({edit:!1,person:null}),da(!1)}),500)}),[e.open]);var Ca=function(e,t){if(e)Ve(t.forenameCapital),Xe(t.surnameCapital),Te(Object(Ne.FormatDateFromString)(t.bookingDate)),Ie(t.bookingTime.toUpperCase()),Me(t.gender.toUpperCase()),He(t.title.toUpperCase()),ct(t.email.toUpperCase()),jt(Object(Ne.FormatDateFromString)(t.birthDate)),gt(t.phone.toUpperCase()),Ot(t.postCode.toUpperCase()),Nt(t.address.toUpperCase()),t.notes&&It(t.notes.toUpperCase()),t.passportNumber&&Ut(t.passportNumber.toUpperCase()),t.passportNumber2&&Kt(t.passportNumber2.toUpperCase()),Gt(t.certificate),Zt(t.antiBodyTest),K({edit:e,person:t});else if(e||t){if(!e&&t){var a={},n=t._id;a.certificate=Vt,a.antiBodyTest=Xt,a.gender=Le,a.title=ze,a.birthDate=Object(Ne.RevertFormatDateFromString)(dt),a.email=it,a.phone=pt,a.postCode=xt,a.address=Ct,a.passportNumber=Wt,a.passportNumber2=Ht,a.forename=Ye,a.surname=Je,a.notes=Rt,a.bookingDate=Object(Ne.RevertFormatDateFromString)(Ce),a.bookingTime=Re,a.bookingRef=t.bookingRef,Na(a)&&Ta({bookingId:n,person:a})}}else K({edit:e,person:t}),da(!1)},Ba=function(e){var t=!1;e&&10===e.length||(t=!0),"-"===e.charAt(4)&&"-"===e.charAt(7)||(t=!0);try{/^\d{4}-\d{2}-\d{2}$/.test(e)||(t=!0);var a=parseInt(e.substr(0,4)),n=parseInt(e.substr(5,2)),i=parseInt(e.substr(8,2));a<1900&&(t=!0),(n<1||n>12)&&(t=!0),i>31&&(t=!0)}catch(o){t=!0}return!t},Na=function(e){var t=!1;return Ba(e.bookingDate)||(t=!0,xe(Object(d.a)(Object(d.a)({},ge),{},{bookingDateError:!0}))),Ba(e.birthDate)||(t=!0,xe(Object(d.a)(Object(d.a)({},ge),{},{dobError:!0}))),function(e){var t=!1;/^\d{2}:\d{2} AM$|^\d{2}:\d{2} PM$/.test(e)||(t=!0);try{var a=parseInt(e.substr(0,2)),n=parseInt(e.substr(3,2));(a<0||a>12)&&(t=!0),(n<0||n>59)&&(t=!0)}catch(i){t=!0}return!t}(e.bookingTime)||(t=!0,xe(Object(d.a)(Object(d.a)({},ge),{},{bookingTimeError:!0}))),!t},Ta=function(e){ie(!0),le.updateBooking(e).then((function(e){ie(!1),K({edit:!1,person:null}),aa(!ta)})).catch((function(e){ie(!1),K({edit:!1,person:null}),console.log(e)}))},Sa=function(e,t){var a;e?Q({delete:e,person:t}):e||t?!e&&t&&(a=t._id,se(!0),le.deleteBooking(a).then((function(e){se(!1),Q({delete:!1,person:null}),aa(!ta)})).catch((function(e){se(!1),Q({delete:!1,person:null}),console.log(e)}))):Q({delete:e,person:t})},wa=function(e,t){var a;e?$({restore:e,person:t}):e||t?!e&&t&&(a=t._id,be(!0),le.unDeleteBooking(a).then((function(e){be(!1),$({restore:!1,person:null}),aa(!ta)})).catch((function(e){be(!1),$({restore:!1,person:null}),console.log(e)}))):$({restore:e,person:t})};Object(i.useEffect)((function(){e.booking&&(le.getBookingById(e.booking._id).then((function(e){ra(e.data)})).catch((function(e){console.log(e)})),v((function(e){return Object(d.a)(Object(d.a)({},e),{},{bookingDialogDataChanged:!e.bookingDialogDataChanged})})))}),[ta,O.bookingPayChanged]),Object(i.useEffect)((function(){e.booking&&ra(e.booking)}),[e.booking]);var Da,Ra=function(){var e=Object($e.a)(Ze.a.mark((function e(){return Ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ie(!0),e.prev=1,e.next=4,le.unPayBooking(oa._id);case 4:ie(!1),fa(!1),aa(!ta),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0),ie(!1),fa(!1);case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();return Object(n.jsx)(o.a.Fragment,{children:oa&&Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsxs)(We.a,{open:e.open,TransitionComponent:Lt,keepMounted:!0,onClose:e.onClose,PaperComponent:Mt,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(n.jsxs)(Ue.a,{id:"alert-dialog-slide-title",style:oa.tr?{backgroundColor:"#7e0082",color:"#fff"}:{},children:[Object(n.jsxs)("div",{style:{position:"absolute",top:"25x",left:"25px"},children:[Object(n.jsx)(Y.a,{title:"COPY EDIT LINK TO CLIPBOARD",children:Object(n.jsx)(R.a,{onClick:function(){navigator.clipboard.writeText("https://travelpcrtest.com/user/edit/".concat(oa.bookingRef,"-").concat(oa.birthDate)),B(!0),setTimeout((function(){B(!1)}),1500)},"aria-label":"delete",className:m.margin,size:"small",children:Object(n.jsx)(wt.a,{style:oa.tr?{color:"#ddd"}:{},fontSize:"14px"})})}),Object(n.jsx)("span",{hidden:!C,style:{fontSize:"12px",transition:"all 1s ease-in"},children:" Copied "})]}),oa.tr&&Object(n.jsx)("div",{style:{position:"absolute",right:"15px"},children:"TR"}),Object(n.jsxs)(ae.a,{container:!0,direction:"row",justify:"center",spacing:2,alignItems:"center",children:[Object(n.jsx)(ae.a,{item:!0,children:Object(n.jsx)("div",{style:oa.deleted?{paddingBottom:"5px",textDecoration:"line-through"}:{},children:"".concat(oa.forenameCapital," ").concat(oa.surnameCapital)})}),oa.deleted&&Object(n.jsx)(ae.a,{item:!0,children:Object(n.jsx)(Y.a,{title:"This record has been deleted.",children:Object(n.jsx)(Be.a,{style:{padding:0,margin:0,color:"#333",fontSize:25}})})})]})]}),Object(n.jsxs)(_e.a,{children:[Object(n.jsx)("div",{style:{minHeight:"600px",maxHeight:"600px",minWidth:"500px",maxWidth:"800px",paddingTop:"20px"},children:Object(n.jsx)(ae.a,{item:!0,xs:12,md:12,children:Object(n.jsx)("div",{className:m.infoDetails,children:Object(n.jsxs)("ul",{className:m.ul,children:[Object(n.jsx)("li",{hidden:!(Z.restore&&Z.person._id===oa._id),children:Object(n.jsx)("div",{style:{fontWeight:"500",paddingBottom:"5px",paddingLeft:"5px",fontSize:"16px",color:"#333"},children:"Are you sure you want to restore this record?"})}),Object(n.jsx)("li",{hidden:!oa.deleted||Z.restore&&Z.person._id===oa._id,children:Object(n.jsx)(p.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",onClick:function(){wa(!0,oa)},className:m.RestoreButton,children:"Restore This Record"})}),Object(n.jsx)("li",{hidden:!(Z.restore&&Z.person._id===oa._id),children:Object(n.jsx)(p.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",disabled:ue,onClick:function(){wa(!1,oa)},className:m.SaveButton,children:"YES, Restore this!"})}),Object(n.jsx)("li",{hidden:!(Z.restore&&Z.person._id===oa._id),children:Object(n.jsx)(p.a,{type:"button",fullWidth:!0,variant:"contained",color:"default",disabled:ue,onClick:function(){wa(!1,null)},className:m.CancelButton,children:"Cancel"})}),Object(n.jsx)("li",{hidden:oa.deleted||G.delete||H.edit&&H.person._id===oa._id,children:Object(n.jsx)(p.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",onClick:function(){Ca(!0,oa)},className:m.EditButton,children:"Edit Booking Info"})}),Object(n.jsx)("li",{hidden:!(H.edit&&H.person._id===oa._id),children:Object(n.jsx)(p.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",disabled:ne||!la,onClick:function(){Ca(!1,oa)},className:m.SaveButton,children:"Save Changes"})}),Object(n.jsx)("li",{hidden:!(H.edit&&H.person._id===oa._id),children:Object(n.jsx)(p.a,{type:"button",fullWidth:!0,variant:"contained",color:"default",disabled:ne,onClick:function(){Ca(!1,null)},className:m.CancelButton,children:"Cancel"})}),Object(n.jsx)("li",{hidden:!(G.delete&&G.person._id===oa._id),children:Object(n.jsx)("div",{style:{fontWeight:"600",paddingBottom:"5px",paddingLeft:"5px",fontSize:"16px"},children:"Are you sure you want to delete this record?"})}),Object(n.jsx)("li",{hidden:e.deleteButtonDisabled||oa.deleted||H.edit||G.delete&&G.person._id===oa._id,children:Object(n.jsx)(p.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",onClick:function(){Sa(!0,oa)},className:m.DeleteButton,children:"Delete This Record"})}),Object(n.jsx)("li",{hidden:!(G.delete&&G.person._id===oa._id),children:Object(n.jsx)(p.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",disabled:ce,onClick:function(){Sa(!1,oa)},className:m.SaveButton,children:"YES, Delete this!"})}),Object(n.jsx)("li",{hidden:!(G.delete&&G.person._id===oa._id),children:Object(n.jsx)(p.a,{type:"button",fullWidth:!0,variant:"contained",color:"default",disabled:ce,onClick:function(){Sa(!1,null)},className:m.CancelButton,children:"Cancel"})}),Object(n.jsxs)("li",{className:m.li,children:[Object(n.jsx)("span",{className:m.infoTitle,children:"BOOKED DATE"}),Object(n.jsx)("span",{hidden:H.edit&&H.person._id===oa._id,className:m.infoData,children:Object(Ne.FormatDateFromString)(oa.bookingDate)}),Object(n.jsx)("span",{hidden:!(H.edit&&H.person._id===oa._id),className:m.infoData,children:Object(n.jsx)(h.a,{fullWidth:!0,error:ge.bookingDateError,className:m.TextBox,value:Ce,onChange:function(e){Te(e.target.value),xe(Object(d.a)(Object(d.a)({},ge),{},{bookingDateError:!1})),pa(!ba)},inputProps:{style:{padding:0}}})})]}),Object(n.jsxs)("li",{className:m.li,children:[Object(n.jsx)("span",{className:m.infoTitle,children:"BOOKED TIME"}),Object(n.jsx)("span",{hidden:H.edit&&H.person._id===oa._id,className:m.infoData,children:oa.bookingTime.toUpperCase()}),Object(n.jsx)("span",{hidden:!(H.edit&&H.person._id===oa._id),className:m.infoData,children:Object(n.jsx)(h.a,{fullWidth:!0,error:ge.bookingTimeError,className:m.TextBox,value:Re,onChange:function(e){Ie(e.target.value),xe(Object(d.a)(Object(d.a)({},ge),{},{bookingTimeError:!1})),pa(!ba)},inputProps:{style:{padding:0}}})})]}),Object(n.jsxs)("li",{className:m.li,children:[Object(n.jsx)("span",{className:m.infoTitle,children:"GENDER"}),Object(n.jsx)("span",{hidden:H.edit&&H.person._id===oa._id,className:m.infoData,children:null===(t=oa.gender)||void 0===t?void 0:t.toUpperCase()}),Object(n.jsx)("span",{hidden:!(H.edit&&H.person._id===oa._id),className:m.infoData,children:Object(n.jsx)(h.a,{fullWidth:!0,className:m.TextBox,value:Le,onChange:function(e){Me(e.target.value),pa(!ba)},inputProps:{style:{padding:0}}})})]}),Object(n.jsxs)("li",{className:m.li,children:[Object(n.jsx)("span",{className:m.infoTitle,children:"TITLE"}),Object(n.jsx)("span",{hidden:H.edit&&H.person._id===oa._id,className:m.infoData,children:null===(a=oa.title)||void 0===a?void 0:a.toUpperCase()}),Object(n.jsx)("span",{hidden:!(H.edit&&H.person._id===oa._id),className:m.infoData,children:Object(n.jsx)(h.a,{fullWidth:!0,className:m.TextBox,value:ze,onChange:function(e){He(e.target.value),pa(!ba)},inputProps:{style:{padding:0}}})})]}),Object(n.jsxs)("li",{className:m.li,children:[Object(n.jsx)("span",{className:m.infoTitle,children:"FORENAME"}),Object(n.jsx)("span",{hidden:H.edit&&H.person._id===oa._id,className:m.infoData,children:oa.forenameCapital}),Object(n.jsx)("span",{hidden:!(H.edit&&H.person._id===oa._id),className:m.infoData,children:Object(n.jsx)(h.a,{fullWidth:!0,className:m.TextBox,value:Ye,onChange:function(e){Ve(e.target.value),pa(!ba)},inputProps:{style:{padding:0}}})})]}),Object(n.jsxs)("li",{className:m.li,children:[Object(n.jsx)("span",{className:m.infoTitle,children:"SURNAME"}),Object(n.jsx)("span",{hidden:H.edit&&H.person._id===oa._id,className:m.infoData,children:oa.surnameCapital}),Object(n.jsx)("span",{hidden:!(H.edit&&H.person._id===oa._id),className:m.infoData,children:Object(n.jsx)(h.a,{fullWidth:!0,className:m.TextBox,value:Je,onChange:function(e){Xe(e.target.value),pa(!ba)},inputProps:{style:{padding:0}}})})]}),Object(n.jsxs)("li",{className:m.li,children:[Object(n.jsx)("span",{className:m.infoTitle,children:"EMAIL"}),Object(n.jsx)("span",{hidden:H.edit&&H.person._id===oa._id,className:m.infoData,children:null===(r=oa.email)||void 0===r?void 0:r.toUpperCase()}),Object(n.jsx)("span",{hidden:!(H.edit&&H.person._id===oa._id),className:m.infoData,children:Object(n.jsx)(h.a,{fullWidth:!0,className:m.TextBox,value:it,onChange:function(e){ct(e.target.value),pa(!ba)},inputProps:{style:{padding:0}}})})]}),Object(n.jsxs)("li",{className:m.li,children:[Object(n.jsx)("span",{className:m.infoTitle,children:"D.O.B"}),Object(n.jsx)("span",{hidden:H.edit&&H.person._id===oa._id,className:m.infoData,children:Object(Ne.FormatDateFromString)(oa.birthDate)}),Object(n.jsx)("span",{hidden:!(H.edit&&H.person._id===oa._id),className:m.infoData,children:Object(n.jsx)(h.a,{fullWidth:!0,error:ge.dobError,className:m.TextBox,value:dt,onChange:function(e){jt(e.target.value),xe(Object(d.a)(Object(d.a)({},ge),{},{dobError:!1})),pa(!ba)},inputProps:{style:{padding:0}}})})]}),Object(n.jsxs)("li",{className:m.li,children:[Object(n.jsx)("span",{className:m.infoTitle,children:"TEL"}),Object(n.jsx)("span",{hidden:H.edit&&H.person._id===oa._id,className:m.infoData,children:null===(c=oa.phone)||void 0===c?void 0:c.toUpperCase()}),Object(n.jsx)("span",{hidden:!(H.edit&&H.person._id===oa._id),className:m.infoData,children:Object(n.jsx)(h.a,{fullWidth:!0,className:m.TextBox,value:pt,onChange:function(e){gt(e.target.value),pa(!ba)},inputProps:{style:{padding:0}}})})]}),Object(n.jsxs)("li",{className:m.li,children:[Object(n.jsx)("span",{className:m.infoTitle,children:"POST CODE"}),Object(n.jsx)("span",{hidden:H.edit&&H.person._id===oa._id,className:m.infoData,children:null===(j=oa.postCode)||void 0===j?void 0:j.toUpperCase()}),Object(n.jsx)("span",{hidden:!(H.edit&&H.person._id===oa._id),className:m.infoData,children:Object(n.jsx)(h.a,{fullWidth:!0,className:m.TextBox,value:xt,onChange:function(e){Ot(e.target.value),pa(!ba)},inputProps:{style:{padding:0}}})})]}),Object(n.jsxs)("li",{className:m.li,children:[Object(n.jsx)("span",{className:m.infoTitle,children:"ADDRESS"}),Object(n.jsx)("span",{hidden:H.edit&&H.person._id===oa._id,className:m.infoData,children:null===(u=oa.address)||void 0===u?void 0:u.toUpperCase()}),Object(n.jsx)("span",{hidden:!(H.edit&&H.person._id===oa._id),className:m.infoData,children:Object(n.jsx)(h.a,{fullWidth:!0,className:m.TextBox,value:Ct,onChange:function(e){Nt(e.target.value),pa(!ba)},inputProps:{style:{padding:0}}})})]}),Object(n.jsxs)("li",{className:m.li,children:[Object(n.jsx)("span",{className:m.infoTitle,children:"PASSPORT NO."}),Object(n.jsx)("span",{hidden:H.edit&&H.person._id===oa._id,className:m.infoData,children:null===(b=oa.passportNumber)||void 0===b?void 0:b.toUpperCase()}),Object(n.jsx)("span",{hidden:!(H.edit&&H.person._id===oa._id),className:m.infoData,children:Object(n.jsx)(h.a,{fullWidth:!0,className:m.TextBox,value:Wt,onChange:function(e){Ut(e.target.value),pa(!ba)},inputProps:{style:{padding:0}}})})]}),Object(n.jsxs)("li",{hidden:oa.tr,className:m.li,children:[Object(n.jsx)("span",{className:m.infoTitle,children:"SECOND PASSPORT NO."}),Object(n.jsx)("span",{hidden:H.edit&&H.person._id===oa._id,className:m.infoData,children:null===(g=oa.passportNumber2)||void 0===g?void 0:g.toUpperCase()}),Object(n.jsx)("span",{hidden:!(H.edit&&H.person._id===oa._id),className:m.infoData,children:Object(n.jsx)(h.a,{fullWidth:!0,className:m.TextBox,value:Ht,onChange:function(e){Kt(e.target.value),pa(!ba)},inputProps:{style:{padding:0}}})})]}),Object(n.jsxs)("li",{hidden:oa.tr,className:m.li,children:[Object(n.jsx)("span",{className:m.infoTitle,children:"REQUEST FOR CERTIFICATE"}),Object(n.jsx)("span",{hidden:H.edit&&H.person._id===oa._id,className:m.infoData,children:oa.certificate?Object(n.jsx)(ve.a,{className:m.checkIcon}):Object(n.jsx)(ke.a,{className:m.closeIcon})}),Object(n.jsx)("span",{hidden:!(H.edit&&H.person._id===oa._id),className:m.infoData,children:Object(n.jsx)(S.a,{className:m.formControl,control:Object(n.jsx)(w.a,{className:m.formControl,color:"secondary",name:"certificate",checked:Vt,onChange:function(e){Gt(e.target.checked),pa(!ba)}}),label:""})})]}),Object(n.jsxs)("li",{hidden:oa.tr,className:m.li,children:[Object(n.jsx)("span",{className:m.infoTitle,children:"REQUEST FOR ANTIBODY TEST"}),Object(n.jsx)("span",{hidden:H.edit&&H.person._id===oa._id,className:m.infoData,children:oa.antiBodyTest?Object(n.jsx)(ve.a,{className:m.checkIcon}):Object(n.jsx)(ke.a,{className:m.closeIcon})}),Object(n.jsx)("span",{hidden:!(H.edit&&H.person._id===oa._id),className:m.infoData,children:Object(n.jsx)(S.a,{className:m.formControl,control:Object(n.jsx)(w.a,{className:m.formControl,color:"secondary",name:"certificate",checked:Xt,onChange:function(e){Zt(e.target.checked),pa(!ba)}}),label:""})})]}),Object(n.jsxs)("li",{className:m.li,children:[Object(n.jsx)("span",{className:m.infoTitle,children:"STATUS"})," ",(Da=oa.status,"booked"===Da?Object(n.jsx)("span",{className:m.BookedLabel,children:" Booking Made "}):"patient_attended"===Da?Object(n.jsx)("span",{className:m.PatientAttendedLabel,children:" Patient Attended "}):"sample_taken"===Da?Object(n.jsx)("span",{className:m.SampleTakenLabel,children:" Sample Taken "}):"report_sent"===Da?Object(n.jsx)("span",{className:m.ReportSentLabel,children:" Report Sent "}):"report_cert_sent"===Da?Object(n.jsxs)("span",{className:m.ReportCertSentLabel,children:[" ","Report & Certificate Sent"," "]}):"positive"===Da?Object(n.jsxs)("span",{className:m.PositiveLabel,children:[" ","POSITIVE"," "]}):"Unknown"),"sample_taken"===oa.status&&!(H.edit&&H.person._id===oa._id)&&Object(n.jsx)(p.a,{variant:"outlined",color:"primary",disabled:ne,onClick:function(e){return t=oa._id,ie(!0),void le.changeBackToBookingMade(t).then((function(e){ie(!1),aa(!ta)})).catch((function(e){console.log(e),ie(!1)}));var t},children:"Change Back To Booking Made"}),("report_sent"===oa.status||"report_cert_sent"===oa.status)&&!(H.edit&&H.person._id===oa._id)&&Object(n.jsx)(p.a,{variant:"outlined",color:"primary",className:m.ResendEmailsButton,onClick:function(e){return oa._id,U(oa),void I(!0)},children:"Resend emails"})]}),Object(n.jsxs)("li",{className:m.li,children:[Object(n.jsx)("span",{className:m.infoTitle,children:"TOTAL CHARGES"})," ",Object(n.jsx)("span",{className:Object(fe.calculatePrice)(oa)<=199?m.infoDataCharges:m.infoDataChargesHigher,children:"\xa3".concat(Object(fe.calculatePrice)(oa))}),!(H.edit&&H.person._id===oa._id)&&!oa.paid&&Object(n.jsx)(p.a,{variant:"outlined",color:"secondary",className:m.PayButton,onClick:function(e){return oa._id,U(oa),void M(!0)},children:"Pay"}),!(H.edit&&H.person._id===oa._id)&&oa.paid&&Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsxs)("span",{className:m.PayLabel,children:["  ",Object(n.jsx)(ve.a,{className:m.checkIconSmall})," Paid by ",oa.paidBy,"corporate"===oa.paidBy?' "'.concat(oa.corporate,'" '):""]}),Object(n.jsx)(Y.a,{title:"Undo Payment",children:Object(n.jsx)(R.a,{onClick:function(){return fa(!0)},children:Object(n.jsx)(Bt.a,{style:{color:"red"}})})})]})]}),Object(n.jsx)("li",{hidden:oa.deleted,children:Object(n.jsx)(p.a,{startIcon:Object(n.jsx)(Se.a,{}),type:"button",fullWidth:!0,variant:"outlined",color:"primary",onClick:function(){var e;e=oa._id,me.downloadCovidForm1(e).then((function(e){var t=new Blob([e.data],{type:"application/pdf"}),a=URL.createObjectURL(t);window.open(a,"_blank")})).catch((function(e){console.log(e)}))},className:m.DownloadForm,children:"Download Registration Form"})}),Object(n.jsx)("li",{hidden:oa.deleted,children:Object(n.jsx)(p.a,{startIcon:Object(n.jsx)(Se.a,{}),type:"button",fullWidth:!0,variant:"outlined",color:"primary",onClick:function(){var e;e=oa._id,me.downloadCovidForm2(e).then((function(e){var t=new Blob([e.data],{type:"application/pdf"}),a=URL.createObjectURL(t);window.open(a,"_blank"),aa(!ta)})).catch((function(e){console.log(e)}))},className:m.DownloadForm,children:"Download Lab Form"})}),Object(n.jsx)("li",{hidden:oa.deleted||"report_sent"!==oa.status&&"report_cert_sent"!==oa.status,children:Object(n.jsx)(p.a,{startIcon:Object(n.jsx)(Se.a,{}),type:"button",fullWidth:!0,variant:"outlined",color:"primary",onClick:function(){var e;e=oa._id,me.downloadPdfResult(e).then((function(e){var t=new Blob([e.data],{type:"application/pdf"}),a=URL.createObjectURL(t);window.open(a,"_blank")})).catch((function(e){console.log(e)}))},className:m.DownloadForm,children:"Download Lab Results"})}),Object(n.jsx)("li",{hidden:oa.deleted||"report_cert_sent"!==oa.status,children:Object(n.jsx)(p.a,{startIcon:Object(n.jsx)(Se.a,{}),type:"button",fullWidth:!0,variant:"outlined",color:"primary",onClick:function(){var e;e=oa._id,me.downloadPdfCert(e).then((function(e){var t=new Blob([e.data],{type:"application/pdf"}),a=URL.createObjectURL(t);window.open(a,"_blank")})).catch((function(e){console.log(e)}))},className:m.DownloadForm,children:"Download Certificate"})}),Object(n.jsx)("li",{children:Object(n.jsx)(p.a,{startIcon:Object(n.jsx)(Tt.a,{}),type:"button",fullWidth:!0,variant:"outlined",color:"secondary",onClick:function(){U(oa),ya(!0)},className:m.DownloadForm,children:"Show Audit Trail"})})]})})},"panel0")}),Object(n.jsx)(ot.a,{className:m.backdrop,open:ne||ce||ue,children:Object(n.jsx)(rt.a,{color:"inherit"})})]}),Object(n.jsx)(ht,{booking:W,open:D,handleClose:function(){I(!1),U(null)}}),Object(n.jsx)(kt,{booking:W,open:L,handleClose:function(){M(!1),U(null)}}),Object(n.jsx)(At,{booking:W,open:va,handleClose:function(){ya(!1),U(null)}})]}),Object(n.jsxs)(We.a,{open:ma,onClose:ka,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(n.jsx)(Ue.a,{style:{color:"#999"},id:"alert-dialog-title",children:"Undo Payment"}),Object(n.jsx)(_e.a,{children:Object(n.jsx)(et.a,{style:{color:"#333",fontWeight:"400"},id:"alert-dialog-description",children:"Are you sure you want to undo payment for this booking?"})}),Object(n.jsxs)(tt.a,{children:[Object(n.jsx)(p.a,{onClick:ka,color:"default",children:"Back"}),Object(n.jsx)(p.a,{onClick:Ra,color:"secondary",autoFocus:!0,children:"Yes, Undo Payment"})]})]})]})})}var Pt=a(180),Wt=a.n(Pt),Ut=a(181),_t=a.n(Ut),zt=a(187),Ht=a.n(zt),Kt=a(182),qt=a.n(Kt),Yt=a(183),Vt=a.n(Yt),Gt=a(184),Qt=a.n(Gt),Jt=a(185),Xt=a.n(Jt),Zt=a(186),$t=a.n(Zt),ea=a(238),ta=a(240),aa=a(119),na=a(41),ia=a(715),oa=a(324),ra=a.n(oa),ca=a(323),sa=a.n(ca),la=a(322),da=a.n(la),ja=Object(u.a)((function(e){return{title:{marginTop:e.spacing(0),marginBottom:e.spacing(1)},refreshButton:{marginLeft:e.spacing(2)},checkIcon:{color:"green"},closeIcon:{color:"red"},RefLink:{cursor:"pointer"},BookedLabel:{backgroundColor:"#606060",color:"#fff",width:"70px"},PatientAttendedLabel:{backgroundColor:"#0066aa",color:"#fff",width:"70px"},SampleTakenLabel:{backgroundColor:"#0066cc",color:"#fff",width:"70px"},ReportSentLabel:{backgroundColor:"#009900",color:"#fff",width:"70px"},ReportCertSentLabel:{backgroundColor:"#009900",color:"#fff",width:"70px"},PositiveLabel:{backgroundColor:"red",color:"#fff",width:"70px"},HideNowRows:{position:"absolute",top:"40%",left:"40%",width:"600px",height:"300px",backgroundColor:"#fafafa",color:"#111",zIndex:"1000",display:"flex",alignItems:"center",justifyItems:"center"},ExportToExcelButton:{color:"#2f942e",borderColor:"#2f942e","&:hover":{background:"#fafffa",borderColor:"#2f942e"},textDecoration:"none !important"},ExportToExcelButtonInline:{color:"#2f942e",borderColor:"#2f942e","&:hover":{background:"#fafffa",borderColor:"#2f942e"},textDecoration:"none !important",cursor:"pointer",padding:"10px"},table:{width:"100%",border:"1px solid #ddd",borderCollapse:"collapse"},th:{border:"1px solid #ddd",borderCollapse:"collapse",verticalAlign:"middle",fontcolor:"#555",fontWeight:"400",fontSize:"15px",paddingTop:"5px",paddingBottom:"5px",width:"14%",paddingLeft:"5px"},td:{border:"1px solid #ddd",borderCollapse:"collapse",verticalAlign:"middle",paddingLeft:"5px"}}})),ua=function(e){return"today"===e?"Today's Bookings":"old"===e?"Old Bookings":"future"===e?"Future Bookings":"recent"===e?"Recent Bookings":"live"===e?"Live Bookings":"completed"===e?"Completed Bookings":"positive"===e?"Positive Results":"deleted"===e?"Deleted Records":"late"===e?"40 Hours Late":"All Bookings"};function ba(e){return Object(n.jsx)(nt.a,{handle:"#draggable-dialog-title",cancel:'[class*="MuiDialogContent-root"]',children:Object(n.jsx)(Pe.a,Object(d.a)({},e))})}function pa(e){var t=ja(),a=Object(i.useState)(!1),r=Object(s.a)(a,2),c=r[0],j=r[1],u=o.a.useState(new Date((new Date).getTime()-6048e5)),b=Object(s.a)(u,2),m=b[0],f=b[1],x=o.a.useState(new Date((new Date).getTime()-864e5)),O=Object(s.a)(x,2),v=O[0],y=O[1],k=Object(i.useState)(he(new Date((new Date).getTime()-6048e5),"yyyy-mm-dd")),B=Object(s.a)(k,2),N=B[0],T=B[1],D=Object(i.useState)(he(new Date((new Date).getTime()-864e5),"yyyy-mm-dd")),I=Object(s.a)(D,2),A=I[0],F=I[1],L=Object(i.useState)(!1),M=Object(s.a)(L,2),E=M[0],P=M[1],W=Object(i.useState)(!0),_=Object(s.a)(W,2),z=_[0],H=_[1],K=Object(i.useState)(!0),q=Object(s.a)(K,2),V=q[0],G=q[1],Q=Object(i.useState)(!0),J=Object(s.a)(Q,2),X=J[0],Z=J[1],$=Object(i.useState)(!0),ee=Object(s.a)($,2),te=ee[0],ne=ee[1],ie=Object(i.useState)(!0),oe=Object(s.a)(ie,2),re=oe[0],ce=oe[1],se=Object(i.useState)(!0),de=Object(s.a)(se,2),je=de[0],ue=de[1],be=Object(i.useState)(!0),pe=Object(s.a)(be,2),ge=pe[0],me=pe[1],fe=Object(i.useState)(!0),Oe=Object(s.a)(fe,2),ye=Oe[0],Ce=Oe[1],Te=Object(i.useState)(!0),Se=Object(s.a)(Te,2),we=Se[0],De=Se[1],Re=Object(i.useState)(!0),Ie=Object(s.a)(Re,2),Ae=Ie[0],Fe=Ie[1],Le=[];Le="recent"===e.date?[{field:"_id",headerName:" ",width:70,renderCell:function(e){return Object(n.jsxs)(o.a.Fragment,{children:[e.getValue("tr")?Object(n.jsx)("span",{style:{position:"absolute",fontSize:"12px",fontWeight:"600",color:"#7e0082"},children:"TR"}):"",Object(n.jsx)(p.a,{color:"primary",onClick:function(t){return wt(t,e.value)},children:Object(n.jsx)(Je.a,{})})]})}},{field:"timeStamp",headerName:"TimeStamp",width:200,valueFormatter:function(e){return Nt(e.value)}},{field:"bookingDate",headerName:"B Date",width:110,valueFormatter:function(e){return Object(Ne.FormatDateFromString)(e.value)}},{field:"bookingTimeNormalized",headerName:"B Time",width:105,valueGetter:function(e){return e.getValue("bookingTime")}},{field:"status",headerName:"Status",width:100,renderCell:function(e){return"booked"===e.value?Object(n.jsx)("span",{className:t.BookedLabel,children:"  BM "}):"patient_attended"===e.value?Object(n.jsx)("span",{className:t.PatientAttendedLabel,children:" PA "}):"sample_taken"===e.value?Object(n.jsx)("span",{className:t.SampleTakenLabel,children:"  ST "}):"report_sent"===e.value?Object(n.jsx)("span",{className:t.ReportSentLabel,children:"  RS "}):"report_cert_sent"===e.value?Object(n.jsx)("span",{className:t.ReportCertSentLabel,children:"  RCS "}):"positive"===e.value?Object(n.jsx)("span",{className:t.PositiveLabel,children:" POS "}):"Unknown"}},{field:"bookingRef",headerName:"Ref No.",width:120,renderCell:function(e){return Object(n.jsx)(Y.a,{title:"Go Find By Ref",placement:"right",children:Object(n.jsx)(g.a,{className:t.RefLink,onClick:function(){Ge((function(e){return Object(d.a)(Object(d.a)({},e),{},{currentMenuIndex:ti("findByRef")})})),Ge((function(t){return Object(d.a)(Object(d.a)({},t),{},{ref:e.value})})),Ge((function(e){return Object(d.a)(Object(d.a)({},e),{},{refError:!1})})),Ge((function(e){return Object(d.a)(Object(d.a)({},e),{},{foundRecords:[]})})),Ge((function(e){return Object(d.a)(Object(d.a)({},e),{},{findRecords:!e.findRecords})}))},children:e.value})})}},{field:"forenameCapital",headerName:"Forename",width:150},{field:"surnameCapital",headerName:"Surname",width:150},{field:"birthDate",headerName:"D.O.B",width:110,valueFormatter:function(e){return Object(Ne.FormatDateFromString)(e.value)}},{field:"email",headerName:"Email",width:200,valueFormatter:function(e){return e.value.toUpperCase()}},{field:"phone",headerName:"Tel",width:150},{field:"passportNumber",headerName:"Passport No.",width:250,valueGetter:function(e){var t,a,n,i=e.getValue("passportNumber2");return i&&i.length>0&&i.trim().length>0?"".concat(null===(t=e.getValue("passportNumber"))||void 0===t?void 0:t.toUpperCase()," - ").concat(null===(a=e.getValue("passportNumber2"))||void 0===a?void 0:a.toUpperCase()):null===(n=e.getValue("passportNumber"))||void 0===n?void 0:n.toUpperCase()}},{field:"certificate",headerName:"Certificate",width:120,renderCell:function(e){return e.value?Object(n.jsx)(ve.a,{className:t.checkIcon}):Object(n.jsx)(ke.a,{className:t.closeIcon})}},{field:"antiBodyTest",headerName:"Antibody Test",width:120,renderCell:function(e){return e.value?Object(n.jsx)(ve.a,{className:t.checkIcon}):Object(n.jsx)(ke.a,{className:t.closeIcon})}},{field:"postCode",headerName:"Post Code",width:150,valueFormatter:function(e){return e.value.toUpperCase()}},{field:"address",headerName:"Address",width:500,valueFormatter:function(e){return e.value.toUpperCase()}}]:[{field:"_id",headerName:" ",width:70,renderCell:function(e){return Object(n.jsxs)(o.a.Fragment,{children:[e.getValue("tr")?Object(n.jsx)("span",{style:{position:"absolute",fontSize:"12px",fontWeight:"600",color:"#7e0082"},children:"TR"}):"",Object(n.jsx)(p.a,{color:"primary",onClick:function(t){return wt(t,e.value)},children:Object(n.jsx)(Je.a,{})})]})}},{field:"paid",headerName:"Paid",align:"center",width:70,renderCell:function(e){return e.value?"credit card"===e.getValue("paidBy")?Object(n.jsx)(mt.a,{className:t.checkIcon}):"cash"===e.getValue("paidBy")?Object(n.jsx)(sa.a,{className:t.checkIcon}):"corporate"===e.getValue("paidBy")?Object(n.jsx)(ra.a,{className:t.checkIcon}):"":Object(n.jsx)(ke.a,{className:t.closeIcon})}},{field:"bookingDate",headerName:"B Date",width:110,valueFormatter:function(e){return Object(Ne.FormatDateFromString)(e.value)}},{field:"bookingTimeNormalized",headerName:"B Time",width:105,valueGetter:function(e){return e.getValue("bookingTime")}},{field:"status",headerName:"Status",width:100,renderCell:function(e){return"booked"===e.value?Object(n.jsx)("span",{className:t.BookedLabel,children:"  BM "}):"patient_attended"===e.value?Object(n.jsx)("span",{className:t.PatientAttendedLabel,children:" PA "}):"sample_taken"===e.value?Object(n.jsx)("span",{className:t.SampleTakenLabel,children:"  ST "}):"report_sent"===e.value?Object(n.jsx)("span",{className:t.ReportSentLabel,children:"  RS "}):"report_cert_sent"===e.value?Object(n.jsx)("span",{className:t.ReportCertSentLabel,children:"  RCS "}):"positive"===e.value?Object(n.jsx)("span",{className:t.PositiveLabel,children:" POS "}):"Unknown"}},{field:"bookingRef",headerName:"Ref No.",width:120,renderCell:function(e){return Object(n.jsx)(Y.a,{title:"Go Find By Ref",placement:"right",children:Object(n.jsx)(g.a,{className:t.RefLink,onClick:function(){Ge((function(e){return Object(d.a)(Object(d.a)({},e),{},{currentMenuIndex:ti("findByRef")})})),Ge((function(t){return Object(d.a)(Object(d.a)({},t),{},{ref:e.value})})),Ge((function(e){return Object(d.a)(Object(d.a)({},e),{},{refError:!1})})),Ge((function(e){return Object(d.a)(Object(d.a)({},e),{},{foundRecords:[]})})),Ge((function(e){return Object(d.a)(Object(d.a)({},e),{},{findRecords:!e.findRecords})}))},children:e.value})})}},{field:"forenameCapital",headerName:"Forename",width:150},{field:"surnameCapital",headerName:"Surname",width:150},{field:"birthDate",headerName:"D.O.B",width:110,valueFormatter:function(e){return Object(Ne.FormatDateFromString)(e.value)}},{field:"email",headerName:"Email",width:200,valueFormatter:function(e){return e.value.toUpperCase()}},{field:"phone",headerName:"Tel",width:150},{field:"passportNumber",headerName:"Passport No.",width:250,valueGetter:function(e){var t,a,n,i=e.getValue("passportNumber2");return i&&i.length>0&&i.trim().length>0?"".concat(null===(t=e.getValue("passportNumber"))||void 0===t?void 0:t.toUpperCase()," - ").concat(null===(a=e.getValue("passportNumber2"))||void 0===a?void 0:a.toUpperCase()):null===(n=e.getValue("passportNumber"))||void 0===n?void 0:n.toUpperCase()}},{field:"certificate",headerName:"Certificate",width:120,renderCell:function(e){return e.value?Object(n.jsx)(ve.a,{className:t.checkIcon}):Object(n.jsx)(ke.a,{className:t.closeIcon})}},{field:"antiBodyTest",headerName:"Antibody Test",width:120,renderCell:function(e){return e.value?Object(n.jsx)(ve.a,{className:t.checkIcon}):Object(n.jsx)(ke.a,{className:t.closeIcon})}},{field:"postCode",headerName:"Post Code",width:150,valueFormatter:function(e){return e.value.toUpperCase()}},{field:"address",headerName:"Address",width:500,valueFormatter:function(e){return e.value.toUpperCase()}}];var Pe=o.a.useContext(l),qe=Object(s.a)(Pe,2),Ve=qe[0],Ge=qe[1],Qe=o.a.useState({bookings:[],cachedBookings:[],isFetching:!1}),Xe=Object(s.a)(Qe,2),Ze=Xe[0],$e=Xe[1],et=o.a.useState(null),tt=Object(s.a)(et,2),at=(tt[0],tt[1]),nt=o.a.useState(null),it=Object(s.a)(nt,2),ot=it[0],rt=it[1],ct=o.a.useState(!1),st=Object(s.a)(ct,2),lt=st[0],dt=st[1],jt=Object(i.useState)(Ot[0]),ut=Object(s.a)(jt,2),bt=ut[0],pt=ut[1],ht=o.a.useState(""),gt=Object(s.a)(ht,2),ft=gt[0],xt=gt[1],vt=o.a.useState(!1),yt=Object(s.a)(vt,2),kt=yt[0],Ct=yt[1],Bt=Object(i.useRef)(),Nt=function(e){var t=he(new Date,"yyyy-mm-dd"),a=he(e,"yyyy-mm-dd");return he(e,t===a?"'Today', h:MM:ss TT":"mmm dS, h:MM:ss TT")};Object(i.useEffect)((function(){var t=le.getAllBookings;"today"===e.date?t=le.getTodayBookings:"old"===e.date?t=le.getOldBookings:"future"===e.date?t=le.getFutureBookings:"recent"===e.date?t=le.getRecentBookingsAll:"live"===e.date?t=le.getLiveBookings:"completed"===e.date?t=le.getCompletedBookings:"positive"===e.date?t=le.getPositiveBookings:"deleted"===e.date?t=le.getDeletedBookings:"late"===e.date&&(t=le.getLateBookings),$e({bookings:[],cachedBookings:[],isFetching:!0});var a=t().then((function(e){for(var t=0;t<e.data.length;t++)e.data[t]=Object(d.a)(Object(d.a)({},e.data[t]),{},{id:t+1});return e.data}));Bt.current=a,a.then((function(e){a===Bt.current&&($e({bookings:Object(Me.a)(e),cachedBookings:Object(Me.a)(e),isFetching:!1}),At(1))}),(function(e){a===Bt.current&&(console.log(e),$e({bookings:Ze.bookings,cachedBookings:Ze.cachedBookings,isFetching:!1}))}))}),[e.date,kt]),Object(i.useEffect)((function(){if(ft&&ft.trim().length>0){var e=Ze.cachedBookings.filter((function(e){return e.forename.toLowerCase().indexOf(ft.toLowerCase())>=0||e.surname.toLowerCase().indexOf(ft.toLowerCase())>=0||"".concat(e.forename," ").concat(e.surname).toLowerCase().indexOf(ft.toLowerCase())>=0}));$e({bookings:Object(Me.a)(e),cachedBookings:Ze.cachedBookings,isFetching:!1})}else $e({bookings:Object(Me.a)(Ze.cachedBookings),cachedBookings:Ze.cachedBookings,isFetching:!1})}),[ft]),Object(i.useEffect)((function(){Ct(!kt)}),[Ve.bookingDialogDataChanged]);var St,wt=function(e,t){var a=Ze.bookings.find((function(e){return e._id===t}));rt(a),dt(!0)},Dt=o.a.useState(1),Rt=Object(s.a)(Dt,2),It=Rt[0],At=Rt[1];return Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsxs)(ae.a,{container:!0,direction:"row",justify:"space-between",alignItems:"flex-end",children:[Object(n.jsx)(ae.a,{item:!0,md:4,children:Object(n.jsx)("div",{style:{textAlign:"left",paddingLeft:"10px"},children:Object(n.jsxs)(ae.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",children:[Object(n.jsx)(ae.a,{item:!0,children:Object(n.jsxs)("span",{style:{paddingRight:"15px",color:"#555"},children:[" ",(St=e.date,"today"===St?Object(n.jsx)(Wt.a,{style:{fontSize:"2.2rem"}}):"old"===St?Object(n.jsx)(Tt.a,{style:{fontSize:"2.2rem"}}):"future"===St?Object(n.jsx)(_t.a,{style:{fontSize:"2.2rem"}}):"recent"===St?Object(n.jsx)(qt.a,{style:{fontSize:"2.2rem"}}):"live"===St?Object(n.jsx)(Vt.a,{style:{fontSize:"2.2rem"}}):"completed"===St?Object(n.jsx)(Qt.a,{style:{fontSize:"2.2rem"}}):"positive"===St?Object(n.jsx)(Xt.a,{style:{fontSize:"2.2rem"}}):"deleted"===St?Object(n.jsx)(Be.a,{style:{fontSize:"2.2rem"}}):"late"===St?Object(n.jsx)($t.a,{style:{fontSize:"2.2rem"}}):Object(n.jsx)(Ht.a,{style:{fontSize:"2.2rem"}}))," "]})}),Object(n.jsx)(ae.a,{item:!0,children:Object(n.jsxs)("span",{style:{fontSize:"1.4rem",fontWeight:"600",color:"#444"},children:[" ",ua(e.date)," "]})}),Object(n.jsx)(ae.a,{item:!0,children:Object(n.jsx)(Y.a,{title:"Refresh",placement:"right",children:Object(n.jsx)(R.a,{color:"primary",className:t.refreshButton,onClick:function(e){xt(""),Ct(!kt)},children:Object(n.jsx)(Ye.a,{})})})})]})})}),Object(n.jsx)(ae.a,{item:!0,md:3,children:"completed"===e.date&&Ve.showCreateExcel&&Object(n.jsx)("div",{style:{paddingBottom:"5px"},children:Object(n.jsx)(p.a,{className:t.ExportToExcelButton,variant:"outlined",color:"default",onClick:function(e){j(!0)},startIcon:Object(n.jsx)(ea.a,{style:{color:"#009900"},icon:ta.a}),children:"export to excel"})})}),Ze.isFetching&&Object(n.jsx)("div",{className:t.HideNowRows}),Object(n.jsx)(ae.a,{item:!0,md:3,children:Object(n.jsx)(h.a,{variant:"standard",value:ft,onChange:function(e){xt(e.target.value)},margin:"normal",size:"small",id:"filter",label:"Filter",name:"filter",autoComplete:"off"})})]}),Object(n.jsx)("div",{style:{height:700,width:"100%"},children:Object(n.jsx)(Ee.a,{rows:Ze.bookings,columns:Le,autoPageSize:!0,page:It,onPageChange:function(e){At(e.page)},onSelectionChange:function(e){e.length>0&&at(e.rows[0])}})}),Object(n.jsx)(Et,{booking:ot,open:lt,onClose:function(){rt(null),dt(!1)}}),Ze.bookings&&Ze.bookings.length>0&&Object(n.jsxs)(We.a,{maxWidth:"800px",open:c,onClose:function(){pt(Ot[0]),P(!1),j(!1)},PaperComponent:ba,"aria-labelledby":"form-dialog-title",children:[Object(n.jsxs)(Ue.a,{id:"draggable-dialog-title",children:[Object(n.jsxs)(ae.a,{container:!0,spacing:2,direction:"row",justify:"center",alignItems:"center",children:[Object(n.jsx)(ae.a,{item:!0,children:Object(n.jsx)(ea.a,{style:{color:"#2f942e",fontSize:"2rem"},icon:ta.a})}),Object(n.jsx)(ae.a,{item:!0,children:Object(n.jsxs)("div",{style:{color:"#2f942e",paddingBottom:"5px",fontWeight:"800"},children:[" ","Export to EXCEL"," "]})})]}),Object(n.jsx)(U.a,{})]}),Object(n.jsx)(_e.a,{children:Object(n.jsxs)("div",{style:{minHeight:"600px",maxHeight:"600px",minWidth:"1200px",maxWidth:"1200px"},children:[Object(n.jsxs)("div",{children:[Object(n.jsxs)(ae.a,{row:!0,container:!0,justify:"center",spacing:3,children:[Object(n.jsx)(ae.a,{item:!0,children:Object(n.jsx)(S.a,{control:Object(n.jsx)(ze.a,{checked:E,onChange:function(e){P(e.target.checked)},name:"justCorporate"}),label:"Just Corporate Records"})}),E&&Object(n.jsx)(ae.a,{item:!0,children:Object(n.jsx)(C.a,{style:{marginTop:"0px"},className:t.formControl,children:Object(n.jsx)(He.a,{labelId:"select-corporate",id:"select-corporate-id",value:bt,onChange:function(e){pt(e.target.value)},children:Ot.map((function(e){return Object(n.jsx)(Ke.a,{value:e,children:"".concat(e)})}))})})})]}),Object(n.jsx)(na.a,{utils:aa.a,children:Object(n.jsxs)(ae.a,{row:!0,container:!0,justify:"center",spacing:3,children:[Object(n.jsx)(ae.a,{item:!0,children:Object(n.jsx)(ia.b,{disableToolbar:!0,variant:"inline",format:"dd/MM/yyyy",margin:"normal",id:"date-picker-from",label:"From",value:m,onChange:function(e){f(e),T(he(e,"yyyy-mm-dd"))},KeyboardButtonProps:{"aria-label":"change date"}})}),Object(n.jsx)(ae.a,{item:!0,children:Object(n.jsx)(ia.b,{disableToolbar:!0,variant:"inline",format:"dd/MM/yyyy",margin:"normal",id:"date-picker-until",label:"Until",value:v,onChange:function(e){y(e),F(he(e,"yyyy-mm-dd"))},KeyboardButtonProps:{"aria-label":"change date"}})}),Object(n.jsx)(ae.a,{item:!0,children:Object(n.jsx)("div",{style:{paddingTop:"30px",marginLeft:"20px"},children:Object(n.jsx)(da.a,{id:"test-table-xls-button",className:t.ExportToExcelButtonInline,table:"table-to-xls",filename:"PCR.Report.".concat(N,".").concat(A),sheet:"PCR-Report",buttonText:"Download as XLS"})})})]})})]}),Object(n.jsx)("div",{children:Object(n.jsxs)(ae.a,{container:!0,spacing:3,children:[Object(n.jsx)(ae.a,{item:!0,xs:!0,children:Object(n.jsx)(S.a,{control:Object(n.jsx)(w.a,{checked:z,onChange:function(e){H(e.target.checked)},name:"chkDate"}),label:"Date"})}),Object(n.jsx)(ae.a,{item:!0,xs:!0,children:Object(n.jsx)(S.a,{control:Object(n.jsx)(w.a,{checked:V,onChange:function(e){G(e.target.checked)},name:"chkForename"}),label:"Forename"})}),Object(n.jsx)(ae.a,{item:!0,xs:!0,children:Object(n.jsx)(S.a,{control:Object(n.jsx)(w.a,{checked:X,onChange:function(e){Z(e.target.checked)},name:"chkSurname"}),label:"Surname"})}),Object(n.jsx)(ae.a,{item:!0,xs:!0,children:Object(n.jsx)(S.a,{control:Object(n.jsx)(w.a,{checked:te,onChange:function(e){ne(e.target.checked)},name:"chkDOB"}),label:"D.O.B"})}),Object(n.jsx)(ae.a,{item:!0,xs:!0,children:Object(n.jsx)(S.a,{control:Object(n.jsx)(w.a,{checked:re,onChange:function(e){ce(e.target.checked)},name:"chkEmail"}),label:"Email"})}),Object(n.jsx)(ae.a,{item:!0,xs:!0,children:Object(n.jsx)(S.a,{control:Object(n.jsx)(w.a,{checked:je,onChange:function(e){ue(e.target.checked)},name:"chkTel"}),label:"Tel"})}),Object(n.jsx)(ae.a,{item:!0,xs:!0,children:Object(n.jsx)(S.a,{control:Object(n.jsx)(w.a,{checked:ge,onChange:function(e){me(e.target.checked)},name:"chkCertificate"}),label:"Certificate"})}),Object(n.jsx)(ae.a,{item:!0,xs:!0,children:Object(n.jsx)(S.a,{control:Object(n.jsx)(w.a,{checked:ye,onChange:function(e){Ce(e.target.checked)},name:"chkAntiBodyTest"}),label:"AntiBodyTest"})}),Object(n.jsx)(ae.a,{item:!0,xs:!0,children:Object(n.jsx)(S.a,{control:Object(n.jsx)(w.a,{checked:we,onChange:function(e){De(e.target.checked)},name:"chkextRef"}),label:"Lab No."})}),Object(n.jsx)(ae.a,{item:!0,xs:!0,children:Object(n.jsx)(S.a,{control:Object(n.jsx)(w.a,{checked:Ae,onChange:function(e){Fe(e.target.checked)},name:"chkPrice"}),label:"Price"})})]})}),Object(n.jsx)("div",{style:{width:"100%",paddingTop:"20px"},children:Object(n.jsxs)("table",{className:t.table,id:"table-to-xls",children:[Object(n.jsxs)("tr",{children:[z&&Object(n.jsx)("th",{className:t.th,children:"Date"}),V&&Object(n.jsx)("th",{className:t.th,children:"Forename"}),X&&Object(n.jsx)("th",{className:t.th,children:"Surename"}),te&&Object(n.jsx)("th",{className:t.th,children:"D.O.B"}),re&&Object(n.jsx)("th",{className:t.th,children:"Email"}),je&&Object(n.jsx)("th",{className:t.th,children:"Tel"}),ge&&Object(n.jsx)("th",{className:t.th,children:"Certificate"}),ye&&Object(n.jsx)("th",{className:t.th,children:"AntiBodyTest"}),we&&Object(n.jsx)("th",{className:t.th,children:"Lab No."}),Ae&&Object(n.jsx)("th",{className:t.th,children:"Price (\xa3) "})]}),Ze.bookings.filter((function(e){return E?e.bookingDate>=N&&e.bookingDate<=A&&e.paid&&"corporate"===e.paidBy&&e.corporate===bt:e.bookingDate>=N&&e.bookingDate<=A})).map((function(e){return Object(n.jsxs)("tr",{children:[z&&Object(n.jsx)("td",{className:t.td,children:Object(Ne.FormatDateFromString)(e.bookingDate)}),V&&Object(n.jsx)("td",{className:t.td,children:e.forenameCapital}),X&&Object(n.jsx)("td",{className:t.td,children:e.surnameCapital}),te&&Object(n.jsx)("th",{className:t.th,children:Object(Ne.FormatDateFromString)(e.birthDate)}),re&&Object(n.jsx)("td",{className:t.td,children:e.email}),je&&Object(n.jsx)("td",{className:t.td,children:e.phone}),ge&&Object(n.jsx)("td",{className:t.td,children:e.certificate?"YES":"NO"}),ye&&Object(n.jsx)("td",{className:t.td,children:e.antiBodyTest?"YES":"NO"}),we&&Object(n.jsx)("td",{className:t.td,children:e.extRef}),Ae&&Object(n.jsx)("td",{className:t.td,children:xe.a.calculatePrice(e)})]})}))]})})]})})]})]})}var ha=a(33),ga=a(66);function ma(e){return Object(n.jsx)(O.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0,children:e.children})}function fa(e,t){return{time:e,amount:t}}var xa=[fa("09:00",0),fa("10:00",0),fa("11:00",0),fa("12:00",0),fa("13:00",0),fa("14:00",0),fa("15:00",0),fa("16:00",0),fa("17:00",0),fa("18:00",void 0)],Oa=function(e,t){if(!e)return 0;for(var a=0,n=0;n<e.length;n++)e[n]._id.substr(0,2)===t&&(a+=e[n].count);return a};function va(){var e=Object(ha.a)(),t=o.a.useState(xa),a=Object(s.a)(t,2),r=a[0],c=a[1];return Object(i.useEffect)((function(){(function(){var e=Object($e.a)(Ze.a.mark((function e(){var t,a,n,i;return Ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ge()(new Date,"yyyy-mm-dd"),a=[],e.prev=2,e.next=5,le.getBookingsStatsByDateStr(t);case 5:n=e.sent,i=n.data.result,a.push(fa("09:00",Oa(i,"09"))),a.push(fa("10:00",Oa(i,"10"))),a.push(fa("11:00",Oa(i,"11"))),a.push(fa("12:00",Oa(i,"12"))),a.push(fa("13:00",Oa(i,"13"))),a.push(fa("14:00",Oa(i,"14"))),a.push(fa("15:00",Oa(i,"15"))),a.push(fa("16:00",Oa(i,"16"))),a.push(fa("17:00",Oa(i,"17"))),a.push(fa("18:00",void 0)),c(a),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(2),console.error(e.t0);case 23:case"end":return e.stop()}}),e,null,[[2,20]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)(ma,{children:"Today"}),Object(n.jsx)(ga.g,{children:Object(n.jsxs)(ga.d,{data:r,margin:{top:16,right:16,bottom:0,left:24},children:[Object(n.jsx)(ga.h,{dataKey:"time",stroke:e.palette.text.secondary}),Object(n.jsx)(ga.i,{stroke:e.palette.text.secondary,children:Object(n.jsx)(ga.b,{angle:270,position:"left",style:{textAnchor:"middle",fill:e.palette.text.primary},children:"Online Bookings"})}),Object(n.jsx)(ga.c,{type:"monotone",dataKey:"amount",stroke:e.palette.primary.main,dot:!1})]})})]})}var ya=Object(u.a)({depositContext:{flex:1},bookingBox:{display:"flex",margin:"5px",padding:"5px",maxWidth:"90px",minHeight:"30px",border:"1px solid #eee",fontSize:"12px",fontWeight:"500",cursor:"pointer",backgroundColor:"#ebedf7",color:"#3f51b5",boxShadow:"2px 4px #fafafa",borderRadius:"5px",textAlign:"center",alignItems:"center",justifyItems:"center",align:"center","&:hover":{background:"#3f51b5",color:"#ebedf7"}}}),ka=function(e){var t=e.getMinutes(),a=e.getHours(),n=a>=12;a>12&&(a-=12),t>=0&&t<15?t=0:t>=15&&t<30?t=15:t>=30&&t<45?t=30:t>=45&&(t=45);var i,o=t<10?"0".concat(t):"".concat(t),r=a<10?"0".concat(a):"".concat(a),c=n?"PM":"AM",s="".concat(r,":").concat(o," ").concat(c);return 0===(i=e).getDay()||6===i.getDay()?e.getHours()<10||e.getHours()>=14?null:s:e.getHours()<9||e.getHours()>=18?null:s},Ca=function(e){if(!e)return"Closed";var t=parseInt(e.substr(0,2)),a=parseInt(e.substr(3,2)),n=e.indexOf("PM")>0;45!==a?a+=15:(a=0,(t+=1)>=12&&(n=!0),t>12&&(t-=12));var i=a<10?"0".concat(a):"".concat(a),o=t<10?"0".concat(t):"".concat(t),r=n?"PM":"AM",c="".concat(o,":").concat(i," ").concat(r);return"".concat(e," - ").concat(c)};function Ba(){var e=ya(),t=o.a.useState(new Date),a=Object(s.a)(t,2),r=a[0],c=a[1],l=o.a.useState([]),d=Object(s.a)(l,2),j=d[0],u=d[1],b=o.a.useState(null),p=Object(s.a)(b,2),h=p[0],g=p[1],m=o.a.useState(!1),f=Object(s.a)(m,2),x=f[0],v=f[1];Object(i.useEffect)((function(){var e=setInterval((function(){c(new Date)}),5e3);return function(){clearInterval(e)}}),[]),Object(i.useEffect)((function(){var e=ka(r);if(e){var t=he(r,"yyyy-mm-dd");le.getBookingsByDateStrandTime(t,e).then((function(e){"OK"===e.data.status&&u(Object(Me.a)(e.data.bookings))})).catch((function(e){console.log(e)}))}}),[r]);var y=function(e,t){g(t),v(!0)};return Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)(ma,{children:"Current Visits"}),Object(n.jsx)(O.a,{component:"p",variant:"h6",children:Ca(ka(r))}),Object(n.jsxs)(O.a,{color:"textSecondary",className:e.depositContext,children:["on ",he(r,"dd mmmm, yyyy")]}),function(t){if(t&&t.length>0)return Object(n.jsx)("div",{className:e.root,children:Object(n.jsx)(ae.a,{container:!0,justify:"flex-start",alignItems:"flex-start",spacing:0,children:t.map((function(t){return Object(n.jsx)(ae.a,{item:!0,children:Object(n.jsx)("div",{className:e.bookingBox,onClick:function(e){return y(e,t)},children:Object(n.jsxs)("span",{style:{textAlign:"center"},children:[" ","".concat(t.surnameCapital).substring(0,10)," "]})})})}))})})}(j),Object(n.jsx)(Et,{booking:h,open:x,onClose:function(){v(!1)}})]})}var Na=a(703),Ta=a(706),Sa=a(693),wa=a(704),Da=a(705),Ra=Object(u.a)((function(e){return{seeMore:{marginTop:e.spacing(3)}}}));function Ia(){var e=Ra(),t=o.a.useContext(l),a=Object(s.a)(t,2),r=(a[0],a[1]),c=o.a.useState({bookings:[],isFetching:!1}),j=Object(s.a)(c,2),u=j[0],b=j[1],p=o.a.useState(!1),h=Object(s.a)(p,2),m=h[0],f=h[1],x=function(){b({bookings:u.bookings,isFetching:!0}),le.getRecentBookings().then((function(e){b({bookings:e.data,isFetching:!1})})).catch((function(e){console.log(e),b({bookings:u.bookings,isFetching:!1})}))};Object(i.useEffect)((function(){x()}),[m]),Object(i.useEffect)((function(){x(),setInterval((function(){f((function(e){return!e}))}),5e3)}),[]);var O=function(e){var t=he(new Date,"yyyy-mm-dd"),a=he(e,"yyyy-mm-dd");return he(e,t===a?"'Today', h:MM:ss TT":"mmm dS, h:MM:ss TT")};return Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)(ma,{children:"Recent Bookings"}),Object(n.jsxs)(Na.a,{size:"small",children:[Object(n.jsx)(wa.a,{children:Object(n.jsxs)(Da.a,{children:[Object(n.jsx)(Sa.a,{children:"TimeStamp"}),Object(n.jsx)(Sa.a,{children:"Name"}),Object(n.jsx)(Sa.a,{children:"Surname"}),Object(n.jsx)(Sa.a,{children:"Email"}),Object(n.jsx)(Sa.a,{children:"D.O.B"}),Object(n.jsx)(Sa.a,{children:"Booked Date"}),Object(n.jsx)(Sa.a,{children:"Booked Time"})]})}),Object(n.jsx)(Ta.a,{children:u.bookings.map((function(e){return Object(n.jsxs)(Da.a,{children:[Object(n.jsx)(Sa.a,{children:O(e.timeStamp)}),Object(n.jsx)(Sa.a,{children:e.forename}),Object(n.jsx)(Sa.a,{children:e.surname}),Object(n.jsx)(Sa.a,{children:e.email}),Object(n.jsx)(Sa.a,{children:Object(Ne.FormatDateFromString)(e.birthDate)}),Object(n.jsx)(Sa.a,{children:Object(Ne.FormatDateFromString)(e.bookingDate)}),Object(n.jsx)(Sa.a,{children:e.bookingTime})]},e._id)}))})]}),Object(n.jsx)("div",{className:e.seeMore,children:Object(n.jsx)(g.a,{color:"primary",href:"#",onClick:function(e){e.preventDefault(),r((function(e){return Object(d.a)(Object(d.a)({},e),{},{currentMenuIndex:ti("recentBookings")})}))},children:"See more records"})})]})}var Aa=["#00b33e","#0070e0","#bb00c4"],Fa=Math.PI/180,La=function(e){var t=e.cx,a=e.cy,i=e.midAngle,o=e.innerRadius,r=e.outerRadius,c=e.value,s=(e.index,o+.5*(r-o)),l=t+s*Math.cos(-i*Fa),d=a+s*Math.sin(-i*Fa);return Object(n.jsx)("text",{x:l,y:d,fontSize:"14px",fontWeight:"500",fill:"white",textAnchor:l>t?"start":"end",dominantBaseline:"central",children:"".concat(c," ")})},Ma=Object(u.a)({depositContext:{flex:1},ReportLabels:{position:"absolute",top:"80px",left:"0px"},AverageLabel:{position:"absolute",top:"190px",right:"30px",fontSize:"12px",color:"#0070e0",fontWeight:"600"},less12Label:{fontSize:"12px",color:"#00b33e",fontWeight:"600",paddingLeft:"5px",borderLeft:"5px solid #00b33e",marginBottom:"10px"},less24Label:{fontSize:"12px",color:"#0070e0",fontWeight:"600",paddingLeft:"5px",borderLeft:"5px solid #0070e0",marginBottom:"10px"},less36Label:{fontSize:"12px",color:"#bb00c4",fontWeight:"600",paddingLeft:"5px",borderLeft:"5px solid #bb00c4",marginBottom:"10px"},seeMore:{position:"absolute",top:"191px",left:"2px"}});function Ea(){var e=Ma(),t=o.a.useState(new Date),a=Object(s.a)(t,2),r=a[0],c=a[1],l=o.a.useState({}),d=Object(s.a)(l,2),j=d[0],u=d[1],b=o.a.useState(!1),p=Object(s.a)(b,2),h=p[0],m=p[1],f=o.a.useState(null),x=Object(s.a)(f,2),O=x[0],v=x[1];Object(i.useEffect)((function(){var e=setInterval((function(){c(new Date)}),3e4);return function(){clearInterval(e)}}),[]),Object(i.useEffect)((function(){le.getTestsTimeReport().then((function(e){var t=[];"OK"===e.data.status&&(u(e.data.result),t.push({name:"lessThan12",value:e.data.result.lessThan12}),t.push({name:"lessThan24",value:e.data.result.lessThan24}),t.push({name:"lessThan36",value:e.data.result.lessThan36}),v(t))})).catch((function(e){console.error(e)}))}),[r]);return Object(n.jsx)(o.a.Fragment,{children:Object(n.jsxs)("div",{style:{position:"relative"},children:[Object(n.jsx)(ma,{children:"PCR RESULTS SUMMARY"}),O&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(ga.f,{width:250,height:150,children:Object(n.jsx)(ga.e,{data:O,cx:170,cy:70,labelLine:!1,label:La,outerRadius:65,fill:"#8884d8",dataKey:"value",children:O.map((function(e,t){return Object(n.jsx)(ga.a,{fill:Aa[t%Aa.length]},"cell-".concat(t))}))})}),Object(n.jsxs)("div",{className:e.ReportLabels,children:[Object(n.jsxs)("div",{className:e.less12Label,children:[" ","12 Hours"," "]}),Object(n.jsxs)("div",{className:e.less24Label,children:[" ","24 Hours"," "]}),Object(n.jsxs)("div",{className:e.less36Label,children:[" ","36 Hours"," "]})]}),Object(n.jsxs)("div",{className:e.AverageLabel,children:["avg = ",Object(n.jsxs)("span",{style:{fontSize:"14px"},children:[" ","".concat(j.avg)," "]})," hours"]}),Object(n.jsx)("div",{className:e.seeMore,children:Object(n.jsx)(g.a,{color:"primary",href:"#",onClick:function(e){e.preventDefault(),m(!0)},children:"See Details"})}),Object(n.jsxs)(We.a,{style:{padding:"50px"},onClose:function(){m(!1)},"aria-labelledby":"simple-dialog-title",open:h,children:[Object(n.jsx)(Ue.a,{style:{textAlign:"center"},id:"simple-dialog-title",children:"PCR Results Time Report"}),Object(n.jsx)(_e.a,{children:Object(n.jsxs)(Na.a,{children:[Object(n.jsx)(wa.a,{children:Object(n.jsxs)(Da.a,{children:[Object(n.jsx)(Sa.a,{children:"Recieved in Less Than"}),Object(n.jsx)(Sa.a,{children:"Count"}),Object(n.jsx)(Sa.a,{children:"Percent"})]})}),Object(n.jsxs)(Ta.a,{children:[Object(n.jsxs)(Da.a,{children:[Object(n.jsx)(Sa.a,{children:"12 Hours"}),Object(n.jsx)(Sa.a,{children:j.lessThan12}),Object(n.jsxs)(Sa.a,{children:[j.lessThan12Percent," %"]})]},"row1"),Object(n.jsxs)(Da.a,{children:[Object(n.jsx)(Sa.a,{children:"24 Hours"}),Object(n.jsx)(Sa.a,{children:j.lessThan24}),Object(n.jsxs)(Sa.a,{children:[j.lessThan24Percent," %"]})]},"row2"),Object(n.jsxs)(Da.a,{children:[Object(n.jsx)(Sa.a,{children:"36 Hours"}),Object(n.jsx)(Sa.a,{children:j.lessThan36}),Object(n.jsxs)(Sa.a,{children:[j.lessThan36Percent," %"]})]},"row3"),Object(n.jsxs)(Da.a,{children:[Object(n.jsx)(Sa.a,{children:"48 Hours"}),Object(n.jsx)(Sa.a,{children:j.lessThan48}),Object(n.jsxs)(Sa.a,{children:[j.lessThan48Percent," %"]})]},"row4"),Object(n.jsxs)(Da.a,{children:[Object(n.jsx)(Sa.a,{style:{fontWeight:"800"},children:"Total Results Received : "}),Object(n.jsx)(Sa.a,{style:{fontWeight:"600"},children:j.lessThan48+j.lessThan36+j.lessThan24+j.lessThan12}),Object(n.jsx)(Sa.a,{})]},"row4")]})]})})]})]})]})})}var Pa=Object(u.a)((function(e){return{paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}}));function Wa(){var e=Pa(),t=o.a.useContext(l),a=Object(s.a)(t,2),i=(a[0],a[1],Object(F.a)(e.paper,e.fixedHeight));return Object(n.jsx)(o.a.Fragment,{children:Object(n.jsxs)(ae.a,{container:!0,spacing:3,children:[Object(n.jsx)(ae.a,{item:!0,xs:12,md:4,lg:6,children:Object(n.jsx)(Pe.a,{className:i,children:Object(n.jsx)(va,{})})}),Object(n.jsx)(ae.a,{item:!0,xs:12,md:4,lg:3,children:Object(n.jsx)(Pe.a,{className:i,children:Object(n.jsx)(Ea,{})})}),Object(n.jsx)(ae.a,{item:!0,xs:12,md:4,lg:3,children:Object(n.jsx)(Pe.a,{className:i,children:Object(n.jsx)(Ba,{})})}),Object(n.jsx)(ae.a,{item:!0,xs:12,children:Object(n.jsx)(Pe.a,{className:e.paper,children:Object(n.jsx)(Ia,{})})})]})})}var Ua,_a=a(707),za=a(729),Ha=a(200),Ka=a.n(Ha),qa=a(336),Ya=a.n(qa),Va=a(132),Ga=a.n(Va),Qa=Object(u.a)((function(e){return{title:{marginTop:e.spacing(0),marginBottom:e.spacing(1)},refreshButton:{marginLeft:e.spacing(2)},checkIcon:{color:"green"},closeIcon:{color:"red"},RefLink:{cursor:"pointer"},BookedLabel:{backgroundColor:"#606060",color:"#fff",paddingRight:"10px",paddingLeft:"10px"},PatientAttendedLabel:{backgroundColor:"#0066aa",color:"#fff",paddingRight:"15px",paddingLeft:"10px"},SampleTakenLabel:{backgroundColor:"#0066cc",color:"#fff",paddingRight:"40px",paddingLeft:"10px"},ReportSentLabel:{backgroundColor:"#009900",color:"#fff",paddingRight:"90px",paddingLeft:"10px"},ReportCertSentLabel:{backgroundColor:"#009900",color:"#fff",paddingRight:"68px",paddingLeft:"10px"},archiveButton:{},smartMatchButton:{backgroundColor:"#2f942e","&:hover":{background:"green",color:"#fff"},textDecoration:"none !important",marginRight:"10px"},infoTitle:{fontWeight:"400"},infoData:{paddingLeft:"10px",fontWeight:"800"},matchButton:{marginTop:"30px",marginBottom:"20px",backgroundColor:"#2f942e","&:hover":{background:"green",color:"#fff"},textDecoration:"none !important",padding:"10px",paddingLeft:"50px",paddingRight:"50px"},resendButton:{marginTop:"5px",marginBottom:"5px",backgroundColor:"#2f942e","&:hover":{background:"green",color:"#fff"},textDecoration:"none !important",padding:"10px",paddingLeft:"50px",paddingRight:"50px"},resendFilesButton:{marginTop:"5px",marginBottom:"5px",backgroundColor:"#3792ad","&:hover":{background:"#2f798f",color:"#fff"},textDecoration:"none !important",padding:"10px",paddingLeft:"50px",paddingRight:"50px"},cancelButton:{marginBottom:"10px",textDecoration:"none !important",padding:"10px",paddingLeft:"90px",paddingRight:"90px"},downloadPDFButton:{marginLeft:"50px"}}})),Ja=Object(ct.a)((function(e){return{root:{height:10,borderRadius:5},colorPrimary:{backgroundColor:"#cedbce"},bar:{borderRadius:5,backgroundColor:"#2f942e"}}}))(dt.a);function Xa(e){return Object(n.jsxs)(m.a,{display:"flex",alignItems:"center",children:[Object(n.jsx)(m.a,{width:"100%",mr:1,children:Object(n.jsx)(Ja,Object(d.a)({variant:"determinate"},e))}),Object(n.jsx)(m.a,{minWidth:35,children:Object(n.jsx)(O.a,{style:{fontWeight:"800",color:"#5e855e"},variant:"body2",color:"textSecondary",children:"".concat(Math.round(e.value),"%")})})]})}function Za(e){return Object(n.jsx)(nt.a,{handle:"#draggable-dialog-title",cancel:'[class*="MuiDialogContent-root"]',children:Object(n.jsx)(Pe.a,Object(d.a)({},e))})}function $a(){var e=Qa(),t=[{field:"id",headerName:"#",width:50},{field:"testDate",headerName:"Test Date",width:120,valueFormatter:function(e){return Object(Ne.FormatDateFromString)(e.value)}},{field:"forename",headerName:"Forename",width:200},{field:"surname",headerName:"Surname",width:200},{field:"birthDate",headerName:"D.O.B",width:120,valueFormatter:function(e){return Object(Ne.FormatDateFromString)(e.value)}},{field:"_id",headerName:"Action",width:500,renderCell:function(t){return"unresolved"===P?Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)(p.a,{disabled:t.value===F,type:"button",variant:"contained",color:"primary",startIcon:Object(n.jsx)(Ka.a,{}),onClick:function(e){return at(e,t.value)},className:e.smartMatchButton,children:"smart match"}),Object(n.jsx)(p.a,{disabled:t.value===F,type:"button",variant:"contained",color:"primary",onClick:function(e){return it(e,t.value)},className:e.archiveButton,children:"archive"}),Object(n.jsx)(p.a,{disabled:t.value===F,type:"button",color:"primary",onClick:function(e){return ct(t.value)},className:e.downloadPDFButton,children:"view pdf"})]}):Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)(p.a,{disabled:t.value===F,type:"button",variant:"contained",color:"primary",startIcon:Object(n.jsx)(Ka.a,{}),onClick:function(e){return at(e,t.value)},className:e.smartMatchButton,children:"smart match"}),Object(n.jsx)(p.a,{disabled:t.value===F,type:"button",variant:"contained",color:"primary",onClick:function(e){return ot(e,t.value)},className:e.archiveButton,children:"Undo"}),Object(n.jsx)(p.a,{disabled:t.value===F,type:"button",color:"primary",onClick:function(e){return ct(t.value)},className:e.downloadPDFButton,children:"view pdf"})]})}}],a=o.a.useContext(l),r=Object(s.a)(a,2),c=r[0],j=(r[1],o.a.useState({bookings:[],cachedBookings:[],isFetching:!1})),u=Object(s.a)(j,2),b=u[0],g=u[1],m=o.a.useState(null),f=Object(s.a)(m,2),x=(f[0],f[1]),O=o.a.useState(""),v=Object(s.a)(O,2),k=v[0],C=v[1],B=o.a.useState(!1),N=Object(s.a)(B,2),T=N[0],D=N[1],I=o.a.useState(null),A=Object(s.a)(I,2),F=A[0],L=A[1],M=o.a.useState("unresolved"),E=Object(s.a)(M,2),P=E[0],W=E[1],_=o.a.useState(!1),z=Object(s.a)(_,2),H=z[0],K=z[1],q=o.a.useState(!1),V=Object(s.a)(q,2),G=V[0],Q=V[1],J=o.a.useState(null),X=Object(s.a)(J,2),Z=X[0],$=X[1],ee=o.a.useState(null),te=Object(s.a)(ee,2),ne=te[0],ie=te[1],oe=o.a.useState(null),re=Object(s.a)(oe,2),ce=re[0],se=re[1],de=o.a.useState(null),je=Object(s.a)(de,2),ue=je[0],be=je[1],pe=o.a.useState(null),he=Object(s.a)(pe,2),fe=he[0],xe=he[1],Oe=o.a.useState(!1),ve=Object(s.a)(Oe,2),ye=ve[0],ke=ve[1],Ce=o.a.useState(!1),Be=Object(s.a)(Ce,2),Te=Be[0],Se=Be[1],we=o.a.useState(!1),De=Object(s.a)(we,2),Re=De[0],Ie=De[1],Ae=o.a.useState(!1),Fe=Object(s.a)(Ae,2),Le=Fe[0],Pe=Fe[1],ze=o.a.useState(!1),He=Object(s.a)(ze,2),Ke=He[0],qe=He[1],Ve=o.a.useState(""),Qe=Object(s.a)(Ve,2),Je=Qe[0],Xe=Qe[1],Ze=o.a.useState(10),$e=Object(s.a)(Ze,2),et=$e[0],tt=$e[1],at=function(e,t){$(t),K(!0),nt(t)};Object(i.useEffect)((function(){Z&&nt(Z)}),[c.bookingDialogDataChanged]);var nt=function(e){le.getLinkDetails(e).then((function(e){ie(e.data),console.log(e.data)})).catch((function(e){console.log(e)})),le.findBestMatches(e).then((function(e){se(e.data.matchedBookings)})).catch((function(e){console.log(e),se([])}))},it=function(e,t){F||(L(t),le.archiveRecord(t).then((function(e){L(null),D(!T)})).catch((function(e){L(null)})))},ot=function(e,t){F||(L(t),le.unArchiveRecord(t).then((function(e){L(null),D(!T)})).catch((function(e){L(null)})))},rt=Object(i.useRef)();Object(i.useEffect)((function(){var e=le.getUnmatchedRecords;"archived"===P&&(e=le.getUnmatchedRecordsArchived),g({bookings:[],cachedBookings:[],isFetching:!0});var t=e().then((function(e){for(var t=0;t<e.data.length;t++)e.data[t]=Object(d.a)(Object(d.a)({},e.data[t]),{},{id:t+1});return e.data}));rt.current=t,t.then((function(e){t===rt.current&&g({bookings:e,cachedBookings:Object(Me.a)(e),isFetching:!1})}),(function(e){t===rt.current&&(console.log(e),g({bookings:b.bookings,cachedBookings:b.cachedBookings,isFetching:!1}))}))}),[T,P]),Object(i.useEffect)((function(){if(k&&k.trim().length>0){var e=b.cachedBookings.filter((function(e){return e.forename.toLowerCase().indexOf(k.toLowerCase())>=0||e.surname.toLowerCase().indexOf(k.toLowerCase())>=0}));g({bookings:e,cachedBookings:b.cachedBookings,isFetching:!1})}else g({bookings:Object(Me.a)(b.cachedBookings),cachedBookings:b.cachedBookings,isFetching:!1})}),[k]);Object(i.useEffect)((function(){tt((function(e){return e>=100?100:(t=Je,console.log("status : ".concat(t)),"downloadFailed"===t?10:"downloading"===t?30:"downloadSuccess"===t?70:"sent"===t?100:0);var t}))}),[Je]);var ct=function(e){me.downloadPdfLabReport(e).then((function(e){var t=new Blob([e.data],{type:"application/pdf"}),a=URL.createObjectURL(t);window.open(a,"_blank")})).catch((function(e){console.log(e)}))};return Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsxs)(ae.a,{container:!0,direction:"row",justify:"space-between",alignItems:"flex-end",children:[Object(n.jsx)(ae.a,{item:!0,md:5,children:Object(n.jsx)("div",{style:{textAlign:"left",paddingLeft:"10px"},children:Object(n.jsxs)(ae.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",children:[Object(n.jsx)(ae.a,{item:!0,children:Object(n.jsxs)("span",{style:{paddingRight:"15px",color:"#555"},children:[" ",Object(n.jsx)(Ga.a,{style:{fontSize:"2.2rem"}})," "]})}),Object(n.jsx)(ae.a,{item:!0,children:Object(n.jsx)("span",{style:{fontSize:"1.4rem",fontWeight:"600",color:"#444"},children:" Unmatched Records "})}),Object(n.jsx)(ae.a,{item:!0,children:Object(n.jsx)(Y.a,{title:"Refresh",placement:"right",children:Object(n.jsx)(R.a,{color:"primary",className:e.refreshButton,onClick:function(e){C(""),D(!T)},children:Object(n.jsx)(Ye.a,{})})})})]})})}),Object(n.jsx)(ae.a,{item:!0,md:3,children:Object(n.jsxs)(za.a,{value:P,style:{marginBottom:"10px"},exclusive:!0,onChange:function(e,t){t&&t.length&&W(t)},"aria-label":"text alignment",children:[Object(n.jsx)(_a.a,{value:"unresolved","aria-label":"left aligned",children:"UnResolved"}),Object(n.jsx)(_a.a,{value:"archived","aria-label":"centered",children:"Archived"})]})}),Object(n.jsx)(ae.a,{item:!0,md:3,children:Object(n.jsx)(h.a,{variant:"standard",value:k,onChange:function(e){C(e.target.value)},margin:"normal",size:"small",id:"filter",label:"Filter",name:"filter",autoComplete:"off"})})]}),Object(n.jsx)("div",{style:{height:700,width:"100%"},children:Object(n.jsx)(Ee.a,{rows:b.bookings,columns:t,autoPageSize:!0,onSelectionChange:function(e){e.length>0&&x(e.rows[0])}})}),Object(n.jsxs)(We.a,{maxWidth:"800px",open:H,onClose:function(){K(!1),setTimeout((function(){$(null),ie(null),se(null),be(null),Se(!1),ke(!1),Xe(null),Ie(!1),Pe(!1),clearInterval(Ua),qe(!1)}),100)},PaperComponent:Za,"aria-labelledby":"form-dialog-title",children:[Object(n.jsxs)(Ue.a,{id:"draggable-dialog-title",children:[Object(n.jsxs)(ae.a,{container:!0,spacing:2,direction:"row",justify:"center",alignItems:"center",children:[Object(n.jsx)(ae.a,{item:!0,children:Object(n.jsx)(Ka.a,{style:{color:"#2f942e",fontSize:"2rem"}})}),Object(n.jsx)(ae.a,{item:!0,children:Object(n.jsxs)("div",{style:{color:"#2f942e",paddingBottom:"12px",fontWeight:"800"},children:[" ","SMART MATCH"," "]})})]}),Object(n.jsx)(U.a,{})]}),Object(n.jsxs)(_e.a,{children:[Object(n.jsxs)("div",{style:{minHeight:"600px",maxHeight:"600px",minWidth:"1200px",maxWidth:"1200px"},children:[(!ce||!ne)&&Object(n.jsx)(o.a.Fragment,{children:Object(n.jsxs)(ae.a,{container:!0,direction:"column",justify:"center",alignItems:"center",spacing:2,children:[Object(n.jsx)(ae.a,{item:!0,children:Object(n.jsx)(Ge.a,{style:{marginTop:"170px"},type:"Grid",color:"#2f942e",height:100,width:100,timeout:0})}),Object(n.jsx)(ae.a,{item:!0,children:Object(n.jsxs)("div",{style:{color:"#2f942e",paddingBottom:"12px",fontWeight:"800"},children:[" ","SEARCHING ..."," "]})})]})}),ce&&0===ce.length&&Object(n.jsx)(o.a.Fragment,{children:Object(n.jsx)(ae.a,{container:!0,direction:"column",justify:"center",alignItems:"center",spacing:2,children:Object(n.jsx)(ae.a,{item:!0,children:Object(n.jsxs)("div",{style:{color:"#2f942e",paddingBottom:"12px",fontWeight:"800",marginTop:"230px"},children:[" ","SORRY, NO RECORDS FOUND !"," "]})})})}),ce&&ne&&ce.length>0&&Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsxs)(ae.a,{container:!0,direction:"column",justify:"flex-start",alignItems:"stretch",spacing:2,children:[Object(n.jsxs)(ae.a,{item:!0,children:[Object(n.jsxs)("div",{style:{fontSize:"1.1rem",fontWeight:"600",color:"#2f942e",marginBottom:"15px"},children:[" ","LAB RECORD :"]}),Object(n.jsxs)(ae.a,{style:{paddingLeft:"20px",paddingBottom:"20px"},container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start",spacing:4,children:[Object(n.jsxs)(ae.a,{item:!0,children:[Object(n.jsx)("span",{className:e.infoTitle,children:"Forename:"}),Object(n.jsx)("span",{className:e.infoData,children:ne.forename})]}),Object(n.jsxs)(ae.a,{item:!0,children:[Object(n.jsx)("span",{className:e.infoTitle,children:"Surname:"}),Object(n.jsx)("span",{className:e.infoData,children:ne.surname})]}),Object(n.jsxs)(ae.a,{item:!0,children:[Object(n.jsx)("span",{className:e.infoTitle,children:"D.O.B:"}),Object(n.jsx)("span",{className:e.infoData,children:Object(Ne.FormatDateFromString)(ne.birthDate)})]}),Object(n.jsxs)(ae.a,{item:!0,children:[Object(n.jsx)("span",{className:e.infoTitle,children:"Test Date:"}),Object(n.jsx)("span",{className:e.infoData,children:Object(Ne.FormatDateFromString)(ne.testDate)})]})]}),Object(n.jsx)(U.a,{})]}),Object(n.jsx)(ae.a,{item:!0,children:Object(n.jsxs)("div",{style:{fontSize:"1.1rem",fontWeight:"600",color:"#2f942e",marginBottom:"15px"},children:[" ","BEST MATCHES :"]})}),Object(n.jsx)(ae.a,{item:!0,children:Object(n.jsxs)(Na.a,{size:"small",children:[Object(n.jsx)(wa.a,{children:Object(n.jsxs)(Da.a,{children:[Object(n.jsx)(Sa.a,{children:"Select"}),Object(n.jsx)(Sa.a,{children:"Match"}),Object(n.jsx)(Sa.a,{children:"Forename"}),Object(n.jsx)(Sa.a,{children:"Surname"}),Object(n.jsx)(Sa.a,{children:"D.O.B"}),Object(n.jsx)(Sa.a,{children:"Email"}),Object(n.jsx)(Sa.a,{children:"Test Date"}),Object(n.jsx)(Sa.a,{})]})}),Object(n.jsx)(Ta.a,{children:ce.map((function(e){var t;return Object(n.jsxs)(Da.a,{children:[Object(n.jsx)(Sa.a,{children:Object(n.jsx)(Y.a,{title:e.birthDate!==ne.birthDate?'"D.O.B" DOES NOT MATCH THE LAB REPORT ! PLEASE MAKE SURE "D.O.B" OF THE SELECTED BOOKING IS CORRECT !':"",children:Object(n.jsx)(S.a,{control:Object(n.jsx)(w.a,{checked:ue&&ue._id===e._id,disabled:Te||ye,onChange:function(t){return function(e,t){e.target.checked?be(t):be(null)}(t,e)},name:"checkedA"}),label:""})})}),Object(n.jsx)(Sa.a,{style:{fontWeight:"800",color:"#2f942e",fontSize:"1.1rem"},children:"".concat(e.likelihood," %")}),Object(n.jsx)(Sa.a,{style:e.forenameCapital===ne.forename?{fontWeight:"800",color:"#2f942e"}:{fontWeight:"800",color:"#ff871f"},children:e.forenameCapital}),Object(n.jsx)(Sa.a,{style:e.surnameCapital===ne.surname?{fontWeight:"800",color:"#2f942e"}:{fontWeight:"800",color:"#ff871f"},children:e.surnameCapital}),Object(n.jsx)(Sa.a,{style:e.birthDate===ne.birthDate?{fontWeight:"800",color:"#2f942e"}:{fontWeight:"800",color:"red"},children:Object(n.jsxs)(ae.a,{container:!0,direction:"column",justify:"center",alignItems:"center",spacing:1,children:[Object(n.jsx)(ae.a,{item:!0,children:e.birthDate!==ne.birthDate&&Object(n.jsx)("span",{style:{textAlign:"center"},children:Object(n.jsx)(Ya.a,{})})}),Object(Ne.FormatDateFromString)(e.birthDate),Object(n.jsx)(ae.a,{item:!0})]})}),Object(n.jsx)(Sa.a,{children:null===(t=e.email)||void 0===t?void 0:t.toUpperCase()}),Object(n.jsx)(Sa.a,{style:ge()(e.samplingTimeStamp,"yyyy-mm-dd")===ne.testDate?{fontWeight:"800",color:"#2f942e"}:{fontWeight:"800",color:"red"},children:Object(Ne.FormatDateFromString)(ge()(e.samplingTimeStamp,"yyyy-mm-dd"))}),Object(n.jsx)(Sa.a,{children:Object(n.jsx)(p.a,{color:"primary",disabled:Re,onClick:function(t){return function(e,t){xe(t),Q(!0)}(0,e)},children:"See Details"})})]},e._id)}))})]})})]}),Object(n.jsxs)(ae.a,{container:!0,direction:"column",justify:"center",spacing:1,alignItems:"center",children:[!Te&&Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)(ae.a,{item:!0,children:Object(n.jsx)(p.a,{disabled:!ue||ye,className:e.matchButton,variant:"contained",color:"primary",onClick:function(e){ke(!0),le.getBookingById(ue._id).then((function(e){be(e.data)})),le.matchRecords(ue._id,Z).then((function(e){"OK"===e.data.status&&(ke(!1),Se(!0))})).catch((function(e){console.log(e)}))},children:"GO Match THE Records"})}),!ue&&Object(n.jsx)(ae.a,{item:!0,children:Object(n.jsx)(y.a,{severity:"warning",children:"No Record is Selected ! \u2014 Please select a record you think it is a match."})})]}),Te&&!Le&&!Re&&Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)(ae.a,{item:!0,children:Object(n.jsx)(y.a,{style:{marginTop:"10px",paddingLeft:"50px",paddingRight:"50px"},severity:"success",children:" Success \u2014 The Records are Matched Now !"})}),Object(n.jsx)(ae.a,{item:!0,children:Object(n.jsxs)("div",{style:{paddingTop:"5px",fontSize:"1rem",fontWeight:"500",color:"#555"},children:["Do you want to Resend the LAB Report ",ue.certificate?" and Certificate":"","  Now?"]})}),Object(n.jsx)(ae.a,{item:!0,children:Object(n.jsx)(p.a,{disabled:Re||Le,className:e.resendButton,variant:"contained",color:"primary",onClick:function(e){Ie(!0),tt(0),Xe("downloadFailed"),le.resendEmails(Z).then((function(e){Ua=setInterval((function(){le.getLinkDetails(Z).then((function(e){Xe(e.data.status),"sent"===e.data.status&&(Ie(!1),Pe(!0),D(!T),clearInterval(Ua))}))}),1e3)})).catch((function(e){console.log(e),Ie(!1)}))},children:"YES ! RESEND THE EMAILS"})}),Object(n.jsx)(ae.a,{item:!0,children:Object(n.jsx)(p.a,{disabled:Re||Le,className:e.cancelButton,variant:"contained",color:"default",onClick:function(e){Se(!1)},children:"NO ! NOT NOW"})}),Object(n.jsx)(ae.a,{item:!0,children:Object(n.jsx)(p.a,{disabled:Re||Le,className:e.resendFilesButton,variant:"contained",color:"primary",onClick:function(e){Ie(!0),tt(0),Xe("downloadFailed"),qe(!0),le.regenerateFiles(Z).then((function(e){Ua=setInterval((function(){le.getLinkDetails(Z).then((function(e){Xe(e.data.status),"sent"===e.data.status&&(Ie(!1),Pe(!0),D(!T),clearInterval(Ua))}))}),1e3)})).catch((function(e){console.log(e),Ie(!1)}))},children:"Just Generate The Files and send to pcrresults@medicalexpressclinic.co.uk"})}),Object(n.jsx)(ae.a,{item:!0,children:Object(n.jsx)(y.a,{style:{marginTop:"10px",paddingLeft:"50px",paddingRight:"50px"},severity:"warning",children:"Caution! \u2014 The LAB Report and Certificate will be Sent According to the Record you have Selected !"})})]}),Te&&(Re||Le)&&Object(n.jsx)(ae.a,{item:!0,children:Object(n.jsxs)("div",{style:{paddingTop:"50px",color:"#2f942e",fontWeight:"600",fontSize:"1rem"},children:[Re&&!Le&&"Sending ...",Le&&!Ke&&Object(n.jsxs)(y.a,{style:{marginTop:"10px",paddingLeft:"50px",paddingRight:"50px"},severity:"success",children:["Success! \u2014 The LAB Report ",ue.certificate?" and Certificate ":" ","  Successfully Sent."]}),Le&&Ke&&Object(n.jsxs)(y.a,{style:{marginTop:"10px",paddingLeft:"50px",paddingRight:"50px"},severity:"success",children:["Success! \u2014 The LAB Report ",ue.certificate?" and Certificate ":" ","  Successfully Sent Just to pcrresults@medicalexpressclinic.co.uk ."]})]})})]})]}),Te&&(Re||Le)&&Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)("div",{style:{marginTop:"10px",width:"50%",marginLeft:"27%"},children:Object(n.jsx)(Xa,{variant:"determinate",color:"primary",value:et})}),Object(n.jsx)("div",{style:{paddingTop:"30px",color:"#2f942e",fontWeight:"600",fontSize:"1rem",marginLeft:"45%"},children:Re&&!Le&&"PLEASE WAIT ..."})]})]}),Object(n.jsx)(Et,{booking:fe,open:G,onClose:function(){Q(!1),setTimeout((function(){xe(null)}),500)},deleteButtonDisabled:!0})]})]})]})}var en=Object(u.a)((function(e){return{Container:{width:"100%",paddingTop:"70%",position:"relative",backgroundColor:"#fff"},ContainerPast:{width:"100%",paddingTop:"70%",position:"relative",backgroundColor:"#fafafa"},DayLabel:{position:"absolute",top:"5px",right:"5px",color:"#555",fontSize:"1rem"},DayLabelToday:{position:"absolute",top:"5px",right:"5px",backgroundColor:"#1a73e8",color:"#fff",fontSize:"1rem",borderRadius:"50%",padding:"5px",lineHight:"35px",minWidth:"35px"},DayLabelDisabled:{position:"absolute",top:"5px",right:"5px",color:"#ddd",fontSize:"1rem"},BookingCountLabel:{position:"absolute",top:"35%",left:"40%",color:"#3f51b5",backgroundColor:"#ebedf7",fontSize:"16px",fontWeight:"600",padding:"10px",borderRadius:"50%",minWidth:"40px",lineHight:"40px",cursor:"pointer"},BookingCountLabelBusy:{position:"absolute",top:"35%",left:"40%",color:"#b00000",backgroundColor:"#fce6e6",fontSize:"16px",fontWeight:"600",padding:"10px",borderRadius:"50%",minWidth:"40px",cursor:"pointer"},LoadingProgress:{position:"absolute",top:"40%",left:"40%"},BookingCountGauge:{position:"absolute",bottom:"5%",left:"8%",width:"8%",height:"85%"}}})),tn=function(e){e.key;var t=e.cellIndex,a=e.month,r=e.daysInMonth,c=e.dayClicked,j=en(),u=o.a.useContext(l),b=Object(s.a)(u,2),p=b[0],h=b[1],g=o.a.useState(""),m=Object(s.a)(g,2),f=m[0],x=m[1],O=o.a.useState(new Date),v=Object(s.a)(O,2),y=v[0],k=v[1],C=o.a.useState(-1),B=Object(s.a)(C,2),N=B[0],T=B[1],S=o.a.useState(!1),w=Object(s.a)(S,2),D=w[0],R=w[1],I=o.a.useState(!1),A=Object(s.a)(I,2),F=A[0],L=A[1];Object(i.useEffect)((function(){if(t<=r.length){var e=r[t-1],n=ge()(e,"yyyy-mm-dd");x(n),k(e),R(e.getMonth()!==a-1);var i=ge()(new Date,"yyyy-mm-dd");L(n<i)}else{var o=t-r.length,c=new Date(r[r.length-1].getTime()+864e5*o),s=ge()(c,"yyyy-mm-dd");x(s),k(c),R(!0);var l=ge()(new Date,"yyyy-mm-dd");L(s<l)}}),[t,a,r]),Object(i.useEffect)((function(){(function(){var e=Object($e.a)(Ze.a.mark((function e(){var t,a,n;return Ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f&&!(f.length<=0)){e.next=2;break}return e.abrupt("return");case 2:if(!F&&!D){e.next=5;break}return T(-2),e.abrupt("return");case 5:if(T(-1),n=null===(t=p.calendarCache)||void 0===t||null===(a=t.find((function(e){return"getBookingsCountByDateStr"===e.method&&e.query===f})))||void 0===a?void 0:a.res){e.next=12;break}return e.next=10,le.getBookingsCountByDateStr(f);case 10:n=e.sent,h((function(e){return Object(d.a)(Object(d.a)({},e),{},{calendarCache:[].concat(Object(Me.a)(e.calendarCache),[{method:"getBookingsCountByDateStr",query:f,res:n}])})}));case 12:n.data.count>=0&&T(n.data.count);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[f]);var M;return Object(n.jsx)(o.a.Fragment,{children:Object(n.jsxs)("div",{className:F?j.ContainerPast:j.Container,children:[function(e,t,a){var i=null,o=!1,r=-1;if(e<=a.length)r=(i=a[e-1]).getDate(),i.getMonth()!==t-1&&(o=!0);else{var c=e-a.length;r=new Date(a[a.length-1].getTime()+864e5*c).getDate(),o=!0}var s=ge()(new Date,"yyyy-mm-dd")===ge()(i,"yyyy-mm-dd");return Object(n.jsx)("span",{className:o||F?j.DayLabelDisabled:s?j.DayLabelToday:j.DayLabel,children:r>0?"".concat(r):""})}(t,a,r),(M=N,-1===M?Object(n.jsx)("div",{className:j.LoadingProgress,children:Object(n.jsx)(rt.a,{disableShrink:!0})}):M>0&&!D?M>=50?Object(n.jsx)("div",{onClick:function(e){return c(e,y)},className:j.BookingCountLabelBusy,children:M}):Object(n.jsx)("div",{onClick:function(e){return c(e,y)},className:j.BookingCountLabel,children:M}):void 0),function(e){if(e>0&&!D){var t=e/100*100;return t>100&&(t=100),t=100-t,Object(n.jsx)("div",{className:j.BookingCountGauge,children:Object(n.jsx)("div",{style:{padding:"0",margin:"0",width:"100%",height:"100%",backgroundColor:"#3f51b5"},children:Object(n.jsx)("div",{style:{padding:"0",margin:"0",width:"100%",height:"".concat(t,"%"),backgroundColor:"#fafafa"}})})})}}(N)]})})},an=a(125),nn=a.n(an),on=function e(){Object(ne.a)(this,e)};on.getMonthRange=function(e,t){return new nn.a.Calendar(nn.a.SUNDAY).itermonthdates(t,e)};var rn=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],cn=[1,2,3,4,5,6,7],sn=[1,2,3,4,5,6],ln=Object(u.a)((function(e){return{table:{width:"100%",border:"1px solid #ddd",borderCollapse:"collapse"},th:{border:"1px solid #ddd",borderCollapse:"collapse",verticalAlign:"middle",fontcolor:"#555",fontWeight:"400",fontSize:"15px",paddingTop:"5px",paddingBottom:"5px",width:"14%"},td:{border:"1px solid #ddd",borderCollapse:"collapse",verticalAlign:"middle"}}})),dn=function(e){var t=e.month,a=e.year,i=e.dayClicked,r=ln(),c=on.getMonthRange(t,a);return Object(n.jsx)(o.a.Fragment,{children:Object(n.jsxs)("table",{className:r.table,children:[Object(n.jsx)("thead",{children:Object(n.jsx)("tr",{children:rn.map((function(e){return Object(n.jsx)("th",{className:r.th,children:e},"th-".concat(e))}))})}),Object(n.jsx)("tbody",{children:sn.map((function(e){return Object(n.jsx)("tr",{children:cn.map((function(o){return Object(n.jsx)("td",{className:r.td,children:Object(n.jsx)(tn,{cellIndex:(e-1)*cn.length+o,month:t,daysInMonth:c,dayClicked:i},"".concat(t).concat(a).concat((e-1)*cn.length+o))})}))})}))})]})})},jn=a(191),un=a.n(jn),bn=a(192),pn=a.n(bn),hn=Object(u.a)((function(e){return{Container:{width:"100%",paddingTop:"40%",position:"relative",backgroundColor:"#fff"},ContainerPast:{width:"100%",paddingTop:"40%",position:"relative",backgroundColor:"#fafafa"},DayLabel:{position:"absolute",top:"5px",right:"5px",color:"#555",fontSize:"1rem"},DayLabelDisabled:{position:"absolute",top:"5px",right:"5px",color:"#ddd",fontSize:"1rem"},BookingCountLabel:{position:"absolute",top:"25%",left:"38%",color:"#3f51b5",backgroundColor:"#ebedf7",fontSize:"14px",fontWeight:"600",padding:"5px",borderRadius:"50%",minWidth:"30px",cursor:"pointer"},BookingCountLabelBusy:{position:"absolute",top:"25%",left:"38%",color:"#b00000",backgroundColor:"#fce6e6",fontSize:"14px",fontWeight:"600",padding:"5px",borderRadius:"50%",minWidth:"30px",cursor:"pointer"},LoadingProgress:{position:"absolute",top:"40%",left:"40%"},BookingCountGauge:{position:"absolute",bottom:"5%",left:"8%",width:"85%",height:"8%"}}})),gn=function(e){e.key;var t=e.date,a=e.time,r=e.dayClicked,c=hn(),j=o.a.useContext(l),u=Object(s.a)(j,2),b=u[0],p=u[1],h=o.a.useState(-1),g=Object(s.a)(h,2),m=g[0],f=g[1],x=o.a.useState(!1),O=Object(s.a)(x,2),v=O[0],y=O[1],k=o.a.useState(new Date),C=Object(s.a)(k,2),B=C[0],N=C[1];Object(i.useEffect)((function(){var e=ge()(new Date,"yyyy-mm-dd");y(t<e),N(new Date(t))}),[t]),Object(i.useEffect)((function(){var e,n;if(!(!t||t.length<=0||!a||a.length<=0))if(v)f(-2);else{f(-1);var i=null===(e=b.calendarCache)||void 0===e||null===(n=e.find((function(e){return"getBookingsCountByDateStrandTime"===e.method&&e.query==="".concat(t).concat(a)})))||void 0===n?void 0:n.res;if(!i){var o=oe.a.CancelToken.source();return le.getBookingsCountByDateStrandTime(t,a,o).then((function(e){e.data.count>=0&&(f(e.data.count),p((function(n){return Object(d.a)(Object(d.a)({},n),{},{calendarCache:[].concat(Object(Me.a)(n.calendarCache),[{method:"getBookingsCountByDateStrandTime",query:"".concat(t).concat(a),res:e}])})})))})).catch((function(e){})),function(){o&&o.cancel("Cancelling in cleanup")}}i.data.count>=0&&f(i.data.count)}}),[t,a]);var T;return Object(n.jsx)(o.a.Fragment,{children:Object(n.jsxs)("div",{className:v?c.ContainerPast:c.Container,children:[(T=m,-1===T?Object(n.jsx)("div",{className:c.LoadingProgress,children:Object(n.jsx)(rt.a,{disableShrink:!0})}):T>0&&!v?T>=5?Object(n.jsx)("div",{onClick:function(e){return r(e,B)},className:c.BookingCountLabelBusy,children:T}):Object(n.jsx)("div",{onClick:function(e){return r(e,B)},className:c.BookingCountLabel,children:T}):void 0),function(e){if(e>0&&!v){var t=e/5*100;return t>100&&(t=100),Object(n.jsx)("div",{className:c.BookingCountGauge,children:Object(n.jsx)("div",{style:{padding:"0",margin:"0",width:"100%",height:"100%",backgroundColor:"#f5f5f5"},children:Object(n.jsx)("div",{style:{padding:"0",margin:"0",height:"100%",width:"".concat(t,"%"),backgroundColor:"#3f51b5"}})})})}}(m)]})})},mn=["09:00 AM","09:15 AM","09:30 AM","09:45 AM","10:00 AM","10:15 AM","10:30 AM","10:45 AM","11:00 AM","11:15 AM","11:30 AM","11:45 AM","12:00 PM","12:15 PM","12:30 PM","12:45 PM","01:00 PM","01:15 PM","01:30 PM","01:45 PM","02:00 PM","02:15 PM","02:30 PM","02:45 PM","03:00 PM","03:15 PM","03:30 PM","03:45 PM","04:00 PM","04:15 PM","04:30 PM","04:45 PM","05:00 PM","05:15 PM","05:30 PM","05:45 PM"],fn=Object(u.a)((function(e){return{table:{width:"100%",border:"1px solid #ddd",borderCollapse:"collapse",overflowY:"auto"},th:{border:"1px solid #ddd",borderCollapse:"collapse",verticalAlign:"middle",fontcolor:"#555",fontWeight:"400",fontSize:"15px",paddingTop:"5px",paddingBottom:"5px",width:"12%"},td:{border:"1px solid #ddd",borderCollapse:"collapse",verticalAlign:"middle",height:"50px",width:"12%"}}})),xn=function(e){var t=e.dates,a=e.dayClicked,i=fn();return Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)("div",{style:{overflowY:"scroll",height:"60px"},children:Object(n.jsx)("table",{className:i.table,children:Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{style:{width:"7%"}}),t.map((function(e){return Object(n.jsxs)("th",{className:i.th,children:[Object(n.jsx)("div",{style:{paddingBottom:"5px",color:"#aaa"},children:ge()(e,"ddd")}),Object(n.jsxs)("div",{children:[Object(n.jsx)("span",{style:{color:"#aaa"},children:ge()(e,"mmm ")}),Object(n.jsx)("span",{style:ge()(new Date,"yyyy-mm-dd")===ge()(e,"yyyy-mm-dd")?{backgroundColor:"#1a73e8",color:"#fff",borderRadius:"50%",padding:"5px"}:{color:"#333",fontWeight:"500"},children:ge()(e," d")})]})]})}))]})})})}),Object(n.jsx)("div",{style:{overflowY:"scroll",height:"70vh"},children:Object(n.jsx)("table",{className:i.table,children:Object(n.jsx)("tbody",{children:mn.map((function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{style:{width:"7%"},children:e}),t.map((function(t){return Object(n.jsx)("td",{className:i.td,children:Object(n.jsx)(gn,{dayClicked:a,date:ge()(t,"yyyy-mm-dd"),time:e},"".concat(ge()(t,"yyyy-mm-dd"),"-").concat(e.replace(":","-")))})}))]})}))})})})]})},On=Object(u.a)((function(e){return{Container:{width:"100%",height:"50px",position:"relative",backgroundColor:"#fff",display:"flex",alignItems:"flex-start",justifyItems:"flex-start",paddingLeft:"10px"},ContainerPast:{width:"100%",paddingTop:"50px",position:"relative",backgroundColor:"#fafafa"},DayLabel:{position:"absolute",top:"5px",right:"5px",color:"#555",fontSize:"1rem"},DayLabelDisabled:{position:"absolute",top:"5px",right:"5px",color:"#ddd",fontSize:"1rem"},LoadingProgress:{position:"absolute",top:"10%",left:"40%"},BookingCountGauge:{position:"absolute",bottom:"5%",left:"8%",width:"85%",height:"8%"},bookingBox:{display:"flex",marginRight:"10px",marginTop:"5px",padding:"10px",maxWidth:"150px",overflowX:"hidden",border:"1px solid #eee",fontSize:"12px",fontWeight:"500",cursor:"pointer",backgroundColor:"#ebedf7",color:"#3f51b5",boxShadow:"2px 4px #fafafa","&:hover":{background:"#3f51b5",color:"#ebedf7"}}}})),vn=function(e){e.key;var t=e.date,a=e.time,r=On(),c=o.a.useContext(l),j=Object(s.a)(c,2),u=j[0],b=j[1],p=o.a.useState(null),h=Object(s.a)(p,2),g=h[0],m=h[1],f=o.a.useState(null),x=Object(s.a)(f,2),O=x[0],v=x[1],y=o.a.useState(null),k=Object(s.a)(y,2),C=k[0],B=k[1],N=o.a.useState(!0),T=Object(s.a)(N,2),S=(T[0],T[1],o.a.useState(!1)),w=Object(s.a)(S,2),D=w[0],R=w[1],I=o.a.useState(!1),A=Object(s.a)(I,2),F=A[0],L=A[1];Object(i.useEffect)((function(){var e=ge()(new Date,"yyyy-mm-dd");R(t<e)}),[t]),Object(i.useEffect)((function(){if(g)if(u.dayViewCalFilter&&u.dayViewCalFilter.trim().length>0){var e=u.dayViewCalFilter.trim().toUpperCase();v(g.filter((function(t){return t.forenameCapital.indexOf(e)>=0||t.surnameCapital.indexOf(e)>=0||"".concat(t.forenameCapital," ").concat(t.surnameCapital).indexOf(e)>=0})))}else v(Object(Me.a)(g))}),[u.dayViewCalFilter,g]),Object(i.useEffect)((function(){var e=function(){var e=Object($e.a)(Ze.a.mark((function e(){var n,i,o;return Ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!t||t.length<=0||!a||a.length<=0)){e.next=2;break}return e.abrupt("return");case 2:if(!D){e.next=5;break}return m([]),e.abrupt("return");case 5:if(m(null),(o=null===(n=u.calendarCache)||void 0===n||null===(i=n.find((function(e){return"getBookingsByDateStrandTime"===e.method&&e.query==="".concat(t).concat(a)})))||void 0===i?void 0:i.res)&&!F){e.next=12;break}return e.next=10,le.getBookingsByDateStrandTime(t,a);case 10:o=e.sent,b((function(e){return Object(d.a)(Object(d.a)({},e),{},{calendarCache:[].concat(Object(Me.a)(e.calendarCache),[{method:"getBookingsByDateStrandTime",query:"".concat(t).concat(a),res:o}])})}));case 12:"OK"===o.data.status&&m(o.data.bookings);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();F&&(b((function(e){return Object(d.a)(Object(d.a)({},e),{},{calendarCache:e.calendarCache.filter((function(e){return!("getBookingsByDateStrandTime"===e.method&&e.query==="".concat(t).concat(a))}))})})),b((function(e){return Object(d.a)(Object(d.a)({},e),{},{calendarCache:e.calendarCache.filter((function(e){return!("getBookingsCountByDateStrandTime"===e.method&&e.query==="".concat(t).concat(a))}))})})),b((function(e){return Object(d.a)(Object(d.a)({},e),{},{calendarCache:e.calendarCache.filter((function(e){return!("getBookingsCountByDateStr"===e.method&&e.query===t)}))})}))),e()}),[t,a,u.bookingDialogDataChanged]);var M;return Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)("div",{className:D?r.ContainerPast:r.Container,children:(M=O,null===M?Object(n.jsx)("div",{className:r.LoadingProgress,children:Object(n.jsx)(rt.a,{disableShrink:!0})}):M.length>0&&!D?M.map((function(e){return Object(n.jsx)("div",{className:r.bookingBox,onClick:function(t){return function(e,t){B(t),L(!0)}(0,e)},children:"".concat(e.forenameCapital,"-").concat(e.surnameCapital).substring(0,15)})})):void 0)}),Object(n.jsx)(Et,{booking:C,open:F,onClose:function(){L(!1)}})]})},yn=["09:00 AM","09:15 AM","09:30 AM","09:45 AM","10:00 AM","10:15 AM","10:30 AM","10:45 AM","11:00 AM","11:15 AM","11:30 AM","11:45 AM","12:00 PM","12:15 PM","12:30 PM","12:45 PM","01:00 PM","01:15 PM","01:30 PM","01:45 PM","02:00 PM","02:15 PM","02:30 PM","02:45 PM","03:00 PM","03:15 PM","03:30 PM","03:45 PM","04:00 PM","04:15 PM","04:30 PM","04:45 PM","05:00 PM","05:15 PM","05:30 PM","05:45 PM"],kn=Object(u.a)((function(e){return{table:{width:"100%",border:"1px solid #ddd",borderCollapse:"collapse",overflowY:"auto"},th:{border:"1px solid #ddd",borderCollapse:"collapse",verticalAlign:"middle",fontcolor:"#555",fontWeight:"400",fontSize:"15px",paddingTop:"5px",paddingBottom:"5px",width:"12%"},td:{border:"1px solid #ddd",borderCollapse:"collapse",verticalAlign:"middle",height:"50px",width:"84%"},titleLabel:{paddingBottom:"17px",paddingTop:"17px",color:"#777",fontSize:"16px"},titleLabelToday:{paddingBottom:"17px",paddingTop:"17px",color:"#fff",backgroundColor:"#1a73e8",fontSize:"16px"}}})),Cn=function(e){var t=e.date,a=kn();return Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)("div",{style:{overflowY:"scroll",height:"60px"},children:Object(n.jsx)("table",{className:a.table,children:Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{style:{width:"7%"}}),Object(n.jsx)("th",{style:{width:"84%"},children:Object(n.jsx)("div",{className:ge()(new Date,"yyyy-mm-dd")===ge()(t,"yyyy-mm-dd")?a.titleLabelToday:a.titleLabel,children:ge()(t,"dddd")})})]})})})}),Object(n.jsx)("div",{style:{overflowY:"scroll",height:"70vh"},children:Object(n.jsx)("table",{className:a.table,children:Object(n.jsx)("tbody",{children:yn.map((function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{style:{width:"7%"},children:e}),Object(n.jsx)("td",{className:a.td,children:Object(n.jsx)(vn,{date:ge()(t,"yyyy-mm-dd"),time:e},"".concat(ge()(t,"yyyy-mm-dd"),"-").concat(e))})]})}))})})})]})},Bn=["January","February","March","April","May","June","July","August","September","October","November","December"],Nn=Object(u.a)((function(e){return{title:{textAlign:"center",fontSize:"24px",fontColor:"#333"}}}));function Tn(){var e=Nn(),t=o.a.useContext(l),a=Object(s.a)(t,2),r=(a[0],a[1]),c=o.a.useState((new Date).getMonth()+1),j=Object(s.a)(c,2),u=j[0],b=j[1],g=o.a.useState((new Date).getFullYear()),m=Object(s.a)(g,2),f=m[0],x=m[1],O=o.a.useState(new Date),v=Object(s.a)(O,2),y=v[0],k=v[1],C=o.a.useState(new Date),B=Object(s.a)(C,2),N=B[0],S=B[1],w=o.a.useState([]),D=Object(s.a)(w,2),I=D[0],A=D[1],F=o.a.useState("month"),L=Object(s.a)(F,2),M=L[0],E=L[1],P=o.a.useState("month"),W=Object(s.a)(P,2),U=W[0],_=W[1],z=o.a.useState(""),H=Object(s.a)(z,2),K=H[0],q=H[1],V=function(){q(""),r((function(e){return Object(d.a)(Object(d.a)({},e),{},{dayViewCalFilter:""})}))};Object(i.useEffect)((function(){var e=new Date,t=e.getDay(),a=new Date(e.getTime()-864e5*t);return S(a),r((function(e){return Object(d.a)(Object(d.a)({},e),{},{calendarCache:[]})})),function(){r((function(e){return Object(d.a)(Object(d.a)({},e),{},{calendarCache:[]})})),V()}}),[]),Object(i.useEffect)((function(){for(var e=[],t=0;t<7;t++)e.push(new Date(N.getTime()+864e5*t));A(e)}),[N]);var G,Q=function(e,t){var a=new Date(t),n=a.getDay();S(new Date(a.getTime()-864e5*n)),k(a),b(a.getMonth()+1),x(a.getFullYear()),_("day"),E("day")};return Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsxs)(ae.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",style:{marginBottom:"10px",marginTop:"0px"},children:[Object(n.jsx)(ae.a,{item:!0,md:3,children:Object(n.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"flex-start",paddingLeft:"10px"},children:[Object(n.jsx)(Y.a,{title:"Previuos ".concat(M),placement:"bottom-start",children:Object(n.jsx)(R.a,{color:"default","aria-label":"prev",onClick:function(e){if("month"===M){1===u&&x(f-1);var t=1===u?12:u-1;b(t);var a=new Date(f,t-1,1,0,0,0,0);k(a);var n=a.getDay();S(new Date(a.getTime()-864e5*n))}else if("week"===M){var i=new Date(N.getTime()-6048e5);S(i),k(i),b(i.getMonth()+1),x(i.getFullYear())}else if("day"===M){var o=new Date(y.getTime()-864e5);k(o);var r=o.getDay();S(new Date(o.getTime()-864e5*r)),b(o.getMonth()+1),x(o.getFullYear())}},children:Object(n.jsx)(un.a,{style:{fontSize:"2rem"}})})}),Object(n.jsx)(Y.a,{title:"Next ".concat(M),placement:"bottom-end",children:Object(n.jsx)(R.a,{color:"default","aria-label":"next",onClick:function(e){if("month"===M){12===u&&x(f+1);var t=12===u?1:u+1;b(t);var a=new Date(f,t-1,1,0,0,0,0);k(a);var n=a.getDay();S(new Date(a.getTime()-864e5*n))}else if("week"===M){var i=new Date(N.getTime()+6048e5);S(i),k(i),b(i.getMonth()+1),x(i.getFullYear())}else if("day"===M){var o=new Date(y.getTime()+864e5);k(o);var r=o.getDay();S(new Date(o.getTime()-864e5*r)),b(o.getMonth()+1),x(o.getFullYear())}},children:Object(n.jsx)(pn.a,{style:{fontSize:"2rem"}})})}),Object(n.jsx)(p.a,{style:{marginTop:"11px",marginLeft:"10px"},onClick:function(e){var t=new Date,a=t.getDay();S(new Date(t.getTime()-864e5*a)),k(t),b(t.getMonth()+1),x(t.getFullYear())},variant:"outlined",children:" Today "})]})}),Object(n.jsx)(ae.a,{item:!0,md:6,children:Object(n.jsxs)(ae.a,{container:!0,direction:"row",justify:"center",alignItems:"flex-end",spacing:3,children:[Object(n.jsx)(ae.a,{item:!0,children:function(t){if("month"===t)return Object(n.jsxs)("span",{className:e.title,children:[" ","".concat(Bn[u-1]," ").concat(f)," "]});if("week"===t){var a=new Date(N.getTime()+5184e5),i="";return i=a.getMonth()===N.getMonth()?ge()(a,"d"):ge()(a,"mmm d"),Object(n.jsxs)("span",{className:e.title,children:[" ","".concat(ge()(N,"mmm d")," - ").concat(i,", ").concat(f)," "]})}return"day"===t?Object(n.jsxs)("span",{className:e.title,children:[" ","".concat(ge()(y,"mmmm d, yyyy"))," "]}):void 0}(M)}),"day"===M&&Object(n.jsx)(ae.a,{item:!0,children:Object(n.jsx)(h.a,{variant:"standard",style:{marginBottom:"5px"},value:K,onChange:function(e){q(e.target.value),r((function(t){var a,n;return Object(d.a)(Object(d.a)({},t),{},{dayViewCalFilter:null===(a=e.target.value)||void 0===a||null===(n=a.trim())||void 0===n?void 0:n.toUpperCase()})}))},margin:"normal",size:"small",id:"filter",label:"Filter",name:"filter",autoComplete:"off",InputProps:{endAdornment:Object(n.jsx)(T.a,{position:"end",children:Object(n.jsx)(Y.a,{title:"Clear",children:Object(n.jsx)(R.a,{"aria-label":"remove filter",onClick:function(){return V()},onMouseDown:function(){return V()},children:Object(n.jsx)(ke.a,{})})})})}})})]})}),Object(n.jsx)(ae.a,{item:!0,md:3,children:Object(n.jsx)("div",{style:{display:"flex",alignItems:"flex-end",justifyContent:"flex-end",paddingRight:"10px"},children:Object(n.jsxs)(za.a,{value:U,exclusive:!0,onChange:function(e,t){t&&t.length&&(_(t),E(t))},"aria-label":"select view mode",children:[Object(n.jsx)(_a.a,{style:"month"===U?{width:"80px",color:"#3f51b5",backgroundColor:"#ebedf7"}:{width:"80px"},value:"month","aria-label":"month view",children:"month"}),Object(n.jsx)(_a.a,{style:"week"===U?{width:"80px",color:"#3f51b5",backgroundColor:"#ebedf7"}:{width:"80px"},value:"week","aria-label":"week view",children:"week"}),Object(n.jsx)(_a.a,{style:"day"===U?{width:"80px",color:"#3f51b5",backgroundColor:"#ebedf7"}:{width:"80px"},value:"day","aria-label":"day view",children:"day"})]})})})]}),(G=M,"month"===G?Object(n.jsx)(dn,{dayClicked:Q,month:u,year:f}):"week"===G?Object(n.jsx)(xn,{dayClicked:Q,dates:I}):"day"===G?Object(n.jsx)(Cn,{date:y}):void 0)]})}var Sn=Object(u.a)((function(e){return{Container:{width:"100%",paddingTop:"70%",position:"relative",backgroundColor:"#fff"},ContainerPast:{width:"100%",paddingTop:"70%",position:"relative",backgroundColor:"#fafafa"},DayLabel:{position:"absolute",top:"5px",right:"5px",color:"#555",fontSize:"1rem"},DayLabelToday:{position:"absolute",top:"5px",right:"5px",backgroundColor:"#1a73e8",color:"#fff",fontSize:"1rem",borderRadius:"50%",padding:"5px",lineHight:"35px",minWidth:"35px"},DayLabelDisabled:{position:"absolute",top:"5px",right:"5px",color:"#ddd",fontSize:"1rem"},BookingCountLabel:{position:"absolute",top:"35%",left:"40%",color:"#3f51b5",backgroundColor:"#ebedf7",fontSize:"16px",fontWeight:"600",padding:"10px",borderRadius:"50%",minWidth:"40px",lineHight:"40px",cursor:"pointer"},BookingCountLabelBusy:{position:"absolute",top:"35%",left:"40%",color:"#b00000",backgroundColor:"#fce6e6",fontSize:"16px",fontWeight:"600",padding:"10px",borderRadius:"50%",minWidth:"40px",cursor:"pointer"},LoadingProgress:{position:"absolute",top:"40%",left:"40%"},BookingCountGauge:{position:"absolute",bottom:"5%",left:"8%",width:"8%",height:"85%"}}})),wn=function(e){e.key;var t=e.cellIndex,a=e.month,r=e.daysInMonth,c=e.dayClicked,j=Sn(),u=o.a.useContext(l),b=Object(s.a)(u,2),p=b[0],h=b[1],g=o.a.useState(""),m=Object(s.a)(g,2),f=m[0],x=m[1],O=o.a.useState(new Date),v=Object(s.a)(O,2),y=v[0],k=v[1],C=o.a.useState(-1),B=Object(s.a)(C,2),N=B[0],T=B[1],S=o.a.useState(!1),w=Object(s.a)(S,2),D=w[0],R=w[1],I=o.a.useState(!1),A=Object(s.a)(I,2),F=(A[0],A[1]);Object(i.useEffect)((function(){if(t<=r.length){var e=r[t-1],n=ge()(e,"yyyy-mm-dd");x(n),k(e),R(e.getMonth()!==a-1);var i=ge()(new Date,"yyyy-mm-dd");F(n<i)}else{var o=t-r.length,c=new Date(r[r.length-1].getTime()+864e5*o),s=ge()(c,"yyyy-mm-dd");x(s),k(c),R(!0);var l=ge()(new Date,"yyyy-mm-dd");F(s<l)}}),[t,a,r]),Object(i.useEffect)((function(){(function(){var e=Object($e.a)(Ze.a.mark((function e(){var t,a,n;return Ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f&&!(f.length<=0)){e.next=2;break}return e.abrupt("return");case 2:if(!D){e.next=5;break}return T(-2),e.abrupt("return");case 5:if(T(-1),n=null===(t=p.AdminCalendarCache)||void 0===t||null===(a=t.find((function(e){return"getBookingsCountByDateStr"===e.method&&e.query===f})))||void 0===a?void 0:a.res){e.next=12;break}return e.next=10,le.getAllBookingsCountByDateStr(f);case 10:n=e.sent,h((function(e){return Object(d.a)(Object(d.a)({},e),{},{AdminCalendarCache:[].concat(Object(Me.a)(e.AdminCalendarCache),[{method:"getBookingsCountByDateStr",query:f,res:n}])})}));case 12:n.data.count>=0&&T(n.data.count);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[f]);var L;return Object(n.jsx)(o.a.Fragment,{children:Object(n.jsxs)("div",{className:j.Container,children:[function(e,t,a){var i=null,o=!1,r=-1;if(e<=a.length)r=(i=a[e-1]).getDate(),i.getMonth()!==t-1&&(o=!0);else{var c=e-a.length;r=new Date(a[a.length-1].getTime()+864e5*c).getDate(),o=!0}var s=ge()(new Date,"yyyy-mm-dd")===ge()(i,"yyyy-mm-dd");return Object(n.jsx)("span",{className:o?j.DayLabelDisabled:s?j.DayLabelToday:j.DayLabel,children:r>0?"".concat(r):""})}(t,a,r),(L=N,-1===L?Object(n.jsx)("div",{className:j.LoadingProgress,children:Object(n.jsx)(rt.a,{disableShrink:!0})}):L>0?L>=50?Object(n.jsx)("div",{onClick:function(e){return c(e,y)},className:j.BookingCountLabelBusy,children:L}):Object(n.jsx)("div",{onClick:function(e){return c(e,y)},className:j.BookingCountLabel,children:L}):void 0),function(e){if(e>0){var t=e/100*100;return t>100&&(t=100),t=100-t,Object(n.jsx)("div",{className:j.BookingCountGauge,children:Object(n.jsx)("div",{style:{padding:"0",margin:"0",width:"100%",height:"100%",backgroundColor:"#3f51b5"},children:Object(n.jsx)("div",{style:{padding:"0",margin:"0",width:"100%",height:"".concat(t,"%"),backgroundColor:"#fafafa"}})})})}}(N)]})})},Dn=function e(){Object(ne.a)(this,e)};Dn.getMonthRange=function(e,t){return new nn.a.Calendar(nn.a.SUNDAY).itermonthdates(t,e)};var Rn=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],In=[1,2,3,4,5,6,7],An=[1,2,3,4,5,6],Fn=Object(u.a)((function(e){return{table:{width:"100%",border:"1px solid #ddd",borderCollapse:"collapse"},th:{border:"1px solid #ddd",borderCollapse:"collapse",verticalAlign:"middle",fontcolor:"#555",fontWeight:"400",fontSize:"15px",paddingTop:"5px",paddingBottom:"5px",width:"14%"},td:{border:"1px solid #ddd",borderCollapse:"collapse",verticalAlign:"middle"}}})),Ln=function(e){var t=e.month,a=e.year,i=e.dayClicked,r=Fn(),c=Dn.getMonthRange(t,a);return Object(n.jsx)(o.a.Fragment,{children:Object(n.jsxs)("table",{className:r.table,children:[Object(n.jsx)("thead",{children:Object(n.jsx)("tr",{children:Rn.map((function(e){return Object(n.jsx)("th",{className:r.th,children:e},"th-".concat(e))}))})}),Object(n.jsx)("tbody",{children:An.map((function(e){return Object(n.jsx)("tr",{children:In.map((function(o){return Object(n.jsx)("td",{className:r.td,children:Object(n.jsx)(wn,{cellIndex:(e-1)*In.length+o,month:t,daysInMonth:c,dayClicked:i},"".concat(t).concat(a).concat((e-1)*In.length+o))})}))})}))})]})})},Mn=Object(u.a)((function(e){return{Container:{width:"100%",paddingTop:"40%",position:"relative",backgroundColor:"#fff"},ContainerPast:{width:"100%",paddingTop:"40%",position:"relative",backgroundColor:"#fafafa"},DayLabel:{position:"absolute",top:"5px",right:"5px",color:"#555",fontSize:"1rem"},DayLabelDisabled:{position:"absolute",top:"5px",right:"5px",color:"#ddd",fontSize:"1rem"},BookingCountLabel:{position:"absolute",top:"25%",left:"38%",color:"#3f51b5",backgroundColor:"#ebedf7",fontSize:"14px",fontWeight:"600",padding:"5px",borderRadius:"50%",minWidth:"30px",cursor:"pointer"},BookingCountLabelBusy:{position:"absolute",top:"25%",left:"38%",color:"#b00000",backgroundColor:"#fce6e6",fontSize:"14px",fontWeight:"600",padding:"5px",borderRadius:"50%",minWidth:"30px",cursor:"pointer"},LoadingProgress:{position:"absolute",top:"40%",left:"40%"},BookingCountGauge:{position:"absolute",bottom:"5%",left:"8%",width:"85%",height:"8%"}}})),En=function(e){e.key;var t=e.date,a=e.time,r=e.dayClicked,c=Mn(),j=o.a.useContext(l),u=Object(s.a)(j,2),b=u[0],p=u[1],h=o.a.useState(-1),g=Object(s.a)(h,2),m=g[0],f=g[1],x=o.a.useState(!1),O=Object(s.a)(x,2),v=O[0],y=O[1],k=o.a.useState(new Date),C=Object(s.a)(k,2),B=C[0],N=C[1];Object(i.useEffect)((function(){var e=ge()(new Date,"yyyy-mm-dd");y(t<e),N(new Date(t))}),[t]),Object(i.useEffect)((function(){var e,n;if(!(!t||t.length<=0||!a||a.length<=0)){f(-1);var i=null===(e=b.AdminCalendarCache)||void 0===e||null===(n=e.find((function(e){return"getBookingsCountByDateStrandTime"===e.method&&e.query==="".concat(t).concat(a)})))||void 0===n?void 0:n.res;if(!i){var o=oe.a.CancelToken.source();return le.getAllBookingsCountByDateStrandTime(t,a,o).then((function(e){e.data.count>=0&&(f(e.data.count),p((function(n){return Object(d.a)(Object(d.a)({},n),{},{AdminCalendarCache:[].concat(Object(Me.a)(n.AdminCalendarCache),[{method:"getBookingsCountByDateStrandTime",query:"".concat(t).concat(a),res:e}])})})))})).catch((function(e){})),function(){o&&o.cancel("Cancelling in cleanup")}}i.data.count>=0&&f(i.data.count)}}),[t,a]);var T;return Object(n.jsx)(o.a.Fragment,{children:Object(n.jsxs)("div",{className:v?c.ContainerPast:c.Container,children:[(T=m,-1===T?Object(n.jsx)("div",{className:c.LoadingProgress,children:Object(n.jsx)(rt.a,{disableShrink:!0})}):T>0?T>=5?Object(n.jsx)("div",{onClick:function(e){return r(e,B)},className:c.BookingCountLabelBusy,children:T}):Object(n.jsx)("div",{onClick:function(e){return r(e,B)},className:c.BookingCountLabel,children:T}):void 0),function(e){if(e>0){var t=e/5*100;return t>100&&(t=100),Object(n.jsx)("div",{className:c.BookingCountGauge,children:Object(n.jsx)("div",{style:{padding:"0",margin:"0",width:"100%",height:"100%",backgroundColor:"#f5f5f5"},children:Object(n.jsx)("div",{style:{padding:"0",margin:"0",height:"100%",width:"".concat(t,"%"),backgroundColor:"#3f51b5"}})})})}}(m)]})})},Pn=["09:00 AM","09:15 AM","09:30 AM","09:45 AM","10:00 AM","10:15 AM","10:30 AM","10:45 AM","11:00 AM","11:15 AM","11:30 AM","11:45 AM","12:00 PM","12:15 PM","12:30 PM","12:45 PM","01:00 PM","01:15 PM","01:30 PM","01:45 PM","02:00 PM","02:15 PM","02:30 PM","02:45 PM","03:00 PM","03:15 PM","03:30 PM","03:45 PM","04:00 PM","04:15 PM","04:30 PM","04:45 PM","05:00 PM","05:15 PM","05:30 PM","05:45 PM"],Wn=Object(u.a)((function(e){return{table:{width:"100%",border:"1px solid #ddd",borderCollapse:"collapse",overflowY:"auto"},th:{border:"1px solid #ddd",borderCollapse:"collapse",verticalAlign:"middle",fontcolor:"#555",fontWeight:"400",fontSize:"15px",paddingTop:"5px",paddingBottom:"5px",width:"12%"},td:{border:"1px solid #ddd",borderCollapse:"collapse",verticalAlign:"middle",height:"50px",width:"12%"}}})),Un=function(e){var t=e.dates,a=e.dayClicked,i=Wn();return Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)("div",{style:{overflowY:"scroll",height:"60px"},children:Object(n.jsx)("table",{className:i.table,children:Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{style:{width:"7%"}}),t.map((function(e){return Object(n.jsxs)("th",{className:i.th,children:[Object(n.jsx)("div",{style:{paddingBottom:"5px",color:"#aaa"},children:ge()(e,"ddd")}),Object(n.jsxs)("div",{children:[Object(n.jsx)("span",{style:{color:"#aaa"},children:ge()(e,"mmm ")}),Object(n.jsx)("span",{style:ge()(new Date,"yyyy-mm-dd")===ge()(e,"yyyy-mm-dd")?{backgroundColor:"#1a73e8",color:"#fff",borderRadius:"50%",padding:"5px"}:{color:"#333",fontWeight:"500"},children:ge()(e," d")})]})]})}))]})})})}),Object(n.jsx)("div",{style:{overflowY:"scroll",height:"70vh"},children:Object(n.jsx)("table",{className:i.table,children:Object(n.jsx)("tbody",{children:Pn.map((function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{style:{width:"7%"},children:e}),t.map((function(t){return Object(n.jsx)("td",{className:i.td,children:Object(n.jsx)(En,{dayClicked:a,date:ge()(t,"yyyy-mm-dd"),time:e},"".concat(ge()(t,"yyyy-mm-dd"),"-").concat(e.replace(":","-")))})}))]})}))})})})]})},_n=Object(u.a)((function(e){return{Container:{width:"100%",height:"50px",position:"relative",backgroundColor:"#fff",display:"flex",alignItems:"flex-start",justifyItems:"flex-start",paddingLeft:"10px"},ContainerPast:{width:"100%",paddingTop:"50px",position:"relative",backgroundColor:"#fafafa"},DayLabel:{position:"absolute",top:"5px",right:"5px",color:"#555",fontSize:"1rem"},DayLabelDisabled:{position:"absolute",top:"5px",right:"5px",color:"#ddd",fontSize:"1rem"},LoadingProgress:{position:"absolute",top:"10%",left:"40%"},BookingCountGauge:{position:"absolute",bottom:"5%",left:"8%",width:"85%",height:"8%"},bookingBox:{display:"flex",marginRight:"10px",marginTop:"5px",padding:"10px",maxWidth:"150px",overflowX:"hidden",border:"1px solid #eee",fontSize:"12px",fontWeight:"500",cursor:"pointer",backgroundColor:"#ebedf7",color:"#3f51b5",boxShadow:"2px 4px #fafafa","&:hover":{background:"#3f51b5",color:"#ebedf7"}},bookingBoxSampleTaken:{display:"flex",marginRight:"10px",marginTop:"5px",padding:"10px",maxWidth:"150px",overflowX:"hidden",border:"1px solid #eee",fontSize:"12px",fontWeight:"500",cursor:"pointer",backgroundColor:"#0066cc",color:"#eee",boxShadow:"2px 4px #fafafa","&:hover":{background:"#0059b3",color:"#fafafa"}},bookingBoxPositive:{display:"flex",marginRight:"10px",marginTop:"5px",padding:"10px",maxWidth:"150px",overflowX:"hidden",border:"1px solid #eee",fontSize:"12px",fontWeight:"500",cursor:"pointer",backgroundColor:"#ebedf7",color:"#3f51b5",boxShadow:"2px 4px #fafafa","&:hover":{background:"#3f51b5",color:"#ebedf7"}},bookingBoxReportSent:{display:"flex",marginRight:"10px",marginTop:"5px",padding:"10px",maxWidth:"150px",overflowX:"hidden",border:"1px solid #eee",fontSize:"12px",fontWeight:"500",cursor:"pointer",backgroundColor:"#009900",color:"#eee",boxShadow:"2px 4px #fafafa","&:hover":{background:"#006e00",color:"#fafafa"}}}})),zn=function(e){e.key;var t=e.date,a=e.time,r=_n(),c=o.a.useContext(l),j=Object(s.a)(c,2),u=j[0],b=j[1],p=o.a.useState(null),h=Object(s.a)(p,2),g=h[0],m=h[1],f=o.a.useState(null),x=Object(s.a)(f,2),O=x[0],v=x[1],y=o.a.useState(null),k=Object(s.a)(y,2),C=k[0],B=k[1],N=o.a.useState(!0),T=Object(s.a)(N,2),S=(T[0],T[1],o.a.useState(!1)),w=Object(s.a)(S,2),D=(w[0],w[1]),R=o.a.useState(!1),I=Object(s.a)(R,2),A=I[0],F=I[1];Object(i.useEffect)((function(){var e=ge()(new Date,"yyyy-mm-dd");D(t<e)}),[t]),Object(i.useEffect)((function(){if(g)if(u.dayViewCalFilter&&u.dayViewCalFilter.trim().length>0){var e=u.dayViewCalFilter.trim().toUpperCase();v(g.filter((function(t){return t.forenameCapital.indexOf(e)>=0||t.surnameCapital.indexOf(e)>=0||"".concat(t.forenameCapital," ").concat(t.surnameCapital).indexOf(e)>=0})))}else v(Object(Me.a)(g))}),[u.dayViewCalFilter,g]),Object(i.useEffect)((function(){var e=function(){var e=Object($e.a)(Ze.a.mark((function e(){var n,i,o;return Ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!t||t.length<=0||!a||a.length<=0)){e.next=2;break}return e.abrupt("return");case 2:if(m(null),(o=null===(n=u.AdminCalendarCache)||void 0===n||null===(i=n.find((function(e){return"getBookingsByDateStrandTime"===e.method&&e.query==="".concat(t).concat(a)})))||void 0===i?void 0:i.res)&&!A){e.next=9;break}return e.next=7,le.getAllBookingsByDateStrandTime(t,a);case 7:o=e.sent,b((function(e){return Object(d.a)(Object(d.a)({},e),{},{AdminCalendarCache:[].concat(Object(Me.a)(e.AdminCalendarCache),[{method:"getBookingsByDateStrandTime",query:"".concat(t).concat(a),res:o}])})}));case 9:"OK"===o.data.status&&m(o.data.bookings);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();A&&(b((function(e){return Object(d.a)(Object(d.a)({},e),{},{AdminCalendarCache:e.AdminCalendarCache.filter((function(e){return!("getBookingsByDateStrandTime"===e.method&&e.query==="".concat(t).concat(a))}))})})),b((function(e){return Object(d.a)(Object(d.a)({},e),{},{AdminCalendarCache:e.AdminCalendarCache.filter((function(e){return!("getBookingsCountByDateStrandTime"===e.method&&e.query==="".concat(t).concat(a))}))})})),b((function(e){return Object(d.a)(Object(d.a)({},e),{},{AdminCalendarCache:e.AdminCalendarCache.filter((function(e){return!("getBookingsCountByDateStr"===e.method&&e.query===t)}))})}))),e()}),[t,a,u.bookingDialogDataChanged]);var L,M=function(e){switch(e){case"sample_taken":return r.bookingBoxSampleTaken;case"positive":return r.bookingBoxPositive;case"report_sent":case"report_cert_sent":return r.bookingBoxReportSent;default:return r.bookingBox}};return Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)("div",{className:r.Container,children:(L=O,null===L?Object(n.jsx)("div",{className:r.LoadingProgress,children:Object(n.jsx)(rt.a,{disableShrink:!0})}):L.length>0?L.map((function(e){return Object(n.jsx)("div",{className:M(e.status),onClick:function(t){return function(e,t){B(t),F(!0)}(0,e)},children:"".concat(e.forenameCapital,"-").concat(e.surnameCapital).substring(0,15)})})):void 0)}),Object(n.jsx)(Et,{booking:C,open:A,onClose:function(){F(!1)}})]})},Hn=["09:00 AM","09:15 AM","09:30 AM","09:45 AM","10:00 AM","10:15 AM","10:30 AM","10:45 AM","11:00 AM","11:15 AM","11:30 AM","11:45 AM","12:00 PM","12:15 PM","12:30 PM","12:45 PM","01:00 PM","01:15 PM","01:30 PM","01:45 PM","02:00 PM","02:15 PM","02:30 PM","02:45 PM","03:00 PM","03:15 PM","03:30 PM","03:45 PM","04:00 PM","04:15 PM","04:30 PM","04:45 PM","05:00 PM","05:15 PM","05:30 PM","05:45 PM"],Kn=Object(u.a)((function(e){return{table:{width:"100%",border:"1px solid #ddd",borderCollapse:"collapse",overflowY:"auto"},th:{border:"1px solid #ddd",borderCollapse:"collapse",verticalAlign:"middle",fontcolor:"#555",fontWeight:"400",fontSize:"15px",paddingTop:"5px",paddingBottom:"5px",width:"12%"},td:{border:"1px solid #ddd",borderCollapse:"collapse",verticalAlign:"middle",height:"50px",width:"84%"},titleLabel:{paddingBottom:"17px",paddingTop:"17px",color:"#777",fontSize:"16px"},titleLabelToday:{paddingBottom:"17px",paddingTop:"17px",color:"#fff",backgroundColor:"#1a73e8",fontSize:"16px"}}})),qn=function(e){var t=e.date,a=Kn();return Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)("div",{style:{overflowY:"scroll",height:"60px"},children:Object(n.jsx)("table",{className:a.table,children:Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{style:{width:"7%"}}),Object(n.jsx)("th",{style:{width:"84%"},children:Object(n.jsx)("div",{className:ge()(new Date,"yyyy-mm-dd")===ge()(t,"yyyy-mm-dd")?a.titleLabelToday:a.titleLabel,children:ge()(t,"dddd")})})]})})})}),Object(n.jsx)("div",{style:{overflowY:"scroll",height:"70vh"},children:Object(n.jsx)("table",{className:a.table,children:Object(n.jsx)("tbody",{children:Hn.map((function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{style:{width:"7%"},children:e}),Object(n.jsx)("td",{className:a.td,children:Object(n.jsx)(zn,{date:ge()(t,"yyyy-mm-dd"),time:e},"".concat(ge()(t,"yyyy-mm-dd"),"-").concat(e))})]})}))})})})]})},Yn=["January","February","March","April","May","June","July","August","September","October","November","December"],Vn=Object(u.a)((function(e){return{title:{textAlign:"center",fontSize:"24px",fontColor:"#333"}}}));function Gn(){var e=Vn(),t=o.a.useContext(l),a=Object(s.a)(t,2),r=(a[0],a[1]),c=o.a.useState((new Date).getMonth()+1),j=Object(s.a)(c,2),u=j[0],b=j[1],g=o.a.useState((new Date).getFullYear()),m=Object(s.a)(g,2),f=m[0],x=m[1],O=o.a.useState(new Date),v=Object(s.a)(O,2),y=v[0],k=v[1],C=o.a.useState(new Date),B=Object(s.a)(C,2),N=B[0],S=B[1],w=o.a.useState([]),D=Object(s.a)(w,2),I=D[0],A=D[1],F=o.a.useState("month"),L=Object(s.a)(F,2),M=L[0],E=L[1],P=o.a.useState("month"),W=Object(s.a)(P,2),U=W[0],_=W[1],z=o.a.useState(""),H=Object(s.a)(z,2),K=H[0],q=H[1],V=function(){q(""),r((function(e){return Object(d.a)(Object(d.a)({},e),{},{dayViewCalFilter:""})}))};Object(i.useEffect)((function(){var e=new Date,t=e.getDay(),a=new Date(e.getTime()-864e5*t);return S(a),r((function(e){return Object(d.a)(Object(d.a)({},e),{},{AdminCalendarCache:[]})})),function(){r((function(e){return Object(d.a)(Object(d.a)({},e),{},{AdminCalendarCache:[]})})),V()}}),[]),Object(i.useEffect)((function(){for(var e=[],t=0;t<7;t++)e.push(new Date(N.getTime()+864e5*t));A(e)}),[N]);var G,Q=function(e,t){var a=new Date(t),n=a.getDay();S(new Date(a.getTime()-864e5*n)),k(a),b(a.getMonth()+1),x(a.getFullYear()),_("day"),E("day")};return Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsxs)(ae.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",style:{marginBottom:"10px",marginTop:"0px"},children:[Object(n.jsx)(ae.a,{item:!0,md:3,children:Object(n.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"flex-start",paddingLeft:"10px"},children:[Object(n.jsx)(Y.a,{title:"Previuos ".concat(M),placement:"bottom-start",children:Object(n.jsx)(R.a,{color:"default","aria-label":"prev",onClick:function(e){if("month"===M){1===u&&x(f-1);var t=1===u?12:u-1;b(t);var a=new Date(f,t-1,1,0,0,0,0);k(a);var n=a.getDay();S(new Date(a.getTime()-864e5*n))}else if("week"===M){var i=new Date(N.getTime()-6048e5);S(i),k(i),b(i.getMonth()+1),x(i.getFullYear())}else if("day"===M){var o=new Date(y.getTime()-864e5);k(o);var r=o.getDay();S(new Date(o.getTime()-864e5*r)),b(o.getMonth()+1),x(o.getFullYear())}},children:Object(n.jsx)(un.a,{style:{fontSize:"2rem"}})})}),Object(n.jsx)(Y.a,{title:"Next ".concat(M),placement:"bottom-end",children:Object(n.jsx)(R.a,{color:"default","aria-label":"next",onClick:function(e){if("month"===M){12===u&&x(f+1);var t=12===u?1:u+1;b(t);var a=new Date(f,t-1,1,0,0,0,0);k(a);var n=a.getDay();S(new Date(a.getTime()-864e5*n))}else if("week"===M){var i=new Date(N.getTime()+6048e5);S(i),k(i),b(i.getMonth()+1),x(i.getFullYear())}else if("day"===M){var o=new Date(y.getTime()+864e5);k(o);var r=o.getDay();S(new Date(o.getTime()-864e5*r)),b(o.getMonth()+1),x(o.getFullYear())}},children:Object(n.jsx)(pn.a,{style:{fontSize:"2rem"}})})}),Object(n.jsx)(p.a,{style:{marginTop:"11px",marginLeft:"10px"},onClick:function(e){var t=new Date,a=t.getDay();S(new Date(t.getTime()-864e5*a)),k(t),b(t.getMonth()+1),x(t.getFullYear())},variant:"outlined",children:" Today "})]})}),Object(n.jsx)(ae.a,{item:!0,md:6,children:Object(n.jsxs)(ae.a,{container:!0,direction:"row",justify:"center",alignItems:"flex-end",spacing:3,children:[Object(n.jsx)(ae.a,{item:!0,children:function(t){if("month"===t)return Object(n.jsxs)("span",{className:e.title,children:[" ","".concat(Yn[u-1]," ").concat(f)," "]});if("week"===t){var a=new Date(N.getTime()+5184e5),i="";return i=a.getMonth()===N.getMonth()?ge()(a,"d"):ge()(a,"mmm d"),Object(n.jsxs)("span",{className:e.title,children:[" ","".concat(ge()(N,"mmm d")," - ").concat(i,", ").concat(f)," "]})}return"day"===t?Object(n.jsxs)("span",{className:e.title,children:[" ","".concat(ge()(y,"mmmm d, yyyy"))," "]}):void 0}(M)}),"day"===M&&Object(n.jsx)(ae.a,{item:!0,children:Object(n.jsx)(h.a,{variant:"standard",style:{marginBottom:"5px"},value:K,onChange:function(e){q(e.target.value),r((function(t){var a,n;return Object(d.a)(Object(d.a)({},t),{},{dayViewCalFilter:null===(a=e.target.value)||void 0===a||null===(n=a.trim())||void 0===n?void 0:n.toUpperCase()})}))},margin:"normal",size:"small",id:"filter",label:"Filter",name:"filter",autoComplete:"off",InputProps:{endAdornment:Object(n.jsx)(T.a,{position:"end",children:Object(n.jsx)(Y.a,{title:"Clear",children:Object(n.jsx)(R.a,{"aria-label":"remove filter",onClick:function(){return V()},onMouseDown:function(){return V()},children:Object(n.jsx)(ke.a,{})})})})}})})]})}),Object(n.jsx)(ae.a,{item:!0,md:3,children:Object(n.jsx)("div",{style:{display:"flex",alignItems:"flex-end",justifyContent:"flex-end",paddingRight:"10px"},children:Object(n.jsxs)(za.a,{value:U,exclusive:!0,onChange:function(e,t){t&&t.length&&(_(t),E(t))},"aria-label":"select view mode",children:[Object(n.jsx)(_a.a,{style:"month"===U?{width:"80px",color:"#3f51b5",backgroundColor:"#ebedf7"}:{width:"80px"},value:"month","aria-label":"month view",children:"month"}),Object(n.jsx)(_a.a,{style:"week"===U?{width:"80px",color:"#3f51b5",backgroundColor:"#ebedf7"}:{width:"80px"},value:"week","aria-label":"week view",children:"week"}),Object(n.jsx)(_a.a,{style:"day"===U?{width:"80px",color:"#3f51b5",backgroundColor:"#ebedf7"}:{width:"80px"},value:"day","aria-label":"day view",children:"day"})]})})})]}),(G=M,"month"===G?Object(n.jsx)(Ln,{dayClicked:Q,month:u,year:f}):"week"===G?Object(n.jsx)(Un,{dayClicked:Q,dates:I}):"day"===G?Object(n.jsx)(qn,{date:y}):void 0)]})}var Qn=a(338),Jn=a.n(Qn),Xn=a(339),Zn=a.n(Xn),$n=[{index:0,id:"dashboard",title:"Dashboard",icon:Object(n.jsx)(Z.a,{}),content:Object(n.jsx)(Wa,{})},{index:1,id:"recentBookings",title:"Recent Bookings",icon:Object(n.jsx)(qt.a,{}),content:Object(n.jsx)(pa,{date:"recent"}),hidden:!1},{index:2,id:"todayBookings",title:"Today's Bookings",icon:Object(n.jsx)(Wt.a,{}),content:Object(n.jsx)(pa,{date:"today"})},{index:3,id:"liveBookings",title:"Live Bookings",icon:Object(n.jsx)(Vt.a,{}),content:Object(n.jsx)(pa,{date:"live"})},{index:4,id:"oldBookings",title:"Old Bookings",icon:Object(n.jsx)(Tt.a,{}),content:Object(n.jsx)(pa,{date:"old"})},{index:5,id:"futureBookings",title:"Future Bookings",icon:Object(n.jsx)(_t.a,{}),content:Object(n.jsx)(pa,{date:"future"})},{index:6,id:"allBookings",title:"All Bookings",icon:Object(n.jsx)(Ht.a,{}),content:Object(n.jsx)(pa,{date:"all"})},{index:7,id:"completedBookings",title:"Completed Bookings",icon:Object(n.jsx)(Qt.a,{}),content:Object(n.jsx)(pa,{date:"completed"})},{index:8,id:"positiveBookings",title:"Positive Results",icon:Object(n.jsx)(Xt.a,{}),content:Object(n.jsx)(pa,{date:"positive"})},{index:9,id:"latebookings",title:"40 Hours Late",icon:Object(n.jsx)($t.a,{}),content:Object(n.jsx)(pa,{date:"late"})},{index:10,id:"deletedBookings",title:"Deleted Records",icon:Object(n.jsx)(Be.a,{}),content:Object(n.jsx)(pa,{date:"deleted"})},{index:11,id:"unmatchedRecords",title:"Unmatched Records",icon:Object(n.jsx)(Ga.a,{}),content:Object(n.jsx)($a,{})},{index:12,id:"calendarView",title:"Calendar View",icon:Object(n.jsx)(Jn.a,{}),content:Object(n.jsx)(Tn,{})},{index:13,id:"adminCalendarView",title:"Admin Calendar",icon:Object(n.jsx)(Zn.a,{}),content:Object(n.jsx)(Gn,{})},{index:14,id:"findByRef",title:"Find By Ref No",icon:Object(n.jsx)(Je.a,{}),content:Object(n.jsx)(Fe,{})}],ei=function(e){for(var t=0;t<$n.length;t++)if($n[t].index===e)return $n[t].content;return"Page Not Found!"},ti=function(e){for(var t=0;t<$n.length;t++)if($n[t].id===e)return $n[t].index;return-1},ai=Object(u.a)((function(e){return{paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}}));function ni(){ai();var e=o.a.useContext(l),t=Object(s.a)(e,2),a=t[0],r=t[1],c=o.a.useState(0),j=Object(s.a)(c,2),u=j[0],b=j[1];Object(i.useEffect)((function(){b(a.currentMenuIndex)}),[a.currentMenuIndex]);return Object(n.jsx)(o.a.Fragment,{children:Object(n.jsx)(G.a,{children:$n.map((function(e){return!e.hidden&&Object(n.jsxs)(Q.a,{button:!0,selected:u===e.index,onClick:function(t){return a=e.index,b(a),void r((function(e){return Object(d.a)(Object(d.a)({},e),{},{currentMenuIndex:a})}));var a},children:[Object(n.jsx)(V.a,{children:e.icon}),Object(n.jsx)(J.a,{primary:"".concat(e.title)})]})}))})})}function ii(){return Object(n.jsxs)(O.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(n.jsx)(g.a,{color:"inherit",href:"#",children:"Medical Express Clinic"})," ",(new Date).getFullYear(),"."]})}var oi=Object(u.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(d.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(P.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}}));function ri(){var e=oi(),t=o.a.useContext(l),a=Object(s.a)(t,2),r=a[0],c=a[1],u=o.a.useState(!0),b=Object(s.a)(u,2),p=b[0],h=b[1],g=o.a.useState(0),f=Object(s.a)(g,2),x=f[0],y=f[1];Object(i.useEffect)((function(){y(r.currentMenuIndex)}),[r.currentMenuIndex]);Object(F.a)(e.paper,e.fixedHeight);return Object(n.jsxs)("div",{className:e.root,children:[Object(n.jsx)(j.a,{}),Object(n.jsx)(k.a,{position:"absolute",className:Object(F.a)(e.appBar,p&&e.appBarShift),children:Object(n.jsxs)(D.a,{className:e.toolbar,children:[Object(n.jsx)(R.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){h(!0)},className:Object(F.a)(e.menuButton,p&&e.menuButtonHidden),children:Object(n.jsx)(z.a,{})}),Object(n.jsx)(O.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:e.title,children:"PCR Booking Admin Console"}),r.signedIn&&Object(n.jsx)(R.a,{onClick:function(){c((function(e){return Object(d.a)(Object(d.a)({},e),{},{signedIn:!1})}))},color:"inherit",children:Object(n.jsx)(Y.a,{title:"Logout",children:Object(n.jsx)(q.a,{})})})]})}),Object(n.jsxs)(W.a,{variant:"permanent",classes:{paper:Object(F.a)(e.drawerPaper,!p&&e.drawerPaperClose)},open:p,children:[Object(n.jsx)("div",{className:e.toolbarIcon,children:Object(n.jsx)(R.a,{onClick:function(){h(!1)},children:Object(n.jsx)(K.a,{})})}),Object(n.jsx)(U.a,{}),Object(n.jsx)(ni,{})]}),Object(n.jsxs)("main",{className:e.content,children:[Object(n.jsx)("div",{className:e.appBarSpacer}),Object(n.jsxs)(v.a,{maxWidth:"lg",className:e.container,children:[ei(x),Object(n.jsx)(m.a,{pt:4,children:Object(n.jsx)(ii,{})})]})]})]})}var ci=Object(u.a)((function(e){return{appBar:{position:"static",backgroundColor:"#333",color:"#fff"},signOutButton:{color:"#fff",marginRight:"20px",fontWeight:"500"},title:{flexGrow:1}}}));function si(){ci();var e=o.a.useContext(l),t=Object(s.a)(e,2),a=t[0];t[1];return Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)(j.a,{}),!a.signedIn&&Object(n.jsx)(E,{}),a.signedIn&&Object(n.jsx)(ri,{})]})}var li=a(37),di=a.n(li),ji=a(29),ui=a(42),bi=a.n(ui),pi="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAK4AAACtCAIAAACm+tMXAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAABbzSURBVHhe7Z37fxRFusbzd6x6fnM/+5eYTAKsyMX1hqvn6F7c9fPRXc8ec+cSBAEvqLgoq6CiyIpEdBc47iKoXBZYV/ASUSKwBBISyGW6qyoGiOd53qqZDD3BgzjT3Zmp8qHtmcl0db/1rfd9q/oyNbP29s/aOxCPbtrbv/5E9sLF8W/HoW/z5fzRA+H8GWFLbdhaV1VSi+eMD59xVki61Mzce+amvWdmQfv6Y5BFgSR4FNKGAnrqrH0D8Qh1vZJHwe0Ai0chDSVuFFyAuLR4FNJQam6i3462WZnkUYjIo+BRcPIoeBScPAoeBSePgkfByaPgUXDyKHgUnDwKHgUnj4JHwcmj4FFw8ih4FJw8Ch4FJ4+CR8HJo+BRcPIoeBScPAoeBSePgkfByaPgUXDyKHgUnDwKHgUnj4JHwcmj4FFw8ih4FJw8Ch4FJ4+CR8HJo+BRcPIoeBScPAoeBSePgkfByaPgUXDyKHgUnKochRGg4J+6YpU6FG5CI4nYWuVV/6vHc17Bo5A2FG7Z13frvjO37u1zwno5tTEXILxXgNKFgvpmTI+d19/EpLHzFwohsMWjkIZS48K2LOMUilTL4lFIQ6lx/0+mOP8w5lFIQUkWBRbgMHZ0f7WiMHd8uG/CUxYNs8td8lVDNc5NJyTZiXHxCtOD5tqwJWqsSlXQUhc014Udcy4O9YoVuLArsUmMPyHkCskW7MT42FfwCkDhhoi9KlgWBQaIoT6aYKJJYi6sEc4I/2ou9HyRuMb2doZt00P0kiKTVazg/6BFM8937b7Q03W+pytik5h0yq50XTj1ZY1aNi95PfKzsCkTNlVTrgAOmjKqOaOW3qaXzQuX3QFFzRKDlt+JpV52h37qlzXRXYxZTVbgIFN1XqExQ+Hwk86QAiTsHbOTRgGCIQABaSj6qIJFryAHbg8/8mm8ShEKzKWbMkF1oMCE0a431+GQeewFnyamjjnpQMEq8n6lCm7ARgSLAuAo/DQppQGFtNiiypVKFDCOqGX0si8ZO0Q2uOaUpV+tD9vqw/aGsK2B65BNOJprJ76VFzdrPdD3mcjCdrA1fN32YHzXbo1baAjbZ3CSdIFo/nTuSaskv/Zv8Pf8ovu6qxTLK689TqUiQFwqmBvBAvaSFdqRBkUm0dKgltyq1zxk3nzMvL9x9PBOfewT3fOl6T0+2nfM9Hylvz5sDu0wu15Xby5Tax4Kl9wSNjfw643YiLSQxUs2m7VkFMlWih3IupaTHWis5T4suDF8+td6w2Kz61VWdKLLDJxSI8M6O6yyQ2ZowPSeMN2H9MHtZtsa/VJz+NjdQeu0oBFfxyHUcoMTHLB2d4AFtSepFKKQZTvBTLlWQRu0NOgn71XvrlNHDuizp0eDrA4DrZRWWocKMrJUIf5phUV2RA+cVl/8w/zvWv3EfwEINIbABMElCApYFlUN8aPW2hF82ow/u0G6eEbN/6ne0KEObtenuvXwEKrQAWpC0VziJWvlQlawM6Ee7FcnPh3dtVGvfgDuSo6iAAU6m0vqTV5pQwFdB54/4ICbDlY9cot+/RFz5B8anY/GhtD8aAArmt41iQ6N/QO0RSDNw4bRanhQH9mvNywKl/yMjhpAoI+iCjKR76MFQgs1ZpQM94OWaeHKe0d3vaZPHbVNTeaUshWhCrIndUtdIiCiDd7g2/iUO5M13R+PvrUSx0Ln1MiBEsmgl5psB5JS6rwCeyE9atg6zbz43+qTD/XQILtarg2kGWh82povhQulsSLrXMX7bCFZw3/U8IDu2qNfeAhRhi1xeRR4SswOa+EJtq1Wx7u4Jdmc1C41cLM58qQWAzwJpRXfdN+SvwVABkHks936lTbUiGDBfbC1exQKNZE2wi7ScRFl9Ud/0wgE+ea3KNg2oOntOsLExEu+YyVv4itYqsC2DYW4bg5uDx+dFzZnbDMgEk3siYWDrrt+dG2j/voQ63UVua1NyO6Y+3SCA/ume5n7ot15LFU2qw9sDZ+6FxW5CGiPWoDgywRTh7SgYM2BiNCUMc8/oL/crwNmA87upROSDPXJB+rZ+x1z1vRSOzor32z/qX5jue49wXYt+vr3liXG8kEyNI5LHf2n/uP9QXMmS99AKC0BTF+qGQXHAd1ybbhgpt7ytB4ckD4M011q1h8g267SWcVrD57VbzyKEMCZPtZuA1Mm7Jhr9r2js1mpnd26cCNXoxwHkEMBGSXeGejVnU8qnozNSH4KAi6Tu8Sm5FFgd0SmhvUGs/U5fe6MNJhVMGHTHyZszS3FhzPxPNdrtq4KmuuRorostWOu3r1JubEJm7AMKCDxDFy8ONdvtqwM26bboaadTYkYJ1alwivAJbTNGH3rKT0yJBaD+QIq14QlFlHgltHqZtMy5KfI6vWiOerQDnZZhnYsSwkikkrmlfnUUrIHJsJDZ/Xbz4QYp4hzQoCIGCdWJZ8ryMgKTcLpGrYQOw/tJUYsBwrS6bEQIPqOm9cWqrYZ5t0XhQCC6BqslFUThZzsDsiYCEKkWPtwIGOWJBMFKGYU4ANsckQhRpKD+tEXH9Zn+8T6dmAWn9gYgwNm39sYsgKOyKcxiIfc023+9Hs4BmuTxNKFRLwCjplAyKy+WnK7/nyv9FGgELVUuUUUUBi/2U0jn5ZHBb6BtZMGdWRfuAA5rEyQVxUKGMIxLiJbbG4wuzYIBOKQC5KssspVZ9uDkxNITdgqhX9Tbtl9oABEkDVbVytkLRziynAmYrEYlJhXkMGbeuZX+sxJ2IItkaehyGplUL5ryoCCy9iqdhIK5aiBAvTvI+rpX9IrAIVEHEMSKCAc0hOqjtnq479Lp3R2ibkx8rJeIfJmPGKAYITCPmizp1NQSOgaz7jTRkkYLQrmxT/oc8gWrSGiNopVCdaOPkAW5dRG33G1/A4bIOTcbLwDithRECFhbK7XB7frIOQ5AnpIRIciM1WNxCNqZAxqx0th6zSMLd04K85Jp0RQgEvQK+bpvhM5lwAaXB5XpcrlDWH3x2rZvLAJHOSm5ItsWC7FnSuQAzjAet25Uo+MgAOZVbRZW1WiQH/gUKBjGBlS69sLMsfK9QqCQq1aMFPv/ys5kLEDLELHUMVeQdIFWmAUBtn1GlBwl9PFqbhR4BiyLlx2pz72KaeVqjkoXEb668OSLnD2JdZRZdwo4Ag5nXCfOdtrJ+EjhvDiVZmL57pTEnEOIuJHIWjM6PXt9sSji5GX2qLKpYfP6TUPEoXWSy+yKrcSQcG8s8r6A6bNRbaocqnssN64RLxCkfXKqiQCRJ3ZvYkE5JLniC2qXLzibevzGGTxsq5KzxXqzIGtMnbyKEwiFQZqxytEARxUNgqqpcEc/oBjBw/BZGLo3PV60FJf+Wmjas6Yj3fynoWiS9e9IBWGetfGsEXu6Kpsr5BtqtX7tsikQtQKXhCvo9m+FgFCJukrfDBZZ3a+DviBAqfYimxR1UIXGRkxbz8F31n5KEBm82OIiJR3DEXSI4Pm5WbONkZMV27FjYJcvKTXPqwDey4q7uta0y9edvvkvewzMV/AEjcKcHrIhlbea/p6JED4KSYR7GDdZKhUz9Fw/gx5okNlzysABRzhktvMV/+Uux48CiLbK3jXTGgO7WLOCK/QGO/VzzGjwCtz4PfaZ6gPN3HUxBjhx5MWBcCAf6He8qQ8zNHeeF+5aSNRwOE11+lXF/K8C2cbPQoUQYA1Bk5pd5d3xecKEOdTa1XHHH3yCBxizhDVfUEbLAAhUTi4PVx4k9wZEG+iACWAgr1XrrnO7HqNlzS6UaWgUH1jS0652mwRy+FBs75dugrkHgYSMV0ZlQgKnFpvrFNP/8qc7rYZA1GQrCliqYoXs8WcTNdeXr+EsYNMLrHDROxWVsWNgkNe7pJrn6F3vm74uDVl5IrnKkSBjhAc0CUMmT8vlcc0MZcSCGLMGaGkcgU55rpw6S3q+GdEgRBIgKiyGEF/AA6CUO//a7hoFu8ul7uK7dihkkcQTuIb+FCB5ox+83HESLpHmKY6UUDKeK5P/fG38JQSGkgAIbAeNGK68ikZFKw4ZMqE82eaD9/QWftYGuTRdihhVYlkoO3l0AABUkVq8Kx66wmZU4o3IkSUOAp8DtLjd5vjXTZ/VO4ihgpFQdweXSChF/SDQL+/MVg4m0EBBomYKE4lhgJcXx4FaMXd+vM99gF9TB1oJkFBl/CBSCmQUqNyaPb+cTU8pPZsUfIcaJoCBokzIkSUJApylhIoiOrUE/foE10qoGdwKMhK1JpTWoICDw6Bgani1mDJLTh2QYF3FUetFKcSQYE3hubX6RiJQthUr575tT72qSQNMtkguUPUmlNZEhRkyDCSNR+9qxbNplMkBPIYmgITJaDEUXB5sniIsLlBr/md6T3BqTeqYmajXZibQOHw++HyO+XhAjz8WAeNl1OSaWOhiEJd+DAfpalW3aeOfWL4bOZc8kgVrk8lSaTjsTAyME/MmsM71eK5RD9ihGSVEhQwmBYUJGrCN6xrNP2nGSbYhzimkGBhl1Fbp130BMIBFmGojn6knvoFp5KSHS8UKy0owFXmZ1eaapE36Jeade9xMR+dqqSQU9ExiEvIHcLoF/vV0tvgD5R94FJLmhxDWlDAUp5sayfa6Btap5lX5+uzvXSq0rGgKYeC7LlzCurYYbXqN4RABgt8SmOCQ8dipSVXKBBzKBiLD8Gu0+tbVX+PBAfpWEW2TqlkV4UDJomcPTt5RK+4i0FBUBAIUpAqFiqFKNBMFgX4hvYZpvMJud5JS4wQIKwi1k+HkBbanbSy/kCf6lYvtyDqZS0EVpGjTlypQ8EOrsR/utyqKWM2P67O9tnrXFAi1k+dpPW5AAihMj1H9eoHOH2Cw0khAXmlEAXmCnzKBJdMJEHD/Bv11ufMyKBFIeWDCKY1DAr8raLR08f0Sy2BDQpygEFbwZxKqpTOXIHpgjDBH3lys0/1etvzeqifSQPNndJ7aRgX+DtzIS9BOHPCvNRmr2TPeYWU5QeFSi8K+XcEC9KwaJbZ8TJvq5JHn0baICUSv0UezGA/4pr9zVOGPIYGj8IPloSJDN1sS4N+7zX+mIwMKMQ95FLI5HIIjnI51pX9ERTMQI9+uTVoAQcToSHtmjIoMJeUYLH4Zr17M393UIzuUMirqJ3KLuyEjBPEV2Fdq+Eh/c6zwq5cwol9LjqiNCrlKNhg4fwqsgeZbAjbp5vdnTorPwhMAjB+c2e0+TLSVGWWND/yxICTB9ih4UFlf49K4kLqJg++Q1MGBZgVKMC+IrXkVrPvL7zDUJpfgMipqLXKKja/fWI5/MLQOb3jFcuBTCZOHQ6g1AcIWJM25cAyRwazMACx8Ebz0buSRfI3oOGdI40Uj8QlSGBABtP5WNBmH8TKbBdBjc/yjx5RWjU1UMi52QkPQd+QUSvu0ofes40Rb2jInQ0BA6gaGhk2ezar9hnMDBgXLA2C78SxpFtTIm28VMQiK2MK0rB4jvrkA/m92DwQ5T1rRfcj+QHXeFEFUAjM39eFC2ZOmQxxUk1RFGR4KU8gwPLx/9RH9tNFCwqSQIRGOmukFUsj96sFYE/gCwJ9YFu4cCZ/v9Y+bDG6w1NEUw8FiRFUq72RiOcp9PJ5+ui/eGEIuyol+WNZfAO3L4MFYKeyWbN7s1p8M7nkr9+7QDYlNeVQCJpvcCjY/NG6h6aMWf2gPvG5cCD+oGypA7fvLlwO9eGdYcdcjhfgq7g/HoXYRQ7yL+0Mf1O9WvFz3f0vmfhzl75BkYa8OmGDshTZ0IO4sHeLemSuPZnOoWN+f6aopigKl0qchJyn0C/8QZ86yrk/pHVw40WNelUiW1hhXMDAFVEINHQfVo/ePvEUhKmbIuQ15VGwYzY7hJMf8lWrfmNOdaPh3K8RyUSk9ROXNvCVSWIBRGcTyG+KY/3gdvXoHZK3Fu3P1FVFeAXGi6z9cWP6hjq9vl2fJg3055I8ygqaFuvfM5dEw9s5TTgDO6vYfShc/nM7mcjzzqm9/uD7qkJQsOd/6SE42QAa6BvO9ORTfXZlKNLMVyAAhO/SGdgU4dPdasVdrEK8UQI/9lU+VUiAIAqSS1oxi8zoTSv0QK/lIOchoi39/4oE4D8uQ/PvrnDlL5Cf8qJLjGOJYNH+TF2lBQVpUSry/lWJLYRI0VyvX25X/SfZrVmYPVggbBo4qSw6kl5QMlfBFEF9vlc9cU/J5xMtT+CYQAPioj8oq6R2W2lt2DG7ZqIZkpKccpRnEP1QW3AoQZtimwgT2GC9eWOZ6efNFM7JW/fAqBHIrYxRJkiJCnjru00OSEFoTh5VT97DuFByFGRvbdqbi3HxSWqXSmH5RbNrvtm+OkltWz0KbVioW6czJ8duFdnr+4q31tjJBiZ30/TGpXpwgM2PZnUc5AgoTiCcS8CfYoG/1Orrw+r5B2wKUkoUcKTYZtv0sS2Pww5jEbPEo20iu7Jjbc34xYsJ6uKFC9DYkX18xjVsHbHXVcjBTg6wpG9onaa3r+ETnywKEiYul0Xaj0JAYMeivcfUM/eFTfXMP1o40Rmt7qol/VItnnNx8PT4hQtUkXHKrgsU2gBNgJc13yZfxs8f3c8zvKUwtA29hMACYa8qa23Qm5Yp+gZEBvzj7VaT0sD8gA6BGYWBP1gFDjhApQsthceKavGc8eE+Z4ZEyrhIVtKAwrdAAV6h9Ci4l/a25WnmvfU6O8JcAcX6hggHAgL/AKvD58wLv2fOYbcsG8zXUirBK4wPn3FWSKpYFL5NCwoHSoXCpGJeZm+72/qczvKCackimQ0gOUT+aBMI8mF18iu17n/EH5Rrl6xSgUKuVDoKMirJukFKXbhgptnTaQL4Bl4DRyDsM+HEGxgZXuiB03pdU9haL2fA+XXrXSa2WTp5FKIlBq/gIgV8w8JZ+v0/Kz7Bg/mhuIecOG48op97kJeuS3LgCEBoKPUw0sqjEC3lRgFbtvm/nMCs5c0UB7crPhsQrc9/DoWhc+aVtqC1QQai/GKZnEFe6UFhPDVpY5m9AlHIbRxdHAP6xXNH93Ty1hqEBDvI7D2mNyyUwcIl3y2rvgMFtE3wzfktX/Ru6YpDW4/0VYdXKJRFoSmjOm42n31IlwAOBs+adY1h2/RUodB9Nrhu/lvXtXZe1/bWdW1Y2pVS6lpsk9vv/MmSv1QfClCzvS6yTq24S330N3P669ENiwkBPsKyDIPGy+m7AwRRaOm8pmnztWWT3TiW1y96p+pQsLMObrIB7mHp7WbNQwW3tsWqK0WhsUAFDVkCyTavadx8fUe1oYDG5riAqYOkkG6QKUMGh0j0K+XUFaHApnoz2oSlEDbLLQte1ecVLAquyXPVAQsZLJCPdKCARAHFovCjXGuVXBYFq+sXvV2VuUJqdCVeIdJ+ZVI15gqpkkchWjwKkxaPQhXJoxAtHoVJi0ehiuRRiBaPwqTFo1BF8ihEi0dh0uJRqCJ5FKLFozBp8ShUkTwK0eJRmLR4FKpIHoVo8ShMWjwKVSSPQrR4FCYtHoUqkkchWjwKkxaPQhXJoxAtHoVJi0ehiuRRiBaPwqTFo1BF8ihEi0dh0uJRqCJ5FAqK3BHmUZi0WBTytzWWVSm4Ua4ABT66vchYFa4JFHLPScsVeb5C1qJgFWm8kugayt4zmbRXwAFDY4IC715trXDxnl0QT+jlVl2gMHRmnEVgsDzkVroHnFe4pnGTAwLNVlrlNp4aFL46oMQr2OctVrosDXziBwMEULiYQ0EMUoTCJmkzNJislFbcJrf845TcST128nO95nf62d+aZ++veOlVlHu59uGLwdk8BmIM1z1Qus8F/7HonWsXbLl2vggrC7Zct+DtUqlwyz9Ztv3/AHOG6MLbNs6lAAAAAElFTkSuQmCC",hi=a(43),gi=a.n(hi);function mi(){return Object(n.jsxs)(O.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",(new Date).getFullYear()," ",Object(n.jsx)(g.a,{color:"inherit",href:"#",children:Object(n.jsx)("strong",{children:" Medical Express Clinic "})}),ji.isMobile?" ":" All rights reserved."]})}var fi=Object(u.a)((function(e){return{appBar:{position:"relative",backgroundColor:"#fff",color:"#00a1c5",alignItems:"center"},logo:{maxWidth:160},layout:Object(P.a)({width:"auto",marginLeft:e.spacing(2),marginRight:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(2)),{width:700,marginLeft:"auto",marginRight:"auto"}),paper:Object(P.a)({marginTop:e.spacing(1),marginBottom:e.spacing(3),padding:e.spacing(1)},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(2),marginBottom:e.spacing(2),padding:e.spacing(3)}),stepper:{padding:e.spacing(3,0,5)},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)},bold:{fontWeight:"800",padding:"5px"},doneImage:{width:"240px",height:"150px",margin:"20px"},logoImage:{width:"40px",height:"40px",marginLeft:"0px"},privacyButton:{marginBottom:"20px"},textContent:{color:"#222",fontSize:"1.1rem",textAlign:"justify",paddingLeft:"20px",paddingRight:"20px",lineHeight:"1.5em",fontWeight:"400"},textContentMobile:{color:"#222",fontSize:"1.1rem",textAlign:"justify",paddingLeft:"20px",paddingRight:"20px",lineHeight:"1.5em",fontWeight:"400"},getStartedButton:{marginTop:"10px",marginBottom:"10px"},changeTimeButton:{marginTop:"20px",textDecoration:"none !important",padding:"10px"},editInfoButton:{backgroundColor:"#2f942e","&:hover":{background:"green",color:"#fff"},textDecoration:"none !important",padding:"10px"},cancelTimeButton:{marginBottom:"20px",backgroundColor:"#d90015","&:hover":{background:"#b80012",color:"#fff"},padding:"10px"},AirIcon:{marginRight:"10px",fontSize:"32px"},ul:{listStyle:"none",padding:"0",margin:"0"},li:{marginBottom:"5px"},infoDetails:{textAlign:"left"},infoTitle:{fontWeight:"800",marginRight:"10px"},infoData:{fontWeight:"400"}}}));function xi(){var e,t,a,i,r,c=o.a.useContext(l),u=Object(s.a)(c,2),b=u[0],h=u[1],g=fi(),m=o.a.useState(!1),f=Object(s.a)(m,2),x=f[0],v=f[1],y=o.a.useState("paper"),C=Object(s.a)(y,2),B=C[0],N=C[1],T=o.a.useRef(null);o.a.useEffect((function(){if(x){var e=T.current;null!==e&&e.focus()}}),[x]);var S=function(e){return function(){v(!0),N(e)}},w=function(){v(!1)},R=function(e){h((function(e){return Object(d.a)(Object(d.a)({},e),{},{welcomeUser:!0,changeTimeClicked:!0})}))},I=function(e){h((function(e){return Object(d.a)(Object(d.a)({},e),{},{welcomeUser:!0,editInfoClicked:!0})}))},A=function(e){h((function(e){return Object(d.a)(Object(d.a)({},e),{},{welcomeUser:!0,cancelTimeClicked:!0})}))};return Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)(j.a,{}),Object(n.jsx)(k.a,{position:"absolute",color:"default",className:g.appBar,children:Object(n.jsx)(D.a,{children:Object(n.jsxs)(ae.a,{container:!0,direction:"row",spacing:1,justify:"center",alignItems:"center",children:[Object(n.jsx)(ae.a,{item:!0,xs:10,children:Object(n.jsx)(O.a,{style:{fontWeight:"400"},variant:"h6",color:"inherit",noWrap:!0,children:"Medical Express Clinic"})}),Object(n.jsx)(ae.a,{item:!0,xs:2,children:Object(n.jsx)("img",{className:g.logoImage,src:pi,alt:"logo image"})})]})})}),Object(n.jsxs)("main",{className:g.layout,children:[Object(n.jsxs)(Pe.a,{className:g.paper,children:[Object(n.jsx)(O.a,{style:{fontWeight:700,marginBottom:"50px"},component:"h1",variant:"h6",align:"center",children:Object(n.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:b.userBooking.tr?Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)(gi.a,{className:g.AirIcon,color:"primary"}),"RT-PCR Test to Release"]}):Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)(bi.a,{className:g.AirIcon,color:"primary"}),"RT-PCR Fit to Fly Test"]})})}),Object(n.jsxs)("p",{className:ji.isMobile?g.textContentMobile:g.textContent,children:["Welcome Back ",b.userBooking.forename.toUpperCase(),","]}),Object(n.jsx)("p",{className:ji.isMobile?g.textContentMobile:g.textContent,children:"Do you want to change or cancel your appointment?"}),Object(n.jsx)(U.a,{}),!b.userBooking.tr&&Object(n.jsx)("div",{style:{textAlign:"left",paddingLeft:"20px",paddingTop:"10px"},children:Object(n.jsxs)("ul",{className:g.ul,children:[Object(n.jsxs)("li",{className:g.li,children:[Object(n.jsx)("span",{className:g.infoTitle,children:"Booked Date"})," ",Object(n.jsx)("span",{className:g.infoData,children:b.userBooking.bookingDate})]}),Object(n.jsxs)("li",{className:g.li,children:[Object(n.jsx)("span",{className:g.infoTitle,children:"Booked Time"})," ",Object(n.jsx)("span",{className:g.infoData,children:b.userBooking.bookingTime})]}),Object(n.jsxs)("li",{className:g.li,children:[Object(n.jsx)("span",{className:g.infoTitle,children:"Gender"})," ",Object(n.jsx)("span",{className:g.infoData,children:b.userBooking.gender})]}),Object(n.jsxs)("li",{className:g.li,children:[Object(n.jsx)("span",{className:g.infoTitle,children:"Title"}),"  ",Object(n.jsx)("span",{className:g.infoData,children:b.userBooking.title})]}),Object(n.jsxs)("li",{className:g.li,children:[Object(n.jsx)("span",{className:g.infoTitle,children:"Forename"})," ",Object(n.jsx)("span",{className:g.infoData,children:b.userBooking.forename.toUpperCase()})]}),Object(n.jsxs)("li",{className:g.li,children:[Object(n.jsx)("span",{className:g.infoTitle,children:"Surname"})," ",Object(n.jsx)("span",{className:g.infoData,children:b.userBooking.surname.toUpperCase()})]}),Object(n.jsxs)("li",{className:g.li,children:[Object(n.jsx)("span",{className:g.infoTitle,children:"Email"})," ",Object(n.jsx)("span",{className:g.infoData,children:b.userBooking.email.toUpperCase()})]}),Object(n.jsxs)("li",{className:g.li,children:[Object(n.jsx)("span",{className:g.infoTitle,children:"D.O.B"})," ",Object(n.jsx)("span",{className:g.infoData,children:ge()(new Date(b.userBooking.birthDate),"dd/mm/yyyy")})]}),Object(n.jsxs)("li",{className:g.li,children:[Object(n.jsx)("span",{className:g.infoTitle,children:"Telephone"})," ",Object(n.jsx)("span",{className:g.infoData,children:b.userBooking.phone})]}),Object(n.jsxs)("li",{className:g.li,children:[Object(n.jsx)("span",{className:g.infoTitle,children:"Post Code"})," ",Object(n.jsx)("span",{className:g.infoData,children:b.userBooking.postCode})]}),Object(n.jsxs)("li",{className:g.li,children:[Object(n.jsx)("span",{className:g.infoTitle,children:"Address"})," ",Object(n.jsx)("span",{className:g.infoData,children:b.userBooking.address})]}),Object(n.jsxs)("li",{className:g.li,children:[Object(n.jsx)("span",{className:g.infoTitle,children:"Passport No."})," ",Object(n.jsx)("span",{className:g.infoData,children:null!==(e=b.userBooking.passportNumber)&&void 0!==e?e:"N/A"})]}),Object(n.jsxs)("li",{className:g.li,hidden:!b.userBooking.passportNumber2||0===b.userBooking.passportNumber2.length,children:[Object(n.jsx)("span",{className:g.infoTitle,children:"Second Passport No."})," ",Object(n.jsx)("span",{className:g.infoData,children:null!==(t=b.userBooking.passportNumber2)&&void 0!==t?t:"N/A"})]}),Object(n.jsxs)("li",{className:g.li,children:[Object(n.jsx)("span",{className:g.infoTitle,children:"Request for Certificate"})," ",Object(n.jsx)("span",{className:g.infoData,children:b.userBooking.certificate?"Yes":"No"})]}),Object(n.jsxs)("li",{className:g.li,children:[Object(n.jsx)("span",{className:g.infoTitle,children:"Request for Antibody Test"})," ",Object(n.jsx)("span",{className:g.infoData,children:b.userBooking.antiBodyTest?"Yes":"No"})]}),Object(n.jsxs)("li",{className:g.li,children:[Object(n.jsx)("span",{className:g.infoTitle,children:"Price"})," ",Object(n.jsx)("span",{className:g.infoData,children:"\xa3".concat(Object(fe.calculatePrice)(b.userBooking))})]})]})}),b.userBooking.tr&&Object(n.jsx)("div",{style:{textAlign:"left",paddingLeft:"20px",paddingTop:"10px"},children:Object(n.jsxs)("ul",{className:g.ul,children:[Object(n.jsxs)("li",{className:g.li,children:[Object(n.jsx)("span",{className:g.infoTitle,children:"Booked Date"})," ",Object(n.jsx)("span",{className:g.infoData,children:b.userBooking.bookingDate})]}),Object(n.jsxs)("li",{className:g.li,children:[Object(n.jsx)("span",{className:g.infoTitle,children:"Booked Time"})," ",Object(n.jsx)("span",{className:g.infoData,children:b.userBooking.bookingTime})]}),Object(n.jsxs)("li",{className:g.li,children:[Object(n.jsx)("span",{className:g.infoTitle,children:"Gender"})," ",Object(n.jsx)("span",{className:g.infoData,children:b.userBooking.gender})]}),Object(n.jsxs)("li",{className:g.li,children:[Object(n.jsx)("span",{className:g.infoTitle,children:"Title"}),"  ",Object(n.jsx)("span",{className:g.infoData,children:b.userBooking.title})]}),Object(n.jsxs)("li",{className:g.li,children:[Object(n.jsx)("span",{className:g.infoTitle,children:"Forename"})," ",Object(n.jsx)("span",{className:g.infoData,children:b.userBooking.forename.toUpperCase()})]}),Object(n.jsxs)("li",{className:g.li,children:[Object(n.jsx)("span",{className:g.infoTitle,children:"Surname"})," ",Object(n.jsx)("span",{className:g.infoData,children:b.userBooking.surname.toUpperCase()})]}),Object(n.jsxs)("li",{className:g.li,children:[Object(n.jsx)("span",{className:g.infoTitle,children:"Email"})," ",Object(n.jsx)("span",{className:g.infoData,children:b.userBooking.email.toUpperCase()})]}),Object(n.jsxs)("li",{className:g.li,children:[Object(n.jsx)("span",{className:g.infoTitle,children:"D.O.B"})," ",Object(n.jsx)("span",{className:g.infoData,children:ge()(new Date(b.userBooking.birthDate),"dd/mm/yyyy")})]}),Object(n.jsxs)("li",{className:g.li,children:[Object(n.jsx)("span",{className:g.infoTitle,children:"Telephone"})," ",Object(n.jsx)("span",{className:g.infoData,children:b.userBooking.phone})]}),Object(n.jsxs)("li",{className:g.li,children:[Object(n.jsx)("span",{className:g.infoTitle,children:"Passport Number"})," ",Object(n.jsx)("span",{className:g.infoData,children:null!==(a=b.userBooking.passportNumber)&&void 0!==a?a:"-"})]}),Object(n.jsxs)("li",{className:g.li,children:[Object(n.jsx)("span",{className:g.infoTitle,children:"NHS Number"})," ",Object(n.jsx)("span",{className:g.infoData,children:null!==(i=b.userBooking.NHSNumber)&&void 0!==i?i:"-"})]}),Object(n.jsxs)("li",{className:g.li,children:[Object(n.jsx)("span",{className:g.infoTitle,children:"Ethnicity"})," ",Object(n.jsx)("span",{className:g.infoData,children:null!==(r=b.userBooking.ethnicity)&&void 0!==r?r:"-"})]}),Object(n.jsxs)("li",{className:g.li,children:[Object(n.jsx)("span",{className:g.infoTitle,children:"Post Code"})," ",Object(n.jsx)("span",{className:g.infoData,children:b.userBooking.postCode})]}),Object(n.jsxs)("li",{className:g.li,children:[Object(n.jsx)("span",{className:g.infoTitle,children:"Address"})," ",Object(n.jsx)("span",{className:g.infoData,children:b.userBooking.address})]}),b.userBooking.selfIsolate&&Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsxs)("li",{className:g.li,children:[Object(n.jsx)("span",{className:g.infoTitle,children:"Self-Isolate Post Code"})," ",Object(n.jsx)("span",{className:g.infoData,children:b.userBooking.postCodeSI})]}),Object(n.jsxs)("li",{className:g.li,children:[Object(n.jsx)("span",{className:g.infoTitle,children:"Self-Isolate Address"})," ",Object(n.jsx)("span",{className:g.infoData,children:b.userBooking.addressSI})]})]}),Object(n.jsxs)("li",{className:g.li,children:[Object(n.jsx)("span",{className:g.infoTitle,children:"Arrival Date"})," ",Object(n.jsx)("span",{className:g.infoData,children:b.userBooking.arrivalDate})]}),Object(n.jsxs)("li",{className:g.li,children:[Object(n.jsx)("span",{className:g.infoTitle,children:"Flight Number"})," ",Object(n.jsx)("span",{className:g.infoData,children:b.userBooking.flightNumber})]}),Object(n.jsxs)("li",{className:g.li,children:[Object(n.jsx)("span",{className:g.infoTitle,children:"Last Departed Date"})," ",Object(n.jsx)("span",{className:g.infoData,children:b.userBooking.lastDepartedDate})]}),Object(n.jsxs)("li",{className:g.li,children:[Object(n.jsx)("span",{className:g.infoTitle,children:"Travelling From"})," ",Object(n.jsx)("span",{className:g.infoData,children:b.userBooking.travellingFrom})]}),Object(n.jsxs)("li",{className:g.li,children:[Object(n.jsx)("span",{className:g.infoTitle,children:"Price"})," ",Object(n.jsx)("span",{className:g.infoData,children:"\xa3".concat(Object(fe.calculatePrice)(b.userBooking))})]})]})}),Object(n.jsx)(U.a,{}),Object(n.jsx)("div",{style:ji.isBrowser?{paddingLeft:"50px",paddingRight:"50px"}:{paddingLeft:"10px",paddingRight:"10px"},children:Object(n.jsxs)(ae.a,{container:!0,spacing:3,direction:"column",justify:"space-between",alignItems:"stretch",children:[Object(n.jsx)(ae.a,{item:!0,xs:!0,children:Object(n.jsx)(p.a,{fullWidth:!0,variant:"contained",className:g.changeTimeButton,color:"primary",onClick:R,onTouchTap:R,children:"Change My appointment Time"})}),Object(n.jsx)(ae.a,{item:!0,xs:!0,children:Object(n.jsx)(p.a,{fullWidth:!0,variant:"contained",className:g.editInfoButton,color:"primary",onClick:I,onTouchTap:I,children:"Edit My Info"})}),Object(n.jsx)(ae.a,{item:!0,xs:!0,children:Object(n.jsx)(p.a,{fullWidth:!0,variant:"contained",className:g.cancelTimeButton,color:"primary",onClick:A,onTouchTap:A,children:"Cancel my appointment"})})]})})]}),Object(n.jsx)(p.a,{variant:"contained",className:g.privacyButton,color:"secondary",startIcon:Object(n.jsx)(di.a,{}),onClick:S("paper"),onTouchTap:S("paper"),children:"Privacy"}),Object(n.jsxs)(We.a,{open:x,onClose:w,scroll:B,"aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",children:[Object(n.jsx)(Ue.a,{id:"scroll-dialog-title",children:"Application Disclaimer"}),Object(n.jsx)(_e.a,{dividers:"paper"===B,children:Object(n.jsx)(et.a,{id:"scroll-dialog-description",ref:T,tabIndex:-1,children:Object(n.jsx)("div",{style:{textAlign:"justify",padding:"10px"},children:"Medical Express Clinic will not contact you for any other reason than to share your test results, and certificate if selected, via the email address provided. The information provided to us via this registration form is never shared with any other organisations, except when this is required by law. Information provided will never be used for marketing purposes, you cannot opt in. In the case of a positive swab result, our doctor will call on the telephone number provided to inform you of your result and provide additional advice or guidance."})})}),Object(n.jsx)(tt.a,{children:Object(n.jsx)(p.a,{onClick:w,color:"primary",children:"Close"})})]}),Object(n.jsx)(mi,{})]})]})}var Oi=a.p+"static/media/error.8ab2c9d7.png";function vi(){return Object(n.jsxs)(O.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",(new Date).getFullYear()," ",Object(n.jsx)(g.a,{color:"inherit",href:"#",children:Object(n.jsx)("strong",{children:" Medical Express Clinic "})}),ji.isMobile?" ":" All rights reserved."]})}var yi=Object(u.a)((function(e){return{appBar:{position:"relative",backgroundColor:"#fff",color:"#00a1c5",alignItems:"center"},logo:{maxWidth:160},layout:Object(P.a)({width:"auto",marginLeft:e.spacing(2),marginRight:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(2)),{width:700,marginLeft:"auto",marginRight:"auto"}),paper:Object(P.a)({marginTop:e.spacing(1),marginBottom:e.spacing(3),padding:e.spacing(1)},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(2),marginBottom:e.spacing(2),padding:e.spacing(3)}),stepper:{padding:e.spacing(3,0,5)},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)},bold:{fontWeight:"800",padding:"5px"},doneImage:{width:"240px",height:"150px",margin:"20px"},logoImage:{width:"40px",height:"40px",marginLeft:"0px"},privacyButton:{marginBottom:"20px"},textContent:{color:"#666f77",fontSize:"1.1rem",textAlign:"justify",paddingLeft:"30px",paddingRight:"30px",lineHeight:"2.2em",fontWeight:"400"},textContentMobile:{color:"#666f77",fontSize:"0.9rem",textAlign:"justify",paddingLeft:"30px",paddingRight:"30px",lineHeight:"2.2em",fontWeight:"400"},getStartedButton:{marginTop:"10px",marginBottom:"10px"},AirIcon:{marginRight:"10px",fontSize:"32px"},errorImage:{width:"200px",height:"190px",marginBottom:"30px"}}}));function ki(){var e,t=o.a.useContext(l),a=Object(s.a)(t,2),i=a[0],r=(a[1],yi()),c=o.a.useState(!1),d=Object(s.a)(c,2),u=d[0],b=d[1],h=o.a.useState("paper"),g=Object(s.a)(h,2),m=g[0],f=g[1],x=o.a.useRef(null);o.a.useEffect((function(){if(u){var e=x.current;null!==e&&e.focus()}}),[u]);var v=function(e){return function(){b(!0),f(e)}},y=function(){b(!1)};return Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)(j.a,{}),Object(n.jsx)(k.a,{position:"absolute",color:"default",className:r.appBar,children:Object(n.jsx)(D.a,{children:Object(n.jsxs)(ae.a,{container:!0,direction:"row",spacing:1,justify:"center",alignItems:"center",children:[Object(n.jsx)(ae.a,(e={item:!0},Object(P.a)(e,"item",!0),Object(P.a)(e,"xs",10),Object(P.a)(e,"children",Object(n.jsx)(O.a,{style:{fontWeight:"400"},variant:"h6",color:"inherit",noWrap:!0,children:"Medical Express Clinic"})),e)),Object(n.jsx)(ae.a,{item:!0,xs:2,children:Object(n.jsx)("img",{className:r.logoImage,src:pi,alt:"logo image"})})]})})}),Object(n.jsxs)("main",{className:r.layout,children:[Object(n.jsxs)(Pe.a,{className:r.paper,children:[Object(n.jsx)(O.a,{style:{fontWeight:700,marginBottom:"50px"},component:"h1",variant:"h6",align:"center",children:Object(n.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:"RT-PCR Test"})}),Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)("img",{className:r.errorImage,src:Oi,alt:"Error image"}),Object(n.jsxs)(O.a,{variant:"h6",gutterBottom:!0,children:[i.pathIdNotFound?"Sorry, we cannot find your booking! ":"Sorry, your booking appointment is expired! ",Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),"You can book a new appointment if needed later on."]}),Object(n.jsx)("br",{})]})]}),Object(n.jsx)(p.a,{variant:"contained",className:r.privacyButton,color:"secondary",startIcon:Object(n.jsx)(di.a,{}),onClick:v("paper"),onTouchTap:v("paper"),children:"Privacy"}),Object(n.jsxs)(We.a,{open:u,onClose:y,scroll:m,"aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",children:[Object(n.jsx)(Ue.a,{id:"scroll-dialog-title",children:"Application Disclaimer"}),Object(n.jsx)(_e.a,{dividers:"paper"===m,children:Object(n.jsx)(et.a,{id:"scroll-dialog-description",ref:x,tabIndex:-1,children:Object(n.jsx)("div",{style:{textAlign:"justify",padding:"10px"},children:"Medical Express Clinic will not contact you for any other reason than to share your test results, and certificate if selected, via the email address provided. The information provided to us via this registration form is never shared with any other organisations, except when this is required by law. Information provided will never be used for marketing purposes, you cannot opt in. In the case of a positive swab result, our doctor will call on the telephone number provided to inform you of your result and provide additional advice or guidance."})})}),Object(n.jsx)(tt.a,{children:Object(n.jsx)(p.a,{onClick:y,color:"primary",children:"Close"})})]}),Object(n.jsx)(vi,{})]})]})}function Ci(){return Object(n.jsxs)(O.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",(new Date).getFullYear()," ",Object(n.jsx)(g.a,{color:"inherit",href:"#",children:Object(n.jsx)("strong",{children:" Medical Express Clinic "})}),ji.isMobile?" ":" All rights reserved."]})}var Bi=Object(u.a)((function(e){return{appBar:{position:"relative",backgroundColor:"#fff",color:"#00a1c5",alignItems:"center"},logo:{maxWidth:160},layout:Object(P.a)({width:"auto",marginLeft:e.spacing(2),marginRight:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(2)),{width:700,marginLeft:"auto",marginRight:"auto"}),paper:Object(P.a)({marginTop:e.spacing(1),marginBottom:e.spacing(3),padding:e.spacing(1)},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(2),marginBottom:e.spacing(2),padding:e.spacing(3)}),stepper:{padding:e.spacing(3,0,5)},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)},bold:{fontWeight:"800",padding:"5px"},doneImage:{width:"240px",height:"150px",margin:"20px"},logoImage:{width:"40px",height:"40px",marginLeft:"0px"},privacyButton:{marginBottom:"20px"},textContent:{color:"#222",fontSize:"1.1rem",textAlign:"justify",paddingLeft:"20px",paddingRight:"20px",lineHeight:"1.5em",fontWeight:"400"},textContentMobile:{color:"#222",fontSize:"1.1rem",textAlign:"justify",paddingLeft:"20px",paddingRight:"20px",lineHeight:"1.5em",fontWeight:"400"},getStartedButton:{marginTop:"10px",marginBottom:"10px"},backButton:{marginBottom:"20px",textDecoration:"none !important",padding:"10px"},cancelTimeButton:{marginTop:"20px",backgroundColor:"#d90015","&:hover":{background:"#b80012",color:"#fff"},padding:"10px"},AirIcon:{marginRight:"10px",fontSize:"32px"},ul:{listStyle:"none",padding:"0",margin:"0"},li:{marginBottom:"5px"},infoDetails:{textAlign:"left"},infoTitle:{fontWeight:"800",marginRight:"10px"},infoData:{fontWeight:"400"},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}}));function Ni(){var e=o.a.useContext(l),t=Object(s.a)(e,2),a=t[0],i=t[1],r=Bi(),c=o.a.useState(!1),u=Object(s.a)(c,2),b=u[0],h=u[1],g=o.a.useState("paper"),m=Object(s.a)(g,2),f=m[0],x=m[1],v=o.a.useState(!1),y=Object(s.a)(v,2),C=y[0],B=y[1],N=o.a.useRef(null);o.a.useEffect((function(){if(b){var e=N.current;null!==e&&e.focus()}}),[b]);var T=function(e){return function(){h(!0),x(e)}},S=function(){h(!1)},w=function(e){B(!0),le.deleteBooking(a.userBooking._id).then((function(e){B(!1),i((function(e){return Object(d.a)(Object(d.a)({},e),{},{cancelTimeClicked:!1,canceledResult:!0})}))})).catch((function(e){console.log(e),B(!1)}))},R=function(e){i((function(e){return Object(d.a)(Object(d.a)({},e),{},{welcomeUser:!1,cancelTimeClicked:!1})}))};return Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)(j.a,{}),Object(n.jsx)(k.a,{position:"absolute",color:"default",className:r.appBar,children:Object(n.jsx)(D.a,{children:Object(n.jsxs)(ae.a,{container:!0,direction:"row",spacing:1,justify:"center",alignItems:"center",children:[Object(n.jsx)(ae.a,{item:!0,xs:10,children:Object(n.jsx)(O.a,{style:{fontWeight:"400"},variant:"h6",color:"inherit",noWrap:!0,children:"Medical Express Clinic"})}),Object(n.jsx)(ae.a,{item:!0,xs:2,children:Object(n.jsx)("img",{className:r.logoImage,src:pi,alt:"logo image"})})]})})}),Object(n.jsxs)("main",{className:r.layout,children:[Object(n.jsxs)(Pe.a,{className:r.paper,children:[Object(n.jsx)(O.a,{style:{fontWeight:700,marginBottom:"50px"},component:"h1",variant:"h6",align:"center",children:Object(n.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:a.userBooking.tr?Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)(gi.a,{className:r.AirIcon,color:"primary"}),"RT-PCR Test to Release"]}):Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)(bi.a,{className:r.AirIcon,color:"primary"}),"RT-PCR Fit to Fly Test"]})})}),Object(n.jsx)("p",{className:ji.isMobile?r.textContentMobile:r.textContent,children:"Are you sure you want to cancel the appointment?"}),Object(n.jsx)(U.a,{}),Object(n.jsx)("div",{style:ji.isBrowser?{paddingLeft:"50px",paddingRight:"50px"}:{paddingLeft:"10px",paddingRight:"10px"},children:Object(n.jsxs)(ae.a,{container:!0,spacing:3,direction:"column",justify:"space-between",alignItems:"stretch",children:[Object(n.jsx)(ae.a,{item:!0,xs:!0,children:Object(n.jsx)(p.a,{fullWidth:!0,disabled:C,variant:"contained",className:r.cancelTimeButton,color:"primary",onClick:w,onTouchTap:w,children:"Yes cancel my appointment"})}),Object(n.jsx)(ae.a,{item:!0,xs:!0,children:Object(n.jsx)(p.a,{fullWidth:!0,disabled:C,variant:"contained",className:r.backButton,color:"default",onClick:R,onTouchTap:R,children:"Back"})})]})})]}),Object(n.jsx)(p.a,{variant:"contained",className:r.privacyButton,color:"secondary",startIcon:Object(n.jsx)(di.a,{}),onClick:T("paper"),onTouchTap:T("paper"),children:"Privacy"}),Object(n.jsxs)(We.a,{open:b,onClose:S,scroll:f,"aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",children:[Object(n.jsx)(Ue.a,{id:"scroll-dialog-title",children:"Application Disclaimer"}),Object(n.jsx)(_e.a,{dividers:"paper"===f,children:Object(n.jsx)(et.a,{id:"scroll-dialog-description",ref:N,tabIndex:-1,children:Object(n.jsx)("div",{style:{textAlign:"justify",padding:"10px"},children:"Medical Express Clinic will not contact you for any other reason than to share your test results, and certificate if selected, via the email address provided. The information provided to us via this registration form is never shared with any other organisations, except when this is required by law. Information provided will never be used for marketing purposes, you cannot opt in. In the case of a positive swab result, our doctor will call on the telephone number provided to inform you of your result and provide additional advice or guidance."})})}),Object(n.jsx)(tt.a,{children:Object(n.jsx)(p.a,{onClick:S,color:"primary",children:"Close"})})]}),Object(n.jsx)(ot.a,{className:r.backdrop,open:C,children:Object(n.jsx)(rt.a,{color:"inherit"})}),Object(n.jsx)(Ci,{})]})]})}var Ti=a(126);function Si(e,t){var a=!1;return e.gender||(t((function(e){return Object(d.a)(Object(d.a)({},e),{},{genderError:!0})})),a=!0),e.title||(t((function(e){return Object(d.a)(Object(d.a)({},e),{},{titleError:!0})})),a=!0),(!e.firstname||e.firstname.trim().length<1)&&(t((function(e){return Object(d.a)(Object(d.a)({},e),{},{firstnameError:!0})})),a=!0),(!e.lastname||e.lastname.trim().length<1)&&(t((function(e){return Object(d.a)(Object(d.a)({},e),{},{lastnameError:!0})})),a=!0),e.birthDate||(t((function(e){return Object(d.a)(Object(d.a)({},e),{},{birthDateError:!0})})),a=!0),e.email&&Ti.validate(e.email)||(t((function(e){return Object(d.a)(Object(d.a)({},e),{},{emailError:!0})})),a=!0),e.retypeEmail&&Ti.validate(e.retypeEmail)&&e.email===e.retypeEmail||(t((function(e){return Object(d.a)(Object(d.a)({},e),{},{retypeEmailError:!0})})),a=!0),(!e.phone||e.phone.trim().length<6)&&(t((function(e){return Object(d.a)(Object(d.a)({},e),{},{phoneError:!0})})),a=!0),(!e.postCode||e.postCode.trim().length<5)&&(t((function(e){return Object(d.a)(Object(d.a)({},e),{},{postCodeError:!0})})),a=!0),(!e.address||e.address.trim().length<10)&&(t((function(e){return Object(d.a)(Object(d.a)({},e),{},{addressError:!0})})),a=!0),e.certificate&&(!e.passportNumber||e.passportNumber.trim().length<6)&&(t((function(e){return Object(d.a)(Object(d.a)({},e),{},{passportNumberError:!0})})),a=!0),e.userBooking.tr&&((!e.passportNumber||e.passportNumber.trim().length<6)&&(t((function(e){return Object(d.a)(Object(d.a)({},e),{},{passportNumberError:!0})})),a=!0),(!e.ethnicity||e.ethnicity.trim().length<1)&&(t((function(e){return Object(d.a)(Object(d.a)({},e),{},{ethnicityError:!0})})),a=!0),(!e.ethnicity||e.ethnicity.trim().length<1)&&(t((function(e){return Object(d.a)(Object(d.a)({},e),{},{ethnicityError:!0})})),a=!0),e.arrivalDate&&10===e.arrivalDate.trim().length||(t((function(e){return Object(d.a)(Object(d.a)({},e),{},{arrivalDateError:!0})})),a=!0),e.lastDepartedDate&&10===e.lastDepartedDate.trim().length||(t((function(e){return Object(d.a)(Object(d.a)({},e),{},{lastDepartedDateError:!0})})),a=!0),(!e.flightNumber||e.flightNumber.trim().length<1)&&(t((function(e){return Object(d.a)(Object(d.a)({},e),{},{flightNumberError:!0})})),a=!0),(!e.travellingFrom||e.travellingFrom.trim().length<1)&&(t((function(e){return Object(d.a)(Object(d.a)({},e),{},{travellingFromError:!0})})),a=!0),e.selfIsolate&&((!e.postCodeSI||e.postCodeSI.trim().length<5)&&(t((function(e){return Object(d.a)(Object(d.a)({},e),{},{postCodeSIError:!0})})),a=!0),(!e.addressSI||e.addressSI.trim().length<10)&&(t((function(e){return Object(d.a)(Object(d.a)({},e),{},{addressSIError:!0})})),a=!0))),!a}function wi(){return Object(n.jsxs)(O.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",(new Date).getFullYear()," ",Object(n.jsx)(g.a,{color:"inherit",href:"#",children:Object(n.jsx)("strong",{children:" Medical Express Clinic "})}),ji.isMobile?" ":" All rights reserved."]})}var Di=Object(u.a)((function(e){return{appBar:{position:"relative",backgroundColor:"#fff",color:"#00a1c5",alignItems:"center"},logo:{maxWidth:160},layout:Object(P.a)({width:"auto",marginLeft:e.spacing(2),marginRight:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(2)),{width:700,marginLeft:"auto",marginRight:"auto"}),paper:Object(P.a)({marginTop:e.spacing(1),marginBottom:e.spacing(3),padding:e.spacing(1)},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(2),marginBottom:e.spacing(2),padding:e.spacing(3)}),stepper:{padding:e.spacing(3,0,5)},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)},bold:{fontWeight:"800",padding:"5px"},doneImage:{width:"240px",height:"150px",margin:"20px"},logoImage:{width:"40px",height:"40px",marginLeft:"0px"},privacyButton:{marginBottom:"20px"},textContent:{color:"#222",fontSize:"1.1rem",textAlign:"justify",paddingLeft:"20px",paddingRight:"20px",lineHeight:"1.5em",fontWeight:"400"},textContentMobile:{color:"#222",fontSize:"1.1rem",textAlign:"justify",paddingLeft:"20px",paddingRight:"20px",lineHeight:"1.5em",fontWeight:"400"},getStartedButton:{marginTop:"10px",marginBottom:"10px"},backButton:{marginBottom:"20px",textDecoration:"none !important",padding:"10px"},editInfoButton:{marginTop:"20px",backgroundColor:"#2f942e","&:hover":{background:"green",color:"#fff"},textDecoration:"none !important",padding:"10px"},cancelTimeButton:{marginTop:"20px",backgroundColor:"#d90015","&:hover":{background:"#b80012",color:"#fff"},padding:"10px"},AirIcon:{marginRight:"10px",fontSize:"32px"},ul:{listStyle:"none",padding:"0",margin:"0"},li:{marginBottom:"5px"},infoDetails:{textAlign:"left"},infoTitle:{fontWeight:"800",marginRight:"10px"},infoData:{fontWeight:"400"},Box:{backgroundColor:"#f1f1f1",padding:"10px",borderRadius:"10px",boxShadow:"2px 4px #ddd",marginTop:"5px",marginBottom:"15px",textAlign:"left"},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}}));function Ri(){var e,t,a,r,c,u,b,g,m,f,x,v,y,N,T,R,I,A,F,L,M,E=o.a.useContext(l),P=Object(s.a)(E,2),W=P[0],_=P[1],z=Di(),H=o.a.useState(!1),K=Object(s.a)(H,2),q=K[0],Y=K[1],V=o.a.useState("paper"),G=Object(s.a)(V,2),Q=G[0],J=G[1],X=o.a.useRef(null);o.a.useEffect((function(){if(q){var e=X.current;null!==e&&e.focus()}}),[q]);var Z=function(e){return function(){Y(!0),J(e)}},$=function(){Y(!1)},ee=function(e){if(console.log(Si(W,_)),Si(W,_)){Zt(!0);var t={bookingId:W.userBooking._id,title:kt,gender:xt,birthDate:ge()(oe,"yyyy-mm-dd"),forename:de,surname:pe,email:xe,phone:Tt,certificate:sa,address:Lt,postCode:Rt,passportNumber:Wt,passportNumber2:Ht,antiBodyTest:pa,bookingDate:W.userBooking.bookingDate,bookingTime:W.userBooking.bookingTime,bookingRef:W.userBooking.bookingRef,selfIsolate:Le,ethnicity:Re,NHSNumber:Te,addressSI:ht,postCodeSI:jt,arrivalDate:qe,flightNumber:Qe,lastDepartedDate:$e,travellingFrom:ct};le.updateBooking({bookingId:W.userBooking._id,person:t}).then((function(e){Zt(!1),_((function(e){return Object(d.a)(Object(d.a)({},e),{},{editInfoClicked:!1,editInfoResult:!0})}))})).catch((function(e){console.log(e),Zt(!1)}))}},te=function(e){_((function(e){return Object(d.a)(Object(d.a)({},e),{},{welcomeUser:!1,editInfoClicked:!1})}))},ne=o.a.useState(null!==(e=W.userBooking.birthDate)&&void 0!==e?e:null),ie=Object(s.a)(ne,2),oe=ie[0],re=ie[1],ce=o.a.useState(null!==(t=W.userBooking.forename)&&void 0!==t?t:""),se=Object(s.a)(ce,2),de=se[0],je=se[1],ue=o.a.useState(null!==(a=W.userBooking.surname)&&void 0!==a?a:""),be=Object(s.a)(ue,2),pe=be[0],he=be[1],me=o.a.useState(null!==(r=W.userBooking.email)&&void 0!==r?r:""),fe=Object(s.a)(me,2),xe=fe[0],Oe=fe[1],ve=o.a.useState(null!==(c=W.userBooking.email)&&void 0!==c?c:""),ye=Object(s.a)(ve,2),ke=ye[0],Ce=ye[1],Be=o.a.useState(null!==(u=W.userBooking.NHSNumber)&&void 0!==u?u:""),Ne=Object(s.a)(Be,2),Te=Ne[0],Se=Ne[1],we=o.a.useState(null!==(b=W.userBooking.ethnicity)&&void 0!==b?b:""),De=Object(s.a)(we,2),Re=De[0],Ie=De[1],Ae=o.a.useState(null!==(g=W.userBooking.selfIsolate)&&void 0!==g&&g),Fe=Object(s.a)(Ae,2),Le=Fe[0],Me=Fe[1],Ee=o.a.useState(null!==(m=W.userBooking.arrivalDate)&&void 0!==m?m:""),ze=Object(s.a)(Ee,2),qe=ze[0],Ye=ze[1],Ve=o.a.useState(null!==(f=W.userBooking.flightNumber)&&void 0!==f?f:""),Ge=Object(s.a)(Ve,2),Qe=Ge[0],Je=Ge[1],Xe=o.a.useState(null!==(x=W.userBooking.lastDepartedDate)&&void 0!==x?x:""),Ze=Object(s.a)(Xe,2),$e=Ze[0],at=Ze[1],nt=o.a.useState(null!==(v=W.userBooking.travellingFrom)&&void 0!==v?v:""),it=Object(s.a)(nt,2),ct=it[0],st=it[1],lt=o.a.useState(null!==(y=W.userBooking.postCodeSI)&&void 0!==y?y:""),dt=Object(s.a)(lt,2),jt=dt[0],ut=dt[1],bt=o.a.useState(null!==(N=W.userBooking.addressSI)&&void 0!==N?N:""),pt=Object(s.a)(bt,2),ht=pt[0],gt=pt[1],mt=o.a.useState(null!==(T=W.userBooking.gender)&&void 0!==T?T:""),ft=Object(s.a)(mt,2),xt=ft[0],Ot=ft[1],vt=o.a.useState(null!==(R=W.userBooking.title)&&void 0!==R?R:""),yt=Object(s.a)(vt,2),kt=yt[0],Ct=yt[1],Bt=o.a.useState(null!==(I=W.userBooking.phone)&&void 0!==I?I:""),Nt=Object(s.a)(Bt,2),Tt=Nt[0],St=Nt[1],wt=o.a.useState(null!==(A=W.userBooking.postCode)&&void 0!==A?A:""),Dt=Object(s.a)(wt,2),Rt=Dt[0],It=Dt[1],At=o.a.useState(null!==(F=W.userBooking.address)&&void 0!==F?F:""),Ft=Object(s.a)(At,2),Lt=Ft[0],Mt=Ft[1],Et=o.a.useState(W.userBooking.passportNumber),Pt=Object(s.a)(Et,2),Wt=Pt[0],Ut=Pt[1],_t=o.a.useState(W.userBooking.passportNumber2),zt=Object(s.a)(_t,2),Ht=zt[0],Kt=zt[1],qt=o.a.useState(!1),Yt=Object(s.a)(qt,2),Vt=Yt[0],Gt=Yt[1],Qt=o.a.useState(!1),Jt=Object(s.a)(Qt,2),Xt=Jt[0],Zt=Jt[1],$t=o.a.useState(!1),ea=Object(s.a)($t,2),ta=ea[0],oa=ea[1];Object(i.useEffect)((function(){_((function(e){return Object(d.a)(Object(d.a)({},e),{},{emailConfirmed:!1})})),_((function(e){return Object(d.a)(Object(d.a)({},e),{},{title:e.userBooking.title})})),_((function(e){return Object(d.a)(Object(d.a)({},e),{},{gender:e.userBooking.gender})})),_((function(e){return Object(d.a)(Object(d.a)({},e),{},{birthDate:e.userBooking.birthDate})})),_((function(e){return Object(d.a)(Object(d.a)({},e),{},{firstname:e.userBooking.forename})})),_((function(e){return Object(d.a)(Object(d.a)({},e),{},{lastname:e.userBooking.surname})})),_((function(e){return Object(d.a)(Object(d.a)({},e),{},{email:e.userBooking.email})})),_((function(e){return Object(d.a)(Object(d.a)({},e),{},{retypeEmail:e.userBooking.email})})),_((function(e){return Object(d.a)(Object(d.a)({},e),{},{phone:e.userBooking.phone})})),_((function(e){return Object(d.a)(Object(d.a)({},e),{},{certificate:e.userBooking.certificate})})),_((function(e){return Object(d.a)(Object(d.a)({},e),{},{postCode:e.userBooking.postCode})})),_((function(e){return Object(d.a)(Object(d.a)({},e),{},{address:e.userBooking.address})})),_((function(e){return Object(d.a)(Object(d.a)({},e),{},{passportNumber:e.userBooking.passportNumber})})),_((function(e){return Object(d.a)(Object(d.a)({},e),{},{passportNumber2:e.userBooking.passportNumber2})})),_((function(e){return Object(d.a)(Object(d.a)({},e),{},{antiBodyTest:e.userBooking.antiBodyTest})})),_((function(e){return Object(d.a)(Object(d.a)({},e),{},{NHSNumber:e.userBooking.NHSNumber})})),_((function(e){return Object(d.a)(Object(d.a)({},e),{},{ethnicity:e.userBooking.ethnicity})})),_((function(e){return Object(d.a)(Object(d.a)({},e),{},{addressSI:e.userBooking.addressSI})})),_((function(e){return Object(d.a)(Object(d.a)({},e),{},{postCodeSI:e.userBooking.postCodeSI})})),_((function(e){var t;return Object(d.a)(Object(d.a)({},e),{},{selfIsolate:null!==(t=e.userBooking.selfIsolate)&&void 0!==t&&t})})),_((function(e){return Object(d.a)(Object(d.a)({},e),{},{arrivalDate:e.userBooking.arrivalDate})})),_((function(e){return Object(d.a)(Object(d.a)({},e),{},{flightNumber:e.userBooking.flightNumber})})),_((function(e){return Object(d.a)(Object(d.a)({},e),{},{lastDepartedDate:e.userBooking.lastDepartedDate})})),_((function(e){return Object(d.a)(Object(d.a)({},e),{},{travellingFrom:e.userBooking.travellingFrom})}))}),[]),Object(i.useEffect)((function(){var e;W.userBooking.tr?Gt(kt!==W.userBooking.title||xt!==W.userBooking.gender||ge()(oe,"yyyy-mm-dd")!==W.userBooking.birthDate||de!==W.userBooking.forename||pe!==W.userBooking.surname||xe!==W.userBooking.email||Tt!==W.userBooking.phone||Rt!==W.userBooking.postCode||Lt!==W.userBooking.address||Wt!==W.userBooking.passportNumber||Te!==W.userBooking.NHSNumber||Re!==W.userBooking.ethnicity||Le!==(null!==(e=W.userBooking.selfIsolate)&&void 0!==e&&e)||Le&&jt!==W.userBooking.postCodeSI||Le&&ht!==W.userBooking.addressSI||qe!==W.userBooking.arrivalDate||Qe!==W.userBooking.flightNumber||$e!==W.userBooking.lastDepartedDate||ct!==W.userBooking.travellingFrom):Gt(kt!==W.userBooking.title||xt!==W.userBooking.gender||ge()(oe,"yyyy-mm-dd")!==W.userBooking.birthDate||de!==W.userBooking.forename||pe!==W.userBooking.surname||xe!==W.userBooking.email||Tt!==W.userBooking.phone||sa!==W.userBooking.certificate||Rt!==W.userBooking.postCode||Lt!==W.userBooking.address||Wt!==W.userBooking.passportNumber||Ht!==W.userBooking.passportNumber2||pa!==W.userBooking.antiBodyTest)}),[ta]);var ra=o.a.useState(null!==(L=W.userBooking.certificate)&&void 0!==L&&L),ca=Object(s.a)(ra,2),sa=ca[0],la=ca[1],da=function(e){St(e.target.value),_((function(t){return Object(d.a)(Object(d.a)({},t),{},{phone:e.target.value})})),e.target.value&&e.target.value.trim().length>=6&&_((function(e){return Object(d.a)(Object(d.a)({},e),{},{phoneError:!1})})),oa(!ta)},ja=function(e){Ut(e.target.value),_((function(t){return Object(d.a)(Object(d.a)({},t),{},{passportNumber:e.target.value})})),e.target.value&&e.target.value.trim().length>=6&&_((function(e){return Object(d.a)(Object(d.a)({},e),{},{passportNumberError:!1})})),oa(!ta)},ua=o.a.useState(null!==(M=W.userBooking.antiBodyTest)&&void 0!==M&&M),ba=Object(s.a)(ua,2),pa=ba[0],ha=ba[1];return Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)(j.a,{}),Object(n.jsx)(k.a,{position:"absolute",color:"default",className:z.appBar,children:Object(n.jsx)(D.a,{children:Object(n.jsxs)(ae.a,{container:!0,direction:"row",spacing:1,justify:"center",alignItems:"center",children:[Object(n.jsx)(ae.a,{item:!0,xs:10,children:Object(n.jsx)(O.a,{style:{fontWeight:"400"},variant:"h6",color:"inherit",noWrap:!0,children:"Medical Express Clinic"})}),Object(n.jsx)(ae.a,{item:!0,xs:2,children:Object(n.jsx)("img",{className:z.logoImage,src:pi,alt:"logo image"})})]})})}),Object(n.jsxs)("main",{className:z.layout,children:[Object(n.jsxs)(Pe.a,{className:z.paper,children:[Object(n.jsx)(O.a,{style:{fontWeight:700,marginBottom:"50px"},component:"h1",variant:"h6",align:"center",children:Object(n.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:W.userBooking.tr?Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)(gi.a,{className:z.AirIcon,color:"primary"}),"RT-PCR Test to Release"]}):Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)(bi.a,{className:z.AirIcon,color:"primary"}),"RT-PCR Fit to Fly Test"]})})}),!W.userBooking.tr&&Object(n.jsxs)("div",{className:z.Box,children:[Object(n.jsx)("div",{className:z.Label,children:"Add to your Appointment..."}),Object(n.jsx)("div",{className:z.CheckBox,children:Object(n.jsx)(S.a,{className:z.formControl,control:Object(n.jsx)(w.a,{className:z.formControl,color:"secondary",name:"emailConfirmCheckBox",checked:pa,onChange:function(e){ha(e.target.checked),_((function(t){return Object(d.a)(Object(d.a)({},t),{},{antiBodyTest:e.target.checked})})),oa(!ta)}}),label:Object(n.jsxs)("span",{style:{fontSize:"0.7rem"},children:["COVID-19 Antibody Test (IgM & IgG)",Object(n.jsx)("span",{style:{fontSize:"0.8rem",textDecoration:"italic",fontWeight:"600",color:"#333"},children:" \xa399.00 "})," "]})})})]}),Object(n.jsxs)(ae.a,{container:!0,spacing:3,alignItems:"baseline",style:{paddingTop:"20px",paddingBottom:"20px"},children:[Object(n.jsx)(ae.a,{item:!0,xs:12,md:6,children:Object(n.jsxs)(C.a,{className:z.formControl,fullWidth:!0,required:!0,children:[Object(n.jsx)(B.a,{id:"gender-label-id",children:"Gender"}),Object(n.jsxs)(He.a,{error:!!W.genderError,fullWidth:!0,labelId:"gender-label-id",id:"gender-id",value:xt,onChange:function(e){Ot(e.target.value),_((function(t){return Object(d.a)(Object(d.a)({},t),{},{gender:e.target.value})})),_((function(e){return Object(d.a)(Object(d.a)({},e),{},{genderError:!1})})),oa(!ta)},children:[Object(n.jsx)(Ke.a,{value:"Male",children:"Male"}),Object(n.jsx)(Ke.a,{value:"Female",children:"Female"})]})]})}),Object(n.jsx)(ae.a,{item:!0,xs:12,md:6,children:Object(n.jsxs)(C.a,{className:z.formControl,fullWidth:!0,required:!0,children:[Object(n.jsx)(B.a,{id:"title-label-id",children:"Title"}),Object(n.jsxs)(He.a,{error:!!W.titleError,fullWidth:!0,labelId:"title-label-id",id:"title-id",value:kt,onChange:function(e){Ct(e.target.value),_((function(t){return Object(d.a)(Object(d.a)({},t),{},{title:e.target.value})})),_((function(e){return Object(d.a)(Object(d.a)({},e),{},{titleError:!1})})),oa(!ta)},children:[Object(n.jsx)(Ke.a,{value:"Mr",children:"Mr"}),Object(n.jsx)(Ke.a,{value:"Mrs",children:"Mrs"}),Object(n.jsx)(Ke.a,{value:"Miss",children:"Miss"}),Object(n.jsx)(Ke.a,{value:"Ms",children:"Ms"}),Object(n.jsx)(Ke.a,{value:"Dr",children:"Dr"})]})]})}),Object(n.jsx)(ae.a,{item:!0,xs:12,md:6,children:Object(n.jsx)(h.a,{error:!!W.firstnameError,required:!0,id:"firstName",label:"First Name",fullWidth:!0,autoComplete:"given-name",value:de,onChange:function(e){je(e.target.value),_((function(t){return Object(d.a)(Object(d.a)({},t),{},{firstname:e.target.value})})),e.target.value&&e.target.value.trim().length>0&&_((function(e){return Object(d.a)(Object(d.a)({},e),{},{firstnameError:!1})})),oa(!ta)}})}),Object(n.jsx)(ae.a,{item:!0,xs:12,md:6,children:Object(n.jsx)(h.a,{error:!!W.lastnameError,required:!0,id:"lastName",label:"Last Name",fullWidth:!0,autoComplete:"family-name",value:pe,onChange:function(e){he(e.target.value),_((function(t){return Object(d.a)(Object(d.a)({},t),{},{lastname:e.target.value})})),e.target.value&&e.target.value.trim().length>0&&_((function(e){return Object(d.a)(Object(d.a)({},e),{},{lastnameError:!1})})),oa(!ta)}})}),Object(n.jsx)(ae.a,{item:!0,xs:12,md:12,children:Object(n.jsx)(na.a,{utils:aa.a,children:Object(n.jsx)(ia.b,{error:!!W.birthDateError,autoOk:!0,fullWidth:!0,variant:"inline",label:"Birthdate",format:"dd/MM/yyyy",disableFuture:!0,InputAdornmentProps:{position:"start"},helperText:"dd/MM/yyyy",value:oe,onChange:function(e){re(e),_((function(t){return Object(d.a)(Object(d.a)({},t),{},{birthDate:e})})),_((function(e){return Object(d.a)(Object(d.a)({},e),{},{birthDateError:!1})})),oa(!ta)}})})}),Object(n.jsx)(ae.a,{item:!0,xs:12,md:6,children:Object(n.jsx)(h.a,{error:!!W.emailError,required:!0,id:"email",label:"Email Address",fullWidth:!0,autoComplete:"email",type:"email",value:xe,onChange:function(e){Oe(e.target.value),_((function(t){return Object(d.a)(Object(d.a)({},t),{},{email:e.target.value})})),e.target.value&&Ti.validate(e.target.value)&&_((function(e){return Object(d.a)(Object(d.a)({},e),{},{emailError:!1})})),oa(!ta)},helperText:"This email address is where you will receive your results."})}),Object(n.jsx)(ae.a,{item:!0,xs:12,md:6,children:Object(n.jsx)(h.a,{error:!!W.retypeEmailError,required:!0,id:"retypeEmail",label:"Retype Email Address",fullWidth:!0,autoComplete:"none",type:"email",value:ke,onChange:function(e){Ce(e.target.value),_((function(t){return Object(d.a)(Object(d.a)({},t),{},{retypeEmail:e.target.value})})),e.target.value&&Ti.validate(e.target.value)&&_((function(e){return Object(d.a)(Object(d.a)({},e),{},{retypeEmailError:!1})})),oa(!ta)}})}),W.userBooking.tr&&Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)(ae.a,{item:!0,xs:12,md:6,children:Object(n.jsx)(h.a,{error:!!W.phoneError,required:!0,id:"phone",label:"Telephone Number",fullWidth:!0,autoComplete:"tel",value:Tt,onChange:da})}),Object(n.jsx)(ae.a,{item:!0,xs:12,md:6,children:Object(n.jsx)(h.a,{error:!!W.passportNumberError,required:!0,id:"passport",label:"Passport Number",fullWidth:!0,autoComplete:"none",value:Wt,onChange:ja})})]}),W.userBooking.tr&&Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)(ae.a,{item:!0,xs:12,md:6,children:Object(n.jsx)(h.a,{error:!!W.NHSNumberError,id:"NHSNumber",label:"NHS Number (optional)",helperText:"(if known and applicable)",fullWidth:!0,autoComplete:"none",value:Te,onChange:function(e){Se(e.target.value),_((function(t){return Object(d.a)(Object(d.a)({},t),{},{NHSNumber:e.target.value})})),e.target.value&&e.target.value.trim().length>=0&&_((function(e){return Object(d.a)(Object(d.a)({},e),{},{NHSNumberError:!1})})),oa(!ta)}})}),Object(n.jsx)(ae.a,{item:!0,xs:12,md:6,children:Object(n.jsx)(h.a,{error:!!W.ethnicityError,required:!0,id:"ethnicity",label:"Ethnicity",fullWidth:!0,autoComplete:"none",value:Re,onChange:function(e){Ie(e.target.value),_((function(t){return Object(d.a)(Object(d.a)({},t),{},{ethnicity:e.target.value})})),e.target.value&&e.target.value.trim().length>=0&&_((function(e){return Object(d.a)(Object(d.a)({},e),{},{ethnicityError:!1})})),oa(!ta)}})})]})]}),Object(n.jsx)(U.a,{}),Object(n.jsxs)(ae.a,{container:!0,spacing:3,alignItems:"baseline",style:{paddingTop:"20px",paddingBottom:"20px"},children:[!W.userBooking.tr&&Object(n.jsx)(ae.a,{item:!0,xs:12,md:6,children:Object(n.jsx)(h.a,{error:!!W.phoneError,required:!0,id:"phone",label:"Telephone Number",fullWidth:!0,autoComplete:"tel",value:Tt,onChange:da})}),Object(n.jsx)(ae.a,{item:!0,xs:12,md:W.userBooking.tr?12:6,children:Object(n.jsx)(h.a,{error:!!W.postCodeError,required:!0,id:"postCode",label:"Postal Code",fullWidth:!0,autoComplete:"postal-code",value:Rt,onChange:function(e){It(e.target.value),_((function(t){return Object(d.a)(Object(d.a)({},t),{},{postCode:e.target.value})})),e.target.value&&e.target.value.trim().length>=5&&_((function(e){return Object(d.a)(Object(d.a)({},e),{},{postCodeError:!1})})),oa(!ta)}})}),Object(n.jsx)(ae.a,{item:!0,xs:12,children:Object(n.jsx)(h.a,{error:!!W.addressError,required:!0,id:"address",label:"Address",multiline:!0,rowsMax:2,fullWidth:!0,autoComplete:"street-address",value:Lt,onChange:function(e){Mt(e.target.value),_((function(t){return Object(d.a)(Object(d.a)({},t),{},{address:e.target.value})})),e.target.value&&e.target.value.trim().length>=10&&_((function(e){return Object(d.a)(Object(d.a)({},e),{},{addressError:!1})})),oa(!ta)}})}),W.userBooking.tr&&Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)(ae.a,{item:!0,xs:12,className:z.formControl,children:Object(n.jsx)(S.a,{className:z.formControl,control:Object(n.jsx)(w.a,{className:z.formControl,color:"secondary",name:"emailConfirmCheckBox",checked:Le,onChange:function(e){Me(e.target.checked),_((function(t){return Object(d.a)(Object(d.a)({},t),{},{selfIsolate:e.target.checked})})),oa(!ta),e.target.checked||(gt(""),_((function(e){return Object(d.a)(Object(d.a)({},e),{},{addressSI:""})})),ut(""),_((function(e){return Object(d.a)(Object(d.a)({},e),{},{postCodeSI:""})})))}}),label:Object(n.jsxs)("span",{style:{fontSize:"1rem"},children:["I intend to self-isolate at a different address"," "]})})}),Le&&Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)(ae.a,{item:!0,xs:12,children:Object(n.jsx)(h.a,{error:!!W.postCodeSIError,required:!0,id:"postCodeSI",label:"Self-Isolate Post Code",fullWidth:!0,autoComplete:"postal-code",value:jt,onChange:function(e){ut(e.target.value),_((function(t){return Object(d.a)(Object(d.a)({},t),{},{postCodeSI:e.target.value})})),e.target.value&&e.target.value.trim().length>=5&&_((function(e){return Object(d.a)(Object(d.a)({},e),{},{postCodeSIError:!1})})),oa(!ta)}})}),Object(n.jsx)(ae.a,{item:!0,xs:12,children:Object(n.jsx)(h.a,{error:!!W.addressSIError,required:!0,id:"addressSI",label:"Self-Isolate Address",multiline:!0,rowsMax:2,fullWidth:!0,autoComplete:"street-address",value:ht,onChange:function(e){gt(e.target.value),_((function(t){return Object(d.a)(Object(d.a)({},t),{},{addressSI:e.target.value})})),e.target.value&&e.target.value.trim().length>=10&&_((function(e){return Object(d.a)(Object(d.a)({},e),{},{addressSIError:!1})})),oa(!ta)}})})]}),Object(n.jsx)(ae.a,{item:!0,xs:12,md:6,children:Object(n.jsx)(h.a,{error:!!W.arrivalDateError,required:!0,id:"arrivalDate",label:"Arrival Date",helperText:"Date of your arrival in the UK (dd/MM/YYYY)",fullWidth:!0,autoComplete:"none",value:qe,onChange:function(e){Ye(e.target.value),_((function(t){return Object(d.a)(Object(d.a)({},t),{},{arrivalDate:e.target.value})})),e.target.value&&10===e.target.value.trim().length&&_((function(e){return Object(d.a)(Object(d.a)({},e),{},{arrivalDateError:!1})})),oa(!ta)}})}),Object(n.jsx)(ae.a,{item:!0,xs:12,md:6,children:Object(n.jsx)(h.a,{error:!!W.flightNumberError,required:!0,id:"flightNumber",label:"Flight Number",helperText:"Your coach number, flight number or vessel name (as appropriate)",fullWidth:!0,autoComplete:"none",value:Qe,onChange:function(e){Je(e.target.value),_((function(t){return Object(d.a)(Object(d.a)({},t),{},{flightNumber:e.target.value})})),e.target.value&&e.target.value.trim().length>=1&&_((function(e){return Object(d.a)(Object(d.a)({},e),{},{flightNumberError:!1})})),oa(!ta)}})}),Object(n.jsx)(ae.a,{item:!0,xs:12,md:6,children:Object(n.jsx)(h.a,{error:!!W.lastDepartedDateError,required:!0,id:"lastDepartedDate",label:"Last Departed Date",helperText:"The date on which you last departed from or transited through a non-exempt country or territory, or a non-exempt region of a country or territory \u2012 a destination not on the travel corridors list",fullWidth:!0,autoComplete:"none",value:$e,onChange:function(e){at(e.target.value),_((function(t){return Object(d.a)(Object(d.a)({},t),{},{lastDepartedDate:e.target.value})})),e.target.value&&10===e.target.value.trim().length&&_((function(e){return Object(d.a)(Object(d.a)({},e),{},{lastDepartedDateError:!1})})),oa(!ta)}})}),Object(n.jsx)(ae.a,{item:!0,xs:12,md:6,children:Object(n.jsx)(h.a,{error:!!W.travellingFromError,required:!0,id:"travellingFrom",label:"Travelling from",helperText:"The country or territory you were travelling from when you arrived in the UK, and any country or territory you transited through as part of that journey",fullWidth:!0,autoComplete:"none",value:ct,onChange:function(e){st(e.target.value),_((function(t){return Object(d.a)(Object(d.a)({},t),{},{travellingFrom:e.target.value})})),e.target.value&&e.target.value.trim().length>=1&&_((function(e){return Object(d.a)(Object(d.a)({},e),{},{travellingFromError:!1})})),oa(!ta)}})})]}),!W.userBooking.tr&&Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)(ae.a,{item:!0,xs:12,className:z.formControl,children:Object(n.jsx)(S.a,{className:z.formControl,control:Object(n.jsx)(w.a,{className:z.formControl,color:"secondary",name:"certificate",checked:sa,onChange:function(e){la(e.target.checked),_((function(t){return Object(d.a)(Object(d.a)({},t),{},{certificate:e.target.checked})})),oa(!ta)}}),label:Object(n.jsxs)("span",{style:{fontSize:"0.8rem"},children:["I also require a medical certificate signed by a doctor declaring me 'fit-to-fly'.",Object(n.jsx)("span",{style:{fontSize:"1rem",textDecoration:"italic",fontWeight:"600",color:"#333"},children:"  + \xa350.00 "})]})})}),Object(n.jsx)(ae.a,{item:!0,xs:12,hidden:!sa,children:Object(n.jsx)(h.a,{error:!!W.passportNumberError,required:!0,id:"passport",label:"Passport Number",helperText:"your passport number will be noted on your certificate",fullWidth:!0,autoComplete:"",value:Wt,onChange:ja})}),Object(n.jsx)(ae.a,{item:!0,xs:12,hidden:!sa,children:Object(n.jsx)(h.a,{id:"passport2",label:"Second Passport Number (optional)",helperText:"your passport number will be noted on your certificate",fullWidth:!0,autoComplete:"",value:Ht,onChange:function(e){Kt(e.target.value),_((function(t){return Object(d.a)(Object(d.a)({},t),{},{passportNumber2:e.target.value})})),oa(!ta)}})})]})]}),Object(n.jsx)(U.a,{}),Object(n.jsx)("div",{style:ji.isBrowser?{paddingLeft:"50px",paddingRight:"50px"}:{paddingLeft:"10px",paddingRight:"10px"},children:Object(n.jsxs)(ae.a,{container:!0,spacing:3,direction:"column",justify:"space-between",alignItems:"stretch",children:[Object(n.jsx)(ae.a,{item:!0,xs:!0,children:Object(n.jsx)(p.a,{disabled:Xt||!Vt,fullWidth:!0,variant:"contained",className:z.editInfoButton,color:"primary",onClick:ee,onTouchTap:ee,children:"Save Changes"})}),Object(n.jsx)(ae.a,{item:!0,xs:!0,children:Object(n.jsx)(p.a,{disabled:Xt,fullWidth:!0,variant:"contained",className:z.backButton,color:"default",onClick:te,onTouchTap:te,children:"Back"})})]})})]}),Object(n.jsx)(p.a,{variant:"contained",className:z.privacyButton,color:"secondary",startIcon:Object(n.jsx)(di.a,{}),onClick:Z("paper"),onTouchTap:Z("paper"),children:"Privacy"}),Object(n.jsxs)(We.a,{open:q,onClose:$,scroll:Q,"aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",children:[Object(n.jsx)(Ue.a,{id:"scroll-dialog-title",children:"Application Disclaimer"}),Object(n.jsx)(_e.a,{dividers:"paper"===Q,children:Object(n.jsx)(et.a,{id:"scroll-dialog-description",ref:X,tabIndex:-1,children:Object(n.jsx)("div",{style:{textAlign:"justify",padding:"10px"},children:"Medical Express Clinic will not contact you for any other reason than to share your test results, and certificate if selected, via the email address provided. The information provided to us via this registration form is never shared with any other organisations, except when this is required by law. Information provided will never be used for marketing purposes, you cannot opt in. In the case of a positive swab result, our doctor will call on the telephone number provided to inform you of your result and provide additional advice or guidance."})})}),Object(n.jsx)(tt.a,{children:Object(n.jsx)(p.a,{onClick:$,color:"primary",children:"Close"})})]}),Object(n.jsx)(ot.a,{className:z.backdrop,open:Xt,children:Object(n.jsx)(rt.a,{color:"inherit"})}),Object(n.jsx)(wi,{})]})]})}var Ii=a(196),Ai=a(193),Fi=function e(){Object(ne.a)(this,e)};Fi.getFirstAvailableDate=function(){return re.get("/api/time/getfirstavaiabledate")},Fi.getFullyBookedDates=function(){return re.get("/api/time/getfullybookeddays")},Fi.getTimeSlots=function(e){return re.get("/api/time/gettimeslots?date=".concat(e))};var Li=a(712),Mi=a(728),Ei=function(e){Object(Ii.a)(a,e);var t=Object(Ai.a)(a);function a(){var e;Object(ne.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).locale=Mi.a,e}return a}(aa.a),Pi=Object(u.a)((function(e){return{loadingBox:{}}}));function Wi(){Pi();var e,t=o.a.useContext(l),a=Object(s.a)(t,2),r=a[0],c=a[1],j=o.a.useState(null!==(e=r.userBooking.bookingDate)&&void 0!==e?e:new Date),u=Object(s.a)(j,2),b=u[0],p=u[1],h=o.a.useState(new Date),g=Object(s.a)(h,2),m=g[0],f=g[1],x=o.a.useState(null),v=Object(s.a)(x,2),y=v[0],k=v[1],C=o.a.useState(!1),B=Object(s.a)(C,2),N=B[0],T=B[1];Object(i.useEffect)((function(){c((function(e){return Object(d.a)(Object(d.a)({},e),{},{bookingDate:e.userBooking.bookingDate})})),c((function(e){return Object(d.a)(Object(d.a)({},e),{},{bookingTime:e.userBooking.bookingTime})})),function(){var e=Fi.getFirstAvailableDate(),t=Fi.getFullyBookedDates();Promise.all([e,t]).then((function(e){var t=new Date(e[0].data.date);t.setHours(0,0,0,0);var a=new Date(2021,0,2,0,0,0,0);t<a&&r.userBooking.tr&&(t=a),t=new Date(t.getTime()-60*t.getTimezoneOffset()*1e3),f(t),k(e[1].data),T(!0)})).catch((function(e){console.log(e)}))}()}),[]);var S=function(e){e=new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0,0),e=new Date(e.getTime()-60*e.getTimezoneOffset()*1e3),p(e),c((function(t){return Object(d.a)(Object(d.a)({},t),{},{bookingDate:e})})),ge()(e,"yyyy-mm-dd")===r.userBooking.bookingDate?c((function(e){return Object(d.a)(Object(d.a)({},e),{},{bookingTime:e.userBooking.bookingTime})})):c((function(e){return Object(d.a)(Object(d.a)({},e),{},{bookingTime:null})}))},w=function(e){var t=!1;if(ge()(e,"yyyy-mm-dd")<ge()(m,"yyyy-mm-dd"))return!0;if(y&&y.length>0){for(var a=0;a<y.length;a++)ge()(new Date(y[a]),"yyyy-mm-dd")===ge()(e,"yyyy-mm-dd")&&(t=!0);return t}return!1};return Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)(O.a,{variant:"h6",gutterBottom:!0,children:"Pick a Date"}),N?Object(n.jsx)(o.a.Fragment,{children:Object(n.jsxs)(ae.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:[Object(n.jsx)(ji.BrowserView,{children:Object(n.jsx)(na.a,{utils:Ei,locale:Mi.a,children:Object(n.jsx)(ia.a,{autoOk:!0,disablePast:"true",openTo:"date",orientation:"landscape",variant:"static",fullWidth:!0,value:b,onChange:S,shouldDisableDate:w})})}),Object(n.jsx)(ji.MobileView,{children:Object(n.jsx)(na.a,{utils:Ei,locale:Mi.a,children:Object(n.jsx)(ia.a,{autoOk:!0,disablePast:"true",openTo:"date",variant:"static",fullWidth:!0,value:b,onChange:S,shouldDisableDate:w})})})]})}):Object(n.jsx)(o.a.Fragment,{children:Object(n.jsxs)(ae.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:[Object(n.jsx)(Li.a,{variant:"text",width:"80%"}),Object(n.jsx)(Li.a,{variant:"text",width:"80%"}),Object(n.jsx)(Li.a,{variant:"rect",width:"80%",height:220})]})})]})}var Ui=a(713),_i=a(714),zi=Object(u.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},gridList:{},box:{border:"1px solid #999",margin:"5px",padding:"5px",color:"#555",cursor:"pointer","&:hover":{background:"green",color:"#fff"}},boxMobile:{border:"1px solid #999",margin:"5px",padding:"5px",color:"#555",cursor:"pointer"},boxSelected:{backgroundColor:"green",border:"1px solid #999",margin:"5px",padding:"5px",color:"#fff",cursor:"pointer"},boxDisable:{backgroundColor:"#999",border:"1px solid #ddd",margin:"5px",padding:"5px",color:"#fff"}}}));function Hi(){for(var e=zi(),t=o.a.useContext(l),a=Object(s.a)(t,2),r=a[0],c=a[1],j=o.a.useState(!1),u=Object(s.a)(j,2),b=u[0],p=u[1],h=[],g=0;g<28;g++)h.push(g);var m=o.a.useState(h),f=Object(s.a)(m,2),x=f[0],v=f[1];Object(i.useEffect)((function(){r.bookingDate&&"undefined"!==r.bookingDate&&function(e){var t=new Date(e),a=Fi.getTimeSlots(t);p(!1),Promise.all([a]).then((function(e){var a=e[0].data;if(function(e){return 0===e.getDay()||6===e.getDay()}(t))for(var n=0;n<a.length;n++)parseInt(a[n].time.substr(0,2))<10&&a[n].time.indexOf("AM")>0&&(a[n].available=!1),parseInt(a[n].time.substr(0,2))>1&&parseInt(a[n].time.substr(0,2))<12&&a[n].time.indexOf("PM")>0&&(a[n].available=!1);v(a),p(!0)})).catch((function(e){console.log(e)}))}(r.bookingDate)}),[r.bookingDate]);var y=function(e){e&&c(Object(d.a)(Object(d.a)({},r),{},{bookingTime:e}))};return Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)(O.a,{variant:"h6",gutterBottom:!0,children:"Pick a Time"}),b?Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)(ji.BrowserView,{children:Object(n.jsx)("div",{className:e.root,children:Object(n.jsx)(Ui.a,{cellHeight:60,className:e.gridList,cols:4,children:x.map((function(t){return Object(n.jsx)(_i.a,{cols:1,children:Object(n.jsx)("div",{onClick:function(){t.available?y(t.time):y(null)},className:t.available?r.bookingTime===t.time?e.boxSelected:e.box:e.boxDisable,children:t.time})},t.time)}))})})}),Object(n.jsx)(ji.MobileView,{children:Object(n.jsx)("div",{className:e.root,children:Object(n.jsx)(Ui.a,{cellHeight:60,className:e.gridList,cols:4,children:x.map((function(t){return Object(n.jsx)(_i.a,{cols:1,children:Object(n.jsx)("div",{onClick:function(){t.available?y(t.time):y(null)},className:t.available?r.bookingTime===t.time?e.boxSelected:e.boxMobile:e.boxDisable,children:t.time})},t.time)}))})})})]}):Object(n.jsx)(o.a.Fragment,{children:Object(n.jsx)(ae.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:Object(n.jsx)(Ui.a,{cellHeight:60,className:e.gridList,cols:4,children:h.map((function(e){return Object(n.jsx)(_i.a,{cols:1,children:Object(n.jsx)(Li.a,{variant:"rect",width:120,height:35})},e)}))})})})]})}function Ki(){return Object(n.jsxs)(O.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",(new Date).getFullYear()," ",Object(n.jsx)(g.a,{color:"inherit",href:"#",children:Object(n.jsx)("strong",{children:" Medical Express Clinic "})}),ji.isMobile?" ":" All rights reserved."]})}var qi=Object(u.a)((function(e){return{appBar:{position:"relative",backgroundColor:"#fff",color:"#00a1c5",alignItems:"center"},logo:{maxWidth:160},layout:Object(P.a)({width:"auto",marginLeft:e.spacing(2),marginRight:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(2)),{width:700,marginLeft:"auto",marginRight:"auto"}),paper:Object(P.a)({marginTop:e.spacing(1),marginBottom:e.spacing(3),padding:e.spacing(1)},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(2),marginBottom:e.spacing(2),padding:e.spacing(3)}),stepper:{padding:e.spacing(3,0,5)},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)},bold:{fontWeight:"800",padding:"5px"},doneImage:{width:"240px",height:"150px",margin:"20px"},logoImage:{width:"40px",height:"40px",marginLeft:"0px"},privacyButton:{marginBottom:"20px"},textContent:{color:"#222",fontSize:"1.1rem",textAlign:"justify",paddingLeft:"20px",paddingRight:"20px",lineHeight:"1.5em",fontWeight:"400"},textContentMobile:{color:"#222",fontSize:"1.1rem",textAlign:"justify",paddingLeft:"20px",paddingRight:"20px",lineHeight:"1.5em",fontWeight:"400"},getStartedButton:{marginTop:"10px",marginBottom:"10px"},backButton:{marginBottom:"20px",textDecoration:"none !important",padding:"10px"},cancelTimeButton:{marginTop:"20px",backgroundColor:"#d90015","&:hover":{background:"#b80012",color:"#fff"},padding:"10px"},editInfoButton:{marginTop:"20px",backgroundColor:"#2f942e","&:hover":{background:"green",color:"#fff"},textDecoration:"none !important",padding:"10px"},AirIcon:{marginRight:"10px",fontSize:"32px"},ul:{listStyle:"none",padding:"0",margin:"0"},li:{marginBottom:"5px"},infoDetails:{textAlign:"left"},infoTitle:{fontWeight:"800",marginRight:"10px"},infoData:{fontWeight:"400"},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}}));function Yi(){var e=o.a.useContext(l),t=Object(s.a)(e,2),a=t[0],i=t[1],r=qi(),c=o.a.useState(!1),u=Object(s.a)(c,2),b=u[0],h=u[1],g=o.a.useState(!1),m=Object(s.a)(g,2),f=m[0],x=m[1],v=o.a.useState("paper"),y=Object(s.a)(v,2),C=y[0],B=y[1],N=o.a.useRef(null);o.a.useEffect((function(){if(f){var e=N.current;null!==e&&e.focus()}}),[f]);var T=function(e){return function(){x(!0),B(e)}},S=function(){x(!1)},w=function(e){h(!0),le.updateBookingTime({bookingId:a.userBooking._id,bookingTime:a.bookingTime,bookingDate:ge()(new Date(new Date(a.bookingDate).toUTCString().slice(0,-4)),"yyyy-mm-dd")}).then((function(e){h(!1),i((function(e){return Object(d.a)(Object(d.a)({},e),{},{changeTimeClicked:!1,timeChangedResult:!0})}))})).catch((function(e){console.log(e),h(!1)}))},R=function(e){i((function(e){return Object(d.a)(Object(d.a)({},e),{},{welcomeUser:!1,changeTimeClicked:!1})}))};return Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)(j.a,{}),Object(n.jsx)(k.a,{position:"absolute",color:"default",className:r.appBar,children:Object(n.jsx)(D.a,{children:Object(n.jsxs)(ae.a,{container:!0,direction:"row",spacing:1,justify:"center",alignItems:"center",children:[Object(n.jsx)(ae.a,{item:!0,xs:10,children:Object(n.jsx)(O.a,{style:{fontWeight:"400"},variant:"h6",color:"inherit",noWrap:!0,children:"Medical Express Clinic"})}),Object(n.jsx)(ae.a,{item:!0,xs:2,children:Object(n.jsx)("img",{className:r.logoImage,src:pi,alt:"logo image"})})]})})}),Object(n.jsxs)("main",{className:r.layout,children:[Object(n.jsxs)(Pe.a,{className:r.paper,children:[Object(n.jsx)(O.a,{style:{fontWeight:700,marginBottom:"50px"},component:"h1",variant:"h6",align:"center",children:Object(n.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:a.userBooking.tr?Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)(gi.a,{className:r.AirIcon,color:"primary"}),"RT-PCR Test to Release"]}):Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)(bi.a,{className:r.AirIcon,color:"primary"}),"RT-PCR Fit to Fly Test"]})})}),Object(n.jsx)("div",{style:{paddingBottom:"20px"},children:Object(n.jsx)(Wi,{})}),Object(n.jsx)("div",{style:{paddingBottom:"20px"},children:Object(n.jsx)(Hi,{})}),Object(n.jsx)(U.a,{}),Object(n.jsx)("div",{style:ji.isBrowser?{paddingLeft:"50px",paddingRight:"50px"}:{paddingLeft:"10px",paddingRight:"10px"},children:Object(n.jsxs)(ae.a,{container:!0,spacing:3,direction:"column",justify:"space-between",alignItems:"stretch",children:[Object(n.jsx)(ae.a,{item:!0,xs:!0,children:Object(n.jsx)(p.a,{disabled:b||!a.bookingTime||a.bookingTime.length<1,fullWidth:!0,variant:"contained",className:r.editInfoButton,color:"primary",onClick:w,onTouchTap:w,children:"Save Changes"})}),Object(n.jsx)(ae.a,{item:!0,xs:!0,children:Object(n.jsx)(p.a,{disabled:b,fullWidth:!0,variant:"contained",className:r.backButton,color:"default",onClick:R,onTouchTap:R,children:"Back"})})]})})]}),Object(n.jsx)(p.a,{variant:"contained",className:r.privacyButton,color:"secondary",startIcon:Object(n.jsx)(di.a,{}),onClick:T("paper"),onTouchTap:T("paper"),children:"Privacy"}),Object(n.jsxs)(We.a,{open:f,onClose:S,scroll:C,"aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",children:[Object(n.jsx)(Ue.a,{id:"scroll-dialog-title",children:"Application Disclaimer"}),Object(n.jsx)(_e.a,{dividers:"paper"===C,children:Object(n.jsx)(et.a,{id:"scroll-dialog-description",ref:N,tabIndex:-1,children:Object(n.jsx)("div",{style:{textAlign:"justify",padding:"10px"},children:"Medical Express Clinic will not contact you for any other reason than to share your test results, and certificate if selected, via the email address provided. The information provided to us via this registration form is never shared with any other organisations, except when this is required by law. Information provided will never be used for marketing purposes, you cannot opt in. In the case of a positive swab result, our doctor will call on the telephone number provided to inform you of your result and provide additional advice or guidance."})})}),Object(n.jsx)(tt.a,{children:Object(n.jsx)(p.a,{onClick:S,color:"primary",children:"Close"})})]}),Object(n.jsx)(ot.a,{className:r.backdrop,open:b,children:Object(n.jsx)(rt.a,{color:"inherit"})}),Object(n.jsx)(Ki,{})]})]})}var Vi=a.p+"static/media/ok.c105a1fa.png";function Gi(){return Object(n.jsxs)(O.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",(new Date).getFullYear()," ",Object(n.jsx)(g.a,{color:"inherit",href:"#",children:Object(n.jsx)("strong",{children:" Medical Express Clinic "})}),ji.isMobile?" ":" All rights reserved."]})}var Qi=Object(u.a)((function(e){return{appBar:{position:"relative",backgroundColor:"#fff",color:"#00a1c5",alignItems:"center"},logo:{maxWidth:160},layout:Object(P.a)({width:"auto",marginLeft:e.spacing(2),marginRight:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(2)),{width:700,marginLeft:"auto",marginRight:"auto"}),paper:Object(P.a)({marginTop:e.spacing(1),marginBottom:e.spacing(3),padding:e.spacing(1)},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(2),marginBottom:e.spacing(2),padding:e.spacing(3)}),stepper:{padding:e.spacing(3,0,5)},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)},bold:{fontWeight:"800",padding:"5px"},doneImage:{width:"240px",height:"150px",margin:"20px"},logoImage:{width:"40px",height:"40px",marginLeft:"0px"},privacyButton:{marginBottom:"20px"},textContent:{color:"#666f77",fontSize:"1.1rem",textAlign:"justify",paddingLeft:"30px",paddingRight:"30px",lineHeight:"2.2em",fontWeight:"400"},textContentMobile:{color:"#666f77",fontSize:"0.9rem",textAlign:"justify",paddingLeft:"30px",paddingRight:"30px",lineHeight:"2.2em",fontWeight:"400"},getStartedButton:{marginTop:"10px",marginBottom:"10px"},AirIcon:{marginRight:"10px",fontSize:"32px"},errorImage:{width:"200px",height:"190px",marginBottom:"30px"}}}));function Ji(){var e,t=o.a.useContext(l),a=Object(s.a)(t,2),i=a[0],r=(a[1],Qi()),c=o.a.useState(!1),d=Object(s.a)(c,2),u=d[0],b=d[1],h=o.a.useState("paper"),g=Object(s.a)(h,2),m=g[0],f=g[1],x=o.a.useRef(null);o.a.useEffect((function(){if(u){var e=x.current;null!==e&&e.focus()}}),[u]);var v=function(e){return function(){b(!0),f(e)}},y=function(){b(!1)},C=function(e){window.location.href="https://travelpcrtest.com/"};return Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)(j.a,{}),Object(n.jsx)(k.a,{position:"absolute",color:"default",className:r.appBar,children:Object(n.jsx)(D.a,{children:Object(n.jsxs)(ae.a,{container:!0,direction:"row",spacing:1,justify:"center",alignItems:"center",children:[Object(n.jsx)(ae.a,(e={item:!0},Object(P.a)(e,"item",!0),Object(P.a)(e,"xs",10),Object(P.a)(e,"children",Object(n.jsx)(O.a,{style:{fontWeight:"400"},variant:"h6",color:"inherit",noWrap:!0,children:"Medical Express Clinic"})),e)),Object(n.jsx)(ae.a,{item:!0,xs:2,children:Object(n.jsx)("img",{className:r.logoImage,src:pi,alt:"logo image"})})]})})}),Object(n.jsxs)("main",{className:r.layout,children:[Object(n.jsxs)(Pe.a,{className:r.paper,children:[Object(n.jsx)(O.a,{style:{fontWeight:700,marginBottom:"50px"},component:"h1",variant:"h6",align:"center",children:Object(n.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:i.userBooking.tr?Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)(gi.a,{className:r.AirIcon,color:"primary"}),"RT-PCR Test to Release"]}):Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)(bi.a,{className:r.AirIcon,color:"primary"}),"RT-PCR Fit to Fly Test"]})})}),Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)("img",{className:r.doneImage,src:Vi,alt:"Error image"}),Object(n.jsxs)(O.a,{variant:"h6",gutterBottom:!0,children:["Thank you for letting us know.",Object(n.jsx)("br",{}),"Your appointment was successfully cancelled.",Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),"You can book a new appointment if needed later on."]}),Object(n.jsx)("br",{}),Object(n.jsx)(p.a,{variant:"contained",className:r.getStartedButton,color:"primary",onClick:C,onTouchTap:C,children:"Book New appointment"})]})]}),Object(n.jsx)(p.a,{variant:"contained",className:r.privacyButton,color:"secondary",startIcon:Object(n.jsx)(di.a,{}),onClick:v("paper"),onTouchTap:v("paper"),children:"Privacy"}),Object(n.jsxs)(We.a,{open:u,onClose:y,scroll:m,"aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",children:[Object(n.jsx)(Ue.a,{id:"scroll-dialog-title",children:"Application Disclaimer"}),Object(n.jsx)(_e.a,{dividers:"paper"===m,children:Object(n.jsx)(et.a,{id:"scroll-dialog-description",ref:x,tabIndex:-1,children:Object(n.jsx)("div",{style:{textAlign:"justify",padding:"10px"},children:"Medical Express Clinic will not contact you for any other reason than to share your test results, and certificate if selected, via the email address provided. The information provided to us via this registration form is never shared with any other organisations, except when this is required by law. Information provided will never be used for marketing purposes, you cannot opt in. In the case of a positive swab result, our doctor will call on the telephone number provided to inform you of your result and provide additional advice or guidance."})})}),Object(n.jsx)(tt.a,{children:Object(n.jsx)(p.a,{onClick:y,color:"primary",children:"Close"})})]}),Object(n.jsx)(Gi,{})]})]})}function Xi(){return Object(n.jsxs)(O.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",(new Date).getFullYear()," ",Object(n.jsx)(g.a,{color:"inherit",href:"#",children:Object(n.jsx)("strong",{children:" Medical Express Clinic "})}),ji.isMobile?" ":" All rights reserved."]})}var Zi=Object(u.a)((function(e){return{appBar:{position:"relative",backgroundColor:"#fff",color:"#00a1c5",alignItems:"center"},logo:{maxWidth:160},layout:Object(P.a)({width:"auto",marginLeft:e.spacing(2),marginRight:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(2)),{width:700,marginLeft:"auto",marginRight:"auto"}),paper:Object(P.a)({marginTop:e.spacing(1),marginBottom:e.spacing(3),padding:e.spacing(1)},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(2),marginBottom:e.spacing(2),padding:e.spacing(3)}),stepper:{padding:e.spacing(3,0,5)},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)},bold:{fontWeight:"800",padding:"5px"},doneImage:{width:"240px",height:"150px",margin:"20px"},logoImage:{width:"40px",height:"40px",marginLeft:"0px"},privacyButton:{marginBottom:"20px"},textContent:{color:"#666f77",fontSize:"1.1rem",textAlign:"justify",paddingLeft:"30px",paddingRight:"30px",lineHeight:"2.2em",fontWeight:"400"},textContentMobile:{color:"#666f77",fontSize:"0.9rem",textAlign:"justify",paddingLeft:"30px",paddingRight:"30px",lineHeight:"2.2em",fontWeight:"400"},getStartedButton:{marginTop:"10px",marginBottom:"10px"},AirIcon:{marginRight:"10px",fontSize:"32px"},errorImage:{width:"200px",height:"190px",marginBottom:"30px"}}}));function $i(){var e,t=o.a.useContext(l),a=Object(s.a)(t,2),i=a[0],r=a[1],c=Zi(),u=o.a.useState(!1),b=Object(s.a)(u,2),h=b[0],g=b[1],m=o.a.useState("paper"),f=Object(s.a)(m,2),x=f[0],v=f[1],y=o.a.useRef(null);o.a.useEffect((function(){if(h){var e=y.current;null!==e&&e.focus()}}),[h]);var C=function(e){return function(){g(!0),v(e)}},B=function(){g(!1)},N=function(e){r((function(e){return Object(d.a)(Object(d.a)({},e),{},{RefreshInfo:!e.RefreshInfo})})),r((function(e){return Object(d.a)(Object(d.a)({},e),{},{welcomeUser:!1,changeTimeClicked:!1,timeChangedResult:!1})}))};return Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)(j.a,{}),Object(n.jsx)(k.a,{position:"absolute",color:"default",className:c.appBar,children:Object(n.jsx)(D.a,{children:Object(n.jsxs)(ae.a,{container:!0,direction:"row",spacing:1,justify:"center",alignItems:"center",children:[Object(n.jsx)(ae.a,(e={item:!0},Object(P.a)(e,"item",!0),Object(P.a)(e,"xs",10),Object(P.a)(e,"children",Object(n.jsx)(O.a,{style:{fontWeight:"400"},variant:"h6",color:"inherit",noWrap:!0,children:"Medical Express Clinic"})),e)),Object(n.jsx)(ae.a,{item:!0,xs:2,children:Object(n.jsx)("img",{className:c.logoImage,src:pi,alt:"logo image"})})]})})}),Object(n.jsxs)("main",{className:c.layout,children:[Object(n.jsxs)(Pe.a,{className:c.paper,children:[Object(n.jsx)(O.a,{style:{fontWeight:700,marginBottom:"50px"},component:"h1",variant:"h6",align:"center",children:Object(n.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:i.userBooking.tr?Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)(gi.a,{className:c.AirIcon,color:"primary"}),"RT-PCR Test to Release"]}):Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)(bi.a,{className:c.AirIcon,color:"primary"}),"RT-PCR Fit to Fly Test"]})})}),Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)("img",{className:c.doneImage,src:Vi,alt:"Error image"}),Object(n.jsxs)(O.a,{variant:"h6",gutterBottom:!0,children:[Object(n.jsx)("p",{children:"Your Appointment Time was Successfully Changed."}),Object(n.jsx)("p",{children:" We have emailed your new booking information, and will look forward to meet you at the clinic."}),Object(n.jsx)("p",{children:" If you still have more changes to do click the button below: "})]}),Object(n.jsx)("br",{}),Object(n.jsx)(p.a,{fullWidth:!0,variant:"contained",className:c.backButton,color:"primary",onClick:N,onTouchTap:N,children:"I have more changes"})]})]}),Object(n.jsx)(p.a,{variant:"contained",className:c.privacyButton,color:"secondary",startIcon:Object(n.jsx)(di.a,{}),onClick:C("paper"),onTouchTap:C("paper"),children:"Privacy"}),Object(n.jsxs)(We.a,{open:h,onClose:B,scroll:x,"aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",children:[Object(n.jsx)(Ue.a,{id:"scroll-dialog-title",children:"Application Disclaimer"}),Object(n.jsx)(_e.a,{dividers:"paper"===x,children:Object(n.jsx)(et.a,{id:"scroll-dialog-description",ref:y,tabIndex:-1,children:Object(n.jsx)("div",{style:{textAlign:"justify",padding:"10px"},children:"Medical Express Clinic will not contact you for any other reason than to share your test results, and certificate if selected, via the email address provided. The information provided to us via this registration form is never shared with any other organisations, except when this is required by law. Information provided will never be used for marketing purposes, you cannot opt in. In the case of a positive swab result, our doctor will call on the telephone number provided to inform you of your result and provide additional advice or guidance."})})}),Object(n.jsx)(tt.a,{children:Object(n.jsx)(p.a,{onClick:B,color:"primary",children:"Close"})})]}),Object(n.jsx)(Xi,{})]})]})}function eo(){return Object(n.jsxs)(O.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",(new Date).getFullYear()," ",Object(n.jsx)(g.a,{color:"inherit",href:"#",children:Object(n.jsx)("strong",{children:" Medical Express Clinic "})}),ji.isMobile?" ":" All rights reserved."]})}var to=Object(u.a)((function(e){return{appBar:{position:"relative",backgroundColor:"#fff",color:"#00a1c5",alignItems:"center"},logo:{maxWidth:160},layout:Object(P.a)({width:"auto",marginLeft:e.spacing(2),marginRight:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(2)),{width:700,marginLeft:"auto",marginRight:"auto"}),paper:Object(P.a)({marginTop:e.spacing(1),marginBottom:e.spacing(3),padding:e.spacing(1)},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(2),marginBottom:e.spacing(2),padding:e.spacing(3)}),stepper:{padding:e.spacing(3,0,5)},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)},bold:{fontWeight:"800",padding:"5px"},doneImage:{width:"240px",height:"150px",margin:"20px"},logoImage:{width:"40px",height:"40px",marginLeft:"0px"},privacyButton:{marginBottom:"20px"},textContent:{color:"#666f77",fontSize:"1.1rem",textAlign:"justify",paddingLeft:"30px",paddingRight:"30px",lineHeight:"2.2em",fontWeight:"400"},textContentMobile:{color:"#666f77",fontSize:"0.9rem",textAlign:"justify",paddingLeft:"30px",paddingRight:"30px",lineHeight:"2.2em",fontWeight:"400"},getStartedButton:{marginTop:"10px",marginBottom:"10px"},AirIcon:{marginRight:"10px",fontSize:"32px"},errorImage:{width:"200px",height:"190px",marginBottom:"30px"}}}));function ao(){var e,t=o.a.useContext(l),a=Object(s.a)(t,2),i=a[0],r=a[1],c=to(),u=o.a.useState(!1),b=Object(s.a)(u,2),h=b[0],g=b[1],m=o.a.useState("paper"),f=Object(s.a)(m,2),x=f[0],v=f[1],y=o.a.useRef(null);o.a.useEffect((function(){if(h){var e=y.current;null!==e&&e.focus()}}),[h]);var C=function(e){return function(){g(!0),v(e)}},B=function(){g(!1)},N=function(e){r((function(e){return Object(d.a)(Object(d.a)({},e),{},{RefreshInfo:!e.RefreshInfo})})),r((function(e){return Object(d.a)(Object(d.a)({},e),{},{welcomeUser:!1,changeTimeClicked:!1,timeChangedResult:!1,editInfoResult:!1})}))};return Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)(j.a,{}),Object(n.jsx)(k.a,{position:"absolute",color:"default",className:c.appBar,children:Object(n.jsx)(D.a,{children:Object(n.jsxs)(ae.a,{container:!0,direction:"row",spacing:1,justify:"center",alignItems:"center",children:[Object(n.jsx)(ae.a,(e={item:!0},Object(P.a)(e,"item",!0),Object(P.a)(e,"xs",10),Object(P.a)(e,"children",Object(n.jsx)(O.a,{style:{fontWeight:"400"},variant:"h6",color:"inherit",noWrap:!0,children:"Medical Express Clinic"})),e)),Object(n.jsx)(ae.a,{item:!0,xs:2,children:Object(n.jsx)("img",{className:c.logoImage,src:pi,alt:"logo image"})})]})})}),Object(n.jsxs)("main",{className:c.layout,children:[Object(n.jsxs)(Pe.a,{className:c.paper,children:[Object(n.jsx)(O.a,{style:{fontWeight:700,marginBottom:"50px"},component:"h1",variant:"h6",align:"center",children:Object(n.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:i.userBooking.tr?Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)(gi.a,{className:c.AirIcon,color:"primary"}),"RT-PCR Test to Release"]}):Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)(bi.a,{className:c.AirIcon,color:"primary"}),"RT-PCR Fit to Fly Test"]})})}),Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)("img",{className:c.doneImage,src:Vi,alt:"Error image"}),Object(n.jsxs)(O.a,{variant:"h6",gutterBottom:!0,children:[Object(n.jsx)("p",{children:"Your Booking Info was Successfully Changed."}),Object(n.jsx)("p",{children:" We have emailed your new booking information, and will look forward to meet you at the clinic."}),Object(n.jsx)("p",{children:" If you still have more changes to do click the button below: "})]}),Object(n.jsx)("br",{}),Object(n.jsx)(p.a,{fullWidth:!0,variant:"contained",className:c.backButton,color:"primary",onClick:N,onTouchTap:N,children:"I have more changes"})]})]}),Object(n.jsx)(p.a,{variant:"contained",className:c.privacyButton,color:"secondary",startIcon:Object(n.jsx)(di.a,{}),onClick:C("paper"),onTouchTap:C("paper"),children:"Privacy"}),Object(n.jsxs)(We.a,{open:h,onClose:B,scroll:x,"aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",children:[Object(n.jsx)(Ue.a,{id:"scroll-dialog-title",children:"Application Disclaimer"}),Object(n.jsx)(_e.a,{dividers:"paper"===x,children:Object(n.jsx)(et.a,{id:"scroll-dialog-description",ref:y,tabIndex:-1,children:Object(n.jsx)("div",{style:{textAlign:"justify",padding:"10px"},children:"Medical Express Clinic will not contact you for any other reason than to share your test results, and certificate if selected, via the email address provided. The information provided to us via this registration form is never shared with any other organisations, except when this is required by law. Information provided will never be used for marketing purposes, you cannot opt in. In the case of a positive swab result, our doctor will call on the telephone number provided to inform you of your result and provide additional advice or guidance."})})}),Object(n.jsx)(tt.a,{children:Object(n.jsx)(p.a,{onClick:B,color:"primary",children:"Close"})})]}),Object(n.jsx)(eo,{})]})]})}var no=Object(u.a)((function(e){return{appBar:{position:"static",backgroundColor:"#333",color:"#fff"},signOutButton:{color:"#fff",marginRight:"20px",fontWeight:"500"},title:{flexGrow:1}}}));function io(e){no();var t=o.a.useContext(l),a=Object(s.a)(t,2),r=a[0],c=a[1],u=o.a.useState(!1),b=Object(s.a)(u,2),p=b[0],h=b[1];return Object(i.useEffect)((function(){document.title="Edit Booking Info"}),[]),Object(i.useEffect)((function(){if(e.pathId&&22===e.pathId.length){var t=e.pathId.substr(0,11),a=e.pathId.substr(12,10);le.findBookingByRefBirthDate(t,a).then((function(e){"OK"===e.data.status?(c((function(t){return Object(d.a)(Object(d.a)({},t),{},{userBooking:e.data.booking})})),h(!0)):"FAILED"===e.data.status&&("Not Found"===e.data.error?c((function(e){return Object(d.a)(Object(d.a)({},e),{},{pathIdNotFound:!0})})):"Time Passed"===e.data.error&&c((function(e){return Object(d.a)(Object(d.a)({},e),{},{pathIdNotFound:!1,timePassed:!0})})),h(!0))})).catch((function(e){console.log(e),h(!0)}))}else c((function(e){return Object(d.a)(Object(d.a)({},e),{},{pathIdNotFound:!0})})),h(!0)}),[r.RefreshInfo]),Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)(j.a,{}),p&&!r.welcomeUser&&!r.pathIdNotFound&&!r.timePassed&&Object(n.jsx)(xi,{}),p&&!r.welcomeUser&&r.pathIdNotFound&&Object(n.jsx)(ki,{}),p&&!r.welcomeUser&&r.timePassed&&Object(n.jsx)(ki,{}),p&&r.welcomeUser&&r.changeTimeClicked&&Object(n.jsx)(Yi,{}),p&&r.welcomeUser&&r.editInfoClicked&&Object(n.jsx)(Ri,{}),p&&r.welcomeUser&&r.cancelTimeClicked&&Object(n.jsx)(Ni,{}),p&&r.welcomeUser&&r.canceledResult&&Object(n.jsx)(Ji,{}),p&&r.welcomeUser&&r.timeChangedResult&&Object(n.jsx)($i,{}),p&&r.welcomeUser&&r.editInfoResult&&Object(n.jsx)(ao,{})]})}var oo=function(e){var t=window.location.pathname.split("/");return 4===t.length?t[t.length-1]:null};var ro=function(){var e=o.a.useState({foundRecords:[],currentMenuIndex:0}),t=Object(s.a)(e,2),a=t[0],i=t[1];return Object(n.jsx)(l.Provider,{value:[a,i],children:Object(n.jsxs)("div",{className:"App",children:[oo()&&Object(n.jsx)(io,{pathId:"".concat(oo())}),!oo()&&Object(n.jsx)(si,{})]})})};c.a.render(Object(n.jsx)(o.a.StrictMode,{children:Object(n.jsx)(ro,{})}),document.getElementById("root"))}},[[625,1,2]]]);
//# sourceMappingURL=main.8ae0b1c2.chunk.js.map