(this["webpackJsonppcr-booking-ui"]=this["webpackJsonppcr-booking-ui"]||[]).push([[0],{121:function(e,n,a){"use strict";a.r(n);var t=a(2),c=a(0),i=a.n(c),r=a(12),o=a.n(r),s=(a(97),a(10)),l=(a(98),i.a.createContext([{},function(){}])),d=a(164),j=a(161),u=a(122),p=a(162),b=a(169),m=a(170),f=a(7),x=a(175),g=a(165),h=a(171),O=a(172),v=a(37),N=a.n(v),y=a(163),T=a(173);function w(){return Object(t.jsxs)(u.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(t.jsx)(j.a,{color:"inherit",href:"#",children:"Medical Express Clinic"})," ",(new Date).getFullYear(),"."]})}var C=Object(p.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function R(){var e=C(),n=i.a.useContext(l),a=Object(s.a)(n,2),c=a[0],r=a[1],o=function(){c.user&&c.password&&"admin"===c.user.toLowerCase()&&"pcr$321"===c.password?r((function(e){return Object(f.a)(Object(f.a)({},e),{},{signedIn:!0})})):r((function(e){return Object(f.a)(Object(f.a)({},e),{},{signedInError:!0})}))};return Object(t.jsxs)(y.a,{component:"main",maxWidth:"xs",children:[Object(t.jsx)(d.a,{}),Object(t.jsxs)("div",{className:e.paper,children:[Object(t.jsx)(x.a,{className:e.avatar,children:Object(t.jsx)(N.a,{})}),Object(t.jsx)(u.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(t.jsxs)("form",{className:e.form,noValidate:!0,children:[Object(t.jsx)(h.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"usrname",label:"Username",name:"username",autoComplete:"username",autoFocus:!0,onChange:function(e){r((function(n){return Object(f.a)(Object(f.a)({},n),{},{user:e.target.value})})),r((function(e){return Object(f.a)(Object(f.a)({},e),{},{signedInError:!1})}))}}),Object(t.jsx)(h.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){r((function(n){return Object(f.a)(Object(f.a)({},n),{},{password:e.target.value})})),r((function(e){return Object(f.a)(Object(f.a)({},e),{},{signedInError:!1})}))},onKeyPress:function(e){"Enter"===e.key&&o()}}),Object(t.jsx)(g.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",onClick:o,onTouchTap:o,className:e.submit,children:"Sign In"})]})]}),c.signedInError&&Object(t.jsx)("div",{className:e.root,children:Object(t.jsx)(T.a,{severity:"error",children:"Invalid Username or Password. Please try again."})}),Object(t.jsx)(O.a,{mt:8,children:Object(t.jsx)(w,{})})]})}var k=a(3),F=a(79),D=a.n(F),B=a(166),A=a(177),I=a(30),E=a(80),S=a.n(E).a.create({baseURL:"https://www.travelpcrtest.com",headers:{Authorization:"Basic QXp1cmXEaWFtb45kOmh1bnRlcjO="}}),P=function e(){Object(I.a)(this,e)};P.getBookingsByRef=function(e){return S.get("/api/book/getbookingsbyref?ref=".concat(e))};var W=a(174),_=a(168),z=a(167),L=a(82),M=a.n(L),U=a(81),q=a.n(U),H=function e(){Object(I.a)(this,e)};H.downloadCovidForm1=function(e){return S.get("/api/pdf/downloadcovidform1?id=".concat(e),{responseType:"arraybuffer",id:e,headers:{Accept:"application/pdf"}})},H.downloadCovidForm2=function(e){return S.get("/api/pdf/downloadcovidform2?id=".concat(e),{responseType:"arraybuffer",headers:{Accept:"application/pdf"}})};var J=a(63),K=a.n(J),X=Object(p.a)((function(e){return{box:{backgroundColor:"#373737",color:"#fff",padding:"1px",borderRadius:"4px",textAlign:"justify",paddingRight:"40px"},boxRed:{backgroundColor:"#dc2626",color:"#fff",padding:"1px",borderRadius:"4px",textAlign:"justify",paddingRight:"40px"},boxInfo:{textAlign:"justify",backgroundColor:"#fafafa",color:"#333",padding:"1px",borderRadius:"4px",paddingRight:"40px",border:"1px solid #eee"},ul:{listStyle:"none",padding:"0",margin:"0"},li:{marginBottom:"5px"},icon:{marginRight:"8px"},root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0,color:e.palette.text.secondary},secondaryHeading:{fontSize:e.typography.pxToRem(15)},infoDetails:{textAlign:"left"},infoTitle:{fontWeight:"800",marginRight:"10px"},infoData:{fontWeight:"400"},title:{textAlign:"center",fontWeight:"600",marginLeft:"10px",marginBottom:"5px"},Accordion:{backgroundColor:"#f5f5f5",color:"#222"},DownloadForm:{marginTop:"10px",marginBottom:"10px"}}}));function Y(){var e=X(),n=i.a.useContext(l),a=Object(s.a)(n,2),c=a[0],r=(a[1],i.a.useState(!1)),o=Object(s.a)(r,2),d=o[0],j=o[1];return Object(t.jsx)(i.a.Fragment,{children:Object(t.jsxs)(B.a,{container:!0,direction:"column",spacing:1,justify:"flex-start",alignItems:"stretch",children:[Object(t.jsx)("div",{className:e.title,children:" Following Records Found :"}),c.foundRecords.map((function(n,a){var c,i,r;return Object(t.jsx)(B.a,{item:!0,xs:12,md:12,children:Object(t.jsx)("div",{className:e.root,children:Object(t.jsxs)(W.a,{className:e.Accordion,expanded:d==="panel".concat(a),onChange:(r="panel".concat(a),function(e,n){j(!!n&&r)}),children:[Object(t.jsxs)(z.a,{expandIcon:Object(t.jsx)(M.a,{}),"aria-controls":"panel1bh-content",id:"panel".concat(a,"bh-header"),children:[Object(t.jsxs)(u.a,{className:e.heading,children:[" ","#".concat(a+1)," "]}),Object(t.jsx)(u.a,{className:e.secondaryHeading,children:"".concat(n.forename," ").concat(n.surname)})]}),Object(t.jsx)(_.a,{className:e.infoDetails,children:Object(t.jsxs)("ul",{className:e.ul,children:[Object(t.jsxs)("li",{className:e.li,children:[Object(t.jsx)("span",{className:e.infoTitle,children:"Gender"})," ",Object(t.jsx)("span",{className:e.infoData,children:n.gender})]}),Object(t.jsxs)("li",{className:e.li,children:[Object(t.jsx)("span",{className:e.infoTitle,children:"Title"}),"  ",Object(t.jsx)("span",{className:e.infoData,children:n.title})]}),Object(t.jsxs)("li",{className:e.li,children:[Object(t.jsx)("span",{className:e.infoTitle,children:"Forename"})," ",Object(t.jsx)("span",{className:e.infoData,children:n.forename})]}),Object(t.jsxs)("li",{className:e.li,children:[Object(t.jsx)("span",{className:e.infoTitle,children:"Surname"})," ",Object(t.jsx)("span",{className:e.infoData,children:n.surname})]}),Object(t.jsxs)("li",{className:e.li,children:[Object(t.jsx)("span",{className:e.infoTitle,children:"Email"})," ",Object(t.jsx)("span",{className:e.infoData,children:n.email})]}),Object(t.jsxs)("li",{className:e.li,children:[Object(t.jsx)("span",{className:e.infoTitle,children:"D.O.B"})," ",Object(t.jsx)("span",{className:e.infoData,children:q()(new Date(n.birthDate),"dd mmm yyyy")})]}),Object(t.jsxs)("li",{className:e.li,children:[Object(t.jsx)("span",{className:e.infoTitle,children:"Telephone"})," ",Object(t.jsx)("span",{className:e.infoData,children:n.phone})]}),Object(t.jsxs)("li",{className:e.li,children:[Object(t.jsx)("span",{className:e.infoTitle,children:"Post Code"})," ",Object(t.jsx)("span",{className:e.infoData,children:n.postCode})]}),Object(t.jsxs)("li",{className:e.li,children:[Object(t.jsx)("span",{className:e.infoTitle,children:"Address"})," ",Object(t.jsx)("span",{className:e.infoData,children:n.address})]}),Object(t.jsxs)("li",{className:e.li,children:[Object(t.jsx)("span",{className:e.infoTitle,children:"Notes"})," ",Object(t.jsx)("span",{className:e.infoData,children:null!==(c=n.notes)&&void 0!==c?c:"N/A"})]}),Object(t.jsxs)("li",{className:e.li,children:[Object(t.jsx)("span",{className:e.infoTitle,children:"Passport No."})," ",Object(t.jsx)("span",{className:e.infoData,children:null!==(i=n.passportNumber)&&void 0!==i?i:"N/A"})]}),Object(t.jsx)("li",{children:Object(t.jsx)(g.a,{type:"button",fullWidth:!0,variant:"outlined",color:"primary",onClick:function(){var e;e=n._id,H.downloadCovidForm1(e).then((function(n){K.a.saveAs(new Blob([n.data],{type:"application/pdf"}),"pcr-reg-form-".concat(e,".pdf"))})).catch((function(e){console.log(e)}))},className:e.DownloadForm,children:"Download Registration Form"})}),Object(t.jsx)("li",{children:Object(t.jsx)(g.a,{type:"button",fullWidth:!0,variant:"outlined",color:"primary",onClick:function(){var e;e=n._id,H.downloadCovidForm2(e).then((function(n){K.a.saveAs(new Blob([n.data],{type:"application/pdf"}),"pcr-clinic-form-".concat(e,".pdf"))})).catch((function(e){console.log(e)}))},className:e.DownloadForm,children:"Download Clinic Form"})})]})})]})})})}))]})})}var G=function(e){return"boolean"===typeof e};function Q(e){var n=e.inputRef,a=Object(k.a)(e,["inputRef"]);return Object(t.jsx)(D.a,Object(f.a)(Object(f.a)({},a),{},{ref:function(e){n(e?e.inputElement:null)},mask:[/\d/,/\d/,/\d/,"-",/\d/,/\d/,/\d/,"-",/\d/,/\d/,/\d/],showMask:!0}))}var V=Object(p.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)},marginTop:"20px"},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},Find:{width:"80px"},Clear:{marginRight:"20px"},title:{marginTop:"20px"},TextBox:{marginTop:"30px","& > *":{textAlign:"center"}},TextField:{},NoRecordsFound:{marginTop:"20px",color:"red",fontWeight:"600",fontSize:"14px"},PersonsBox:{marginTop:"20px",marginBottom:"50px"}}}));function $(){var e=V(),n=i.a.useContext(l),a=Object(s.a)(n,2),c=a[0],r=a[1],o=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=i.a.useState(e),t=Object(s.a)(a,2),c=t[0],r=t[1];return[function(e){return r(!G(e)||e)},{autoFocus:c,key:"".concat(n).concat(c),onFocus:function(){return r(!0)},onBlur:function(){return r(!1)}}]}(!0),j=Object(s.a)(o,2),p=j[0],b=j[1],m=function(){r((function(e){return Object(f.a)(Object(f.a)({},e),{},{refError:!1})})),r((function(e){return Object(f.a)(Object(f.a)({},e),{},{ref:"___-___-___"})})),r((function(e){return Object(f.a)(Object(f.a)({},e),{},{foundRecords:[]})})),p()},x=function(){!c.ref||c.ref.indexOf("_")>=0?r((function(e){return Object(f.a)(Object(f.a)({},e),{},{refError:!0})})):(r((function(e){return Object(f.a)(Object(f.a)({},e),{},{submiting:!0})})),r((function(e){return Object(f.a)(Object(f.a)({},e),{},{foundRecords:[]})})),P.getBookingsByRef(c.ref).then((function(e){r((function(e){return Object(f.a)(Object(f.a)({},e),{},{submiting:!1})})),e.data.length>0?r((function(n){return Object(f.a)(Object(f.a)({},n),{},{foundRecords:e.data})})):r((function(e){return Object(f.a)(Object(f.a)({},e),{},{foundRecords:null})})),console.log(e.data)})).catch((function(e){console.log(e),r((function(e){return Object(f.a)(Object(f.a)({},e),{},{submiting:!1})}))})))};return Object(t.jsxs)(i.a.Fragment,{children:[Object(t.jsx)(d.a,{}),Object(t.jsx)("div",{className:e.title,children:Object(t.jsx)(u.a,{component:"h6",variant:"h6",align:"center",children:"Find Booking Appoinments"})}),Object(t.jsxs)(B.a,{container:!0,direction:"column",spacing:1,justify:"flex-start",alignItems:"center",children:[Object(t.jsx)(B.a,{item:!0,xs:12,md:12,children:Object(t.jsx)(A.a,{className:e.TextBox,children:Object(t.jsx)(h.a,Object(f.a)(Object(f.a)({},b),{},{pattern:"[0-9]*",error:!!c.refError,value:c.ref,className:e.TextField,width:"50px",onChange:function(e){r((function(n){return Object(f.a)(Object(f.a)({},n),{},{ref:e.target.value})})),r((function(e){return Object(f.a)(Object(f.a)({},e),{},{refError:!1})}))},label:"Reference No.",helperText:"Enter Your 9-digits Reference No.",name:"refNo",id:"refNo",variant:"outlined",size:"normal",margin:"normal",fullWidth:!0,InputProps:{inputComponent:Q,style:{textAlign:"center",fontSize:"24px",width:"210px",paddingLeft:"20px"}},onKeyPress:function(e){"Enter"===e.key&&x()}}))})}),Object(t.jsxs)(B.a,{item:!0,xs:12,md:12,children:[Object(t.jsx)(g.a,{disabled:c.submiting,color:"default",onClick:m,onTouchTap:m,className:e.Clear,children:"Clear"}),Object(t.jsx)(g.a,{type:"button",disabled:c.submiting,variant:"contained",color:"primary",onClick:x,onTouchTap:x,className:e.Find,children:"Find"})]}),Object(t.jsxs)(B.a,{item:!0,xs:12,md:12,children:[c.foundRecords&&c.foundRecords.length>0&&Object(t.jsx)(i.a.Fragment,{children:Object(t.jsx)("div",{className:e.PersonsBox,children:Object(t.jsx)(Y,{})})}),!c.foundRecords&&Object(t.jsx)(i.a.Fragment,{children:Object(t.jsx)("div",{className:e.root,children:Object(t.jsxs)(T.a,{severity:"error",children:[" ",Object(t.jsx)("strong",{children:"No Records Found !"})," ",Object(t.jsx)("br",{})," Please check you reference number again."]})})})]})]})]})}var Z=Object(p.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function ee(){Z();var e=i.a.useContext(l),n=Object(s.a)(e,2);n[0],n[1];return Object(t.jsxs)(i.a.Fragment,{children:[Object(t.jsx)(d.a,{}),Object(t.jsx)($,{})]})}var ne=Object(p.a)((function(e){return{appBar:{position:"relative",backgroundColor:"#333",color:"#fff",alignItems:"center"},root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function ae(){var e=ne(),n=i.a.useContext(l),a=Object(s.a)(n,2),c=a[0];a[1];return Object(t.jsxs)(i.a.Fragment,{children:[Object(t.jsx)(d.a,{}),Object(t.jsx)(b.a,{position:"absolute",color:"default",className:e.appBar,children:Object(t.jsx)(m.a,{children:Object(t.jsx)(u.a,{variant:"h6",color:"inherit",noWrap:!0,children:"PCR Booking Admin Console"})})}),Object(t.jsxs)(i.a.Fragment,{children:[!c.signedIn&&Object(t.jsx)(R,{}),c.signedIn&&Object(t.jsx)(ee,{})]})]})}var te=function(){var e=i.a.useState({foundRecords:[]}),n=Object(s.a)(e,2),a=n[0],c=n[1];return Object(t.jsx)(l.Provider,{value:[a,c],children:Object(t.jsx)("div",{className:"App",children:Object(t.jsx)(ae,{})})})};o.a.render(Object(t.jsx)(i.a.StrictMode,{children:Object(t.jsx)(te,{})}),document.getElementById("root"))},97:function(e,n,a){},98:function(e,n,a){}},[[121,1,2]]]);
//# sourceMappingURL=main.4799d6f9.chunk.js.map