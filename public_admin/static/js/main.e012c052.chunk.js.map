{"version":3,"sources":["PriceCalculator.js","GlobalState.js","SignIn.js","services/api.js","services/BookService.js","services/PDFService.js","PersonsBox.js","FindByRef.js","Title.js","Chart.js","Deposits.js","Orders.js","BookingView.js","DashboardPreview.js","UnmatchedRecords.js","MenuList.js","BookingTable.js","AdminConsole.js","Menu.js","Dashboard.js","Navigator.js","App.js","index.js"],"names":["require","TouchApp","calculatePrice","person","price","certificate","antiBodyTest","module","exports","calculateTotalPrice","persons","totalPrice","i","length","GlobalState","React","createContext","Copyright","Typography","variant","color","align","Link","href","Date","getFullYear","useStyles","makeStyles","theme","root","width","marginTop","spacing","display","flexWrap","margin","marginBottom","paper","flexDirection","alignItems","avatar","backgroundColor","palette","secondary","main","form","submit","RememberMe","textAlign","appBar","position","SignIn","classes","useContext","state","setState","useState","localStorage","getItem","password","setPassword","username","setUsername","saveChecked","setSaveChecked","signIn","toLowerCase","signedIn","setItem","removeItem","signedInError","Fragment","AppBar","className","Toolbar","noWrap","title","Container","component","maxWidth","Avatar","noValidate","TextField","value","onChange","event","target","required","fullWidth","id","label","name","autoComplete","autoFocus","FormControl","clsx","textField","onKeyPress","key","InputLabel","htmlFor","OutlinedInput","type","showPassword","endAdornment","InputAdornment","IconButton","aria-label","onClick","onMouseDown","preventDefault","Visibility","VisibilityOff","labelWidth","FormControlLabel","control","Checkbox","checked","Button","onTouchTap","Alert","severity","Box","mt","axios","create","baseURL","headers","BookService","updateBooking","payload","API","post","deleteBooking","unDeleteBooking","getBookingsByRef","ref","get","getAllBookings","getDeletedBookings","getLiveBookings","getCompletedBookings","getPositiveBookings","getTodayBookings","getOldBookings","getFutureBookings","getRecentBookings","getRecentBookingsAll","getUnmatchedRecords","getUnmatchedRecordsArchived","archiveRecord","unArchiveRecord","PDFService","downloadCovidForm1","responseType","Accept","downloadCovidForm2","downloadPdfResult","downloadPdfCert","box","padding","borderRadius","paddingRight","boxRed","boxInfo","border","ul","listStyle","li","icon","marginRight","lineThrough","textDecoration","heading","fontSize","typography","pxToRem","flexBasis","flexShrink","text","secondaryHeading","infoDetails","infoTitle","fontWeight","infoData","marginLeft","Accordion","AccordionDeleted","DownloadForm","infoDataCharges","infoDataChargesHigher","BookedLabel","paddingLeft","PatientAttendedLabel","SampleTakenLabel","ReportSentLabel","ReportCertSentLabel","PositiveLabel","EditButton","background","RestoreButton","DeleteButton","SaveButton","CancelButton","TextBox","checkIcon","closeIcon","centeredLabel","PersonsBox","expanded","setExpanded","edit","editMode","setEditMode","delete","deleteMode","setDeleteMode","restore","restoreMode","setRestoreMode","saving","setSaving","deleting","setDeleting","restoring","setRestoring","validationError","setValidationError","bookingDate","setBookingDate","bookingTime","setBookingTime","gender","setGender","setTitle","forename","setForename","surname","setSurnme","email","setEmail","dob","setDOB","tel","setTel","postCode","setPostCode","address","setAddress","notes","setNotes","passport","setPassport","passport2","setPassport2","setCertificate","setAntiBodyTest","bookingDateChanged","bookingDateError","bookingTimeChanged","bookingTimeError","genderChanged","titleChanged","forenameChanged","surnameChanged","emailChanged","dobChanged","dobError","telChanged","postCodeChanged","addressChanged","notesChanged","passportChanged","passport2Changed","certificateChanged","antiBodyTestChanged","handleEditModeChanged","forenameCapital","surnameCapital","toUpperCase","birthDate","phone","passportNumber","passportNumber2","booking","bookingId","_id","bookingRef","validateBooking","validateDate","str","error","charAt","test","year","parseInt","substr","month","day","err","hour","minute","validateTime","bookingService","then","res","RefreshPersonInfo","catch","console","log","handleDeleteModeChanged","del","handleRestoreModeChanged","Grid","container","direction","justify","foundRecords","map","index","status","panel","item","xs","md","deleted","isExpanded","AccordionSummary","expandIcon","aria-controls","Tooltip","style","AccordionDetails","hidden","paddingBottom","disabled","inputProps","formControl","FileSaver","saveAs","Blob","data","isBoolean","param","TextMaskCustom","props","inputRef","other","inputElement","mask","showMask","Find","Clear","NoRecordsFound","FindByRef","initialFocus","focus","setFocus","onFocus","onBlur","useFocus","focusProps","useEffect","findRecords","clearField","refError","indexOf","submiting","CssBaseline","pattern","helperText","size","InputProps","inputComponent","Title","gutterBottom","children","createData","time","amount","undefined","Chart","useTheme","top","right","bottom","left","dataKey","stroke","angle","textAnchor","fill","primary","dot","depositContext","flex","Deposits","dateformat","date","shipTo","paymentMethod","seeMore","BookingView","bookings","isFetching","setData","Table","TableHead","TableRow","TableCell","TableBody","row","timeStamp","currentMenuIndex","getMenuIndex","overflow","fixedHeight","height","DashboardPreview","fixedHeightPaper","lg","Paper","refreshButton","RefLink","cursor","UnmatchedRecords","columns","field","headerName","renderCell","params","selectedTab","disableId","archiveButton","cachedBookings","setSelectedRow","filter","setFilter","refresh","setRefresh","setDisableId","setSeletedTab","lastPromise","useRef","api","currentPromise","current","result","e","trim","filteredData","element","placement","ToggleButtonGroup","exclusive","ToggleButton","rows","autoPageSize","onSelectionChange","newSelection","MenuList","content","BookingTable","getMenuContent","valueGetter","getValue","valueFormatter","pass2","timeout","selectedIndex","setSelectedIndex","List","ListItem","button","selected","ListItemIcon","ListItemText","toolbar","toolbarIcon","justifyContent","mixins","zIndex","drawer","transition","transitions","easing","sharp","duration","leavingScreen","appBarShift","enteringScreen","menuButton","menuButtonHidden","flexGrow","drawerPaper","whiteSpace","drawerPaperClose","overflowX","breakpoints","up","appBarSpacer","paddingTop","Dashboard","open","setOpen","setCurrentMenuIndex","edge","ExitToAppOutlined","Drawer","Divider","pt","signOutButton","Navigator","getPathId","path","urlElements","window","location","pathname","split","App","Provider","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e012c052.chunk.js","sourcesContent":["const { TouchApp } = require(\"@material-ui/icons\");\r\n\r\n\r\nconst calculatePrice = (person) =>\r\n{\r\n\r\n    var price = 199;\r\n    \r\n    if (person.certificate)\r\n    {\r\n        price += 50;\r\n    }\r\n\r\n    if (person.antiBodyTest)\r\n    {\r\n        price += 99;\r\n    }\r\n\r\n    return price;\r\n\r\n}\r\n\r\nconst calculateTotalPrice = (persons) =>\r\n{\r\n    var totalPrice = 0;\r\n    for (var i = 0 ; i < persons.length ; i++)\r\n    {\r\n        totalPrice += calculatePrice(persons[i]);\r\n    }\r\n\r\n    return totalPrice;\r\n}\r\n\r\nmodule.exports = {\r\n    calculatePrice : calculatePrice,\r\n    calculateTotalPrice : calculateTotalPrice\r\n}","import React from 'react'; \r\nconst GlobalState = React.createContext([{}, () => {}]); \r\nexport default GlobalState;","import React from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Link from '@material-ui/core/Link';\r\nimport Box from '@material-ui/core/Box';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport GlobalState from './GlobalState';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport { AppBar, Checkbox, FormControl, FormControlLabel, InputAdornment, InputLabel, OutlinedInput } from '@material-ui/core';\r\nimport { IconButton, Toolbar } from '@material-ui/core';\r\nimport { Visibility, VisibilityOff } from '@material-ui/icons';\r\nimport clsx from 'clsx';\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright  '}\r\n      <Link color=\"inherit\" href=\"#\">\r\n        Medical Express Clinic\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    root: {\r\n        width: '100%',\r\n        '& > * + *': {\r\n          marginTop: theme.spacing(2),\r\n        },\r\n\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n      },  \r\n\r\n      margin: {\r\n        marginTop: theme.spacing(2),\r\n        marginBottom: theme.spacing(2),\r\n      },\r\n\r\n      paper: {\r\n        marginTop: theme.spacing(8),\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        flexWrap: 'wrap',\r\n    },\r\n\r\n    avatar: {\r\n        margin: theme.spacing(1),\r\n        backgroundColor: theme.palette.secondary.main,\r\n    },\r\n\r\n    form: {\r\n        width: '100%', // Fix IE 11 issue.\r\n        marginTop: theme.spacing(1),\r\n    },\r\n\r\n    submit: {\r\n        margin: theme.spacing(3, 0, 2),\r\n    },\r\n\r\n    RememberMe:{\r\n      textAlign: \"left\"\r\n    },\r\n\r\n    appBar: {\r\n      position: 'static',\r\n      // backgroundColor: \"#333\",\r\n      // color: \"#fff\",\r\n      alignItems: 'center'\r\n  \r\n    },\r\n}));\r\n\r\nexport default function SignIn() {\r\n  const classes = useStyles();\r\n  const [state, setState] = React.useContext(GlobalState);\r\n\r\n  const [password, setPassword] = React.useState(\r\n    localStorage.getItem('pcr-admin-password') || ''\r\n  );\r\n\r\n  const [username, setUsername] = React.useState(\r\n    localStorage.getItem('pcr-admin-username') || ''\r\n  );\r\n\r\n  const [saveChecked, setSaveChecked] = React.useState(\r\n    localStorage.getItem('pcr-admin-username') ? true : false\r\n  ); \r\n\r\n\r\n  const signIn = () => {\r\n    if (username && password && username.toLowerCase() === 'admin' && password === 'MELLIM2020!gbc')\r\n    {\r\n        setState(state => ({...state, signedIn : true }));\r\n        if (saveChecked)\r\n        {\r\n           localStorage.setItem('pcr-admin-username', username);\r\n           localStorage.setItem('pcr-admin-password', password);\r\n        }else{\r\n          localStorage.removeItem('pcr-admin-username');\r\n          localStorage.removeItem('pcr-admin-password');\r\n        }\r\n\r\n    }else\r\n    {\r\n        setState(state => ({...state, signedInError : true }));\r\n    }\r\n  }\r\n\r\n  const usernameChanged = (event) =>\r\n  {\r\n      setUsername(event.target.value);\r\n      setState(state => ({...state, signedInError : false }));\r\n  }\r\n\r\n  const passwordChanged = (event) =>\r\n  {\r\n      setPassword(event.target.value);\r\n      setState(state => ({...state, signedInError : false }));\r\n  }\r\n\r\n  const handleClickShowPassword = () => {\r\n    setState(state => ({...state, showPassword : !state.showPassword }));\r\n  };\r\n\r\n  const handleMouseDownPassword = (event) => {\r\n    event.preventDefault();\r\n  };\r\n\r\n  const saveCheckedChanged = (event) =>\r\n  {\r\n    setSaveChecked(event.target.checked);\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n        <AppBar position=\"absolute\" color=\"primary\" className={classes.appBar}>\r\n                <Toolbar>\r\n                    <Typography variant=\"h6\" color=\"inherit\" noWrap className={classes.title}>\r\n                          PCR Booking Admin Console\r\n                    </Typography>\r\n                </Toolbar>\r\n            </AppBar>\r\n          <Container component=\"main\" maxWidth=\"xs\">\r\n\r\n\r\n\r\n            <div className={classes.paper}>\r\n              <Avatar className={classes.avatar}>\r\n                <LockOutlinedIcon />\r\n              </Avatar>\r\n              <Typography component=\"h1\" variant=\"h5\">\r\n                Sign in\r\n              </Typography>\r\n              <form className={classes.form} noValidate>\r\n                <TextField\r\n                  variant=\"outlined\"\r\n                  value={username}\r\n                  onChange={usernameChanged}\r\n                  margin=\"normal\"\r\n                  required\r\n                  fullWidth\r\n                  id=\"usrname\"\r\n                  label=\"Username\"\r\n                  name=\"username\"\r\n                  autoComplete=\"username\"\r\n                  autoFocus\r\n                />\r\n\r\n              <FormControl \r\n                              fullWidth \r\n                              required \r\n                              className={clsx(classes.margin, classes.textField)} \r\n                              variant=\"outlined\"\r\n                              onKeyPress= {event => {\r\n                                if (event.key === 'Enter') {\r\n                                  signIn();\r\n                                }\r\n                              }}\r\n                              \r\n                              >\r\n                  <InputLabel htmlFor=\"outlined-adornment-password\">Password</InputLabel>\r\n                  <OutlinedInput\r\n                    id=\"outlined-adornment-password\"\r\n                    name=\"outlined-adornment-password\"\r\n                    type={state.showPassword ? 'text' : 'password'}\r\n                    value={password}\r\n                    onChange={passwordChanged}\r\n                    endAdornment={\r\n                      <InputAdornment position=\"end\">\r\n                        <IconButton\r\n                          aria-label=\"toggle password visibility\"\r\n                          onClick={handleClickShowPassword}\r\n                          onMouseDown={handleMouseDownPassword}\r\n                        >\r\n                          {state.showPassword ? <Visibility /> : <VisibilityOff />}\r\n                        </IconButton>\r\n                      </InputAdornment>\r\n                    }\r\n                    labelWidth={100}\r\n                  />\r\n                </FormControl>\r\n              \r\n              <div align=\"left\">\r\n                  <FormControlLabel className={classes.RememberMe}\r\n                      control={<Checkbox value=\"remember\" color=\"primary\" checked={saveChecked} onChange={saveCheckedChanged}  />}\r\n                      label=\"Save password on this device\"\r\n                    />\r\n              </div>\r\n\r\n\r\n\r\n\r\n                <Button\r\n                  type=\"button\"\r\n                  fullWidth\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  onClick = {signIn}\r\n                  onTouchTap = {signIn}\r\n                  className={classes.submit}\r\n                >\r\n                  Sign In\r\n                </Button>\r\n\r\n\r\n              </form>\r\n            </div>\r\n\r\n            {state.signedInError && (\r\n                <div className={classes.root}>\r\n                    <Alert fullWidth severity=\"error\">Invalid Username or Password. Please try again.</Alert>\r\n                </div> \r\n            )}\r\n\r\n            <Box mt={8}>\r\n              <Copyright />\r\n            </Box>\r\n          </Container>\r\n\r\n    </React.Fragment>\r\n\r\n    \r\n  );\r\n}","import axios from 'axios';\r\n\r\nexport default axios.create({\r\n  // baseURL: 'http://localhost:9090',\r\n  baseURL: 'https://www.travelpcrtest.com',\r\n  headers : {\r\n      'Authorization' : 'Basic QXp1cmXEaWFtb45kOmh1bnRlcjO='\r\n  }\r\n});","import API from './api';\r\n\r\nexport default class BookService {\r\n\r\n   static updateBooking = (payload) =>\r\n   {\r\n      return API.post(`/api/book/updatebookappointment`, payload);\r\n   } \r\n\r\n   static deleteBooking = (id) =>\r\n   {\r\n      return API.post(`/api/book/deletebookappointment?id=${id}`);\r\n   } \r\n\r\n   static unDeleteBooking = (id) =>\r\n   {\r\n      return API.post(`/api/book/undeletebookappointment?id=${id}`);\r\n   } \r\n   \r\n   \r\n    static getBookingsByRef = (ref) =>\r\n    {\r\n       return API.get(`/api/book/getbookingsbyref?ref=${ref}`);\r\n    }\r\n\r\n    static getAllBookings= () =>\r\n    {\r\n       return API.get(`/api/book/getallbookings`);\r\n    }\r\n\r\n    static getDeletedBookings= () =>\r\n    {\r\n       return API.get(`/api/book/getdeletedbookings`);\r\n    }\r\n\r\n    static getLiveBookings= () =>\r\n    {\r\n       return API.get(`/api/book/getlivebookings`);\r\n    }\r\n\r\n    static getCompletedBookings= () =>\r\n    {\r\n       return API.get(`/api/book/getcompletedbookings`);\r\n    }\r\n\r\n    static getPositiveBookings= () =>\r\n    {\r\n       return API.get(`/api/book/getpositivebookings`);\r\n    }\r\n\r\n\r\n\r\n    static getTodayBookings= () =>\r\n    {\r\n       return API.get(`/api/book/gettodaybookings`);\r\n    }\r\n\r\n    static getOldBookings= () =>\r\n    {\r\n       return API.get(`/api/book/getoldbookings`);\r\n    }\r\n\r\n    static getFutureBookings= () =>\r\n    {\r\n       return API.get(`/api/book/getfuturebookings`);\r\n    }\r\n\r\n    static getRecentBookings= () =>\r\n    {\r\n       return API.get(`/api/book/getrecentbookings`);\r\n    }\r\n\r\n    static getRecentBookingsAll= () =>\r\n    {\r\n       return API.get(`/api/book/getrecentbookingsall`);\r\n    }\r\n\r\n    static getUnmatchedRecords= () =>\r\n    {\r\n       return API.get(`/api/book/getunmatchedrecords`);\r\n    }\r\n\r\n    static getUnmatchedRecordsArchived= () =>\r\n    {\r\n       return API.get(`/api/book/getunmatchedrecordsarchived`);\r\n    }\r\n\r\n    static archiveRecord = (id) =>\r\n    {\r\n       return API.post(`/api/book/archiverecord?id=${id}`);\r\n    }\r\n\r\n    static unArchiveRecord = (id) =>\r\n    {\r\n       return API.post(`/api/book/unarchiverecord?id=${id}`);\r\n    }\r\n\r\n\r\n}","import API from './api';\r\n\r\nexport default class PDFService {\r\n\r\n    static downloadCovidForm1 = (id) =>\r\n    {\r\n       return API.get(`/api/pdf/downloadcovidform1?id=${id}`, {\r\n        responseType: 'arraybuffer',\r\n        id: id,\r\n        headers: {\r\n            Accept: 'application/pdf',\r\n        }\r\n        });\r\n    }\r\n\r\n    static downloadCovidForm2 = (id) =>\r\n    {\r\n       return API.get(`/api/pdf/downloadcovidform2?id=${id}`, {\r\n        responseType: 'arraybuffer',\r\n        headers: {\r\n            Accept: 'application/pdf',\r\n        }\r\n        });\r\n    }\r\n\r\n    static downloadPdfResult = (id) =>\r\n    {\r\n       return API.get(`/api/pdf/downloadpdfresult?id=${id}`, {\r\n        responseType: 'arraybuffer',\r\n        headers: {\r\n            Accept: 'application/pdf',\r\n        }\r\n        });\r\n    }\r\n\r\n    static downloadPdfCert = (id) =>\r\n    {\r\n       return API.get(`/api/pdf/downloadpdfcert?id=${id}`, {\r\n        responseType: 'arraybuffer',\r\n        headers: {\r\n            Accept: 'application/pdf',\r\n        }\r\n        });\r\n    }\r\n\r\n\r\n}","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport GlobalState from './GlobalState';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Accordion from '@material-ui/core/Accordion';\r\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\r\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport dateFormat from 'dateformat';\r\nimport { Button, Checkbox, FormControlLabel, Link, TextField, Tooltip } from '@material-ui/core';\r\nimport PDFService from './services/PDFService';\r\n\r\nimport {calculatePrice} from './PriceCalculator';\r\n\r\nimport FileSaver from 'file-saver';\r\n\r\nimport bookingService from './services/BookService';\r\nimport { CheckBox } from '@material-ui/icons';\r\nimport { parse } from 'date-fns';\r\nimport CheckIcon from '@material-ui/icons/Check';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\n\r\n\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  box: {\r\n    backgroundColor : \"#373737\",\r\n    color: \"#fff\",\r\n    padding : \"1px\",\r\n    borderRadius : \"4px\",\r\n    textAlign: \"justify\",\r\n    paddingRight: \"40px\"\r\n  },\r\n\r\n  boxRed: {\r\n    backgroundColor : \"#dc2626\",\r\n    color: \"#fff\",\r\n    padding : \"1px\",\r\n    borderRadius : \"4px\",\r\n    textAlign: \"justify\",\r\n    paddingRight: \"40px\"\r\n  },\r\n\r\n  boxInfo: {\r\n    textAlign: \"justify\",\r\n    backgroundColor : \"#fafafa\",\r\n    color: \"#333\",\r\n    padding : \"1px\",\r\n    borderRadius : \"4px\",\r\n    paddingRight: \"40px\",\r\n    border: \"1px solid #eee\",\r\n  },\r\n\r\n  ul: {\r\n     listStyle: \"none\",\r\n     padding: \"0\",\r\n     margin: \"0\"\r\n  },\r\n\r\n  li: {\r\n    marginBottom : \"15px\"\r\n  },\r\n\r\n\r\n  icon: {\r\n    marginRight : \"8px\"\r\n  },\r\n\r\n  root: {\r\n    width: '100%',\r\n  },\r\n\r\n  lineThrough:{\r\n    textDecoration : \"line-through\",\r\n  },\r\n\r\n\r\n\r\n  heading: {\r\n    fontSize: theme.typography.pxToRem(15),\r\n    flexBasis: '33.33%',\r\n    flexShrink: 0,\r\n    color: theme.palette.text.secondary,\r\n  },\r\n  secondaryHeading: {\r\n    fontSize: theme.typography.pxToRem(15),\r\n  },\r\n\r\n  infoDetails:{\r\n    textAlign: \"left\",\r\n  },\r\n\r\n  infoTitle:{\r\n    fontWeight: \"800\",\r\n    marginRight: \"10px\"\r\n  },\r\n\r\n  infoData:{\r\n    fontWeight: \"400\",\r\n  },\r\n\r\n  title:\r\n  {\r\n    // textAlign : \"center\",\r\n    // fontWeight : \"500\",\r\n    // margin: \"10px\",\r\n    // backgroundColor : \"#eee\",\r\n    // padding : \"10px\",\r\n    // borderRadius : \"4px\"\r\n    textAlign: \"center\",\r\n    fontWeight : \"600\",\r\n    marginLeft: \"10px\",\r\n    marginBottom: \"5px\"\r\n\r\n  },\r\n\r\n  Accordion:{\r\n    backgroundColor : \"#f5f5f5\",\r\n    color: \"#222\"\r\n  },\r\n\r\n  AccordionDeleted:{\r\n    backgroundColor : \"#aaa\",\r\n    color: \"#555\"\r\n  },\r\n\r\n  DownloadForm:{\r\n      marginTop: \"10px\",\r\n      marginBottom : \"10px\"\r\n  },\r\n\r\n  infoDataCharges:{\r\n    fontSize : \"18px\",\r\n    color: \"green\",\r\n    fontWeight : \"600\"\r\n  },\r\n\r\n  infoDataChargesHigher:{\r\n    fontSize : \"18px\",\r\n    color: \"red\",\r\n    fontWeight : \"600\"\r\n  },\r\n  BookedLabel:{\r\n    backgroundColor: \"#606060\",\r\n    color: \"#fff\",\r\n    paddingRight: \"10px\",\r\n    paddingLeft: \"10px\"\r\n  },\r\n\r\n  PatientAttendedLabel:{\r\n    backgroundColor: \"#0066aa\",\r\n    color: \"#fff\",\r\n    paddingRight: \"15px\",\r\n    paddingLeft: \"10px\"\r\n  },\r\n\r\n  SampleTakenLabel:{\r\n    backgroundColor: \"#0066cc\",\r\n    color: \"#fff\",\r\n    paddingRight: \"40px\",\r\n    paddingLeft: \"10px\"\r\n  },\r\n\r\n  ReportSentLabel:{\r\n    backgroundColor: \"#009900\",\r\n    color: \"#fff\",\r\n    paddingRight: \"90px\",\r\n    paddingLeft: \"10px\"\r\n  },\r\n\r\n  ReportCertSentLabel:{\r\n    backgroundColor: \"#009900\",\r\n    color: \"#fff\",\r\n    paddingRight: \"68px\",\r\n    paddingLeft: \"10px\"\r\n  },\r\n\r\n  PositiveLabel:{\r\n    backgroundColor: \"red\",\r\n    color: \"#fff\",\r\n    paddingRight: \"90px\",\r\n    paddingLeft: \"10px\",\r\n    fontWeight: \"800\"\r\n  },\r\n\r\n  EditButton:\r\n  {\r\n    marginBottom : \"20px\",\r\n    backgroundColor : \"#2f942e\",\r\n    \"&:hover\": {\r\n      background: \"green\",\r\n      color: \"#fff\"\r\n    },\r\n    textDecoration : \"none !important\",\r\n    padding: \"10px\"   \r\n  },\r\n\r\n  RestoreButton:\r\n  {\r\n    marginBottom : \"20px\",\r\n    backgroundColor : \"#fafafa\",\r\n    color: \"#555\",\r\n    \"&:hover\": {\r\n      background: \"#f1f1f1\",\r\n      color: \"#111\"\r\n    },\r\n    textDecoration : \"none !important\",\r\n    padding: \"10px\"   \r\n  },\r\n\r\n\r\n  DeleteButton:\r\n  {\r\n    marginBottom : \"20px\",\r\n    backgroundColor : \"#d90015\",\r\n    \"&:hover\": {\r\n      background: \"#b80012\",\r\n      color: \"#fff\"\r\n    },\r\n\r\n    padding: \"10px\"\r\n    \r\n  },\r\n\r\n  SaveButton:\r\n  {\r\n    marginBottom : \"10px\",\r\n    padding: \"10px\",\r\n\r\n    backgroundColor : \"#d1175e\",\r\n    \"&:hover\": {\r\n      background: \"#bd0d50\",\r\n      color: \"#fff\"\r\n    },\r\n\r\n  },\r\n\r\n  CancelButton:\r\n  {\r\n    marginBottom : \"20px\",\r\n    // padding: \"10px\"\r\n  },\r\n\r\n  TextBox: {\r\n    \r\n    padding : \"0px\"\r\n\r\n  },\r\n\r\n  checkIcon:{\r\n    color: \"green\",   \r\n  },\r\n\r\n  closeIcon:{\r\n    color: \"red\"\r\n  },\r\n\r\n  centeredLabel : {\r\n    display: \"flex\",\r\n    alignItems: \"center\"\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n}));\r\n\r\n\r\n\r\n\r\nexport default function PersonsBox() {\r\n    const classes = useStyles();\r\n\r\n    const [state, setState] = React.useContext(GlobalState);\r\n\r\n    const [expanded, setExpanded] = React.useState('panel0');\r\n\r\n    const [editMode, setEditMode] = React.useState({edit : false, person : null});\r\n    const [deleteMode, setDeleteMode] = React.useState({delete : false, person : null});\r\n    const [restoreMode, setRestoreMode] = React.useState({restore : false, person : null});\r\n\r\n    const [saving, setSaving] =  React.useState(false);\r\n    const [deleting, setDeleting] =  React.useState(false);\r\n    const [restoring, setRestoring] =  React.useState(false);\r\n\r\n    const [validationError, setValidationError] = React.useState({});\r\n\r\n\r\n    const [bookingDate, setBookingDate] = React.useState('');\r\n    const [bookingTime, setBookingTime] = React.useState('');\r\n\r\n    const [gender, setGender] = React.useState('');\r\n    const [title, setTitle] = React.useState('');\r\n    const [forename, setForename] = React.useState('');\r\n    const [surname, setSurnme] = React.useState('');\r\n    const [email, setEmail] = React.useState('');\r\n    const [dob, setDOB] = React.useState('');\r\n    const [tel, setTel] = React.useState('');\r\n    const [postCode, setPostCode] = React.useState('');\r\n    const [address, setAddress] = React.useState('');\r\n    const [notes, setNotes] = React.useState('');\r\n    const [passport, setPassport] = React.useState('');\r\n    const [passport2, setPassport2] = React.useState('');\r\n    const [certificate, setCertificate] = React.useState(false);\r\n    const [antiBodyTest, setAntiBodyTest] = React.useState(false);\r\n\r\n\r\n    const bookingDateChanged = (event) =>\r\n    {\r\n      setBookingDate(event.target.value);\r\n      setValidationError({...validationError, bookingDateError : false});\r\n    }\r\n\r\n    const bookingTimeChanged = (event) =>\r\n    {\r\n      setBookingTime(event.target.value);\r\n      setValidationError({...validationError, bookingTimeError : false});\r\n    }\r\n\r\n    const genderChanged = (event) =>\r\n    {\r\n      setGender(event.target.value);\r\n    }\r\n\r\n    const titleChanged = (event) =>\r\n    {\r\n      setTitle(event.target.value);\r\n    }\r\n\r\n    const forenameChanged = (event) =>\r\n    {\r\n      setForename(event.target.value);\r\n    }\r\n\r\n    const surnameChanged = (event) =>\r\n    {\r\n      setSurnme(event.target.value);\r\n    }\r\n\r\n    const emailChanged = (event) =>\r\n    {\r\n      setEmail(event.target.value);\r\n    }\r\n\r\n    const dobChanged = (event) =>\r\n    {\r\n      setDOB(event.target.value);\r\n      setValidationError({...validationError, dobError : false});\r\n    }\r\n\r\n    const telChanged = (event) =>\r\n    {\r\n      setTel(event.target.value);\r\n    }\r\n\r\n    const postCodeChanged = (event) =>\r\n    {\r\n      setPostCode(event.target.value);\r\n    }\r\n\r\n    const addressChanged = (event) =>\r\n    {\r\n      setAddress(event.target.value);\r\n    }\r\n\r\n    const notesChanged = (event) =>\r\n    {\r\n      setNotes(event.target.value);\r\n    }\r\n\r\n    const passportChanged = (event) =>\r\n    {\r\n      setPassport(event.target.value);\r\n    }\r\n\r\n    const passport2Changed = (event) =>\r\n    {\r\n      setPassport2(event.target.value);\r\n    }\r\n\r\n    const certificateChanged = (event) =>\r\n    {\r\n      setCertificate(event.target.checked);\r\n    }\r\n\r\n    const antiBodyTestChanged = (event) =>\r\n    {\r\n      setAntiBodyTest(event.target.checked);\r\n    }\r\n\r\n\r\n    const handleChange = (panel) => (event, isExpanded) => {\r\n      setExpanded(isExpanded ? panel : false);\r\n    };\r\n\r\n    const getStatusLabel = (status) => {\r\n      if (status === 'booked')\r\n      {\r\n        return (\r\n          <span className={classes.BookedLabel}> Booking Made </span>\r\n        );\r\n    \r\n      }else if (status === 'patient_attended')\r\n      {\r\n        return (\r\n          <span  className={classes.PatientAttendedLabel}> Patient Attended </span>\r\n        );\r\n    \r\n      }else if (status === 'sample_taken')\r\n      {\r\n        return (\r\n          <span  className={classes.SampleTakenLabel}> Sample Taken </span>\r\n        );\r\n    \r\n      }else if (status === 'report_sent')\r\n      {\r\n        return (\r\n          <span  className={classes.ReportSentLabel}> Report Sent </span>\r\n        );\r\n    \r\n      }else if (status === 'positive')\r\n      {\r\n        return (\r\n          <span  className={classes.PositiveLabel}> {`POSITIVE`} </span>\r\n        );\r\n    \r\n      }\r\n      else{\r\n        return 'Unknown';\r\n      }\r\n    }\r\n\r\n   const downloadForm1 = (id) =>\r\n   {\r\n       PDFService.downloadCovidForm1(id).then( (res) => \r\n       {\r\n            FileSaver.saveAs(\r\n            new Blob([res.data], { type: 'application/pdf' }),\r\n              `pcr-reg-form-${id}.pdf`\r\n          );\r\n\r\n       }).catch( (err) =>\r\n       {\r\n           console.log(err);\r\n       });\r\n   }\r\n\r\n   const downloadForm2 = (id) =>\r\n   {\r\n        PDFService.downloadCovidForm2(id).then( (res) => \r\n        {\r\n            FileSaver.saveAs(\r\n            new Blob([res.data], { type: 'application/pdf' }),\r\n            `pcr-clinic-form-${id}.pdf`\r\n        );\r\n\r\n        }).catch( (err) =>\r\n        {\r\n            console.log(err);\r\n        });\r\n   }\r\n\r\n   const downloadLabResults = (id) =>\r\n   {\r\n        PDFService.downloadPdfResult(id).then( (res) => \r\n        {\r\n            FileSaver.saveAs(\r\n            new Blob([res.data], { type: 'application/pdf' }),\r\n            `lab-result-${id}.pdf`\r\n        );\r\n\r\n        }).catch( (err) =>\r\n        {\r\n            console.log(err);\r\n        });\r\n   }\r\n\r\n   const downloadCertificate = (id) =>\r\n   {\r\n        PDFService.downloadPdfCert(id).then( (res) => \r\n        {\r\n            FileSaver.saveAs(\r\n            new Blob([res.data], { type: 'application/pdf' }),\r\n            `certificate-${id}.pdf`\r\n        );\r\n\r\n        }).catch( (err) =>\r\n        {\r\n            console.log(err);\r\n        });\r\n   }\r\n\r\n   const handleEditModeChanged = (edit, person) => {\r\n\r\n       if (edit)\r\n       {\r\n         setForename(person.forenameCapital);\r\n         setSurnme(person.surnameCapital);\r\n         setBookingDate(person.bookingDate);\r\n         setBookingTime(person.bookingTime.toUpperCase());\r\n         setGender(person.gender.toUpperCase());\r\n         setTitle(person.title.toUpperCase());\r\n         setEmail(person.email.toUpperCase());\r\n         setDOB(person.birthDate);\r\n         setTel(person.phone.toUpperCase());\r\n         setPostCode(person.postCode.toUpperCase());\r\n         setAddress(person.address.toUpperCase());\r\n         if (person.notes)\r\n         {\r\n          setNotes(person.notes.toUpperCase());\r\n         }\r\n        \r\n         if (person.passportNumber)\r\n         {\r\n           setPassport(person.passportNumber.toUpperCase());\r\n         }\r\n        \r\n         if (person.passportNumber2)\r\n         {\r\n           setPassport2(person.passportNumber2.toUpperCase());\r\n         }\r\n        \r\n         setCertificate(person.certificate);\r\n         setAntiBodyTest(person.antiBodyTest);\r\n\r\n         setEditMode({edit: edit, person: person});\r\n\r\n       }\r\n       else if (!edit && !person)\r\n       {\r\n         setEditMode({edit: edit, person: person});\r\n       }\r\n       else if (!edit && person)\r\n       {\r\n          const booking = {};\r\n          const bookingId = person._id;\r\n          booking.certificate = certificate;\r\n          booking.antiBodyTest = antiBodyTest;\r\n          booking.gender = gender;\r\n          booking.title = title;\r\n          booking.birthDate = dob;\r\n          booking.email = email;\r\n          booking.phone = tel;\r\n          booking.postCode = postCode;\r\n          booking.address = address;\r\n          booking.passportNumber = passport;\r\n          booking.passportNumber2 = passport2;\r\n          booking.forename = forename;\r\n          booking.surname = surname;\r\n          booking.notes = notes;\r\n          booking.bookingDate = bookingDate;\r\n          booking.bookingTime = bookingTime;\r\n          booking.bookingRef = person.bookingRef;\r\n\r\n          if  (validateBooking(booking))\r\n          {\r\n            updateBooking({bookingId: bookingId, person: booking});\r\n          }\r\n       }\r\n   }\r\n\r\n   const validateDate = (str) =>\r\n   {\r\n     var error = false;\r\n     if (!str || str.length !== 10)\r\n     {\r\n       error = true;\r\n     }\r\n\r\n     if (str.charAt(4) !== '-'  || str.charAt(7) !== '-')\r\n     {\r\n       error = true;\r\n     }\r\n\r\n     try\r\n     {\r\n       \r\n       const result = /^\\d{4}-\\d{2}-\\d{2}$/.test(str);\r\n       if (!result)\r\n       {\r\n          error = true;\r\n       }\r\n\r\n       const year = parseInt(str.substr(0,4));\r\n       const month = parseInt(str.substr(5,2));\r\n       const day = parseInt(str.substr(8,2));\r\n\r\n       if (year < 1900)\r\n       {\r\n          error = true;\r\n       }\r\n\r\n       if (month < 1 || month > 12)\r\n       {\r\n         error = true;\r\n       }        \r\n\r\n       if (day > 31)\r\n       {\r\n         error = true;\r\n       }\r\n\r\n     }catch(err)\r\n     {\r\n       error = true;\r\n     }\r\n\r\n\r\n\r\n     return !error;\r\n   }\r\n\r\n   const validateTime =(str) =>\r\n   {\r\n     var error = false;\r\n\r\n     const result = /^\\d{2}:\\d{2} AM$|^\\d{2}:\\d{2} PM$/.test(str);\r\n     if (!result)\r\n     {\r\n        error = true;\r\n     }\r\n\r\n     try{\r\n       const hour = parseInt(str.substr(0,2));\r\n       const minute = parseInt(str.substr(3,2));\r\n\r\n       if (hour < 0 || hour > 12)\r\n       {\r\n         error = true;\r\n       }\r\n\r\n       if (minute < 0 || minute > 59)\r\n       {\r\n         error = true;\r\n       }\r\n\r\n     }catch(err)\r\n     {\r\n       error = true;\r\n     }\r\n\r\n     return !error;\r\n   }\r\n\r\n   const validateBooking = (booking) =>\r\n   {\r\n      var error = false;\r\n\r\n      if (!validateDate(booking.bookingDate))\r\n      {\r\n        error = true;\r\n        setValidationError({...validationError, bookingDateError : true});\r\n      }\r\n\r\n      if (!validateDate(booking.birthDate))\r\n      {\r\n        error = true;\r\n        setValidationError({...validationError, dobError : true});\r\n      }\r\n\r\n      if (!validateTime(booking.bookingTime))\r\n      {\r\n        error = true;\r\n        setValidationError({...validationError, bookingTimeError : true});\r\n      }\r\n     \r\n\r\n      return !error;\r\n   }\r\n\r\n   const updateBooking = (payload) =>\r\n   {\r\n       setSaving(true);\r\n       bookingService.updateBooking(payload).then( (res) => {\r\n        setSaving(false);\r\n        setEditMode({edit: false, person: null});\r\n        setState(state => ({...state, RefreshPersonInfo : !state.RefreshPersonInfo}));\r\n\r\n       }).catch ( (err) => {\r\n         setSaving(false);\r\n         setEditMode({edit: false, person: null});\r\n         console.log(err);\r\n       });\r\n   }\r\n\r\n   const deleteBooking = (id) =>\r\n   {\r\n       setDeleting(true);\r\n       bookingService.deleteBooking(id).then( (res) => {\r\n        setDeleting(false);\r\n        setDeleteMode({delete: false, person: null});\r\n        setState(state => ({...state, RefreshPersonInfo : !state.RefreshPersonInfo}));\r\n\r\n       }).catch ( (err) => {\r\n          setDeleting(false);\r\n          setDeleteMode({delete: false, person: null});\r\n         console.log(err);\r\n       });\r\n   }\r\n\r\n   const restoreBooking = (id) =>\r\n   {\r\n       setRestoring(true);\r\n       bookingService.unDeleteBooking(id).then( (res) => {\r\n        setRestoring(false);\r\n        setRestoreMode({restore: false, person: null});\r\n        setState(state => ({...state, RefreshPersonInfo : !state.RefreshPersonInfo}));\r\n\r\n       }).catch ( (err) => {\r\n        setRestoring(false);\r\n        setRestoreMode({restore: false, person: null});\r\n         console.log(err);\r\n       });\r\n   }\r\n\r\n\r\n\r\n   const handleDeleteModeChanged = (del, person) => {\r\n\r\n    if (del)\r\n    {\r\n      setDeleteMode({delete: del, person: person});\r\n    }\r\n    else if (!del && !person)\r\n    {\r\n      setDeleteMode({delete: del, person: person});\r\n    }\r\n    else if (!del && person)\r\n    {\r\n        deleteBooking(person._id);\r\n    }\r\n  }\r\n\r\n  const handleRestoreModeChanged = (restore, person) => {\r\n\r\n    if (restore)\r\n    {\r\n      setRestoreMode({restore: restore, person: person});\r\n    }\r\n    else if (!restore && !person)\r\n    {\r\n      setRestoreMode({restore: restore, person: person});\r\n    }\r\n    else if (!restore && person)\r\n    {\r\n        restoreBooking(person._id);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n          \r\n      <Grid container direction=\"column\" spacing={1} justify=\"flex-start\"  alignItems=\"stretch\">\r\n          <div className={classes.title}> Following Records Found :</div>\r\n\r\n          {state.foundRecords.map((person,index) => (\r\n   \r\n                <Grid item xs={12} md={12} key={`panel${index}`}>\r\n                <div className={classes.root}>\r\n                    <Accordion className={person.deleted ? classes.AccordionDeleted : classes.Accordion} expanded={expanded === `panel${index}`} onChange={handleChange(`panel${index}`)}>\r\n                    <AccordionSummary className={person.deleted ? classes.lineThrough : ''}\r\n                        expandIcon={<ExpandMoreIcon />}\r\n                        aria-controls=\"panel1bh-content\"\r\n                        id={`panel${index}bh-header`}\r\n                    >\r\n                      {person.deleted && (\r\n                          <Tooltip  title=\"This record has been deleted.\">\r\n                            <DeleteIcon  style={{padding: 0, margin: 0,  color: \"#fff\", fontSize: 25 }}/>\r\n                        </Tooltip>\r\n                      )}\r\n\r\n                        <Typography className={classes.heading}> {`#${index+1}`} </Typography>\r\n                        <Typography className={classes.secondaryHeading}>\r\n                        {`${person.forenameCapital} ${person.surnameCapital}`}\r\n                        </Typography>\r\n                    </AccordionSummary>\r\n\r\n                    <AccordionDetails className={classes.infoDetails}>\r\n                        \r\n\r\n\r\n                        <ul className={classes.ul}>\r\n\r\n                        {/* Restore Functionality ******************************************* */}  \r\n                        <li hidden={!(restoreMode.restore && restoreMode.person._id  === person._id)}>\r\n                              <div style={{fontWeight: \"500\", paddingBottom: \"5px\", paddingLeft: \"5px\", fontSize:\"16px\" , color:\"#fff\"}}>\r\n                                Are you sure you want to restore this record?\r\n                              </div>\r\n                            </li>\r\n\r\n                            <li hidden={!person.deleted || (restoreMode.restore && restoreMode.person._id === person._id)}>\r\n                                 <Button\r\n                                    type=\"button\"\r\n                                    fullWidth\r\n                                    variant=\"contained\"\r\n                                    color=\"primary\"\r\n                                    onClick = {() => {handleRestoreModeChanged(true, person)}}\r\n                                    className={classes.RestoreButton}\r\n                                 >\r\n                                   Restore This Record\r\n                                </Button>\r\n                            </li>\r\n\r\n                            <li hidden={!(restoreMode.restore && restoreMode.person._id  === person._id)}>\r\n                                 <Button\r\n                                    type=\"button\"\r\n                                    fullWidth\r\n                                    variant=\"contained\"\r\n                                    color=\"primary\"\r\n                                    disabled = {restoring}\r\n                                    onClick = {() => {handleRestoreModeChanged(false, person)}}\r\n                                    className={classes.SaveButton}\r\n                                 >\r\n                                    YES, Restore this!\r\n                                </Button>\r\n                            </li>\r\n\r\n                            <li hidden={!(restoreMode.restore && restoreMode.person._id  === person._id)}>\r\n                                 <Button\r\n                                    type=\"button\"\r\n                                    fullWidth\r\n                                    variant=\"contained\"\r\n                                    color=\"default\"\r\n                                    disabled = {restoring}\r\n                                    onClick = {() => {handleRestoreModeChanged(false, null)}}\r\n                                    className={classes.CancelButton}\r\n                                 >\r\n                                    Cancel\r\n                                </Button>\r\n                            </li>\r\n\r\n                           {/*  ******************************************************************* */}\r\n\r\n                              {/* Edit Functionality ******************************************* */}\r\n\r\n                            <li hidden={person.deleted || deleteMode.delete || (editMode.edit && editMode.person._id === person._id)}>\r\n                                 <Button\r\n                                    type=\"button\"\r\n                                    fullWidth\r\n                                    variant=\"contained\"\r\n                                    color=\"primary\"\r\n                                    onClick = {() => {handleEditModeChanged(true, person)}}\r\n                                    className={classes.EditButton}\r\n                                 >\r\n                                    Edit Booking Info\r\n                                </Button>\r\n                            </li>\r\n\r\n                            <li hidden={!(editMode.edit && editMode.person._id  === person._id)}>\r\n                                 <Button\r\n                                    type=\"button\"\r\n                                    fullWidth\r\n                                    variant=\"contained\"\r\n                                    color=\"primary\"\r\n                                    disabled = {saving}\r\n                                    onClick = {() => {handleEditModeChanged(false, person)}}\r\n                                    className={classes.SaveButton}\r\n                                 >\r\n                                    Save Changes\r\n                                </Button>\r\n                            </li>\r\n\r\n                            <li hidden={!(editMode.edit && editMode.person._id === person._id)}>\r\n                                 <Button\r\n                                    type=\"button\"\r\n                                    fullWidth\r\n                                    variant=\"contained\"\r\n                                    color=\"default\"\r\n                                    disabled = {saving}\r\n                                    onClick = {() => {handleEditModeChanged(false, null)}}\r\n                                    className={classes.CancelButton}\r\n                                 >\r\n                                    Cancel\r\n                                </Button>\r\n                            </li>\r\n                            \r\n                            {/* ****************************************************************************************** */}\r\n\r\n\r\n                            {/* Delete Functionality ******************************************* */}\r\n\r\n                            <li hidden={!(deleteMode.delete && deleteMode.person._id  === person._id)}>\r\n                              <div style={{fontWeight: \"600\",  paddingBottom: \"5px\", paddingLeft: \"5px\", fontSize:\"16px\"}}>\r\n                                Are you sure you want to delete this record?\r\n                              </div>\r\n                            </li>\r\n\r\n                            <li hidden={person.deleted ||  editMode.edit || (deleteMode.delete && deleteMode.person._id === person._id)}>\r\n                                 <Button\r\n                                    type=\"button\"\r\n                                    fullWidth\r\n                                    variant=\"contained\"\r\n                                    color=\"primary\"\r\n                                    onClick = {() => {handleDeleteModeChanged(true, person)}}\r\n                                    className={classes.DeleteButton}\r\n                                 >\r\n                                   Delete This Record\r\n                                </Button>\r\n                            </li>\r\n\r\n                            <li hidden={!(deleteMode.delete && deleteMode.person._id  === person._id)}>\r\n                                 <Button\r\n                                    type=\"button\"\r\n                                    fullWidth\r\n                                    variant=\"contained\"\r\n                                    color=\"primary\"\r\n                                    disabled = {deleting}\r\n                                    onClick = {() => {handleDeleteModeChanged(false, person)}}\r\n                                    className={classes.SaveButton}\r\n                                 >\r\n                                    YES, Delete this!\r\n                                </Button>\r\n                            </li>\r\n\r\n                            <li hidden={!(deleteMode.delete && deleteMode.person._id === person._id)}>\r\n                                 <Button\r\n                                    type=\"button\"\r\n                                    fullWidth\r\n                                    variant=\"contained\"\r\n                                    color=\"default\"\r\n                                    disabled = {deleting}\r\n                                    onClick = {() => {handleDeleteModeChanged(false, null)}}\r\n                                    className={classes.CancelButton}\r\n                                 >\r\n                                    Cancel\r\n                                </Button>\r\n                            </li>\r\n                                 \r\n                            {/* ****************************************************************************************** */}\r\n\r\n                            <li className={classes.li}>\r\n                                <span className={classes.infoTitle}>BOOKED DATE</span> \r\n                            \r\n\r\n                                <span hidden={(editMode.edit && editMode.person._id  === person._id)} className={classes.infoData}>{person.bookingDate }</span>  \r\n                                        <span hidden={!(editMode.edit && editMode.person._id  === person._id)} className={classes.infoData}>\r\n                                          <TextField \r\n                                                      error={validationError.bookingDateError}\r\n                                                      className={classes.TextBox} \r\n                                                      value={bookingDate}\r\n                                                      onChange = {bookingDateChanged}\r\n                                                      inputProps= {{\r\n                                                          style:{\r\n                                                            padding: 0\r\n                                                          }\r\n                                                        }\r\n                                                      }\r\n                                                      > \r\n                                          </TextField> \r\n                                        </span> \r\n\r\n\r\n                            </li>\r\n\r\n                            <li className={classes.li}>\r\n                                <span className={classes.infoTitle}>BOOKED TIME</span> \r\n                                <span hidden={(editMode.edit && editMode.person._id  === person._id)} className={classes.infoData}>{person.bookingTime.toUpperCase()}</span>  \r\n                                        <span hidden={!(editMode.edit && editMode.person._id  === person._id)} className={classes.infoData}>\r\n                                          <TextField \r\n                                                       error={validationError.bookingTimeError}\r\n                                                      className={classes.TextBox} \r\n                                                      value={bookingTime}\r\n                                                      onChange = {bookingTimeChanged}\r\n                                                      inputProps= {{\r\n                                                          style:{\r\n                                                            padding: 0\r\n                                                          }\r\n                                                        }\r\n                                                      }\r\n                                                      > \r\n                                          </TextField> \r\n                                        </span> \r\n\r\n\r\n                            </li>\r\n\r\n                            <li className={classes.li}>\r\n                            <span className={classes.infoTitle}>GENDER</span> \r\n                                        <span hidden={(editMode.edit && editMode.person._id  === person._id)} className={classes.infoData}>{person.gender?.toUpperCase()}</span>  \r\n                                        <span hidden={!(editMode.edit && editMode.person._id  === person._id)} className={classes.infoData}>\r\n                                          <TextField \r\n                                                      className={classes.TextBox} \r\n                                                      value={gender}\r\n                                                      onChange = {genderChanged}\r\n                                                      inputProps= {{\r\n                                                          style:{\r\n                                                            padding: 0\r\n                                                          }\r\n                                                        }\r\n                                                      }\r\n                                                      > \r\n                                          </TextField> \r\n                                        </span> \r\n                            </li>\r\n                            <li className={classes.li}>\r\n                            <span className={classes.infoTitle}>TITLE</span> \r\n                                       <span hidden={(editMode.edit && editMode.person._id  === person._id)} className={classes.infoData}>{person.title?.toUpperCase()}</span>  \r\n                                        <span hidden={!(editMode.edit && editMode.person._id  === person._id)} className={classes.infoData}>\r\n                                          <TextField \r\n                                                      className={classes.TextBox} \r\n                                                      value={title}\r\n                                                      onChange = {titleChanged}\r\n                                                      inputProps= {{\r\n                                                          style:{\r\n                                                            padding: 0\r\n                                                          }\r\n                                                        }\r\n                                                      }\r\n                                                      > \r\n                                          </TextField> \r\n                                        </span> \r\n                             \r\n                            </li>\r\n                            <li className={classes.li}>\r\n                            <span className={classes.infoTitle}>FORENAME</span> \r\n                                        <span hidden={(editMode.edit && editMode.person._id  === person._id)} className={classes.infoData}>{person.forenameCapital}</span>  \r\n                                        <span hidden={!(editMode.edit && editMode.person._id  === person._id)} className={classes.infoData}>\r\n                                        <TextField \r\n                                                      className={classes.TextBox} \r\n                                                      value={forename}\r\n                                                      onChange = {forenameChanged}\r\n                                                      inputProps= {{\r\n                                                          style:{\r\n                                                            padding: 0\r\n                                                          }\r\n                                                        }\r\n                                                      }\r\n                                                      > \r\n                                          </TextField> \r\n                                        </span> \r\n                            </li>\r\n                            <li className={classes.li}>\r\n                                <span className={classes.infoTitle}>SURNAME</span>\r\n                                        <span hidden={(editMode.edit && editMode.person._id  === person._id)} className={classes.infoData}>{person.surnameCapital}</span>  \r\n                                        <span hidden={!(editMode.edit && editMode.person._id  === person._id)} className={classes.infoData}>\r\n                                        <TextField \r\n                                                      className={classes.TextBox} \r\n                                                      value={surname}\r\n                                                      onChange = {surnameChanged}\r\n                                                      inputProps= {{\r\n                                                          style:{\r\n                                                            padding: 0\r\n                                                          }\r\n                                                        }\r\n                                                      }\r\n                                                      > \r\n                                          </TextField> \r\n                                        </span>   \r\n                            </li>\r\n                            <li className={classes.li}>\r\n                                <span className={classes.infoTitle}>EMAIL</span> \r\n                                       <span hidden={(editMode.edit && editMode.person._id  === person._id)} className={classes.infoData}>{person.email?.toUpperCase()}</span>  \r\n                                        <span hidden={!(editMode.edit && editMode.person._id  === person._id)} className={classes.infoData}>\r\n                                        <TextField \r\n                                                      className={classes.TextBox} \r\n                                                      value={email}\r\n                                                      onChange = {emailChanged}\r\n                                                      inputProps= {{\r\n                                                          style:{\r\n                                                            padding: 0\r\n                                                          }\r\n                                                        }\r\n                                                      }\r\n                                                      > \r\n                                          </TextField> \r\n                                        </span>   \r\n                            </li>\r\n                            <li className={classes.li}>\r\n                                <span className={classes.infoTitle}>D.O.B</span>\r\n                                        <span hidden={(editMode.edit && editMode.person._id  === person._id)} className={classes.infoData}>{person.birthDate }</span>  \r\n                                        <span hidden={!(editMode.edit && editMode.person._id  === person._id)} className={classes.infoData}>\r\n                                        <TextField \r\n                                                      error={validationError.dobError} \r\n                                                      className={classes.TextBox} \r\n                                                      value={dob}\r\n                                                      onChange = {dobChanged}\r\n                                                      inputProps= {{\r\n                                                          style:{\r\n                                                            padding: 0\r\n                                                          }\r\n                                                        }\r\n                                                      }\r\n                                                      > \r\n                                          </TextField> \r\n                                        </span>   \r\n                            </li>\r\n                            <li className={classes.li}>\r\n                                <span className={classes.infoTitle}>TEL</span>\r\n                                 <span hidden={(editMode.edit && editMode.person._id  === person._id)} className={classes.infoData}>{person.phone?.toUpperCase()}</span>  \r\n                                        <span hidden={!(editMode.edit && editMode.person._id  === person._id)} className={classes.infoData}>\r\n                                        <TextField \r\n                                                      className={classes.TextBox} \r\n                                                      value={tel}\r\n                                                      onChange = {telChanged}\r\n                                                      inputProps= {{\r\n                                                          style:{\r\n                                                            padding: 0\r\n                                                          }\r\n                                                        }\r\n                                                      }\r\n                                                      > \r\n                                          </TextField> \r\n                                        </span>  \r\n                            </li>\r\n                            <li className={classes.li}>\r\n                                <span className={classes.infoTitle}>POST CODE</span> \r\n                                        <span hidden={(editMode.edit && editMode.person._id  === person._id)} className={classes.infoData}>{person.postCode?.toUpperCase()}</span>  \r\n                                        <span hidden={!(editMode.edit && editMode.person._id  === person._id)} className={classes.infoData}>\r\n                                        <TextField \r\n                                                      className={classes.TextBox} \r\n                                                      value={postCode}\r\n                                                      onChange = {postCodeChanged}\r\n                                                      inputProps= {{\r\n                                                          style:{\r\n                                                            padding: 0\r\n                                                          }\r\n                                                        }\r\n                                                      }\r\n                                                      > \r\n                                          </TextField> \r\n                                        </span>  \r\n                            </li>\r\n                            <li className={classes.li}>\r\n                                <span className={classes.infoTitle}>ADDRESS</span> \r\n                                        <span hidden={(editMode.edit && editMode.person._id  === person._id)} className={classes.infoData}>{person.address?.toUpperCase()}</span>  \r\n                                        <span hidden={!(editMode.edit && editMode.person._id  === person._id)} className={classes.infoData}>\r\n                                        <TextField \r\n                                                      className={classes.TextBox} \r\n                                                      value={address}\r\n                                                      onChange = {addressChanged}\r\n                                                      inputProps= {{\r\n                                                          style:{\r\n                                                            padding: 0\r\n                                                          }\r\n                                                        }\r\n                                                      }\r\n                                                      > \r\n                                          </TextField> \r\n                                        </span>  \r\n                            </li>\r\n                            <li className={classes.li}>\r\n                                <span className={classes.infoTitle}>NOTES</span> \r\n                                        <span hidden={(editMode.edit && editMode.person._id  === person._id)} className={classes.infoData}>{person.notes?.toUpperCase()}</span>  \r\n                                        <span hidden={!(editMode.edit && editMode.person._id  === person._id)} className={classes.infoData}>\r\n                                        <TextField \r\n                                                      className={classes.TextBox} \r\n                                                      value={notes}\r\n                                                      onChange = {notesChanged}\r\n                                                      inputProps= {{\r\n                                                          style:{\r\n                                                            padding: 0\r\n                                                          }\r\n                                                        }\r\n                                                      }\r\n                                                      > \r\n                                          </TextField> \r\n                                        </span>   \r\n                            </li>\r\n                            <li className={classes.li}>\r\n                                <span className={classes.infoTitle}>PASSPORT NO.</span>\r\n                                <span hidden={(editMode.edit && editMode.person._id  === person._id)} className={classes.infoData}>{person.passportNumber?.toUpperCase()}</span>  \r\n                                        <span hidden={!(editMode.edit && editMode.person._id  === person._id)} className={classes.infoData}>\r\n                                        <TextField \r\n                                                      className={classes.TextBox} \r\n                                                      value={passport}\r\n                                                      onChange = {passportChanged}\r\n                                                      inputProps= {{\r\n                                                          style:{\r\n                                                            padding: 0\r\n                                                          }\r\n                                                        }\r\n                                                      }\r\n                                                      > \r\n                                          </TextField> \r\n                                        </span>  \r\n                            </li>\r\n\r\n                            <li className={classes.li}>\r\n                                <span className={classes.infoTitle}>SECOND PASSPORT NO.</span> \r\n                                        <span hidden={(editMode.edit && editMode.person._id  === person._id)} className={classes.infoData}>{person.passportNumber2?.toUpperCase()}</span>  \r\n                                        <span hidden={!(editMode.edit && editMode.person._id  === person._id)} className={classes.infoData}>\r\n                                        <TextField \r\n                                                      className={classes.TextBox} \r\n                                                      value={passport2}\r\n                                                      onChange = {passport2Changed}\r\n                                                      inputProps= {{\r\n                                                          style:{\r\n                                                            padding: 0\r\n                                                          }\r\n                                                        }\r\n                                                      }\r\n                                                      > \r\n                                          </TextField> \r\n                                        </span>   \r\n                            </li>\r\n\r\n                            <li className={classes.li}>\r\n                                <span className={classes.infoTitle}>REQUEST FOR CERTIFICATE</span> \r\n                                <span hidden={(editMode.edit && editMode.person._id  === person._id)} className={classes.infoData}>{person.certificate ? ( <CheckIcon className={classes.checkIcon}/> ) :  <CloseIcon className={classes.closeIcon}/> }</span>\r\n                                <span hidden={!(editMode.edit && editMode.person._id  === person._id)} className={classes.infoData}>\r\n                                    <FormControlLabel className={classes.formControl} \r\n                                          control={<Checkbox className={classes.formControl}  color=\"secondary\" name=\"certificate\" checked={certificate} onChange={certificateChanged} />}\r\n                                          label=''\r\n                                        />\r\n                                </span>    \r\n                            </li>\r\n                            <li className={classes.li}>\r\n                                <span className={classes.infoTitle}>REQUEST FOR ANTIBODY TEST</span>\r\n                                <span hidden={(editMode.edit && editMode.person._id  === person._id)} className={classes.infoData}>{person.antiBodyTest ? <CheckIcon className={classes.checkIcon}/> :  <CloseIcon className={classes.closeIcon}/> }</span>  \r\n                                <span hidden={!(editMode.edit && editMode.person._id  === person._id)} className={classes.infoData}>\r\n                                    <FormControlLabel className={classes.formControl} \r\n                                          control={<Checkbox className={classes.formControl}  color=\"secondary\" name=\"certificate\" checked={antiBodyTest} onChange={antiBodyTestChanged} />}\r\n                                          label=''\r\n                                        />\r\n                                </span>   \r\n                            </li>\r\n                            <li className={classes.li}>\r\n                                <span className={classes.infoTitle}>STATUS</span> {getStatusLabel(person.status)} \r\n                            </li>\r\n      \r\n                            <li className={classes.li}>\r\n                                <span className={classes.infoTitle}>TOTAL CHARGES</span> <span className={calculatePrice(person) <= 199 ? classes.infoDataCharges : classes.infoDataChargesHigher}>{`${calculatePrice(person)}`}</span>  \r\n                            </li>\r\n\r\n                            <li  hidden={person.deleted} >\r\n                                 <Button\r\n                                    type=\"button\"\r\n                                    fullWidth\r\n                                    variant=\"outlined\"\r\n                                    color=\"primary\"\r\n                                    onClick = {() => {downloadForm1(person._id)}}\r\n                                    // onTouchTap = {() => {downloadForm1(person._id)}}\r\n                                    className={classes.DownloadForm}\r\n                                 >\r\n                                    Download Registration Form\r\n                                </Button>\r\n                            </li>\r\n\r\n                            <li  hidden={person.deleted}>\r\n                                  <Button\r\n                                    type=\"button\"\r\n                                    fullWidth\r\n                                    variant=\"outlined\"\r\n                                    color=\"primary\"\r\n                                    onClick = {() => {downloadForm2(person._id)}}\r\n                                    // onTouchTap = {() => {downloadForm2(person._id)}}\r\n                                    className={classes.DownloadForm}\r\n                                    >\r\n                                    Download Lab Form\r\n                                 </Button>\r\n                            </li>\r\n\r\n                            <li hidden={ person.deleted || (person.status !== 'report_sent' && person.status !== 'report_cert_sent') }>\r\n                                 <Button\r\n                                    type=\"button\"\r\n                                    fullWidth\r\n                                    variant=\"outlined\"\r\n                                    color=\"primary\"\r\n                                    onClick = {() => {downloadLabResults(person._id)}}\r\n                                    // onTouchTap = {() => {downloadForm1(person._id)}}\r\n                                    className={classes.DownloadForm}\r\n                                 >\r\n                                    Download Lab Results\r\n                                </Button>\r\n                            </li>\r\n\r\n                            <li hidden={person.deleted || person.status !== 'report_cert_sent'}>\r\n                                 <Button\r\n                                    type=\"button\"\r\n                                    fullWidth\r\n                                    variant=\"outlined\"\r\n                                    color=\"primary\"\r\n                                    onClick = {() => {downloadCertificate(person._id)}}\r\n                                    // onTouchTap = {() => {downloadForm1(person._id)}}\r\n                                    className={classes.DownloadForm}\r\n                                 >\r\n                                    Download Certificate\r\n                                </Button>\r\n                            </li>\r\n\r\n                        </ul>\r\n\r\n                    </AccordionDetails>\r\n                    </Accordion>\r\n                </div>\r\n            </Grid> \r\n          ))}\r\n    </Grid>\r\n    </React.Fragment>\r\n  );\r\n}\r\n","import React, { useEffect } from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Link from '@material-ui/core/Link';\r\nimport Box from '@material-ui/core/Box';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport GlobalState from './GlobalState';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport PropTypes from 'prop-types';\r\nimport MaskedInput from 'react-text-mask';\r\nimport { FormControl, Grid, Input, InputLabel } from '@material-ui/core';\r\nimport BookService from './services/BookService';\r\nimport PersonsBox from './PersonsBox';\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright  '}\r\n      <Link color=\"inherit\" href=\"#\">\r\n        Medical Express Clinic\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\n\r\n\r\nconst isBoolean = (param) => typeof(param) === \"boolean\"\r\n\r\nconst useFocus = (initialFocus = false, id = \"\") => {\r\n    const [focus, setFocus] = React.useState(initialFocus)\r\n    const setFocusWithTrueDefault = (param) => setFocus(isBoolean(param)? param : true)\r\n    return ([\r\n        setFocusWithTrueDefault, {\r\n            autoFocus: focus,\r\n            key: `${id}${focus}`,\r\n            onFocus: () => setFocus(true),\r\n            onBlur: () => setFocus(false),\r\n        },\r\n    ])\r\n}\r\n\r\n\r\nfunction TextMaskCustom(props) {\r\n    const { inputRef, ...other } = props;\r\n  \r\n    return (\r\n      <MaskedInput\r\n        {...other}\r\n        ref={(ref) => {\r\n          inputRef(ref ? ref.inputElement : null);\r\n        }}\r\n        mask={[/\\d/, /\\d/, /\\d/, '-', /\\d/, /\\d/, /\\d/, '-', /\\d/, /\\d/, /\\d/]}\r\n        // placeholderChar={'\\u2000'}\r\n        showMask\r\n      />\r\n    );\r\n  }\r\n  \r\n  TextMaskCustom.propTypes = {\r\n    inputRef: PropTypes.func.isRequired,\r\n  };\r\n\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    root: {\r\n        width: '100%',\r\n        '& > * + *': {\r\n          marginTop: theme.spacing(2),\r\n        },\r\n        marginTop: \"20px\"\r\n      },  \r\n\r\n    paper: {\r\n        marginTop: theme.spacing(8),\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n    },\r\n\r\n    avatar: {\r\n        margin: theme.spacing(1),\r\n        backgroundColor: theme.palette.secondary.main,\r\n    },\r\n\r\n    form: {\r\n        width: '100%', // Fix IE 11 issue.\r\n        marginTop: theme.spacing(1),\r\n    },\r\n\r\n    Find: {\r\n        width: \"80px\"\r\n    },\r\n\r\n    Clear:{\r\n        marginRight: \"20px\"\r\n    },\r\n\r\n    title:{\r\n        marginTop : \"20px\"\r\n    },\r\n\r\n    TextBox:{\r\n        marginTop: \"30px\",\r\n        \"& > *\" :\r\n        {\r\n            textAlign: \"center\"\r\n        },\r\n  \r\n    },\r\n\r\n    TextField:{\r\n\r\n    },\r\n\r\n    NoRecordsFound:{\r\n        marginTop: \"20px\",\r\n        color: \"red\",\r\n        fontWeight: \"600\",\r\n        fontSize: \"14px\",\r\n    },\r\n\r\n    PersonsBox:{\r\n        marginTop : \"20px\",\r\n        marginBottom: \"50px\"\r\n    }\r\n\r\n}));\r\n\r\nexport default function FindByRef() {\r\n  const classes = useStyles();\r\n  const [state, setState] = React.useContext(GlobalState);\r\n  \r\n  const [setFocus, focusProps] = useFocus(true);\r\n\r\n  useEffect( () =>\r\n  {\r\n     findRecords();\r\n  }, [state.findRecords]);\r\n\r\n\r\n  useEffect( () => {\r\n    BookService.getBookingsByRef(state.ref).then( (res)=>\r\n    {\r\n        if (res.data.length > 0)\r\n        {\r\n            setState(state => ({...state, foundRecords : res.data}));\r\n        }\r\n    });\r\n    }, [state.RefreshPersonInfo]);\r\n\r\n    const handleChange = (event) =>\r\n    {\r\n        setState(state => ({...state, ref : event.target.value}));\r\n        setState(state => ({...state, refError : false})); \r\n    }\r\n\r\n    const clearField = () =>\r\n    {\r\n        setState(state => ({...state, refError : false})); \r\n        setState(state => ({...state, ref : '___-___-___'}));\r\n        setState(state => ({...state, foundRecords : []}));\r\n        setFocus();\r\n    }\r\n\r\n    const findRecords = () =>\r\n    {\r\n        if (!state.ref || state.ref.indexOf('_') >= 0)\r\n        {\r\n            setState(state => ({...state, refError : true}));  \r\n            return;\r\n        }\r\n\r\n        setState(state => ({...state, submiting : true}));\r\n        setState(state => ({...state, foundRecords : []}));\r\n\r\n        BookService.getBookingsByRef(state.ref).then( (res)=>\r\n        {\r\n            setState(state => ({...state, submiting : false}));\r\n            if (res.data.length > 0)\r\n            {\r\n                setState(state => ({...state, foundRecords : res.data}));\r\n            }\r\n            else\r\n            {\r\n                setState(state => ({...state, foundRecords : null}));\r\n            }\r\n            \r\n            console.log(res.data);\r\n\r\n        }).catch( (err) =>\r\n        {\r\n            console.log(err);\r\n            setState(state => ({...state, submiting : false}));\r\n        });\r\n    }\r\n\r\n  return (\r\n    <React.Fragment>\r\n        <CssBaseline />\r\n        <div className={classes.title}>\r\n            <Typography component=\"h6\" variant=\"h6\" align=\"center\">\r\n                Find Booking Appoinments\r\n            </Typography>  \r\n        </div> \r\n\r\n        <Grid container direction=\"column\" spacing={1} justify=\"flex-start\"  alignItems=\"center\">\r\n\r\n        <Grid item xs={12} md={12}>\r\n            <FormControl className={classes.TextBox}>\r\n                <TextField\r\n                    {...focusProps}\r\n                    //autoFocus \r\n                    pattern=\"[0-9]*\"\r\n                    error = {state.refError ? true : false} \r\n                    value = {state.ref}\r\n                    className = {classes.TextField}\r\n                    width = \"50px\"\r\n                    onChange={handleChange}\r\n                    label=\"Reference No.\"\r\n                    helperText=\"Enter Your 9-digits Reference No.\"\r\n                    name=\"refNo\"\r\n                    id=\"refNo\"\r\n                    variant=\"outlined\"\r\n                    \r\n                    size=\"medium\"\r\n                    margin=\"normal\"\r\n                    fullWidth = {true}\r\n                    InputProps={{\r\n                        inputComponent: TextMaskCustom,\r\n                        style: { textAlign: 'center', fontSize:\"24px\", width: \"210px\", paddingLeft: \"20px\" }\r\n                    }}\r\n\r\n                    onKeyPress= {event => {\r\n                        if (event.key === 'Enter') {\r\n                            findRecords();\r\n                        }\r\n                      }}\r\n                />         \r\n            </FormControl>\r\n        </Grid>\r\n\r\n        <Grid item xs={12} md={12}>\r\n               \r\n                <Button\r\n                    disabled = {state.submiting}\r\n                    color=\"default\"\r\n                    onClick = {clearField}\r\n                    onTouchTap = {clearField}\r\n                    className={classes.Clear}\r\n                >\r\n                    Clear \r\n                </Button>  \r\n            \r\n                <Button\r\n                    type=\"button\"\r\n                    disabled = {state.submiting}\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    onClick = {findRecords}\r\n                    onTouchTap = {findRecords}\r\n                    className={classes.Find}\r\n                >\r\n                    Find \r\n                </Button>  \r\n        </Grid>\r\n\r\n        <Grid item xs={12} md={12}>\r\n\r\n                    \r\n\r\n            {state.foundRecords && state.foundRecords.length > 0 && (\r\n                <React.Fragment>\r\n\r\n                    <div className={classes.PersonsBox}>\r\n                          <PersonsBox/>\r\n                    </div>\r\n                    \r\n\r\n\r\n                </React.Fragment>\r\n            )}   \r\n\r\n            {!state.foundRecords && (\r\n                <React.Fragment>\r\n\r\n                <div className={classes.root}>\r\n                    <Alert severity=\"error\"> <strong>No Records Found !</strong> <br/> Please check you reference number again.</Alert>\r\n                </div> \r\n                   \r\n                </React.Fragment>\r\n            )}\r\n\r\n        </Grid>\r\n        \r\n        \r\n        </Grid>\r\n        \r\n    </React.Fragment>\r\n   \r\n  );\r\n}","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nexport default function Title(props) {\r\n  return (\r\n    <Typography component=\"h2\" variant=\"h6\" color=\"primary\" gutterBottom>\r\n      {props.children}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nTitle.propTypes = {\r\n  children: PropTypes.node,\r\n};","import React from 'react';\r\nimport { useTheme } from '@material-ui/core/styles';\r\nimport { LineChart, Line, XAxis, YAxis, Label, ResponsiveContainer } from 'recharts';\r\nimport Title from './Title';\r\n\r\n// Generate Sales Data\r\nfunction createData(time, amount) {\r\n  return { time, amount };\r\n}\r\n\r\nconst data = [\r\n  createData('00:00', 0),\r\n  createData('03:00', 3),\r\n  createData('06:00', 6),\r\n  createData('09:00', 8),\r\n  createData('12:00', 15),\r\n  createData('15:00', 20),\r\n  createData('18:00', 24),\r\n  createData('21:00', 24),\r\n  createData('24:00', undefined),\r\n];\r\n\r\nexport default function Chart() {\r\n  const theme = useTheme();\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Title>Today</Title>\r\n      <ResponsiveContainer>\r\n        <LineChart\r\n          data={data}\r\n          margin={{\r\n            top: 16,\r\n            right: 16,\r\n            bottom: 0,\r\n            left: 24,\r\n          }}\r\n        >\r\n          <XAxis dataKey=\"time\" stroke={theme.palette.text.secondary} />\r\n          <YAxis stroke={theme.palette.text.secondary}>\r\n            <Label\r\n              angle={270}\r\n              position=\"left\"\r\n              style={{ textAnchor: 'middle', fill: theme.palette.text.primary }}\r\n            >\r\n              Online Bookings\r\n            </Label>\r\n          </YAxis>\r\n          <Line type=\"monotone\" dataKey=\"amount\" stroke={theme.palette.primary.main} dot={false} />\r\n        </LineChart>\r\n      </ResponsiveContainer>\r\n    </React.Fragment>\r\n  );\r\n}","import React from 'react';\r\nimport Link from '@material-ui/core/Link';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Title from './Title';\r\nimport { Tooltip } from '@material-ui/core';\r\nimport * as dateformat from 'dateformat';\r\n\r\n\r\nfunction preventDefault(event) {\r\n  event.preventDefault();\r\n}\r\n\r\nconst useStyles = makeStyles({\r\n  depositContext: {\r\n    flex: 1,\r\n  },\r\n});\r\n\r\nexport default function Deposits() {\r\n  const classes = useStyles();\r\n  return (\r\n    <React.Fragment>\r\n\r\n      <Title>Current Visits</Title>\r\n      <Typography component=\"p\" variant=\"h6\">\r\n        9:00 AM - 9:15 AM\r\n      </Typography>\r\n      <Typography color=\"textSecondary\" className={classes.depositContext}>\r\n        on {dateformat(new Date(), 'dd mmmm, yyyy') } \r\n      </Typography>\r\n      <div>\r\n        <Link color=\"primary\" href=\"#\" onClick={preventDefault}>\r\n          \r\n                  View Visitors\r\n          \r\n        </Link>\r\n      </div>\r\n\r\n    </React.Fragment>\r\n  );\r\n}","import React from 'react';\r\nimport Link from '@material-ui/core/Link';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Title from './Title';\r\n\r\n// Generate Order Data\r\nfunction createData(id, date, name, shipTo, paymentMethod, amount) {\r\n  return { id, date, name, shipTo, paymentMethod, amount };\r\n}\r\n\r\nconst rows = [\r\n  createData(0, '16 Mar, 2019', 'Elvis Presley', 'Tupelo, MS', 'VISA  3719', 312.44),\r\n  createData(1, '16 Mar, 2019', 'Paul McCartney', 'London, UK', 'VISA  2574', 866.99),\r\n  createData(2, '16 Mar, 2019', 'Tom Scholz', 'Boston, MA', 'MC  1253', 100.81),\r\n  createData(3, '16 Mar, 2019', 'Michael Jackson', 'Gary, IN', 'AMEX  2000', 654.39),\r\n  createData(4, '15 Mar, 2019', 'Bruce Springsteen', 'Long Branch, NJ', 'VISA  5919', 212.79),\r\n];\r\n\r\nfunction preventDefault(event) {\r\n  event.preventDefault();\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  seeMore: {\r\n    marginTop: theme.spacing(3),\r\n  },\r\n}));\r\n\r\nexport default function Orders() {\r\n  const classes = useStyles();\r\n  return (\r\n    <React.Fragment>\r\n      <Title>Recent Orders</Title>\r\n      <Table size=\"small\">\r\n        <TableHead>\r\n          <TableRow>\r\n            <TableCell>Date</TableCell>\r\n            <TableCell>Name</TableCell>\r\n            <TableCell>Ship To</TableCell>\r\n            <TableCell>Payment Method</TableCell>\r\n            <TableCell align=\"right\">Sale Amount</TableCell>\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {rows.map((row) => (\r\n            <TableRow key={row.id}>\r\n              <TableCell>{row.date}</TableCell>\r\n              <TableCell>{row.name}</TableCell>\r\n              <TableCell>{row.shipTo}</TableCell>\r\n              <TableCell>{row.paymentMethod}</TableCell>\r\n              <TableCell align=\"right\">{row.amount}</TableCell>\r\n            </TableRow>\r\n          ))}\r\n        </TableBody>\r\n      </Table>\r\n      <div className={classes.seeMore}>\r\n        <Link color=\"primary\" href=\"#\" onClick={preventDefault}>\r\n          See more orders\r\n        </Link>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n}","import React, { useEffect } from 'react';\r\nimport Link from '@material-ui/core/Link';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Title from './Title';\r\nimport BookService from './services/BookService';\r\nimport * as dateformat from 'dateformat';\r\nimport GlobalState from './GlobalState';\r\nimport { getMenuIndex } from './MenuList';\r\n\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  seeMore: {\r\n    marginTop: theme.spacing(3),\r\n  },\r\n}));\r\n\r\nexport default function BookingView() {\r\n  const classes = useStyles();\r\n  const [state, setState] = React.useContext(GlobalState);  \r\n\r\n  const [data, setData] = React.useState({bookings: [] , isFetching : false});\r\n\r\n  const seeMoreRecords = (event) => {\r\n    event.preventDefault();\r\n    setState(state=>({...state, currentMenuIndex:getMenuIndex(`recentBookings`)}));\r\n  }\r\n\r\n\r\n  useEffect( () => {\r\n\r\n            setData({bookings: data.bookings, isFetching: true});\r\n            BookService.getRecentBookings().then( (res) =>{\r\n                setData({bookings: res.data, isFetching: false});\r\n\r\n            }).catch( (err) => {\r\n                console.log(err);\r\n                setData({bookings: data.bookings, isFetching: false});\r\n            });\r\n        },\r\n        []);   \r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Title>Recent Bookings</Title>\r\n      <Table size=\"small\">\r\n        <TableHead>\r\n          <TableRow>\r\n            <TableCell>TimeStamp</TableCell>        \r\n            <TableCell>Name</TableCell>\r\n            <TableCell>Surname</TableCell>\r\n            <TableCell>Email</TableCell>\r\n            <TableCell>D.O.B</TableCell>\r\n            <TableCell>Booked Date</TableCell>\r\n            <TableCell>Booked Time</TableCell> \r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {data.bookings.map((row) => (\r\n            <TableRow key={row._id}>\r\n              <TableCell>{dateformat(row.timeStamp, \"mmm dS, h:MM:ss TT\")}</TableCell>\r\n              <TableCell>{row.forename}</TableCell>\r\n              <TableCell>{row.surname}</TableCell>\r\n              <TableCell>{row.email}</TableCell>\r\n              <TableCell>{row.birthDate}</TableCell>\r\n              <TableCell>{row.bookingDate}</TableCell>\r\n              <TableCell>{row.bookingTime}</TableCell>\r\n            </TableRow>\r\n          ))}\r\n        </TableBody>\r\n      </Table>\r\n      <div className={classes.seeMore}>\r\n        <Link color=\"primary\" href=\"#\" onClick={seeMoreRecords}>\r\n          See more records\r\n        </Link>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n}","import React from 'react';\r\nimport clsx from 'clsx';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Chart from './Chart';\r\nimport Deposits from './Deposits';\r\nimport Orders from './Orders';\r\n\r\n\r\nimport { Tooltip } from '@material-ui/core';\r\nimport GlobalState from './GlobalState';\r\nimport BookingView from './BookingView';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n \r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    display: 'flex',\r\n    overflow: 'auto',\r\n    flexDirection: 'column',\r\n  },\r\n  fixedHeight: {\r\n    height: 240,\r\n  },\r\n}));\r\n\r\nexport default function DashboardPreview() {\r\n  const classes = useStyles();\r\n  const [state, setState] = React.useContext(GlobalState);\r\n\r\n  const fixedHeightPaper = clsx(classes.paper, classes.fixedHeight);\r\n\r\n  return (\r\n        <React.Fragment>\r\n\r\n<           Grid container spacing={3}>\r\n                    {/* Chart */}\r\n                    <Grid item xs={12} md={8} lg={9}>\r\n                    <Paper className={fixedHeightPaper}>\r\n                        <Chart />\r\n                    </Paper>\r\n                    </Grid>\r\n                    {/* Recent Deposits */}\r\n                    <Grid item xs={12} md={4} lg={3}>\r\n                    <Paper className={fixedHeightPaper}>\r\n                        <Deposits />\r\n                    </Paper>\r\n                    </Grid>\r\n                    {/* Recent Orders */}\r\n                    <Grid item xs={12}>\r\n                    <Paper className={classes.paper}>\r\n                        <BookingView/>\r\n                    </Paper>\r\n                    </Grid>\r\n          </Grid>\r\n        </React.Fragment>\r\n  );\r\n}","import React, {useEffect, useRef, useState} from 'react';\r\nimport { DataGrid } from '@material-ui/data-grid';\r\nimport BookService from './services/BookService';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { Button, Grid, Link, makeStyles, TextField, Tooltip } from '@material-ui/core';\r\nimport RefreshIcon from '@material-ui/icons/Refresh';\r\nimport { IconButton } from '@material-ui/core';\r\nimport LoaderSpinner from 'react-loader-spinner';\r\nimport GlobalState from './GlobalState';\r\n\r\nimport ToggleButton from '@material-ui/lab/ToggleButton';\r\nimport ToggleButtonGroup from '@material-ui/lab/ToggleButtonGroup';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  title: {\r\n    marginTop: theme.spacing(0),\r\n    marginBottom: theme.spacing(1),\r\n\r\n  },\r\n  \r\n  refreshButton:{\r\n    marginLeft: theme.spacing(2),\r\n  },\r\n\r\n  checkIcon:{\r\n    color: \"green\"\r\n  },\r\n\r\n  closeIcon:{\r\n    color: \"red\"\r\n  },\r\n\r\n  RefLink: {\r\n    cursor: \"pointer\"\r\n  },\r\n\r\n  BookedLabel:{\r\n    backgroundColor: \"#606060\",\r\n    color: \"#fff\",\r\n    paddingRight: \"10px\",\r\n    paddingLeft: \"10px\"\r\n  },\r\n\r\n  PatientAttendedLabel:{\r\n    backgroundColor: \"#0066aa\",\r\n    color: \"#fff\",\r\n    paddingRight: \"15px\",\r\n    paddingLeft: \"10px\"\r\n  },\r\n\r\n  SampleTakenLabel:{\r\n    backgroundColor: \"#0066cc\",\r\n    color: \"#fff\",\r\n    paddingRight: \"40px\",\r\n    paddingLeft: \"10px\"\r\n  },\r\n\r\n  ReportSentLabel:{\r\n    backgroundColor: \"#009900\",\r\n    color: \"#fff\",\r\n    paddingRight: \"90px\",\r\n    paddingLeft: \"10px\"\r\n  },\r\n\r\n  ReportCertSentLabel:{\r\n    backgroundColor: \"#009900\",\r\n    color: \"#fff\",\r\n    paddingRight: \"68px\",\r\n    paddingLeft: \"10px\"\r\n  }\r\n  \r\n}));\r\n\r\n\r\n\r\nexport default function UnmatchedRecords() {\r\n  \r\n  const classes = useStyles();\r\n\r\n  const columns = [\r\n    { field: 'id', headerName: '#', width: 50 },\r\n\r\n    { field: 'testDate', headerName: 'Test Date', width: 150 },\r\n    { field: 'forename', headerName: 'Forename', width: 300 },\r\n    { field: 'surname', headerName: 'Surname', width: 300 },\r\n    { field: 'birthDate', headerName: 'D.O.B', width: 150 },\r\n    { field: '_id' , headerName:'Action', width: 150 , renderCell: (params) => {\r\n        if (selectedTab === 'unresolved')\r\n        {\r\n            return (\r\n                <Button\r\n                disabled = {params.value === disableId}\r\n                type=\"button\"\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick = { event => archiveRecord(event,params.value)}\r\n                className={classes.archiveButton}\r\n              >\r\n                archive\r\n              </Button>\r\n            );\r\n        }else\r\n        {\r\n            return (\r\n                <Button\r\n                disabled = {params.value === disableId}\r\n                type=\"button\"\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick = { event => unArchiveRecord(event,params.value)}\r\n                className={classes.archiveButton}\r\n              >\r\n                Undo\r\n              </Button>\r\n            );\r\n        }\r\n        \r\n    } },\r\n   \r\n  ];\r\n\r\n  const [state, setState] = React.useContext(GlobalState);  \r\n\r\n  const [data, setData] = React.useState({bookings: [] , cachedBookings: [], isFetching : false});\r\n\r\n  const [selectedRow, setSelectedRow] = React.useState(null);\r\n\r\n  const [filter,setFilter] = React.useState('');\r\n\r\n  const [refresh, setRefresh] = React.useState(false);\r\n\r\n  const [disableId, setDisableId] = React.useState(null);\r\n\r\n  const [selectedTab, setSeletedTab] = React.useState('unresolved');\r\n\r\n  const handleTabChanged = (event, value) => {\r\n      if (value && value.length)\r\n      {\r\n        setSeletedTab(value);\r\n      }\r\n   \r\n  };\r\n\r\n  const archiveRecord = (event, id) =>\r\n  {\r\n      if (disableId)\r\n      {\r\n        return;\r\n      }\r\n        console.log(id);\r\n        setDisableId(id);\r\n        \r\n        BookService.archiveRecord(id).then(\r\n            (res) => {\r\n                setDisableId(null);\r\n                setRefresh(!refresh);\r\n            }\r\n        ).catch( (err) => {\r\n            setDisableId(null);\r\n        })\r\n  }\r\n\r\n  const unArchiveRecord = (event, id) =>\r\n  {\r\n      if (disableId)\r\n      {\r\n        return;\r\n      }\r\n        console.log(id);\r\n        setDisableId(id);\r\n        \r\n        BookService.unArchiveRecord(id).then(\r\n            (res) => {\r\n                setDisableId(null);\r\n                setRefresh(!refresh);\r\n            }\r\n        ).catch( (err) => {\r\n            setDisableId(null);\r\n        })\r\n  }\r\n\r\n\r\n  const lastPromise = useRef();\r\n\r\n  useEffect( () => {\r\n\r\n            var api = BookService.getUnmatchedRecords;\r\n            if (selectedTab === 'archived')\r\n            {\r\n                api = BookService.getUnmatchedRecordsArchived;\r\n            }\r\n                      \r\n            setData({bookings: [], cachedBookings: [], isFetching: true});\r\n            const currentPromise = api().then( (res) =>{\r\n              \r\n              for (var i=0; i < res.data.length; i++)\r\n              {\r\n                res.data[i] = {...res.data[i], id : i + 1}\r\n              }  \r\n              \r\n              return res.data;\r\n            })\r\n\r\n            lastPromise.current = currentPromise;\r\n\r\n            currentPromise.then(\r\n              result => {\r\n                if (currentPromise === lastPromise.current) {\r\n                  setData({bookings: result, cachedBookings: [...result], isFetching: false});\r\n                }\r\n              },\r\n              e => {\r\n                if (currentPromise === lastPromise.current) {\r\n                    console.log(e);\r\n                    setData({bookings: data.bookings, cachedBookings: data.cachedBookings, isFetching: false});\r\n                }\r\n              });\r\n        },\r\n        [refresh, selectedTab]);\r\n\r\n\r\n\r\n  useEffect( () => {\r\n\r\n        if (filter && filter.trim().length > 0)\r\n        {\r\n          var filteredData = data.bookings.filter( (element) => {\r\n\r\n            return (element.forename.toLowerCase().indexOf(filter.toLowerCase()) >= 0) ||\r\n                   (element.surname.toLowerCase().indexOf(filter.toLowerCase()) >= 0) \r\n            ;\r\n  \r\n          });\r\n  \r\n  \r\n          setData({bookings: filteredData, cachedBookings: data.cachedBookings, isFetching: false});\r\n        }else\r\n        {\r\n          setData({bookings: [...data.cachedBookings], cachedBookings: data.cachedBookings, isFetching: false});\r\n        }\r\n      },\r\n      [filter]);\r\n\r\n\r\n\r\n\r\n\r\n\r\n  const refreshClicked = (event) =>{\r\n    setFilter('');\r\n    setRefresh(!refresh);\r\n\r\n  }\r\n\r\n  const filterChanged = (event) =>{\r\n    setFilter(event.target.value);\r\n  }\r\n\r\n  const handleSelectionChanged = (newSelection) =>\r\n  {\r\n    if (newSelection.length > 0){\r\n      setSelectedRow(newSelection.rows[0]);\r\n    }\r\n  }\r\n\r\n \r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Grid container direction=\"row\" justify=\"space-between\" alignItems=\"flex-end\">\r\n        <Grid item md={3}>\r\n          <Typography\r\n            variant=\"h6\"\r\n            color=\"inherit\"\r\n            noWrap\r\n            className={classes.title}\r\n          >\r\n           Unmatched Records\r\n\r\n            <Tooltip title=\"Refresh\" placement=\"right\">\r\n              <IconButton\r\n                color=\"primary\"\r\n                className={classes.refreshButton}\r\n                onClick={refreshClicked}\r\n              >\r\n                <RefreshIcon />\r\n              </IconButton>\r\n            </Tooltip>\r\n\r\n          </Typography>\r\n        </Grid>\r\n\r\n        <Grid item md={3}>\r\n\r\n        <ToggleButtonGroup\r\n            value={selectedTab}\r\n            style= {{marginBottom: \"10px\"}}\r\n            exclusive\r\n            onChange={handleTabChanged}\r\n            aria-label=\"text alignment\"\r\n        >\r\n            <ToggleButton value=\"unresolved\" aria-label=\"left aligned\">\r\n                UnResolved\r\n            </ToggleButton>\r\n            <ToggleButton value=\"archived\" aria-label=\"centered\">\r\n                Archived\r\n            </ToggleButton>\r\n    </ToggleButtonGroup>\r\n\r\n    {/* {data.isFetching && (\r\n\r\n        <LoaderSpinner\r\n        type=\"ThreeDots\"\r\n        color=\"#3f51b5\"\r\n        height={50}\r\n        width={50}\r\n        timeout={0} //3 secs\r\n\r\n     />\r\n\r\n\r\n    )} */}\r\n\r\n\r\n        </Grid>\r\n\r\n\r\n        <Grid item md={3}>\r\n          <TextField\r\n            variant=\"standard\"\r\n            value={filter}\r\n            onChange={filterChanged}\r\n            margin=\"normal\"\r\n            size=\"small\"\r\n            id=\"filter\"\r\n            label=\"Filter\"\r\n            name=\"filter\"\r\n            autoComplete=\"off\"\r\n          />\r\n        </Grid>\r\n      </Grid>\r\n\r\n      <div style={{ height: 700, width: \"100%\" }}>\r\n        <DataGrid rows={data.bookings} \r\n                  columns={columns} \r\n                  autoPageSize\r\n                  onSelectionChange = {handleSelectionChanged}\r\n                  />\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n}","import ListSubheader from '@material-ui/core/ListSubheader';\r\nimport DashboardIcon from '@material-ui/icons/Dashboard';\r\nimport FindByRef from './FindByRef';\r\nimport BookingTable from './BookingTable';\r\nimport DashboardPreview from './DashboardPreview';\r\nimport UnmatchedRecords from './UnmatchedRecords';\r\n\r\nimport NewReleasesIcon from '@material-ui/icons/NewReleases';\r\nimport HistoryIcon from '@material-ui/icons/History';\r\nimport TimelineIcon from '@material-ui/icons/Timeline';\r\nimport DescriptionIcon from '@material-ui/icons/Description';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport AutorenewIcon from '@material-ui/icons/Autorenew';\r\nimport LiveTvIcon from '@material-ui/icons/LiveTv';\r\nimport PlaylistAddCheckIcon from '@material-ui/icons/PlaylistAddCheck';\r\nimport WarningIcon from '@material-ui/icons/Warning';\r\nimport AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\n\r\nexport const MenuList = [\r\n    {index: 0, id:`dashboard`, title: `Dashboard`, icon : <DashboardIcon/>, content: <DashboardPreview />},\r\n    {index: 1, id:`recentBookings`, title: `Recent Bookings`, icon : <AutorenewIcon/>, content: <BookingTable date=\"recent\"/>, hidden : false},\r\n    {index: 2, id:`todayBookings`, title: `Today's Bookings`, icon : <NewReleasesIcon/>, content: <BookingTable date=\"today\"/>},\r\n    {index: 3, id:`liveBookings`, title: `Live Bookings`, icon : <LiveTvIcon/>, content: <BookingTable date=\"live\"/>},\r\n    {index: 4, id:`oldBookings`, title: `Old Bookings`, icon : <HistoryIcon/>, content: <BookingTable date=\"old\"/>},\r\n    {index: 5, id:`futureBookings`, title: `Future Bookings`, icon : <TimelineIcon/>, content: <BookingTable date=\"future\"/>},\r\n    {index: 6, id:`allBookings`, title: `All Bookings`, icon : <DescriptionIcon/>, content: <BookingTable date=\"all\"/>},\r\n    {index: 7, id:`completedBookings`, title: `Completed Bookings`, icon : <PlaylistAddCheckIcon/>, content: <BookingTable date=\"completed\"/>},\r\n    {index: 8, id:`positiveBookings`, title: `Positive Results`, icon : <AddCircleOutlineIcon/>, content: <BookingTable date=\"positive\"/>},\r\n    {index: 9, id:`deletedBookings`, title: `Deleted Records`, icon : <DeleteIcon/>, content: <BookingTable date=\"deleted\"/>},\r\n    {index: 10, id:`unmatchedRecords`, title: `Unmatched Records`, icon : <WarningIcon/>, content: <UnmatchedRecords/>},\r\n    {index: 11, id:`findByRef`, title: `Find By Ref No`, icon : <SearchIcon/>, content: <FindByRef/>},\r\n  ];\r\n\r\n  export const getMenuContent = (index) =>\r\n  {\r\n      for (var i=0; i < MenuList.length; i++)\r\n      {\r\n          if (MenuList[i].index === index)\r\n          {\r\n              return MenuList[i].content;\r\n          }\r\n      }\r\n\r\n      return (`Page Not Found!`); \r\n  }\r\n\r\n\r\n  export const getMenuIndex = (id) =>\r\n  {\r\n      for (var i=0; i < MenuList.length; i++)\r\n      {\r\n          if (MenuList[i].id === id)\r\n          {\r\n              return MenuList[i].index;\r\n          }\r\n      }\r\n\r\n      return -1;\r\n  }\r\n\r\n\r\n\r\n\r\n","import React, {useEffect, useRef, useState} from 'react';\r\nimport { DataGrid } from '@material-ui/data-grid';\r\nimport BookService from './services/BookService';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { Grid, Link, makeStyles, TextField, Tooltip } from '@material-ui/core';\r\nimport RefreshIcon from '@material-ui/icons/Refresh';\r\nimport { IconButton } from '@material-ui/core';\r\nimport LoaderSpinner from 'react-loader-spinner';\r\nimport CheckIcon from '@material-ui/icons/Check';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport { green, red } from '@material-ui/core/colors';\r\nimport GlobalState from './GlobalState';\r\nimport { Report } from '@material-ui/icons';\r\nimport { getMenuIndex } from './MenuList';\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  title: {\r\n    marginTop: theme.spacing(0),\r\n    marginBottom: theme.spacing(1),\r\n\r\n  },\r\n  \r\n  refreshButton:{\r\n    marginLeft: theme.spacing(2),\r\n  },\r\n\r\n  checkIcon:{\r\n    color: \"green\"\r\n  },\r\n\r\n  closeIcon:{\r\n    color: \"red\"\r\n  },\r\n\r\n  RefLink: {\r\n    cursor: \"pointer\"\r\n  },\r\n\r\n  BookedLabel:{\r\n    backgroundColor: \"#606060\",\r\n    color: \"#fff\",\r\n    paddingRight: \"10px\",\r\n    paddingLeft: \"10px\"\r\n  },\r\n\r\n  PatientAttendedLabel:{\r\n    backgroundColor: \"#0066aa\",\r\n    color: \"#fff\",\r\n    paddingRight: \"15px\",\r\n    paddingLeft: \"10px\"\r\n  },\r\n\r\n  SampleTakenLabel:{\r\n    backgroundColor: \"#0066cc\",\r\n    color: \"#fff\",\r\n    paddingRight: \"40px\",\r\n    paddingLeft: \"10px\"\r\n  },\r\n\r\n  ReportSentLabel:{\r\n    backgroundColor: \"#009900\",\r\n    color: \"#fff\",\r\n    paddingRight: \"90px\",\r\n    paddingLeft: \"10px\"\r\n  },\r\n\r\n  ReportCertSentLabel:{\r\n    backgroundColor: \"#009900\",\r\n    color: \"#fff\",\r\n    paddingRight: \"68px\",\r\n    paddingLeft: \"10px\"\r\n  },\r\n\r\n  PositiveLabel:{\r\n    backgroundColor: \"red\",\r\n    color: \"#fff\",\r\n    paddingRight: \"90px\",\r\n    paddingLeft: \"10px\",\r\n    fontWeight: \"800\"\r\n  }\r\n\r\n\r\n  \r\n}));\r\n\r\nconst getTableTitle = (str) =>{\r\n\r\n  if (str === 'today')\r\n  {\r\n    return `Today's Bookings`;\r\n  }else if (str === 'old')\r\n  {\r\n    return `Old Bookings`;\r\n  }else if (str === 'future')\r\n  {\r\n    return `Future Bookings`;\r\n  }else if (str === 'recent')\r\n  {\r\n    return `Recent Bookings`;\r\n  }else if (str === 'live')\r\n  {\r\n    return `Live Bookings`;\r\n  }else if (str === 'completed')\r\n  {\r\n    return `Completed Bookings`;\r\n  }else if (str === 'positive')\r\n  {\r\n    return `Positive Results`;\r\n  }else if (str === 'deleted')\r\n  {\r\n    return `Deleted Records`;\r\n  }\r\n  \r\n  else\r\n  {\r\n    return `All Bookings`;\r\n  }\r\n\r\n\r\n}\r\n\r\nexport default function BookingTable(props) {\r\n  \r\n  const classes = useStyles();\r\n\r\n\r\n\r\n\r\n  const columns = [\r\n    { field: 'id', headerName: '#', width: 50 },\r\n\r\n    { field: 'bookingDate', headerName: 'Booked Date', width: 120 },\r\n    { field: 'bookingTimeNormalized', headerName: 'Booked Time', width: 120 , valueGetter: (params) => {\r\n      return params.getValue('bookingTime');\r\n\r\n    }},\r\n    { field: 'status', headerName: 'Status', width: 200, renderCell: (params) =>{\r\n        if (params.value === 'booked')\r\n        {\r\n          return (\r\n            <span className={classes.BookedLabel}> Booking Made </span>\r\n          );\r\n      \r\n        }else if (params.value === 'patient_attended')\r\n        {\r\n          return (\r\n            <span  className={classes.PatientAttendedLabel}> Patient Attended </span>\r\n          );\r\n\r\n        }else if (params.value === 'sample_taken')\r\n        {\r\n          return (\r\n            <span  className={classes.SampleTakenLabel}> Sample Taken </span>\r\n          );\r\n\r\n        }else if (params.value === 'report_sent')\r\n        {\r\n          return (\r\n            <span  className={classes.ReportSentLabel}> Report Sent </span>\r\n          );\r\n\r\n        }else if (params.value === 'report_cert_sent')\r\n        {\r\n          return (\r\n            <span  className={classes.ReportCertSentLabel}> {`Rpt & Cert Sent`} </span>\r\n          );\r\n\r\n        }else if (params.value === 'positive')\r\n        {\r\n          return (\r\n            <span  className={classes.PositiveLabel}> {`POSITIVE`} </span>\r\n          );\r\n        }\r\n        \r\n        else{\r\n          return 'Unknown';\r\n        }\r\n      }\r\n    },\r\n    { field: 'bookingRef', headerName: 'Ref No.', width: 120 , renderCell: (params) =>{\r\n      return (\r\n        <Tooltip title=\"Go Find By Ref\" placement=\"right\">\r\n            <Link className={classes.RefLink} onClick={\r\n              () => {\r\n                // console.log(params.value);\r\n\r\n                setState(state => ({...state, currentMenuIndex: getMenuIndex(`findByRef`)}));\r\n                setState(state => ({...state, ref : params.value}));\r\n                setState(state => ({...state, refError : false})); \r\n                setState(state => ({...state, foundRecords : []}));\r\n                setState(state => ({...state, findRecords : !state.findRecords}));\r\n              }\r\n            }>\r\n              {params.value}\r\n            </Link>\r\n        </Tooltip>\r\n\r\n      );\r\n    }},\r\n    { field: 'forenameCapital', headerName: 'Forename', width: 150 },\r\n    { field: 'surnameCapital', headerName: 'Surname', width: 150 },\r\n    { field: 'birthDate', headerName: 'D.O.B', width: 120 },\r\n    { field: 'email', headerName: 'email', width: 300 , valueFormatter : (params) => {\r\n      return params.value.toUpperCase();\r\n    }},\r\n    { field: 'phone', headerName: 'Tel', width: 150 },\r\n    { field: 'passportNumber', headerName: 'Passport No.', width: 250,  valueGetter: (params) => {\r\n      const pass2 = params.getValue('passportNumber2');\r\n      if (pass2 && pass2.length > 0 && pass2.trim().length > 0)\r\n      {\r\n        return `${params.getValue('passportNumber')?.toUpperCase()} - ${params.getValue('passportNumber2')?.toUpperCase()}`\r\n      }\r\n      else\r\n      {\r\n        return params.getValue('passportNumber')?.toUpperCase();\r\n      }\r\n   \r\n\r\n    }},\r\n    { field: 'certificate', headerName: 'Certificate', width: 120,  renderCell: (params) => {\r\n        return params.value ? (\r\n          <CheckIcon className={classes.checkIcon}/>\r\n        ) :\r\n        (\r\n          <CloseIcon className={classes.closeIcon}/> \r\n        );\r\n    } },\r\n    { field: 'antiBodyTest', headerName: 'Antibody Test', width: 120,  renderCell: (params) => {\r\n      return params.value ? (\r\n        <CheckIcon className={classes.checkIcon}/>\r\n      ) :\r\n      (\r\n      <  CloseIcon className={classes.closeIcon}/> \r\n      );\r\n  } },\r\n    { field: 'postCode', headerName: 'Post Code', width: 150, valueFormatter : (params) => {\r\n      return params.value.toUpperCase();\r\n    } },\r\n    { field: 'address', headerName: 'Address', width: 500, valueFormatter : (params) => {\r\n      return params.value.toUpperCase();\r\n    } },\r\n    { field: 'notes', headerName: 'Notes', width: 500 },\r\n  \r\n  ];\r\n\r\n  const [state, setState] = React.useContext(GlobalState);  \r\n\r\n  const [data, setData] = React.useState({bookings: [] , cachedBookings: [], isFetching : false});\r\n\r\n  const [selectedRow, setSelectedRow] = React.useState(null);\r\n\r\n  const [filter,setFilter] = React.useState('');\r\n\r\n  const [refresh, setRefresh] = React.useState(false);\r\n\r\n  const lastPromise = useRef();\r\n\r\n  useEffect( () => {\r\n\r\n            var api = BookService.getAllBookings;\r\n            if (props.date === 'today')\r\n            {\r\n              api = BookService.getTodayBookings;\r\n            }else if (props.date === 'old')\r\n            {\r\n              api = BookService.getOldBookings;\r\n            }else if (props.date === 'future')\r\n            {\r\n              api = BookService.getFutureBookings;\r\n            }else if (props.date === 'recent')\r\n            {\r\n              api = BookService.getRecentBookingsAll;\r\n            }else if (props.date === 'live')\r\n            {\r\n              api = BookService.getLiveBookings;\r\n            }else if (props.date === 'completed')\r\n            {\r\n              api = BookService.getCompletedBookings;\r\n            }\r\n            else if (props.date === 'positive')\r\n            {\r\n              api = BookService.getPositiveBookings;\r\n            }\r\n            else if (props.date === 'deleted')\r\n            {\r\n              api = BookService.getDeletedBookings;\r\n            }\r\n                       \r\n            setData({bookings: [], cachedBookings: [], isFetching: true});\r\n            const currentPromise = api().then( (res) =>{\r\n              \r\n              for (var i=0; i < res.data.length; i++)\r\n              {\r\n                res.data[i] = {...res.data[i], id : i + 1}\r\n              }  \r\n              \r\n              return res.data;\r\n            })\r\n\r\n            lastPromise.current = currentPromise;\r\n\r\n            currentPromise.then(\r\n              result => {\r\n                if (currentPromise === lastPromise.current) {\r\n                  setData({bookings: result, cachedBookings: [...result], isFetching: false});\r\n                }\r\n              },\r\n              e => {\r\n                if (currentPromise === lastPromise.current) {\r\n                    console.log(e);\r\n                    setData({bookings: data.bookings, cachedBookings: data.cachedBookings, isFetching: false});\r\n                }\r\n              });\r\n        },\r\n        [props.date, refresh]);\r\n\r\n\r\n\r\n  useEffect( () => {\r\n\r\n        if (filter && filter.trim().length > 0)\r\n        {\r\n          var filteredData = data.bookings.filter( (element) => {\r\n\r\n            return (element.forename.toLowerCase().indexOf(filter.toLowerCase()) >= 0) ||\r\n                   (element.surname.toLowerCase().indexOf(filter.toLowerCase()) >= 0) ||\r\n                   (element.email.toLowerCase().indexOf(filter.toLowerCase()) >= 0)\r\n            \r\n            ;\r\n  \r\n          });\r\n  \r\n  \r\n          setData({bookings: filteredData, cachedBookings: data.cachedBookings, isFetching: false});\r\n        }else\r\n        {\r\n          setData({bookings: [...data.cachedBookings], cachedBookings: data.cachedBookings, isFetching: false});\r\n        }\r\n      },\r\n      [filter]);\r\n\r\n\r\n\r\n\r\n\r\n\r\n  const refreshClicked = (event) =>{\r\n    setFilter('');\r\n    setRefresh(!refresh);\r\n\r\n  }\r\n\r\n  const filterChanged = (event) =>{\r\n    setFilter(event.target.value);\r\n  }\r\n\r\n  const handleSelectionChanged = (newSelection) =>\r\n  {\r\n    if (newSelection.length > 0){\r\n      setSelectedRow(newSelection.rows[0]);\r\n    }\r\n    \r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Grid container direction=\"row\" justify=\"space-between\" alignItems=\"flex-end\">\r\n        <Grid item md={3}>\r\n          <Typography\r\n            variant=\"h6\"\r\n            color=\"inherit\"\r\n            noWrap\r\n            className={classes.title}\r\n          >\r\n            {getTableTitle(props.date)}\r\n\r\n            <Tooltip title=\"Refresh\" placement=\"right\">\r\n              <IconButton\r\n                color=\"primary\"\r\n                className={classes.refreshButton}\r\n                onClick={refreshClicked}\r\n              >\r\n                <RefreshIcon />\r\n              </IconButton>\r\n            </Tooltip>\r\n\r\n          </Typography>\r\n        </Grid>\r\n\r\n        <Grid item md={3}>\r\n\r\n    {data.isFetching && (\r\n\r\n        <LoaderSpinner\r\n        type=\"ThreeDots\"\r\n        color=\"#3f51b5\"\r\n        height={50}\r\n        width={50}\r\n        timeout={0} //3 secs\r\n\r\n     />\r\n\r\n\r\n    )}\r\n\r\n\r\n        </Grid>\r\n\r\n\r\n        <Grid item md={3}>\r\n          <TextField\r\n            variant=\"standard\"\r\n            value={filter}\r\n            onChange={filterChanged}\r\n            margin=\"normal\"\r\n            size=\"small\"\r\n            id=\"filter\"\r\n            label=\"Filter\"\r\n            name=\"filter\"\r\n            autoComplete=\"off\"\r\n          />\r\n        </Grid>\r\n      </Grid>\r\n\r\n      <div style={{ height: 700, width: \"100%\" }}>\r\n        <DataGrid rows={data.bookings} \r\n                  columns={columns} \r\n                  autoPageSize\r\n                  onSelectionChange = {handleSelectionChanged}\r\n                  />\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n}","import React from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Link from '@material-ui/core/Link';\r\nimport Box from '@material-ui/core/Box';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport GlobalState from './GlobalState';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport FindByRef from './FindByRef';\r\nimport BookingView from './BookingTable'\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright  '}\r\n      <Link color=\"inherit\" href=\"#\">\r\n        Medical Express Clinic\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    root: {\r\n        width: '100%',\r\n        '& > * + *': {\r\n          marginTop: theme.spacing(2),\r\n        },\r\n      },  \r\n\r\n    paper: {\r\n        marginTop: theme.spacing(8),\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n    },\r\n\r\n    avatar: {\r\n        margin: theme.spacing(1),\r\n        backgroundColor: theme.palette.secondary.main,\r\n    },\r\n\r\n    form: {\r\n        width: '100%', // Fix IE 11 issue.\r\n        marginTop: theme.spacing(1),\r\n    },\r\n\r\n    submit: {\r\n        margin: theme.spacing(3, 0, 2),\r\n    },\r\n}));\r\n\r\nexport default function AdminConsole() {\r\n  const classes = useStyles();\r\n  const [state, setState] = React.useContext(GlobalState);\r\n\r\n  return (\r\n    <React.Fragment>\r\n        <CssBaseline />\r\n\r\n        {/* <FindByRef/> */}\r\n\r\n          <BookingView/>       \r\n\r\n    </React.Fragment>\r\n\r\n   \r\n  );\r\n}","import React, { useEffect } from 'react';\r\nimport clsx from 'clsx';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\n\r\nimport { ListItemIcon, Tooltip } from '@material-ui/core';\r\nimport GlobalState from './GlobalState';\r\nimport { List, ListItem } from '@material-ui/core';\r\n\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport {MenuList} from './MenuList';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n \r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    display: 'flex',\r\n    overflow: 'auto',\r\n    flexDirection: 'column',\r\n  },\r\n  fixedHeight: {\r\n    height: 240,\r\n  },\r\n}));\r\n\r\n\r\n\r\nexport default function DashboardPreview() {\r\n  const classes = useStyles();\r\n  const [state, setState] = React.useContext(GlobalState);\r\n\r\n  const [selectedIndex, setSelectedIndex] = React.useState(0);\r\n\r\n  useEffect(() => {\r\n    setSelectedIndex(state.currentMenuIndex);\r\n  }, [state.currentMenuIndex]);\r\n\r\n  const handleListItemClick = (event, index) => {\r\n    setSelectedIndex(index);\r\n    setState(state => ({...state, currentMenuIndex: index}))\r\n  };\r\n\r\n  return (\r\n        <React.Fragment>\r\n\r\n            <List>\r\n\r\n                  {MenuList.map((item) => ( (!item.hidden) && (\r\n                        <ListItem button selected={selectedIndex === item.index} onClick={(event) => handleListItemClick(event, item.index)}>\r\n                        <ListItemIcon>\r\n                            {item.icon}\r\n                        </ListItemIcon>\r\n                        <ListItemText primary={`${item.title}`} />\r\n                        </ListItem>\r\n                     )\r\n                  ))}\r\n\r\n            </List>\r\n\r\n        </React.Fragment>\r\n  );\r\n}","import React, { useEffect } from 'react';\r\nimport clsx from 'clsx';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport Box from '@material-ui/core/Box';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Container from '@material-ui/core/Container';\r\nimport Link from '@material-ui/core/Link';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\r\n\r\nimport { ExitToAppOutlined } from '@material-ui/icons';\r\n\r\n\r\nimport { Tooltip } from '@material-ui/core';\r\nimport GlobalState from './GlobalState';\r\nimport Menu from './Menu';\r\nimport {getMenuContent} from './MenuList';\r\n\r\n\r\nfunction Copyright() {\r\n    return (\r\n      <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n        {'Copyright  '}\r\n        <Link color=\"inherit\" href=\"#\">\r\n          Medical Express Clinic\r\n        </Link>{' '}\r\n        {new Date().getFullYear()}\r\n        {'.'}\r\n      </Typography>\r\n    );\r\n  }\r\n  \r\n\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n  },\r\n  toolbar: {\r\n    paddingRight: 24, // keep right padding when drawer closed\r\n  },\r\n  toolbarIcon: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-end',\r\n    padding: '0 8px',\r\n    ...theme.mixins.toolbar,\r\n  },\r\n  appBar: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    transition: theme.transitions.create(['width', 'margin'], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n  },\r\n  appBarShift: {\r\n    marginLeft: drawerWidth,\r\n    width: `calc(100% - ${drawerWidth}px)`,\r\n    transition: theme.transitions.create(['width', 'margin'], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  menuButton: {\r\n    marginRight: 36,\r\n  },\r\n  menuButtonHidden: {\r\n    display: 'none',\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n  drawerPaper: {\r\n    position: 'relative',\r\n    whiteSpace: 'nowrap',\r\n    width: drawerWidth,\r\n    transition: theme.transitions.create('width', {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  drawerPaperClose: {\r\n    overflowX: 'hidden',\r\n    transition: theme.transitions.create('width', {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    width: theme.spacing(7),\r\n    [theme.breakpoints.up('sm')]: {\r\n      width: theme.spacing(9),\r\n    },\r\n  },\r\n  appBarSpacer: theme.mixins.toolbar,\r\n  content: {\r\n    flexGrow: 1,\r\n    height: '100vh',\r\n    overflow: 'auto',\r\n  },\r\n  container: {\r\n    paddingTop: theme.spacing(4),\r\n    paddingBottom: theme.spacing(4),\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    display: 'flex',\r\n    overflow: 'auto',\r\n    flexDirection: 'column',\r\n  },\r\n  fixedHeight: {\r\n    height: 240,\r\n  },\r\n}));\r\n\r\nexport default function Dashboard() {\r\n  const classes = useStyles();\r\n  const [state, setState] = React.useContext(GlobalState);\r\n  const [open, setOpen] = React.useState(true);\r\n\r\n  const [currentMenuIndex, setCurrentMenuIndex] = React.useState(0);\r\n\r\n  useEffect( () => {\r\n      setCurrentMenuIndex(state.currentMenuIndex);\r\n  },[state.currentMenuIndex]);\r\n\r\n  const handleDrawerOpen = () => {\r\n    setOpen(true);\r\n  };\r\n  const handleDrawerClose = () => {\r\n    setOpen(false);\r\n  };\r\n  const fixedHeightPaper = clsx(classes.paper, classes.fixedHeight);\r\n\r\n  const handleLogout = () =>\r\n  {\r\n    setState(state => ({...state, signedIn: false}));\r\n  }\r\n\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <CssBaseline />\r\n      <AppBar position=\"absolute\" className={clsx(classes.appBar, open && classes.appBarShift)}>\r\n        <Toolbar className={classes.toolbar}>\r\n          <IconButton\r\n            edge=\"start\"\r\n            color=\"inherit\"\r\n            aria-label=\"open drawer\"\r\n            onClick={handleDrawerOpen}\r\n            className={clsx(classes.menuButton, open && classes.menuButtonHidden)}\r\n          >\r\n            <MenuIcon />\r\n          </IconButton>\r\n          <Typography component=\"h1\" variant=\"h6\" color=\"inherit\" noWrap className={classes.title}>\r\n               PCR Booking Admin Console\r\n          </Typography>\r\n\r\n        {state.signedIn && (\r\n            <IconButton onClick={handleLogout} color=\"inherit\">\r\n                 <Tooltip title=\"Logout\">\r\n                      <ExitToAppOutlined/>\r\n                  </Tooltip>\r\n          </IconButton>\r\n        )}\r\n        </Toolbar>\r\n      </AppBar>\r\n     \r\n      <Drawer\r\n        variant=\"permanent\"\r\n        classes={{\r\n          paper: clsx(classes.drawerPaper, !open && classes.drawerPaperClose),\r\n        }}\r\n        open={open}\r\n      >\r\n        <div className={classes.toolbarIcon}>\r\n          <IconButton onClick={handleDrawerClose}>\r\n            <ChevronLeftIcon />\r\n          </IconButton>\r\n        </div>\r\n        <Divider />\r\n\r\n        <Menu/>\r\n\r\n\r\n      </Drawer>\r\n\r\n\r\n      <main className={classes.content}>\r\n        <div className={classes.appBarSpacer} />\r\n        <Container maxWidth=\"lg\" className={classes.container}>\r\n\r\n          {getMenuContent(currentMenuIndex)}\r\n\r\n          <Box pt={4}>\r\n            <Copyright />\r\n          </Box>\r\n        </Container>\r\n      </main>\r\n    </div>\r\n  );\r\n}","import React from 'react';\r\n\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\n\r\nimport Link from '@material-ui/core/Link';\r\n\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nimport GlobalState from './GlobalState';\r\n\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\n\r\n\r\nimport SignIn from './SignIn';\r\nimport AdminConsole from './AdminConsole';\r\nimport {BrowserView, MobileView} from 'react-device-detect';\r\nimport Dashboard from './Dashboard';\r\n\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright  '}\r\n      <Link color=\"inherit\" href=\"#\">\r\n        Medical Express Clinic\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    appBar: {\r\n        position: 'static',\r\n        backgroundColor: \"#333\",\r\n        color: \"#fff\",\r\n        //alignItems: 'center'\r\n    \r\n      },\r\n\r\n      signOutButton:{\r\n        color: \"#fff\",\r\n        marginRight : \"20px\",\r\n        fontWeight: \"500\"\r\n      },\r\n\r\n      title: {\r\n        flexGrow : 1\r\n      }\r\n\r\n\r\n}));\r\n\r\nexport default function Navigator() {\r\n\r\n    const classes = useStyles();\r\n    const [state, setState] = React.useContext(GlobalState);\r\n\r\n    const handleSignOut = () =>\r\n    {\r\n      setState(state => ({...state, signedIn: false}));\r\n    }\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <CssBaseline />\r\n\r\n                {!state.signedIn && (\r\n                    <SignIn/> \r\n                )}\r\n\r\n                { state.signedIn && (\r\n                   <Dashboard/>\r\n                )}      \r\n        \r\n        </React.Fragment>\r\n    );\r\n}","import './App.css';\nimport GlobalState from './GlobalState'; \nimport React from 'react';\nimport Navigator from './Navigator';\n\n\nconst getPathId = (path) =>\n{\n  let urlElements = window.location.pathname.split('/');\n  if (urlElements.length === 3)\n  {\n    return urlElements[urlElements.length - 1];\n  }\n  return null;  \n}\n\n\nfunction App() {\n  const [state, setState] = React.useState({foundRecords: [], currentMenuIndex: 0});\n\n\n\n  return (\n    <GlobalState.Provider value={[state, setState]}>\n      <div className=\"App\">\n\n      {getPathId() && (\n\n          <h1>  {getPathId()} </h1>\n\n          )          \n    }\n\n      {!getPathId() &&  (\n            <Navigator/>\n          )\n      }\n      \n    \n      </div>\n    </GlobalState.Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n// import reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"],"sourceRoot":""}