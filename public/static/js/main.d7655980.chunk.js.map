{"version":3,"sources":["GlobalState.js","services/api.js","services/TimeService.js","DateForm.js","TimeForm.js","PersonsBox.js","InformationForm.js","Validation.js","ReviewForm.js","AddressForm.js","services/BookService.js","MobileStepper.js","images/ok.png","checkout.js","App.js","index.js"],"names":["GlobalState","React","createContext","axios","create","baseURL","headers","TimeService","getFirstAvailableDate","API","get","dayIsBooked","date","Promise","resolve","reject","setTimeout","getFullyBookedDates","someDate","Date","setTime","getTime","duration","getTimeSlots","firstAvailableDay","fullyBookedDays","useStyles","makeStyles","theme","loadingBox","DateForm","useContext","state","setState","useState","bookingDate","handleDateChange","dataLoaded","callback","promise1","promise2","all","then","values","data","catch","err","console","log","LoadData","dateChanged","Fragment","Typography","variant","gutterBottom","Grid","container","direction","justify","alignItems","utils","DateFnsUtils","DatePicker","autoOk","disablePast","openTo","orientation","fullWidth","value","onChange","shouldDisableDate","checkFullyBooked","Skeleton","width","height","setHours","length","result","forEach","index","date1","date2","getFullYear","getMonth","getDate","timeSlots","root","display","flexWrap","justifyContent","overflow","backgroundColor","palette","background","paper","gridList","box","border","margin","padding","color","cursor","boxMobile","boxSelected","boxDisable","TimeForm","classes","bookingTime","setDataLoaded","emptyTimeSlots","i","push","boxClicked","key","className","GridList","cellHeight","cols","map","timeSlot","GridListTile","onClick","available","time","borderRadius","textAlign","paddingRight","boxRed","boxInfo","ul","listStyle","li","marginBottom","icon","marginRight","heading","fontSize","typography","pxToRem","flexBasis","flexShrink","text","secondary","secondaryHeading","infoDetails","infoTitle","fontWeight","infoData","title","marginLeft","Accordion","PersonsBox","expanded","setExpanded","spacing","persons","person","panel","item","xs","md","event","isExpanded","AccordionSummary","expandIcon","aria-controls","id","firstname","lastname","AccordionDetails","gender","email","dateFormat","birthDate","phone","postCode","address","notes","passportNumber","formControl","FormTitle","marginTop","InformationForm","handleBirthDateChange","setFirstname","setLastname","setEmail","setGender","setTitle","FormControl","required","InputLabel","Select","error","genderError","labelId","target","MenuItem","titleError","TextField","firstnameError","label","autoComplete","trim","lastnameError","birthDateError","format","disableFuture","InputAdornmentProps","position","helperText","emailError","type","EmailValidator","ValidateStep","step","bookingTimeError","phoneError","postCodeError","addressError","certificate","passportNumberError","proceedToSubmit","terms","link","textDecoration","AddAnother","ReviewForm","handleChange","addAnotherPerson","personInfo","newPersons","activeStep","faCalendarAlt","faHourglassHalf","faClock","Button","startIcon","onTouchTap","button","href","AddressForm","setPhone","setPostCode","setAddress","setNotes","setPassportNumber","setCertificate","multiline","rowsMax","placeholder","rows","FormControlLabel","control","Checkbox","name","checked","style","hidden","BookService","bookAppointment","payload","post","getNewReference","StyledMobileStepper","withStyles","maxWidth","flexGrow","progress","MobileStepper","Copyright","align","Link","appBar","logo","layout","breakpoints","up","stepper","buttons","bold","doneImage","steps","getStepContent","Error","Checkout","setActiveStep","submiting","setSubmiting","maxSteps","handleNext","promiseArray","res","ref","promise","bookingRef","submitForm","handleBack","CssBaseline","AppBar","Toolbar","noWrap","Paper","component","Stepper","Step","StepLabel","src","alt","disabled","App","Provider","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d7655980.chunk.js","sourcesContent":["import React from 'react'; \r\nconst GlobalState = React.createContext([{}, () => {}]); \r\nexport default GlobalState;","import axios from 'axios';\r\n\r\nexport default axios.create({\r\n  // baseURL: window.location.href,\r\n  baseURL: 'https://www.travelpcrtest.com/',\r\n  headers : {\r\n      'Authorization' : 'Basic QXp1cmXEaWFtb45kOmh1bnRlcjO='\r\n  }\r\n});","import TimeSlot from './../models/TimeSlot';\r\nimport API from './api';\r\n\r\nexport default class TimeService{\r\n\r\n     static getFirstAvailableDate =  () =>\r\n    {\r\n        return API.get('/api/time/getfirstavaiabledate');\r\n    }\r\n\r\n    static dayIsBooked =  (date) =>\r\n    {\r\n       /// check if this date is booked or not\r\n       return new Promise( (resolve, reject) =>\r\n       {\r\n            setTimeout(() => {\r\n                resolve(false);\r\n            }, 1000);\r\n       });\r\n    }\r\n\r\n    static getFullyBookedDates = () =>\r\n    {\r\n       /// check if this date is booked or not\r\n       return new Promise( (resolve, reject) =>\r\n       {\r\n            var someDate = new Date();\r\n            var duration = 5; //In Days\r\n            someDate.setTime(someDate.getTime() +  (duration * 24 * 60 * 60 * 1000));\r\n            setTimeout(() => {\r\n                resolve([someDate]);\r\n            }, 0);\r\n       });\r\n    }\r\n\r\n    static getTimeSlots = (date) =>\r\n    {\r\n        return API.get(`/api/time/gettimeslots?date=${date}`);\r\n    }\r\n\r\n\r\n}","import React from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport {\r\n    DatePicker,\r\n    MuiPickersUtilsProvider\r\n  } from '@material-ui/pickers';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport GlobalState from './GlobalState';\r\nimport {BrowserView, MobileView} from 'react-device-detect';\r\n\r\nimport TimeService from './services/TimeService';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Skeleton from '@material-ui/lab/Skeleton';\r\n\r\nvar firstAvailableDay = null;\r\nvar fullyBookedDays = [];\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n  loadingBox: {\r\n    \r\n  }\r\n\r\n}));\r\n\r\n\r\nfunction LoadData(callback){\r\n\r\n      const promise1 = TimeService.getFirstAvailableDate();\r\n      const promise2 = TimeService.getFullyBookedDates();\r\n\r\n      Promise.all([promise1, promise2]).then( (values) => {\r\n\r\n        firstAvailableDay = new Date((values[0].data).date);\r\n        fullyBookedDays = values[1];\r\n\r\n        callback(true);\r\n\r\n      }).catch( (err) =>\r\n      {\r\n        console.log(err);\r\n      });\r\n}\r\n\r\n\r\nexport default function DateForm() {\r\n   const classes = useStyles();\r\n\r\n    const [state, setState] = React.useContext(GlobalState);\r\n    const [bookingDate, handleDateChange] = React.useState(state.bookingDate ?? new Date());\r\n\r\n    const [dataLoaded, setDataLoaded] =  React.useState(false);\r\n\r\n    LoadData(setDataLoaded);\r\n\r\n    const dateChanged = (date) =>\r\n    {\r\n        handleDateChange(date);\r\n        setState(state => ({...state, bookingDate: date}));\r\n    }\r\n\r\n  return (\r\n\r\n    <React.Fragment>\r\n               \r\n                <Typography variant=\"h6\" gutterBottom>\r\n                    Pick a Date\r\n                </Typography>\r\n\r\n        {dataLoaded ?  (\r\n            \r\n                <React.Fragment>\r\n\r\n                <Grid\r\n                  container\r\n                  direction=\"column\"\r\n                  justify=\"center\"\r\n                  alignItems=\"center\"\r\n                  >\r\n\r\n                        <BrowserView>\r\n                            <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n                                    <DatePicker autoOk \r\n                                                disablePast=\"true\" \r\n                                                openTo=\"date\"\r\n                                                orientation=\"landscape\" \r\n                                                variant=\"static\" \r\n                                                fullWidth\r\n                                                value={bookingDate} \r\n                                                onChange={dateChanged} \r\n                                                shouldDisableDate={checkFullyBooked}\r\n                                                />\r\n                            </MuiPickersUtilsProvider>\r\n                        </BrowserView>\r\n\r\n                        <MobileView>\r\n                            <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n                                        <DatePicker autoOk \r\n                                                    disablePast=\"true\" \r\n                                                    openTo=\"date\"\r\n                                                    variant=\"static\" \r\n                                                    fullWidth\r\n                                                    value={bookingDate} \r\n                                                    onChange={dateChanged} \r\n                                                    shouldDisableDate={checkFullyBooked}\r\n                                                    />\r\n                                </MuiPickersUtilsProvider>\r\n                        </MobileView>\r\n                </Grid>\r\n\r\n              </React.Fragment>\r\n              )\r\n            : \r\n            (\r\n            <React.Fragment>\r\n                <Grid\r\n                  container\r\n                  direction=\"column\"\r\n                  justify=\"center\"\r\n                  alignItems=\"center\"\r\n                  >\r\n\r\n                      <Skeleton variant=\"text\" width={'80%'} />\r\n                      <Skeleton variant=\"text\" width={'80%'}  />\r\n                      <Skeleton variant=\"rect\" width={'80%'}  height={220} />\r\n\r\n                  </Grid>\r\n            </React.Fragment>\r\n            )\r\n          }\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\n\r\n\r\nconst checkFullyBooked = (date) =>\r\n{\r\n    if (date.setHours(0,0,0,0) < firstAvailableDay.setHours(0,0,0,0))\r\n    {\r\n      return true;\r\n    }\r\n\r\n    else if (fullyBookedDays && fullyBookedDays.length > 0)\r\n    {\r\n      var result = false;\r\n      fullyBookedDays.forEach( (value, index) => {\r\n\r\n        if (EquallDates(value,date))\r\n        {\r\n          result = true;\r\n        }\r\n      });\r\n      return result;\r\n    }\r\n    else\r\n    {\r\n      return false;\r\n    }\r\n}\r\n\r\nfunction EquallDates(date1, date2)\r\n{\r\n   return (\r\n           date1.getFullYear() === date2.getFullYear() &&\r\n           date1.getMonth() === date2.getMonth() &&\r\n           date1.getDate() === date2.getDate()\r\n   );      \r\n}\r\n","import React from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport GlobalState from './GlobalState';\r\nimport { makeStyles , useTheme} from '@material-ui/core/styles';\r\n\r\nimport GridList from '@material-ui/core/GridList';\r\nimport GridListTile from '@material-ui/core/GridListTile';\r\n\r\nimport TimeService from './services/TimeService';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Skeleton from '@material-ui/lab/Skeleton';\r\n\r\nimport {BrowserView, MobileView} from 'react-device-detect';\r\n\r\n// import Card from '@material-ui/core/Card';\r\n// import CardActions from '@material-ui/core/CardActions';\r\n// import CardContent from '@material-ui/core/CardContent';\r\n// import Button from '@material-ui/core/Button'\r\n// import { Mouse, Satellite } from '@material-ui/icons';\r\n// import { BrowserView } from 'react-device-detect';\r\n\r\nvar timeSlots = null;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    \r\n    root: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        justifyContent: 'space-around',\r\n        overflow: 'hidden',\r\n        backgroundColor: theme.palette.background.paper,\r\n      },\r\n      gridList: {\r\n        // width: 500,\r\n        // height: 450,\r\n      },\r\n\r\n      box: {\r\n        //backgroundColor: \"red\",\r\n        border: \"1px solid #999\",\r\n        margin: \"5px\",\r\n        padding: \"5px\",\r\n        color: \"#555\",\r\n        cursor: \"pointer\",\r\n        \"&:hover\": {\r\n            background: \"green\",\r\n            color: \"#fff\"\r\n          },\r\n      },\r\n\r\n      boxMobile: {\r\n        //backgroundColor: \"red\",\r\n        border: \"1px solid #999\",\r\n        margin: \"5px\",\r\n        padding: \"5px\",\r\n        color: \"#555\",\r\n        cursor: \"pointer\"\r\n      },\r\n\r\n      boxSelected: {\r\n        backgroundColor: \"green\",\r\n        border: \"1px solid #999\",\r\n        margin: \"5px\",\r\n        padding: \"5px\",\r\n        color: \"#fff\",\r\n        cursor: \"pointer\",\r\n      },\r\n\r\n      boxDisable: {\r\n        backgroundColor: \"#999\",\r\n        border: \"1px solid #ddd\",\r\n        margin: \"5px\",\r\n        padding: \"5px\",\r\n        color: \"#fff\"\r\n        \r\n      },\r\n\r\n  }));\r\n\r\n  function LoadData(date, callback){\r\n\r\n    const promise1 = TimeService.getTimeSlots(date);\r\n\r\n    Promise.all([promise1]).then( (values) => {\r\n\r\n      timeSlots = values[0].data;\r\n\r\n      callback(true);\r\n\r\n    }).catch( (err) =>\r\n    {\r\n      console.log(err);\r\n    });\r\n}\r\n\r\nexport default function TimeForm() {\r\n    const classes = useStyles();\r\n    // const theme = useTheme();\r\n\r\n    const [state, setState] = React.useContext(GlobalState);\r\n    const [bookingTime, setTime] = React.useState(state.bookingTime ?? '');\r\n\r\n    const [dataLoaded, setDataLoaded] =  React.useState(false);\r\n\r\n    const emptyTimeSlots = [];\r\n    for (var i=0; i<28; i++)\r\n    {\r\n      emptyTimeSlots.push(i);\r\n    }\r\n\r\n    LoadData(state.bookingDate, setDataLoaded);\r\n\r\n    const boxClicked = (key) =>\r\n    {\r\n        if (key)\r\n        {\r\n            setTime(key);\r\n            setState({...state, bookingTime : key});\r\n        }\r\n\r\n    }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Typography variant=\"h6\" gutterBottom>\r\n        Pick a Time\r\n      </Typography>\r\n\r\n      {dataLoaded ?  (\r\n            \r\n          \r\n\r\n            <React.Fragment>\r\n\r\n              <BrowserView>\r\n                  <div className={classes.root}>\r\n                            <GridList cellHeight={60} className={classes.gridList} cols={4}>\r\n                              {timeSlots.map((timeSlot) => (\r\n                                <GridListTile key={timeSlot.time} cols={1}>\r\n                                  <div \r\n                                      onClick= {() => {timeSlot.available? boxClicked(timeSlot.time) : boxClicked(null)}}\r\n                                      className={(timeSlot.available) ? ((bookingTime === timeSlot.time)? classes.boxSelected : classes.box ): classes.boxDisable}>\r\n                                      {timeSlot.time}\r\n                                  </div>\r\n                                </GridListTile>\r\n                              ))}\r\n                            </GridList>\r\n                  </div>\r\n              \r\n              </BrowserView>\r\n\r\n              <MobileView>\r\n\r\n              <div className={classes.root}>\r\n                            <GridList cellHeight={60} className={classes.gridList} cols={4}>\r\n                              {timeSlots.map((timeSlot) => (\r\n                                <GridListTile key={timeSlot.time} cols={1}>\r\n                                  <div \r\n                                      onClick = {() => {timeSlot.available? boxClicked(timeSlot.time) : boxClicked(null)}}\r\n                                      className={(timeSlot.available) ? ((bookingTime === timeSlot.time)? classes.boxSelected : classes.boxMobile ): classes.boxDisable}>\r\n                                      {timeSlot.time}\r\n                                  </div>\r\n                                </GridListTile>\r\n                              ))}\r\n                            </GridList>\r\n                  </div>\r\n\r\n              </MobileView>\r\n\r\n            </React.Fragment>\r\n      ) : (\r\n        <React.Fragment>\r\n                <Grid\r\n                  container\r\n                  direction=\"column\"\r\n                  justify=\"center\"\r\n                  alignItems=\"center\"\r\n                  >\r\n                      <GridList cellHeight={60} className={classes.gridList} cols={4}>\r\n                          {emptyTimeSlots.map((timeSlot) => (\r\n                            <GridListTile key={timeSlot} cols={1}>\r\n                                 <Skeleton variant=\"rect\" width={120}  height={35} />\r\n                            </GridListTile>\r\n                          ))}\r\n                        </GridList>\r\n                  </Grid>\r\n\r\n    </React.Fragment>\r\n\r\n      ) }\r\n\r\n\r\n\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nconst checkFullyBooked = (time) =>\r\n{\r\n    return false;\r\n}\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport GlobalState from './GlobalState';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Accordion from '@material-ui/core/Accordion';\r\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\r\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport dateFormat from 'dateformat';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  box: {\r\n    backgroundColor : \"#373737\",\r\n    color: \"#fff\",\r\n    padding : \"1px\",\r\n    borderRadius : \"4px\",\r\n    textAlign: \"justify\",\r\n    paddingRight: \"40px\"\r\n  },\r\n\r\n  boxRed: {\r\n    backgroundColor : \"#dc2626\",\r\n    color: \"#fff\",\r\n    padding : \"1px\",\r\n    borderRadius : \"4px\",\r\n    textAlign: \"justify\",\r\n    paddingRight: \"40px\"\r\n  },\r\n\r\n  boxInfo: {\r\n    textAlign: \"justify\",\r\n    backgroundColor : \"#fafafa\",\r\n    color: \"#333\",\r\n    padding : \"1px\",\r\n    borderRadius : \"4px\",\r\n    paddingRight: \"40px\",\r\n    border: \"1px solid #eee\",\r\n  },\r\n\r\n  ul: {\r\n     listStyle: \"none\",\r\n     padding: \"0\",\r\n     margin: \"0\"\r\n  },\r\n\r\n  li: {\r\n    marginBottom : \"5px\"\r\n  },\r\n\r\n\r\n  icon: {\r\n    marginRight : \"8px\"\r\n  },\r\n\r\n  root: {\r\n    width: '100%',\r\n  },\r\n  heading: {\r\n    fontSize: theme.typography.pxToRem(15),\r\n    flexBasis: '33.33%',\r\n    flexShrink: 0,\r\n    color: theme.palette.text.secondary,\r\n  },\r\n  secondaryHeading: {\r\n    fontSize: theme.typography.pxToRem(15),\r\n  },\r\n\r\n  infoDetails:{\r\n    textAlign: \"left\"\r\n  },\r\n\r\n  infoTitle:{\r\n    fontWeight: \"800\",\r\n    marginRight: \"10px\"\r\n  },\r\n\r\n  infoData:{\r\n    fontWeight: \"400\",\r\n  },\r\n\r\n  title:\r\n  {\r\n    // textAlign : \"center\",\r\n    // fontWeight : \"500\",\r\n    // margin: \"10px\",\r\n    // backgroundColor : \"#eee\",\r\n    // padding : \"10px\",\r\n    // borderRadius : \"4px\"\r\n    textAlign: \"left\",\r\n    fontWeight : \"600\",\r\n    marginLeft: \"10px\"\r\n\r\n  },\r\n\r\n  Accordion:{\r\n    backgroundColor : \"#f5f5f5\",\r\n    color: \"#222\"\r\n  }\r\n\r\n}));\r\n\r\n\r\nexport default function PersonsBox() {\r\n    const classes = useStyles();\r\n\r\n    const [state, setState] = React.useContext(GlobalState);\r\n\r\n    const [expanded, setExpanded] = React.useState(false);\r\n\r\n    const handleChange = (panel) => (event, isExpanded) => {\r\n      setExpanded(isExpanded ? panel : false);\r\n    };\r\n\r\n  return (\r\n    <React.Fragment>\r\n    \r\n      \r\n\r\n      <Grid container direction=\"column\" spacing={1} justify=\"flex-start\"  alignItems=\"stretch\">\r\n          <span className={classes.title}> Persons added so far :</span>\r\n\r\n          {state.persons.map((person,index) => (\r\n   \r\n                <Grid item xs={12} md={12}>\r\n                <div className={classes.root}>\r\n                    <Accordion className={classes.Accordion} expanded={expanded === `panel${index}`} onChange={handleChange(`panel${index}`)}>\r\n                    <AccordionSummary\r\n                        expandIcon={<ExpandMoreIcon />}\r\n                        aria-controls=\"panel1bh-content\"\r\n                        id={`panel${index}bh-header`}\r\n                    >\r\n                        <Typography className={classes.heading}> {`#${index+1}`} </Typography>\r\n                        <Typography className={classes.secondaryHeading}>\r\n                        {`${person.firstname} ${person.lastname}`}\r\n                        </Typography>\r\n                    </AccordionSummary>\r\n                    <AccordionDetails className={classes.infoDetails}>\r\n                        \r\n                        <ul className={classes.ul}>\r\n                            <li className={classes.li}>\r\n                            <span className={classes.infoTitle}>Gender</span> <span className={classes.infoData}>{person.gender}</span>   \r\n                            </li>\r\n                            <li className={classes.li}>\r\n                            <span className={classes.infoTitle}>Title</span>  <span className={classes.infoData}>{person.title}</span>   \r\n                            </li>\r\n                            <li className={classes.li}>\r\n                            <span className={classes.infoTitle}>Forename</span> <span className={classes.infoData}>{person.firstname}</span>   \r\n                            </li>\r\n                            <li className={classes.li}>\r\n                                <span className={classes.infoTitle}>Surname</span> <span className={classes.infoData}>{person.lastname}</span>   \r\n                            </li>\r\n                            <li className={classes.li}>\r\n                                <span className={classes.infoTitle}>Email</span> <span className={classes.infoData}>{person.email}</span>   \r\n                            </li>\r\n                            <li className={classes.li}>\r\n                                <span className={classes.infoTitle}>D.O.B</span> <span className={classes.infoData}>{dateFormat(new Date(person.birthDate),'dd mmm yyyy') }</span>  \r\n                            </li>\r\n                            <li className={classes.li}>\r\n                                <span className={classes.infoTitle}>Telephone</span> <span className={classes.infoData}>{person.phone}</span>  \r\n                            </li>\r\n                            <li className={classes.li}>\r\n                                <span className={classes.infoTitle}>Post Code</span> <span className={classes.infoData}>{person.postCode}</span>  \r\n                            </li>\r\n                            <li className={classes.li}>\r\n                                <span className={classes.infoTitle}>Address</span> <span className={classes.infoData}>{person.address}</span>  \r\n                            </li>\r\n                            <li className={classes.li}>\r\n                                <span className={classes.infoTitle}>Notes</span> <span className={classes.infoData}>{person.notes ?? 'N/A'}</span>  \r\n                            </li>\r\n                            <li className={classes.li}>\r\n                                <span className={classes.infoTitle}>Passport No.</span> <span className={classes.infoData}>{person.passportNumber ?? 'N/A'}</span>  \r\n                            </li>\r\n                        </ul>\r\n                        \r\n                    </AccordionDetails>\r\n                    </Accordion>\r\n                </div>\r\n            </Grid> \r\n          ))}\r\n    </Grid>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\n\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport GlobalState from './GlobalState';\r\nimport * as EmailValidator from 'email-validator';\r\n\r\nimport {\r\n    DatePicker,\r\n    KeyboardDatePicker,\r\n    MuiPickersUtilsProvider\r\n  } from '@material-ui/pickers';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport PersonsBox from './PersonsBox';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    formControl: {\r\n      textAlign: \"left\"\r\n    },\r\n\r\n    FormTitle:\r\n    {\r\n      marginTop : \"20px\",\r\n      marginBottom : \"20px\",\r\n    }\r\n\r\n  }));\r\n\r\nexport default function InformationForm() {\r\n    const classes = useStyles();\r\n    const [state, setState] = React.useContext(GlobalState);\r\n    const [birthDate, handleBirthDateChange] = React.useState(state.birthDate ?? null);\r\n    const [firstname, setFirstname] = React.useState(state.firstname ?? '');\r\n    const [lastname, setLastname] = React.useState(state.lastname ?? '');\r\n    const [email, setEmail] = React.useState(state.email ?? '');\r\n    \r\n    const [gender, setGender] = React.useState(state.gender ?? '');\r\n    const [title, setTitle] = React.useState(state.title ?? '');\r\n\r\n    const titleChanged = (event) => {\r\n            setTitle(event.target.value);\r\n            setState(state => ({...state, title: event.target.value}));\r\n            setState(state => ({...state, titleError : false}));\r\n        };\r\n\r\n    const genderChanged = (event) => {\r\n            setGender(event.target.value);\r\n            setState(state => ({...state, gender: event.target.value}));\r\n            setState(state => ({...state, genderError : false}));\r\n        };\r\n\r\n    const birthDateChanged = (date) =>\r\n    {\r\n        handleBirthDateChange(date);\r\n        setState(state => ({...state, birthDate: date}));\r\n        setState(state => ({...state, birthDateError : false}));\r\n    }  \r\n\r\n    const firstnameChanged = (event) =>\r\n    {\r\n        setFirstname(event.target.value);\r\n        setState(state => ({...state, firstname : event.target.value }));\r\n        if (event.target.value && event.target.value.trim().length >= 3)\r\n        {\r\n          setState(state => ({...state, firstnameError : false}));\r\n        }\r\n    }\r\n\r\n    const lastnameChanged = (event) =>\r\n    {\r\n        setLastname(event.target.value);\r\n        setState(state => ({...state, lastname : event.target.value }));\r\n        if (event.target.value && event.target.value.trim().length >= 3)\r\n        {\r\n          setState(state => ({...state, lastnameError : false}));\r\n        }\r\n    }\r\n\r\n    const emailChanged = (event) =>\r\n    {\r\n        setEmail(event.target.value);\r\n        setState(state => ({...state, email : event.target.value }));\r\n        if (event.target.value && EmailValidator.validate(event.target.value))\r\n        {\r\n          setState(state => ({...state, emailError : false}));\r\n        }\r\n    }\r\n\r\n  return (\r\n\r\n\r\n    <React.Fragment>\r\n\r\n      <PersonsBox/>\r\n\r\n    {state.persons.length === 0 &&\r\n          <Typography className={classes.FormTitle} variant=\"h6\" gutterBottom>\r\n              Fill Your Basic Info\r\n          </Typography>\r\n    }\r\n\r\n    {state.persons.length > 0 &&\r\n          <Typography className={classes.FormTitle} variant=\"h6\" gutterBottom>\r\n              Fill Basic Info\r\n          </Typography>\r\n    }\r\n\r\n      \r\n   \r\n\r\n      <Grid container spacing={3} alignItems=\"baseline\">\r\n\r\n      <Grid item xs={12} md={6}>\r\n            <FormControl className={classes.formControl} fullWidth required>\r\n                <InputLabel id=\"gender-label-id\">Gender</InputLabel>\r\n                <Select\r\n                    error={state.genderError ? true : false}\r\n                    fullWidth\r\n                    labelId=\"gender-label-id\"\r\n                    id=\"gender-id\"\r\n                    value={gender}\r\n                    onChange={genderChanged}\r\n                >\r\n                    <MenuItem value={'Male'}>Male</MenuItem>\r\n                    <MenuItem value={'Female'}>Female</MenuItem>\r\n                </Select>\r\n        </FormControl>\r\n        </Grid>\r\n        <Grid item xs={12} md={6}>\r\n            <FormControl className={classes.formControl} fullWidth required>\r\n                <InputLabel id=\"title-label-id\">Title</InputLabel>\r\n                <Select\r\n                    error={state.titleError ? true : false}\r\n                    fullWidth\r\n                    labelId=\"title-label-id\"\r\n                    id=\"title-id\"\r\n                    value={title}\r\n                    onChange={titleChanged}\r\n                >\r\n                    <MenuItem value={'Mr'}>Mr</MenuItem>\r\n                    <MenuItem value={'Mrs'}>Mrs</MenuItem>\r\n                    <MenuItem value={'Miss'}>Miss</MenuItem>\r\n                    <MenuItem value={'Ms'}>Ms</MenuItem>\r\n                    <MenuItem value={'Dr'}>Dr</MenuItem>\r\n                </Select>\r\n        </FormControl>\r\n        </Grid>\r\n        <Grid item xs={12} md={6}>\r\n          <TextField \r\n                    error={state.firstnameError ? true : false}\r\n                    required id=\"firstName\" label=\"First Name\" \r\n                    fullWidth autoComplete=\"given-name\" \r\n                    value = {firstname}\r\n                    onChange = {firstnameChanged} \r\n          />\r\n        </Grid>\r\n        <Grid item xs={12} md={6}>\r\n         <TextField \r\n                    error={state.lastnameError ? true : false}\r\n                    required id=\"lastName\" label=\"Last Name\" \r\n                    fullWidth autoComplete=\"family-name\" \r\n                    value = {lastname}\r\n                    onChange = {lastnameChanged} \r\n        />  \r\n        </Grid>\r\n        <Grid item xs={12} md={6}>\r\n        <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n            <KeyboardDatePicker  \r\n                        error={state.birthDateError ? true : false}\r\n                        autoOk\r\n                        fullWidth\r\n                        variant=\"inline\"\r\n                        label=\"Birthdate\"\r\n                        format=\"dd/MM/yyyy\"\r\n                        disableFuture\r\n                        InputAdornmentProps={{ position: \"start\" }}\r\n                        helperText=\"dd/MM/yyyy\"\r\n                        value={birthDate}\r\n                        onChange={birthDateChanged}\r\n                        />\r\n             </MuiPickersUtilsProvider>\r\n        </Grid>\r\n        <Grid item xs={12} md={6}>\r\n             <TextField\r\n                        error={state.emailError ? true : false}\r\n                        required id=\"email\" label=\"Email Address\" \r\n                        fullWidth autoComplete=\"email\"  type=\"email\"\r\n                        value = {email}\r\n                        onChange = {emailChanged} \r\n             />  \r\n        </Grid>\r\n     \r\n      </Grid>\r\n    \r\n      \r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\n","import * as EmailValidator from 'email-validator';\r\n\r\nexport default function ValidateStep (state,setState, step) \r\n  {\r\n    var error = false;\r\n\r\n    if (step === 1)\r\n    {\r\n      /// Validate time\r\n      \r\n      if (!state.bookingTime)\r\n      {\r\n        setState(state => ({...state, bookingTimeError : true}));\r\n        error = true;\r\n      }\r\n    } else if (step === 2){\r\n      ///validate Basic Info\r\n      if (!state.gender)\r\n      {\r\n        setState(state => ({...state, genderError : true}));\r\n        error = true;\r\n      }\r\n      if (!state.title)\r\n      {\r\n        setState(state => ({...state, titleError : true}));\r\n        error = true;\r\n      }\r\n      if (!state.firstname || state.firstname.trim().length < 3)\r\n      {\r\n        setState(state => ({...state, firstnameError : true}));\r\n        error = true;\r\n      }\r\n      if (!state.lastname || state.lastname.trim().length < 3)\r\n      {\r\n        setState(state => ({...state, lastnameError : true}));\r\n        error = true;\r\n      }\r\n      if (!state.birthDate)\r\n      {\r\n        setState(state => ({...state, birthDateError : true}));\r\n        error = true;\r\n      }\r\n      if (!state.email || !EmailValidator.validate(state.email))\r\n      {\r\n        setState(state => ({...state, emailError : true}));\r\n        error = true;\r\n      }\r\n    }\r\n    else if (step === 3){\r\n      ///validate Address Info\r\n      if (!state.phone || state.phone.trim().length < 6)\r\n      {\r\n        setState(state => ({...state, phoneError : true}));\r\n        error = true;\r\n      }\r\n      if (!state.postCode || state.postCode.trim().length < 5)\r\n      {\r\n        setState(state => ({...state, postCodeError : true}));\r\n        error = true;\r\n      }\r\n      if (!state.address || state.address.trim().length < 10)\r\n      {\r\n        setState(state => ({...state, addressError : true}));\r\n        error = true;\r\n      }    \r\n      if (state.certificate && (!state.passportNumber || state.passportNumber.trim().length < 6))\r\n      {\r\n        setState(state => ({...state, passportNumberError : true}));\r\n        error = true;\r\n      }\r\n\r\n      if (!error){\r\n        setState(state => ({...state, proceedToSubmit: false}));\r\n      }\r\n    }\r\n\r\n      return !error;   \r\n  }","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport GlobalState from './GlobalState';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Accordion from '@material-ui/core/Accordion';\r\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\r\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faCalendarAlt } from '@fortawesome/free-solid-svg-icons';\r\nimport { faClock } from '@fortawesome/free-solid-svg-icons';\r\nimport { faHourglassHalf } from '@fortawesome/free-solid-svg-icons';\r\nimport dateFormat from 'dateformat';\r\nimport { Button } from '@material-ui/core';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport PersonAddIcon from '@material-ui/icons/PersonAdd';\r\nimport Icon from '@material-ui/core/Icon';\r\n\r\nimport ValidateStep from './Validation';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  box: {\r\n    backgroundColor : \"#373737\",\r\n    color: \"#fff\",\r\n    padding : \"1px\",\r\n    borderRadius : \"4px\",\r\n    textAlign: \"justify\",\r\n    paddingRight: \"40px\"\r\n  },\r\n\r\n  boxRed: {\r\n    backgroundColor : \"#dc2626\",\r\n    color: \"#fff\",\r\n    padding : \"1px\",\r\n    borderRadius : \"4px\",\r\n    textAlign: \"justify\",\r\n    paddingRight: \"40px\"\r\n  },\r\n\r\n  boxInfo: {\r\n    textAlign: \"justify\",\r\n    backgroundColor : \"#fafafa\",\r\n    color: \"#333\",\r\n    padding : \"1px\",\r\n    borderRadius : \"4px\",\r\n    paddingRight: \"40px\",\r\n    border: \"1px solid #eee\",\r\n  },\r\n\r\n\r\n  \r\n\r\n  ul: {\r\n     listStyle: \"none\",\r\n     padding: \"0\",\r\n     margin: \"0\"\r\n  },\r\n\r\n  li: {\r\n    marginBottom : \"5px\"\r\n  },\r\n\r\n\r\n  icon: {\r\n    marginRight : \"8px\"\r\n  },\r\n\r\n  root: {\r\n    width: '100%',\r\n  },\r\n  heading: {\r\n    fontSize: theme.typography.pxToRem(15),\r\n    flexBasis: '33.33%',\r\n    flexShrink: 0,\r\n    color: theme.palette.text.secondary,\r\n  },\r\n  secondaryHeading: {\r\n    fontSize: theme.typography.pxToRem(15),\r\n  },\r\n\r\n  infoDetails:{\r\n    textAlign: \"left\"\r\n  },\r\n\r\n  infoTitle:{\r\n    fontWeight: \"800\",\r\n    marginRight: \"10px\"\r\n  },\r\n\r\n  infoData:{\r\n    fontWeight: \"400\",\r\n  },\r\n\r\n  title:\r\n  {\r\n    textAlign : \"center\",\r\n    fontWeight : \"500\",\r\n    margin: \"10px\",\r\n    backgroundColor : \"#eee\",\r\n    padding : \"10px\",\r\n    borderRadius : \"4px\"\r\n\r\n  },\r\n\r\n  Accordion:{\r\n    backgroundColor : \"#f5f5f5\",\r\n    color: \"#222\"\r\n  },\r\n\r\n  terms: {\r\n    fontWeight: \"500\",\r\n    textAlign: \"justify\",\r\n    marginTop: \"10px\",\r\n    padding: \"10px\",\r\n  },\r\n\r\n  link:{\r\n    color: \"#dc2626\",\r\n    textDecoration: \"none\",\r\n  },\r\n\r\n  AddAnother:{\r\n    marginTop: \"10px\"\r\n  }\r\n\r\n}));\r\n\r\n\r\nexport default function ReviewForm() {\r\n    const classes = useStyles();\r\n\r\n    const [state, setState] = React.useContext(GlobalState);\r\n\r\n    const [expanded, setExpanded] = React.useState(false);\r\n\r\n    const handleChange = (panel) => (event, isExpanded) => {\r\n      setExpanded(isExpanded ? panel : false);\r\n    };\r\n\r\n    const addAnotherPerson = () => {\r\n\r\n      if (ValidateStep(state, setState, 2) && ValidateStep(state, setState, 3))\r\n      {\r\n\r\n        const personInfo = {\r\n          gender: state.gender,\r\n          title: state.title,\r\n          firstname: state.firstname,\r\n          lastname: state.lastname,\r\n          birthDate: state.birthDate,\r\n          email: state.email,\r\n          phone: state.phone,\r\n          postCode: state.postCode,\r\n          address: state.address,\r\n          notes: state.notes,\r\n          certificate: state.certificate,\r\n          passportNumber: state.passportNumber\r\n        }\r\n          var newPersons = state.persons;\r\n          newPersons.push(personInfo);\r\n          setState(state => ({activeStep: 2, bookingDate: state.bookingDate, \r\n            bookingTime: state.bookingTime,\r\n            persons: newPersons\r\n          }));       \r\n      }else {\r\n        setState(state => ({...state, activeStep : 2 }));\r\n      }\r\n\r\n  }\r\n  \r\n   \r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Typography variant=\"h6\" gutterBottom>\r\n        Review Your Data\r\n      </Typography>\r\n\r\n      <Grid container direction=\"column\" spacing={1} justify=\"flex-start\"  alignItems=\"stretch\">\r\n          <Grid item xs={12} md={12}>\r\n            <div className={classes.box}>\r\n              <ul className={classes.ul}>\r\n                <li className={classes.li}>\r\n                <FontAwesomeIcon icon={faCalendarAlt} className={classes.icon} />\r\n                    {dateFormat(new Date(state.bookingDate),'dd-mmmm-yyyy')}\r\n                </li>\r\n                <li className={classes.li}>\r\n                <FontAwesomeIcon icon={faHourglassHalf} className={classes.icon} />\r\n                   Check-up Duration: 30 minutes\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </Grid> \r\n\r\n          <Grid item xs={12} md={12}>\r\n            <div className={classes.box}>\r\n              <ul className={classes.ul}>\r\n                <li className={classes.li}>\r\n                <FontAwesomeIcon icon={faClock} className={classes.icon} />\r\n                   Time: {state.bookingTime}\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </Grid> \r\n\r\n          <Grid item xs={12} md={12}>\r\n            <div className={classes.box}>\r\n              <ul className={classes.ul}>\r\n                <li className={classes.li}>\r\n                    Package : In-Clinic Test\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </Grid> \r\n\r\n          <Grid item xs={12} md={12}>\r\n            <div className={classes.box}>\r\n              <ul className={classes.ul}>\r\n                <li className={classes.li}>\r\n                   Price : 199\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </Grid> \r\n\r\n          <Grid item xs={12} md={12}>\r\n            <div className={classes.box}>\r\n              <ul className={classes.ul}>\r\n                <li className={classes.li}>\r\n                 This time slot is not guaranteed, due to nature of healthcare there might be slight delay to your appointment.\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </Grid> \r\n          \r\n          <Grid item xs={12} md={12}>\r\n            <div className={classes.boxRed}>\r\n              <ul className={classes.ul}>\r\n                <li className={classes.li}>\r\n                During the coronavirus pandemic, we must confirm appointments in order to maintain social distancing, \r\n                we will email you to confirm your booking if your selected time is possible.\r\n                 If not, we will contact you with the nearest availability to your request. \r\n                 Thank you for understanding.\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </Grid> \r\n\r\n          <span className={classes.title}> Appointment is for the following people :</span>\r\n\r\n          {state.persons.map((person,index) => (\r\n   \r\n                  <Grid item xs={12} md={12}>\r\n                  <div className={classes.root}>\r\n                      <Accordion className={classes.Accordion} expanded={expanded === `panel${index}`} onChange={handleChange(`panel${index}`)}>\r\n                      <AccordionSummary\r\n                          expandIcon={<ExpandMoreIcon />}\r\n                          aria-controls=\"panel1bh-content\"\r\n                          id={`panel${index}bh-header`}\r\n                      >\r\n                          <Typography className={classes.heading}> {`#${index+1}`} </Typography>\r\n                          <Typography className={classes.secondaryHeading}>\r\n                          {`${person.firstname} ${person.lastname}`}\r\n                          </Typography>\r\n                      </AccordionSummary>\r\n                      <AccordionDetails className={classes.infoDetails}>\r\n                          \r\n                          <ul className={classes.ul}>\r\n                              <li className={classes.li}>\r\n                              <span className={classes.infoTitle}>Gender</span> <span className={classes.infoData}>{person.gender}</span>   \r\n                              </li>\r\n                              <li className={classes.li}>\r\n                              <span className={classes.infoTitle}>Title</span>  <span className={classes.infoData}>{person.title}</span>   \r\n                              </li>\r\n                              <li className={classes.li}>\r\n                              <span className={classes.infoTitle}>Forename</span> <span className={classes.infoData}>{person.firstname}</span>   \r\n                              </li>\r\n                              <li className={classes.li}>\r\n                                  <span className={classes.infoTitle}>Surname</span> <span className={classes.infoData}>{person.lastname}</span>   \r\n                              </li>\r\n                              <li className={classes.li}>\r\n                                  <span className={classes.infoTitle}>Email</span> <span className={classes.infoData}>{person.email}</span>   \r\n                              </li>\r\n                              <li className={classes.li}>\r\n                                  <span className={classes.infoTitle}>D.O.B</span> <span className={classes.infoData}>{dateFormat(new Date(person.birthDate),'dd mmm yyyy') }</span>  \r\n                              </li>\r\n                              <li className={classes.li}>\r\n                                  <span className={classes.infoTitle}>Telephone</span> <span className={classes.infoData}>{person.phone}</span>  \r\n                              </li>\r\n                              <li className={classes.li}>\r\n                                  <span className={classes.infoTitle}>Post Code</span> <span className={classes.infoData}>{person.postCode}</span>  \r\n                              </li>\r\n                              <li className={classes.li}>\r\n                                  <span className={classes.infoTitle}>Address</span> <span className={classes.infoData}>{person.address}</span>  \r\n                              </li>\r\n                              <li className={classes.li}>\r\n                                  <span className={classes.infoTitle}>Notes</span> <span className={classes.infoData}>{person.notes ?? 'N/A'}</span>  \r\n                              </li>\r\n                              <li className={classes.li}>\r\n                                  <span className={classes.infoTitle}>Passport No.</span> <span className={classes.infoData}>{person.passportNumber ?? 'N/A'}</span>  \r\n                              </li>\r\n                          </ul>\r\n                          \r\n                          </AccordionDetails>\r\n                          </Accordion>\r\n                      </div>\r\n                    </Grid> \r\n                    ))}\r\n\r\n            { (!state.proceedToSubmit) && \r\n                      <Grid item xs={12} md={12}>\r\n                      <div className={classes.root}>\r\n                          <Accordion className={classes.Accordion} expanded={expanded === 'panel10'} onChange={handleChange('panel10')}>\r\n                            <AccordionSummary\r\n                              expandIcon={<ExpandMoreIcon />}\r\n                              aria-controls=\"panel10bh-content\"\r\n                              id=\"panel10bh-header\"\r\n                            >\r\n                              <Typography className={classes.heading}> {`#${state.persons.length + 1}`} </Typography>\r\n                              <Typography className={classes.secondaryHeading}>\r\n                                {`${state.firstname} ${state.lastname}`}\r\n                              </Typography>\r\n                            </AccordionSummary>\r\n                            <AccordionDetails className={classes.infoDetails}>\r\n                              \r\n                                <ul className={classes.ul}>\r\n                                  <li className={classes.li}>\r\n                                    <span className={classes.infoTitle}>Gender</span> <span className={classes.infoData}>{state.gender}</span>   \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                    <span className={classes.infoTitle}>Title</span>  <span className={classes.infoData}>{state.title}</span>   \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                    <span className={classes.infoTitle}>Forename</span> <span className={classes.infoData}>{state.firstname}</span>   \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                     <span className={classes.infoTitle}>Surname</span> <span className={classes.infoData}>{state.lastname}</span>   \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                     <span className={classes.infoTitle}>Email</span> <span className={classes.infoData}>{state.email}</span>   \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                     <span className={classes.infoTitle}>D.O.B</span> <span className={classes.infoData}>{dateFormat(new Date(state.birthDate),'dd mmm yyyy') }</span>  \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                     <span className={classes.infoTitle}>Telephone</span> <span className={classes.infoData}>{state.phone}</span>  \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                     <span className={classes.infoTitle}>Post Code</span> <span className={classes.infoData}>{state.postCode}</span>  \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                     <span className={classes.infoTitle}>Address</span> <span className={classes.infoData}>{state.address}</span>  \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                     <span className={classes.infoTitle}>Notes</span> <span className={classes.infoData}>{state.notes ?? 'N/A'}</span>  \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                     <span className={classes.infoTitle}>Passport No.</span> <span className={classes.infoData}>{state.passportNumber ?? 'N/A'}</span>  \r\n                                  </li>\r\n                                </ul>\r\n                              \r\n                            </AccordionDetails>\r\n                          </Accordion>\r\n                        </div>\r\n                  </Grid> \r\n               }\r\n                  {(!state.persons || (state.persons && state.persons.length < 4)) && (\r\n\r\n                    <div className={classes.AddAnother}>\r\n                          <Button \r\n                                  // variant=\"outlined\"\r\n                                  startIcon={<PersonAddIcon />}\r\n                                  color=\"primary\"\r\n                                  onTouchTap = {addAnotherPerson} \r\n                                  onClick={addAnotherPerson} className={classes.button}>\r\n                            Add Another Person\r\n                          </Button>\r\n                    </div>\r\n \r\n                  )}\r\n        \r\n        <div className={classes.terms}>\r\n            By clicking on submit button you are agreeing with our <a className={classes.link} href=\"#\">terms and condition.</a> \r\n        </div>\r\n\r\n    \r\n      </Grid>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport GlobalState from './GlobalState';\r\nimport PersonsBox from './PersonsBox';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    formControl: {\r\n      textAlign: \"justify\",\r\n    },\r\n\r\n    FormTitle:\r\n    {\r\n      marginTop : \"20px\",\r\n      marginBottom : \"20px\",\r\n    }\r\n\r\n  }));\r\n\r\nexport default function AddressForm() {\r\n    const classes = useStyles();\r\n    const [state, setState] = React.useContext(GlobalState);\r\n \r\n    const [phone, setPhone] = React.useState(state.phone ?? '');\r\n    const [postCode, setPostCode] = React.useState(state.postCode ?? '');\r\n    const [address, setAddress] = React.useState(state.address ?? '');\r\n    const [notes, setNotes] = React.useState(state.notes ?? '');\r\n    const [passportNumber, setPassportNumber] = React.useState(state.passportNumber ?? '');\r\n\r\n\r\n    const [certificate, setCertificate] = React.useState(state.certificate ?? false);\r\n\r\n\r\n    const certificateChanged = (event) => {\r\n            setCertificate(event.target.checked);\r\n            setState(state => ({...state, certificate: event.target.checked}));\r\n        };\r\n\r\n\r\n\r\n    const phoneChanged = (event) =>\r\n    {\r\n        setPhone(event.target.value);\r\n        setState(state => ({...state, phone : event.target.value }));\r\n        if (event.target.value && event.target.value.trim().length >= 6)\r\n        {\r\n          setState(state => ({...state, phoneError : false}));\r\n        } \r\n    }\r\n\r\n    const postCodeChanged = (event) =>\r\n    {\r\n        setPostCode(event.target.value);\r\n        setState(state => ({...state, postCode : event.target.value }));\r\n        if (event.target.value && event.target.value.trim().length >= 5)\r\n        {\r\n          setState(state => ({...state, postCodeError : false}));\r\n        }\r\n    }\r\n\r\n    const addressChanged = (event) =>\r\n    {\r\n        setAddress(event.target.value);\r\n        setState(state => ({...state, address : event.target.value }));\r\n        if (event.target.value && event.target.value.trim().length >= 10)\r\n        {\r\n          setState(state => ({...state, addressError : false}));\r\n        }\r\n    }\r\n\r\n    const notesChanged = (event) =>\r\n    {\r\n        setNotes(event.target.value);\r\n        setState(state => ({...state, notes : event.target.value }));\r\n    }\r\n\r\n    const passportNumberChanged = (event) =>\r\n    {\r\n        setPassportNumber(event.target.value);\r\n        setState(state => ({...state, passportNumber : event.target.value }));\r\n        if (event.target.value && event.target.value.trim().length >= 6)\r\n        {\r\n          setState(state => ({...state, passportNumberError : false}));\r\n        }\r\n    }\r\n\r\n\r\n  return (\r\n    <React.Fragment>\r\n\r\n      <PersonsBox/>\r\n\r\n      {state.persons.length === 0 &&\r\n          <Typography className={classes.FormTitle} variant=\"h6\" gutterBottom>\r\n              Fill Your Address Info\r\n          </Typography>\r\n       }\r\n\r\n      {state.persons.length > 0 &&\r\n            <Typography className={classes.FormTitle} variant=\"h6\" gutterBottom>\r\n                Fill Address Info\r\n            </Typography>\r\n      }\r\n\r\n\r\n  \r\n\r\n      <Grid container spacing={3} alignItems=\"baseline\">\r\n        <Grid item xs={12} md={6}>\r\n             <TextField \r\n                        error={state.phoneError ? true : false}\r\n                        required id=\"phone\" label=\"Phone Number\" \r\n                        fullWidth autoComplete=\"tel\" \r\n                        value = {phone}\r\n                        onChange = {phoneChanged} \r\n             />  \r\n        </Grid>\r\n        <Grid item xs={12} md={6}>\r\n             <TextField \r\n                        error={state.postCodeError ? true : false}\r\n                        required id=\"postCode\" label=\"Postal Code\" \r\n                        fullWidth autoComplete=\"postal-code\"\r\n                        value = {postCode}\r\n                        onChange = {postCodeChanged} \r\n             />  \r\n        </Grid>\r\n        <Grid item xs={12}>\r\n             <TextField \r\n                        error={state.addressError ? true : false}\r\n                        required id=\"address\" label=\"Address\" \r\n                        multiline rowsMax={2} \r\n                        fullWidth autoComplete=\"street-address\" \r\n                        value = {address}\r\n                        onChange = {addressChanged} \r\n             />  \r\n        </Grid>\r\n        <Grid item xs={12}>\r\n             <TextField \r\n                placeholder={`Must include flight date & flight time also If there's anything you want to tell the doctor beforehand, enter it here`} \r\n                id=\"notes\"\r\n                label=\"Notes\" \r\n                helperText={`MUST include flight date & flight time`} \r\n                multiline rowsMax={2} rows={2} fullWidth autoComplete=\"\"\r\n                value = {notes}\r\n                onChange = {notesChanged} \r\n            />  \r\n        </Grid>\r\n        <Grid item xs={12} className={classes.formControl} >\r\n          <FormControlLabel className={classes.formControl} \r\n            control={<Checkbox className={classes.formControl}  color=\"secondary\" name=\"certificate\" checked={certificate} onChange={certificateChanged} />}\r\n             label={<span style={{ fontSize: '0.8rem' }}>{`I also require a medical certificate signed by a doctor declaring me 'fit-to-fly'.`} </span>}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={12} hidden={!certificate} >\r\n             <TextField \r\n                        error={state.passportNumberError ? true : false}\r\n                        required id=\"passport\" label=\"Passport Number\" \r\n                        helperText=\"your passport number will be noted on your certificate\" \r\n                        fullWidth autoComplete=\"\" \r\n                        value = {passportNumber}\r\n                        onChange = {passportNumberChanged} \r\n             />  \r\n        </Grid>\r\n      </Grid>\r\n    \r\n      \r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\n","import API from './api';\r\n\r\nexport default class BookService {\r\n\r\n    static bookAppointment = (payload) =>\r\n    {\r\n       return API.post('/api/book/bookappointment', payload);\r\n    }\r\n\r\n    static getNewReference = () =>\r\n    {\r\n        return API.get('/api/book/getnewreference');\r\n    }\r\n\r\n}","import { withStyles } from \"@material-ui/core/styles\";\r\nimport MobileStepper from \"@material-ui/core/MobileStepper\";\r\n\r\nconst StyledMobileStepper = withStyles({\r\n  root: {\r\n    maxWidth: \"100%\",\r\n    flexGrow: 1\r\n  },\r\n  progress: {\r\n    width: \"100%\"\r\n  }\r\n})(MobileStepper);\r\n\r\nexport default StyledMobileStepper;","export default __webpack_public_path__ + \"static/media/ok.c105a1fa.png\";","import React from 'react';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Stepper from '@material-ui/core/Stepper';\r\nimport Step from '@material-ui/core/Step';\r\nimport StepLabel from '@material-ui/core/StepLabel';\r\nimport Button from '@material-ui/core/Button';\r\nimport Link from '@material-ui/core/Link';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport DateForm from './DateForm';\r\nimport TimeForm from './TimeForm';\r\nimport InformationForm from './InformationForm';\r\nimport ReviewForm from './ReviewForm';\r\nimport GlobalState from './GlobalState';\r\nimport AddressForm from './AddressForm';\r\nimport BookService from './services/BookService';\r\n\r\nimport {BrowserView, MobileView} from 'react-device-detect';\r\n\r\nimport ValidateStep from './Validation';\r\n\r\n\r\nimport MobileStepper from './MobileStepper';\r\nimport doneImage from './images/ok.png';\r\n\r\n\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright  '}\r\n      {new Date().getFullYear()}\r\n      {' '}\r\n      <Link color=\"inherit\" href=\"https://www.blood.london/\">\r\n            Blood.London. \r\n      </Link>{' '}\r\n     \r\n      All rights reserved\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  appBar: {\r\n    position: 'relative',\r\n    backgroundColor: \"#333\",\r\n    color: \"#fff\",\r\n    alignItems: 'center'\r\n\r\n  },\r\n\r\n  logo: {\r\n    maxWidth: 160,\r\n  },\r\n  layout: {\r\n    width: 'auto',\r\n    marginLeft: theme.spacing(2),\r\n    marginRight: theme.spacing(2),\r\n    [theme.breakpoints.up(600 + theme.spacing(2) * 2)]: {\r\n      width: 600,\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n    },\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(1),\r\n    marginBottom: theme.spacing(3),\r\n    padding: theme.spacing(1),\r\n    [theme.breakpoints.up(600 + theme.spacing(3) * 2)]: {\r\n      marginTop: theme.spacing(6),\r\n      marginBottom: theme.spacing(6),\r\n      padding: theme.spacing(3),\r\n    },\r\n  },\r\n  stepper: {\r\n    padding: theme.spacing(3, 0, 5),\r\n  },\r\n  buttons: {\r\n    display: 'flex',\r\n    justifyContent: 'flex-end',\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing(3),\r\n    marginLeft: theme.spacing(1),\r\n  },\r\n\r\n  bold: {\r\n    fontWeight: \"800\",\r\n    padding: \"5px\"\r\n  },\r\n\r\n  doneImage: {\r\n    width: \"240px\",\r\n    height: \"150px\",\r\n    margin: \"20px\"\r\n  }\r\n\r\n}));\r\n\r\nconst steps = ['Appoinment Date', 'Appoinment Time', 'Basic Info', 'Address Info' ,'Review'];\r\n\r\nfunction getStepContent(step) {\r\n  switch (step) {\r\n    case 0:\r\n      return <DateForm />;\r\n    case 1:\r\n      return <TimeForm />;\r\n    case 2:\r\n      return <InformationForm />;\r\n    case 3:\r\n      return <AddressForm />;\r\n    case 4:\r\n        return <ReviewForm />;\r\n    default:\r\n      throw new Error('Unknown step');\r\n  }\r\n}\r\n\r\n\r\n\r\nexport default function Checkout() {\r\n  const [state, setState] = React.useContext(GlobalState);\r\n  const classes = useStyles();\r\n\r\n // const [activeStep, setActiveStep] = React.useState(0);\r\n \r\n const setActiveStep = (step) => {\r\n  setState(state => ({...state, activeStep : step}));\r\n }\r\n\r\n  const [submiting, setSubmiting] = React.useState(false);\r\n\r\n\r\n  const maxSteps = steps.length;\r\n\r\n\r\n\r\n  \r\n\r\n  const submitForm = () =>\r\n  {\r\n    var promiseArray = [];\r\n\r\n    BookService.getNewReference().then( (res) => {\r\n\r\n      const ref = res.data.ref;\r\n\r\n      setState(state => ({...state, ref: ref}));\r\n\r\n      if (!state.proceedToSubmit)\r\n      {\r\n        const personInfo = {\r\n          gender: state.gender,\r\n          title: state.title,\r\n          firstname: state.firstname,\r\n          lastname: state.lastname,\r\n          birthDate: state.birthDate,\r\n          email: state.email,\r\n          phone: state.phone,\r\n          postCode: state.postCode,\r\n          address: state.address,\r\n          notes: state.notes,\r\n          certificate: state.certificate,\r\n          passportNumber: state.passportNumber\r\n        };\r\n    \r\n        const promise = BookService.bookAppointment({...personInfo, bookingDate: state.bookingDate, bookingTime: state.bookingTime, bookingRef: ref});\r\n        promiseArray.push(promise);\r\n      }\r\n  \r\n  \r\n  \r\n      state.persons.forEach((person) => {\r\n        promiseArray.push(BookService.bookAppointment({...person,bookingDate: state.bookingDate, bookingTime: state.bookingTime, bookingRef: ref }));\r\n      });\r\n      \r\n      Promise.all(promiseArray).then( (values) => {\r\n        setSubmiting(false);\r\n        setActiveStep(state.activeStep + 1);\r\n  \r\n      }).catch( (err) =>\r\n      {\r\n        console.log(err);\r\n        setSubmiting(false);\r\n      });\r\n\r\n    }).catch( (err) =>\r\n    {\r\n      console.log(err);\r\n      setSubmiting(false);\r\n    });;\r\n  }\r\n\r\n  const proceedToSubmit = () =>\r\n  {\r\n    setState(state => ({...state, proceedToSubmit: true}));\r\n    setActiveStep(4);\r\n  }\r\n\r\n\r\n  const handleNext = () => {\r\n\r\n    if (state.activeStep === 4)\r\n    {\r\n      setSubmiting(true);\r\n      submitForm();\r\n\r\n    }else if (ValidateStep(state, setState, state.activeStep)) {\r\n    \r\n        setActiveStep(state.activeStep + 1);\r\n    }\r\n  };\r\n\r\n  const handleBack = () => {\r\n    setActiveStep(state.activeStep - 1);\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <CssBaseline />\r\n      <AppBar position=\"absolute\" color=\"default\" className={classes.appBar}>\r\n        <Toolbar>\r\n            {/* <img src=\"logo.png\" alt=\"logo\" className={classes.logo} /> */}\r\n          <Typography variant=\"h6\" color=\"inherit\" noWrap>\r\n                 Medical Express Clinic\r\n          </Typography>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <main className={classes.layout}>\r\n        <Paper className={classes.paper}>\r\n          <Typography component=\"h1\" variant=\"h6\" align=\"center\">\r\n                Book Appointment Online\r\n          </Typography>\r\n\r\n      \r\n\r\n          <React.Fragment>\r\n              {state.activeStep < steps.length ? (\r\n                  <React.Fragment>\r\n                        <BrowserView>\r\n                                <Stepper activeStep={state.activeStep} className={classes.stepper}>\r\n                                    {steps.map((label) => (\r\n                                    <Step key={label}>\r\n                                        <StepLabel>{label}</StepLabel>\r\n                                    </Step>\r\n                                    ))}\r\n                                </Stepper>\r\n                        </BrowserView>\r\n\r\n                        <MobileView>\r\n                                    <MobileStepper \r\n                                            steps={maxSteps}\r\n                                            position=\"static\"\r\n                                            variant=\"progress\"\r\n                                            \r\n                                            activeStep={state.activeStep}\r\n                                    />\r\n                        </MobileView>  \r\n                  </React.Fragment>\r\n              ) : (\r\n                  <React.Fragment>\r\n\r\n                      \r\n                  </React.Fragment>\r\n              )}\r\n          </React.Fragment>                  \r\n\r\n          {/* <PersonsBox/> */}\r\n\r\n          <React.Fragment>\r\n            {state.activeStep === steps.length ? (\r\n              <React.Fragment>\r\n\r\n                <img className={classes.doneImage} src={doneImage} alt=\"Done image\"/>\r\n\r\n                <Typography variant=\"h5\" gutterBottom>\r\n                  Thank you for your Booking.\r\n                </Typography>\r\n                <br/>\r\n                <Typography variant=\"subtitle1\">\r\n                  Your booking number is <span className={classes.bold}>{`\"${state.ref}\"`}</span> . We have emailed your booking information, and will look forward to meet you at the clinic. \r\n                </Typography>\r\n              </React.Fragment>\r\n            ) : (\r\n              <React.Fragment>\r\n                {getStepContent(state.activeStep)}\r\n                <div className={classes.buttons}>\r\n                  {state.activeStep !== 0 && (\r\n                    <Button disabled={submiting} onClick={handleBack} onTouchTap = {handleBack}  className={classes.button}>\r\n                      Back\r\n                    </Button>\r\n                  )}\r\n\r\n                  {((state.activeStep === 2 || state.activeStep === 3 ) && state.persons && state.persons.length >= 1) && (\r\n                    <Button \r\n                            // variant=\"contained\"\r\n                            color=\"secondary\"\r\n                            onTouchTap = {proceedToSubmit} \r\n                            onClick={proceedToSubmit} className={classes.button}>\r\n                      Skip to Submit\r\n                    </Button>\r\n                  )}\r\n\r\n                  <Button\r\n                    disabled={submiting} \r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    onTouchTap = {handleNext} \r\n                    onClick={handleNext}\r\n                    className={classes.button}\r\n                  >\r\n                    {state.activeStep === steps.length - 1 ? 'Submit' : 'Next'}\r\n                  </Button>\r\n                  \r\n\r\n\r\n\r\n\r\n                </div>\r\n              </React.Fragment>\r\n            )}\r\n          </React.Fragment>\r\n        </Paper>\r\n        <Copyright />\r\n      </main>\r\n    </React.Fragment>\r\n  );\r\n}","import './App.css';\nimport Checkout from './checkout';\nimport GlobalState from './GlobalState'; \nimport React from 'react';\n\nfunction App() {\n  const [state, setState] = React.useState({activeStep : 0, bookingDate: new Date(), persons: []});\n  return (\n    <GlobalState.Provider value={[state, setState]}>\n      <div className=\"App\">\n        <Checkout> </Checkout>\n      </div>\n    </GlobalState.Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n// import reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"],"sourceRoot":""}