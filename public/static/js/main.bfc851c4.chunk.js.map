{"version":3,"sources":["GlobalState.js","services/api.js","services/TimeService.js","DateForm.js","TimeForm.js","PersonsBox.js","InformationForm.js","Validation.js","ReviewForm.js","AddressForm.js","services/BookService.js","MobileStepper.js","images/ok.png","checkout.js","App.js","index.js"],"names":["GlobalState","React","createContext","axios","create","baseURL","headers","TimeService","getFirstAvailableDate","API","get","getFullyBookedDates","getTimeSlots","date","firstAvailableDay","fullyBookedDays","useStyles","makeStyles","theme","loadingBox","DateForm","useContext","state","setState","useState","bookingDate","Date","handleDateChange","dataLoaded","setDataLoaded","useEffect","callback","promise1","promise2","Promise","all","then","values","data","console","log","catch","err","LoadData","dateChanged","Fragment","Typography","variant","gutterBottom","Grid","container","direction","justify","alignItems","utils","DateFnsUtils","DatePicker","autoOk","disablePast","openTo","orientation","fullWidth","value","onChange","shouldDisableDate","checkFullyBooked","Skeleton","width","height","setHours","length","result","forEach","index","date1","date2","getFullYear","getMonth","getDate","timeSlots","root","display","flexWrap","justifyContent","overflow","backgroundColor","palette","background","paper","gridList","box","border","margin","padding","color","cursor","boxMobile","boxSelected","boxDisable","TimeForm","classes","bookingTime","setTime","emptyTimeSlots","i","push","boxClicked","key","className","GridList","cellHeight","cols","map","timeSlot","GridListTile","onClick","available","time","borderRadius","textAlign","paddingRight","boxRed","boxInfo","ul","listStyle","li","marginBottom","icon","marginRight","heading","fontSize","typography","pxToRem","flexBasis","flexShrink","text","secondary","secondaryHeading","infoDetails","infoTitle","fontWeight","infoData","title","marginLeft","Accordion","PersonsBox","expanded","setExpanded","spacing","persons","person","panel","item","xs","md","event","isExpanded","AccordionSummary","expandIcon","aria-controls","id","firstname","lastname","AccordionDetails","gender","email","dateFormat","birthDate","phone","postCode","address","notes","passportNumber","hidden","passportNumber2","formControl","FormTitle","marginTop","InformationForm","handleBirthDateChange","setFirstname","setLastname","setEmail","setGender","setTitle","emailConfirmed","setEmailConfirmed","FormControl","required","InputLabel","Select","error","genderError","labelId","target","MenuItem","titleError","TextField","firstnameError","label","autoComplete","trim","lastnameError","birthDateError","format","disableFuture","InputAdornmentProps","position","helperText","emailError","type","EmailValidator","FormControlLabel","style","emailConfirmedError","control","Checkbox","name","checked","ValidateStep","step","bookingTimeError","phoneError","postCodeError","addressError","certificate","passportNumberError","proceedToSubmit","terms","link","textDecoration","AddAnother","ReviewForm","handleChange","addAnotherPerson","personInfo","newPersons","activeStep","faCalendarAlt","faHourglassHalf","faClock","Button","startIcon","onTouchTap","button","href","AddressForm","setPhone","setPostCode","setAddress","setNotes","setPassportNumber","setPassportNumber2","setCertificate","multiline","rowsMax","placeholder","rows","BookService","bookAppointment","payload","post","getNewReference","StyledMobileStepper","withStyles","maxWidth","flexGrow","progress","MobileStepper","Copyright","align","Link","appBar","logo","layout","breakpoints","up","stepper","buttons","bold","doneImage","steps","getStepContent","Error","Checkout","setActiveStep","submiting","setSubmiting","maxSteps","handleNext","promiseArray","res","ref","promise","bookingRef","submitForm","handleBack","CssBaseline","AppBar","Toolbar","noWrap","Paper","component","Stepper","Step","StepLabel","src","alt","disabled","App","Provider","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"0XAEeA,EADKC,IAAMC,cAAc,CAAC,GAAI,e,wBCC9BC,E,OAAAA,EAAMC,OAAO,CAE1BC,QAAS,iCACTC,QAAU,CACN,cAAkB,wCCHHC,E,kCAAAA,EAETC,sBAAyB,WAE7B,OAAOC,EAAIC,IAAI,mCAJFH,EAkBVI,oBAAsB,WAE1B,OAAOF,EAAIC,IAAI,iCApBDH,EAuBVK,aAAe,SAACC,GAEnB,OAAOJ,EAAIC,IAAJ,sCAAuCG,K,sBCZlDC,EAAoB,KACpBC,EAAkB,GAEhBC,EAAYC,aAAW,SAACC,GAAD,MAAY,CAEvCC,WAAY,OA8BC,SAASC,IACLJ,IADiB,IAAD,IAGLf,IAAMoB,WAAWrB,GAHZ,mBAGxBsB,EAHwB,KAGjBC,EAHiB,OAIStB,IAAMuB,SAAN,UAAeF,EAAMG,mBAArB,QAAoC,IAAIC,MAJjD,mBAIxBD,EAJwB,KAIXE,EAJW,OAMM1B,IAAMuB,UAAS,GANrB,mBAMxBI,EANwB,KAMZC,EANY,KAQ/BC,qBAAU,YA/Bd,SAAkBC,GAEZ,IAAMC,EAAWzB,EAAYC,wBACvByB,EAAW1B,EAAYI,sBAE7BuB,QAAQC,IAAI,CAACH,EAAUC,IAAWG,MAAM,SAACC,GAEvCvB,EAAoB,IAAIY,KAAMW,EAAO,GAAGC,KAAMzB,MAC9CE,EAAkBsB,EAAO,GAEzBE,QAAQC,IAAI1B,GACZyB,QAAQC,IAAIzB,GAGZgB,GAAS,MAERU,OAAO,SAACC,GAETH,QAAQC,IAAIE,MAedC,CAASd,KAET,IAIF,IAAMe,EAAc,SAAC/B,GAEjBc,EAAiBd,GACjBU,GAAS,SAAAD,GAAK,kCAASA,GAAT,IAAgBG,YAAaZ,QAGjD,OAEE,eAAC,IAAMgC,SAAP,WAEY,cAACC,EAAA,EAAD,CAAYC,QAAQ,KAAKC,cAAY,EAArC,yBAIPpB,EAEO,cAAC,IAAMiB,SAAP,UAEA,eAACI,EAAA,EAAD,CACEC,WAAS,EACTC,UAAU,SACVC,QAAQ,SACRC,WAAW,SAJb,UAOQ,cAAC,cAAD,UACI,cAAC,IAAD,CAAyBC,MAAOC,IAAhC,SACQ,cAACC,EAAA,EAAD,CAAYC,QAAM,EACNC,YAAY,OACZC,OAAO,OACPC,YAAY,YACZb,QAAQ,SACRc,WAAS,EACTC,MAAOrC,EACPsC,SAAUnB,EACVoB,kBAAmBC,QAK3C,cAAC,aAAD,UACI,cAAC,IAAD,CAAyBX,MAAOC,IAAhC,SACY,cAACC,EAAA,EAAD,CAAYC,QAAM,EACNC,YAAY,OACZC,OAAO,OACPZ,QAAQ,SACRc,WAAS,EACTC,MAAOrC,EACPsC,SAAUnB,EACVoB,kBAAmBC,aAU3D,cAAC,IAAMpB,SAAP,UACI,eAACI,EAAA,EAAD,CACEC,WAAS,EACTC,UAAU,SACVC,QAAQ,SACRC,WAAW,SAJb,UAOM,cAACa,EAAA,EAAD,CAAUnB,QAAQ,OAAOoB,MAAO,QAChC,cAACD,EAAA,EAAD,CAAUnB,QAAQ,OAAOoB,MAAO,QAChC,cAACD,EAAA,EAAD,CAAUnB,QAAQ,OAAOoB,MAAO,MAAQC,OAAQ,cAYtE,IAAMH,EAAmB,SAACpD,GAEtB,GAAIA,EAAKwD,SAAS,EAAE,EAAE,EAAE,GAAKvD,EAAkBuD,SAAS,EAAE,EAAE,EAAE,GAE5D,OAAO,EAGJ,GAAItD,GAAmBA,EAAgBuD,OAAS,EACrD,CACE,IAAIC,GAAS,EAQb,OAPAxD,EAAgByD,SAAS,SAACV,EAAOW,GAevC,IAAqBC,EAAOC,IAbE9D,GAaT6D,EAbGZ,GAgBPc,gBAAkBD,EAAMC,eAC9BF,EAAMG,aAAeF,EAAME,YAC3BH,EAAMI,YAAcH,EAAMG,YAhB3BP,GAAS,MAGNA,EAIP,OAAO,G,sBCnJTQ,EAAY,KAEV/D,EAAYC,aAAW,SAACC,GAAD,MAAY,CAErC8D,KAAM,CACFC,QAAS,OACTC,SAAU,OACVC,eAAgB,eAChBC,SAAU,SACVC,gBAAiBnE,EAAMoE,QAAQC,WAAWC,OAE5CC,SAAU,GAKVC,IAAK,CAEHC,OAAQ,iBACRC,OAAQ,MACRC,QAAS,MACTC,MAAO,OACPC,OAAQ,UACR,UAAW,CACPR,WAAY,QACZO,MAAO,SAIbE,UAAW,CAETL,OAAQ,iBACRC,OAAQ,MACRC,QAAS,MACTC,MAAO,OACPC,OAAQ,WAGVE,YAAa,CACXZ,gBAAiB,QACjBM,OAAQ,iBACRC,OAAQ,MACRC,QAAS,MACTC,MAAO,OACPC,OAAQ,WAGVG,WAAY,CACVb,gBAAiB,OACjBM,OAAQ,iBACRC,OAAQ,MACRC,QAAS,MACTC,MAAO,YAsBA,SAASK,IAUpB,IAVgC,IAAD,EACzBC,EAAUpF,IADe,EAILf,IAAMoB,WAAWrB,GAJZ,mBAIxBsB,EAJwB,KAIjBC,EAJiB,OAKAtB,IAAMuB,SAAN,UAAeF,EAAM+E,mBAArB,QAAoC,IALpC,mBAKxBA,EALwB,KAKXC,EALW,OAOMrG,IAAMuB,UAAS,GAPrB,mBAOxBI,EAPwB,KAOZC,EAPY,KASzB0E,EAAiB,GACdC,EAAE,EAAGA,EAAE,GAAIA,IAElBD,EAAeE,KAAKD,GAGtB1E,qBAAU,YA/BZ,SAAkBjB,EAAMkB,GAEtB,IAAMC,EAAWzB,EAAYK,aAAaC,GAE1CqB,QAAQC,IAAI,CAACH,IAAWI,MAAM,SAACC,GAE7B0C,EAAY1C,EAAO,GAAGC,KAEtBP,GAAS,MAERU,OAAO,SAACC,GAETH,QAAQC,IAAIE,MAoBZC,CAASrB,EAAMG,YAAaI,KAC3B,IAIH,IAAM6E,EAAa,SAACC,GAEZA,IAEAL,EAAQK,GACRpF,EAAS,2BAAID,GAAL,IAAY+E,YAAcM,OAK5C,OACE,eAAC,IAAM9D,SAAP,WACE,cAACC,EAAA,EAAD,CAAYC,QAAQ,KAAKC,cAAY,EAArC,yBAICpB,EAIK,eAAC,IAAMiB,SAAP,WAEE,cAAC,cAAD,UACI,qBAAK+D,UAAWR,EAAQpB,KAAxB,SACU,cAAC6B,EAAA,EAAD,CAAUC,WAAY,GAAIF,UAAWR,EAAQX,SAAUsB,KAAM,EAA7D,SACGhC,EAAUiC,KAAI,SAACC,GAAD,OACb,cAACC,EAAA,EAAD,CAAkCH,KAAM,EAAxC,SACE,qBACII,QAAU,WAAOF,EAASG,UAAWV,EAAWO,EAASI,MAAQX,EAAW,OAC5EE,UAAYK,EAASG,UAAef,IAAgBY,EAASI,KAAOjB,EAAQH,YAAcG,EAAQV,IAAOU,EAAQF,WAFrH,SAGKe,EAASI,QAJGJ,EAASI,eAa9C,cAAC,aAAD,UAEA,qBAAKT,UAAWR,EAAQpB,KAAxB,SACc,cAAC6B,EAAA,EAAD,CAAUC,WAAY,GAAIF,UAAWR,EAAQX,SAAUsB,KAAM,EAA7D,SACGhC,EAAUiC,KAAI,SAACC,GAAD,OACb,cAACC,EAAA,EAAD,CAAkCH,KAAM,EAAxC,SACE,qBACII,QAAW,WAAOF,EAASG,UAAWV,EAAWO,EAASI,MAAQX,EAAW,OAC7EE,UAAYK,EAASG,UAAef,IAAgBY,EAASI,KAAOjB,EAAQH,YAAcG,EAAQJ,UAAaI,EAAQF,WAF3H,SAGKe,EAASI,QAJGJ,EAASI,kBAepD,cAAC,IAAMxE,SAAP,UACQ,cAACI,EAAA,EAAD,CACEC,WAAS,EACTC,UAAU,SACVC,QAAQ,SACRC,WAAW,SAJb,SAMM,cAACwD,EAAA,EAAD,CAAUC,WAAY,GAAIF,UAAWR,EAAQX,SAAUsB,KAAM,EAA7D,SACKR,EAAeS,KAAI,SAACC,GAAD,OAClB,cAACC,EAAA,EAAD,CAA6BH,KAAM,EAAnC,SACK,cAAC7C,EAAA,EAAD,CAAUnB,QAAQ,OAAOoB,MAAO,IAAMC,OAAQ,MADhC6C,eAiB/C,I,qHC/LMjG,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCwE,IAAK,CACHL,gBAAkB,UAClBS,MAAO,OACPD,QAAU,MACVyB,aAAe,MACfC,UAAW,UACXC,aAAc,QAGhBC,OAAQ,CACNpC,gBAAkB,UAClBS,MAAO,OACPD,QAAU,MACVyB,aAAe,MACfC,UAAW,UACXC,aAAc,QAGhBE,QAAS,CACPH,UAAW,UACXlC,gBAAkB,UAClBS,MAAO,OACPD,QAAU,MACVyB,aAAe,MACfE,aAAc,OACd7B,OAAQ,kBAGVgC,GAAI,CACDC,UAAW,OACX/B,QAAS,IACTD,OAAQ,KAGXiC,GAAI,CACFC,aAAe,OAIjBC,KAAM,CACJC,YAAc,OAGhBhD,KAAM,CACJb,MAAO,QAET8D,QAAS,CACPC,SAAUhH,EAAMiH,WAAWC,QAAQ,IACnCC,UAAW,SACXC,WAAY,EACZxC,MAAO5E,EAAMoE,QAAQiD,KAAKC,WAE5BC,iBAAkB,CAChBP,SAAUhH,EAAMiH,WAAWC,QAAQ,KAGrCM,YAAY,CACVnB,UAAW,QAGboB,UAAU,CACRC,WAAY,MACZZ,YAAa,QAGfa,SAAS,CACPD,WAAY,OAGdE,MACA,CAOEvB,UAAW,OACXqB,WAAa,MACbG,WAAY,QAIdC,UAAU,CACR3D,gBAAkB,UAClBS,MAAO,YAMI,SAASmD,KACpB,IAAM7C,EAAUpF,KADiB,EAGPf,IAAMoB,WAAWrB,GAHV,mBAG1BsB,EAH0B,aAKDrB,IAAMuB,UAAS,IALd,mBAK1B0H,EAL0B,KAKhBC,EALgB,KAWnC,OACE,cAAC,IAAMtG,SAAP,UAIE,eAACI,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,SAASiG,QAAS,EAAGhG,QAAQ,aAAcC,WAAW,UAAhF,UAEG/B,EAAM+H,SAAW/H,EAAM+H,QAAQ/E,OAAS,GAEnC,sBAAMsC,UAAWR,EAAQ0C,MAAzB,qCAKHxH,EAAM+H,QAAQrC,KAAI,SAACsC,EAAO7E,GAAR,UAlBH8E,EAkBG,OAEb,cAACtG,EAAA,EAAD,CAAMuG,MAAI,EAACC,GAAI,GAAIC,GAAI,GAAvB,SACA,qBAAK9C,UAAWR,EAAQpB,KAAxB,SACI,eAACgE,EAAA,EAAD,CAAWpC,UAAWR,EAAQ4C,UAAWE,SAAUA,IAAQ,eAAazE,GAASV,UAtB3EwF,EAsBkG,QAAD,OAAS9E,GAtBhG,SAACkF,EAAOC,GACtCT,IAAYS,GAAaL,KAqBX,UACA,eAACM,EAAA,EAAD,CACIC,WAAY,cAAC,IAAD,IACZC,gBAAc,mBACdC,GAAE,eAAUvF,EAAV,aAHN,UAKI,eAAC3B,EAAA,EAAD,CAAY8D,UAAWR,EAAQ6B,QAA/B,yBAA8CxD,EAAM,GAApD,OACA,cAAC3B,EAAA,EAAD,CAAY8D,UAAWR,EAAQqC,iBAA/B,mBACIa,EAAOW,UADX,YACwBX,EAAOY,eAGnC,cAACC,EAAA,EAAD,CAAkBvD,UAAWR,EAAQsC,YAArC,SAEI,qBAAI9B,UAAWR,EAAQuB,GAAvB,UACI,qBAAIf,UAAWR,EAAQyB,GAAvB,UACA,sBAAMjB,UAAWR,EAAQuC,UAAzB,oBADA,IACkD,sBAAM/B,UAAWR,EAAQyC,SAAzB,SAAoCS,EAAOc,YAE7F,qBAAIxD,UAAWR,EAAQyB,GAAvB,UACA,sBAAMjB,UAAWR,EAAQuC,UAAzB,mBADA,KACkD,sBAAM/B,UAAWR,EAAQyC,SAAzB,SAAoCS,EAAOR,WAE7F,qBAAIlC,UAAWR,EAAQyB,GAAvB,UACA,sBAAMjB,UAAWR,EAAQuC,UAAzB,sBADA,IACoD,sBAAM/B,UAAWR,EAAQyC,SAAzB,SAAoCS,EAAOW,eAE/F,qBAAIrD,UAAWR,EAAQyB,GAAvB,UACI,sBAAMjB,UAAWR,EAAQuC,UAAzB,qBADJ,IACuD,sBAAM/B,UAAWR,EAAQyC,SAAzB,SAAoCS,EAAOY,cAElG,qBAAItD,UAAWR,EAAQyB,GAAvB,UACI,sBAAMjB,UAAWR,EAAQuC,UAAzB,mBADJ,IACqD,sBAAM/B,UAAWR,EAAQyC,SAAzB,SAAoCS,EAAOe,WAEhG,qBAAIzD,UAAWR,EAAQyB,GAAvB,UACI,sBAAMjB,UAAWR,EAAQuC,UAAzB,mBADJ,IACqD,sBAAM/B,UAAWR,EAAQyC,SAAzB,SAAoCyB,KAAW,IAAI5I,KAAK4H,EAAOiB,WAAW,oBAE/H,qBAAI3D,UAAWR,EAAQyB,GAAvB,UACI,sBAAMjB,UAAWR,EAAQuC,UAAzB,uBADJ,IACyD,sBAAM/B,UAAWR,EAAQyC,SAAzB,SAAoCS,EAAOkB,WAEpG,qBAAI5D,UAAWR,EAAQyB,GAAvB,UACI,sBAAMjB,UAAWR,EAAQuC,UAAzB,uBADJ,IACyD,sBAAM/B,UAAWR,EAAQyC,SAAzB,SAAoCS,EAAOmB,cAEpG,qBAAI7D,UAAWR,EAAQyB,GAAvB,UACI,sBAAMjB,UAAWR,EAAQuC,UAAzB,qBADJ,IACuD,sBAAM/B,UAAWR,EAAQyC,SAAzB,SAAoCS,EAAOoB,aAElG,qBAAI9D,UAAWR,EAAQyB,GAAvB,UACI,sBAAMjB,UAAWR,EAAQuC,UAAzB,mBADJ,IACqD,sBAAM/B,UAAWR,EAAQyC,SAAzB,mBAAoCS,EAAOqB,aAA3C,QAAoD,WAEzG,qBAAI/D,UAAWR,EAAQyB,GAAvB,UACI,sBAAMjB,UAAWR,EAAQuC,UAAzB,0BADJ,IAC4D,sBAAM/B,UAAWR,EAAQyC,SAAzB,mBAAoCS,EAAOsB,sBAA3C,QAA6D,WAEzH,qBAAIhE,UAAWR,EAAQyB,GAAIgD,QAASvB,EAAOwB,iBAAqD,IAAlCxB,EAAOwB,gBAAgBxG,OAArF,UACI,sBAAMsC,UAAWR,EAAQuC,UAAzB,iCADJ,IACmE,sBAAM/B,UAAWR,EAAQyC,SAAzB,mBAAoCS,EAAOwB,uBAA3C,QAA8D,+B,wBC5JvJ9J,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrC6J,YAAa,CACXxD,UAAW,QAGbyD,UACA,CACEC,UAAY,OACZnD,aAAe,YAKN,SAASoD,KAAmB,IAAD,cAChC9E,EAAUpF,KADsB,EAEZf,IAAMoB,WAAWrB,GAFL,mBAE/BsB,EAF+B,KAExBC,EAFwB,OAGKtB,IAAMuB,SAAN,UAAeF,EAAMiJ,iBAArB,QAAkC,MAHvC,mBAG/BA,EAH+B,KAGpBY,EAHoB,OAIJlL,IAAMuB,SAAN,UAAeF,EAAM2I,iBAArB,QAAkC,IAJ9B,mBAI/BA,EAJ+B,KAIpBmB,EAJoB,OAKNnL,IAAMuB,SAAN,UAAeF,EAAM4I,gBAArB,QAAiC,IAL3B,mBAK/BA,EAL+B,KAKrBmB,EALqB,OAMZpL,IAAMuB,SAAN,UAAeF,EAAM+I,aAArB,QAA8B,IANlB,mBAM/BA,EAN+B,KAMxBiB,EANwB,OAQVrL,IAAMuB,SAAN,UAAeF,EAAM8I,cAArB,QAA+B,IARrB,mBAQ/BA,EAR+B,KAQvBmB,EARuB,OASZtL,IAAMuB,SAAN,UAAeF,EAAMwH,aAArB,QAA8B,IATlB,mBAS/BA,EAT+B,KASxB0C,EATwB,OAWMvL,IAAMuB,SAAN,UAAeF,EAAMmK,sBAArB,UAXN,mBAW/BA,GAX+B,KAWfC,GAXe,KAoExC,OAGE,eAAC,IAAM7I,SAAP,WAEE,cAACoG,GAAD,IAEwB,IAAzB3H,EAAM+H,QAAQ/E,QACT,cAACxB,EAAA,EAAD,CAAY8D,UAAWR,EAAQ4E,UAAWjI,QAAQ,KAAKC,cAAY,EAAnE,kCAKL1B,EAAM+H,QAAQ/E,OAAS,GAClB,cAACxB,EAAA,EAAD,CAAY8D,UAAWR,EAAQ4E,UAAWjI,QAAQ,KAAKC,cAAY,EAAnE,6BAQJ,eAACC,EAAA,EAAD,CAAMC,WAAS,EAACkG,QAAS,EAAG/F,WAAW,WAAvC,UAEA,cAACJ,EAAA,EAAD,CAAMuG,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAvB,SACM,eAACiC,EAAA,EAAD,CAAa/E,UAAWR,EAAQ2E,YAAalH,WAAS,EAAC+H,UAAQ,EAA/D,UACI,cAACC,EAAA,EAAD,CAAY7B,GAAG,kBAAf,oBACA,eAAC8B,EAAA,EAAD,CACIC,QAAOzK,EAAM0K,YACbnI,WAAS,EACToI,QAAQ,kBACRjC,GAAG,YACHlG,MAAOsG,EACPrG,SA5EM,SAAC4F,GACf4B,EAAU5B,EAAMuC,OAAOpI,OACvBvC,GAAS,SAAAD,GAAK,kCAASA,GAAT,IAAgB8I,OAAQT,EAAMuC,OAAOpI,WACnDvC,GAAS,SAAAD,GAAK,kCAASA,GAAT,IAAgB0K,aAAc,QAmExC,UAQI,cAACG,EAAA,EAAD,CAAUrI,MAAO,OAAjB,kBACA,cAACqI,EAAA,EAAD,CAAUrI,MAAO,SAAjB,4BAIZ,cAACb,EAAA,EAAD,CAAMuG,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAvB,SACI,eAACiC,EAAA,EAAD,CAAa/E,UAAWR,EAAQ2E,YAAalH,WAAS,EAAC+H,UAAQ,EAA/D,UACI,cAACC,EAAA,EAAD,CAAY7B,GAAG,iBAAf,mBACA,eAAC8B,EAAA,EAAD,CACIC,QAAOzK,EAAM8K,WACbvI,WAAS,EACToI,QAAQ,iBACRjC,GAAG,WACHlG,MAAOgF,EACP/E,SAlGK,SAAC4F,GACd6B,EAAS7B,EAAMuC,OAAOpI,OACtBvC,GAAS,SAAAD,GAAK,kCAASA,GAAT,IAAgBwH,MAAOa,EAAMuC,OAAOpI,WAClDvC,GAAS,SAAAD,GAAK,kCAASA,GAAT,IAAgB8K,YAAa,QAyFvC,UAQI,cAACD,EAAA,EAAD,CAAUrI,MAAO,KAAjB,gBACA,cAACqI,EAAA,EAAD,CAAUrI,MAAO,MAAjB,iBACA,cAACqI,EAAA,EAAD,CAAUrI,MAAO,OAAjB,kBACA,cAACqI,EAAA,EAAD,CAAUrI,MAAO,KAAjB,gBACA,cAACqI,EAAA,EAAD,CAAUrI,MAAO,KAAjB,wBAIZ,cAACb,EAAA,EAAD,CAAMuG,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAvB,SACE,cAAC2C,EAAA,EAAD,CACUN,QAAOzK,EAAMgL,eACbV,UAAQ,EAAC5B,GAAG,YAAYuC,MAAM,aAC9B1I,WAAS,EAAC2I,aAAa,aACvB1I,MAASmG,EACTlG,SA/FS,SAAC4F,GAEtByB,EAAazB,EAAMuC,OAAOpI,OAC1BvC,GAAS,SAAAD,GAAK,kCAASA,GAAT,IAAgB2I,UAAYN,EAAMuC,OAAOpI,WACnD6F,EAAMuC,OAAOpI,OAAS6F,EAAMuC,OAAOpI,MAAM2I,OAAOnI,QAAU,GAE5D/C,GAAS,SAAAD,GAAK,kCAASA,GAAT,IAAgBgL,gBAAiB,YA4FjD,cAACrJ,EAAA,EAAD,CAAMuG,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAvB,SACC,cAAC2C,EAAA,EAAD,CACWN,QAAOzK,EAAMoL,cACbd,UAAQ,EAAC5B,GAAG,WAAWuC,MAAM,YAC7B1I,WAAS,EAAC2I,aAAa,cACvB1I,MAASoG,EACTnG,SA9FQ,SAAC4F,GAErB0B,EAAY1B,EAAMuC,OAAOpI,OACzBvC,GAAS,SAAAD,GAAK,kCAASA,GAAT,IAAgB4I,SAAWP,EAAMuC,OAAOpI,WAClD6F,EAAMuC,OAAOpI,OAAS6F,EAAMuC,OAAOpI,MAAM2I,OAAOnI,QAAU,GAE5D/C,GAAS,SAAAD,GAAK,kCAASA,GAAT,IAAgBoL,eAAgB,YA2FhD,cAACzJ,EAAA,EAAD,CAAMuG,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAvB,SACA,cAAC,IAAD,CAAyBpG,MAAOC,IAAhC,SACI,cAAC,IAAD,CACYwI,QAAOzK,EAAMqL,eACblJ,QAAM,EACNI,WAAS,EACTd,QAAQ,SACRwJ,MAAM,YACNK,OAAO,aACPC,eAAa,EACbC,oBAAqB,CAAEC,SAAU,SACjCC,WAAW,aACXlJ,MAAOyG,EACPxG,SA/HK,SAAClD,GAEtBsK,EAAsBtK,GACtBU,GAAS,SAAAD,GAAK,kCAASA,GAAT,IAAgBiJ,UAAW1J,OACzCU,GAAS,SAAAD,GAAK,kCAASA,GAAT,IAAgBqL,gBAAiB,cA+H/C,cAAC1J,EAAA,EAAD,CAAMuG,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAvB,SACK,cAAC2C,EAAA,EAAD,CACWN,QAAOzK,EAAM2L,WACbrB,UAAQ,EAAC5B,GAAG,QAAQuC,MAAM,gBAC1B1I,WAAS,EAAC2I,aAAa,QAASU,KAAK,QACrCpJ,MAASuG,EACTtG,SA9GC,SAAC4F,GAElB2B,EAAS3B,EAAMuC,OAAOpI,OACtBvC,GAAS,SAAAD,GAAK,kCAASA,GAAT,IAAgB+I,MAAQV,EAAMuC,OAAOpI,WAC/C6F,EAAMuC,OAAOpI,OAASqJ,WAAwBxD,EAAMuC,OAAOpI,QAE7DvC,GAAS,SAAAD,GAAK,kCAASA,GAAT,IAAgB2L,YAAa,QAyG7BD,WAAa,+LAI7B,cAAC/J,EAAA,EAAD,CAAMuG,MAAI,EAACC,GAAI,GAAI7C,UAAWR,EAAQ2E,YAAtC,SACE,cAACqC,GAAA,EAAD,CAAkBxG,UAAWR,EAAQ2E,YAAcsC,MAAQ,CAACvH,MAAOxE,EAAMgM,oBAAsB,MAAQ,IACrGC,QAAS,cAACC,GAAA,EAAD,CAAU5G,UAAWR,EAAQ2E,YAAasC,MAAQ,CAACvH,MAAOxE,EAAMgM,oBAAsB,MAAQ,IAAMxH,MAAM,YAAY2H,KAAK,uBAAuBC,QAASjC,GAAgB1H,SAlK9J,SAAC4F,GAC7B+B,GAAkB/B,EAAMuC,OAAOwB,SAC/BnM,GAAS,SAAAD,GAAK,kCAASA,GAAT,IAAgBmK,eAAgB9B,EAAMuC,OAAOwB,aAC3DnM,GAAS,SAAAD,GAAK,kCAASA,GAAT,IAAgBgM,qBAAqB,UAgK5Cf,MAAO,uBAAMc,MAAO,CAAEnF,SAAU,UAAzB,4H,0CCnNL,SAASyF,GAAcrM,EAAMC,EAAUqM,GAElD,IAAI7B,GAAQ,EA+EV,OA7EW,IAAT6B,EAIGtM,EAAM+E,cAET9E,GAAS,SAAAD,GAAK,kCAASA,GAAT,IAAgBuM,kBAAmB,OACjD9B,GAAQ,GAEQ,IAAT6B,GAEJtM,EAAM8I,SAET7I,GAAS,SAAAD,GAAK,kCAASA,GAAT,IAAgB0K,aAAc,OAC5CD,GAAQ,GAELzK,EAAMwH,QAETvH,GAAS,SAAAD,GAAK,kCAASA,GAAT,IAAgB8K,YAAa,OAC3CL,GAAQ,KAELzK,EAAM2I,WAAa3I,EAAM2I,UAAUwC,OAAOnI,OAAS,KAEtD/C,GAAS,SAAAD,GAAK,kCAASA,GAAT,IAAgBgL,gBAAiB,OAC/CP,GAAQ,KAELzK,EAAM4I,UAAY5I,EAAM4I,SAASuC,OAAOnI,OAAS,KAEpD/C,GAAS,SAAAD,GAAK,kCAASA,GAAT,IAAgBoL,eAAgB,OAC9CX,GAAQ,GAELzK,EAAMiJ,YAEThJ,GAAS,SAAAD,GAAK,kCAASA,GAAT,IAAgBqL,gBAAiB,OAC/CZ,GAAQ,GAELzK,EAAM+I,OAAU8C,WAAwB7L,EAAM+I,SAEjD9I,GAAS,SAAAD,GAAK,kCAASA,GAAT,IAAgB2L,YAAa,OAC3ClB,GAAQ,GAGLzK,EAAMmK,iBAETlK,GAAS,SAAAD,GAAK,kCAASA,GAAT,IAAgBgM,qBAAsB,OACpDvB,GAAQ,IAIM,IAAT6B,MAEFtM,EAAMkJ,OAASlJ,EAAMkJ,MAAMiC,OAAOnI,OAAS,KAE9C/C,GAAS,SAAAD,GAAK,kCAASA,GAAT,IAAgBwM,YAAa,OAC3C/B,GAAQ,KAELzK,EAAMmJ,UAAYnJ,EAAMmJ,SAASgC,OAAOnI,OAAS,KAEpD/C,GAAS,SAAAD,GAAK,kCAASA,GAAT,IAAgByM,eAAgB,OAC9ChC,GAAQ,KAELzK,EAAMoJ,SAAWpJ,EAAMoJ,QAAQ+B,OAAOnI,OAAS,MAElD/C,GAAS,SAAAD,GAAK,kCAASA,GAAT,IAAgB0M,cAAe,OAC7CjC,GAAQ,GAENzK,EAAM2M,eAAiB3M,EAAMsJ,gBAAkBtJ,EAAMsJ,eAAe6B,OAAOnI,OAAS,KAEtF/C,GAAS,SAAAD,GAAK,kCAASA,GAAT,IAAgB4M,qBAAsB,OACpDnC,GAAQ,GAGLA,GACHxK,GAAS,SAAAD,GAAK,kCAASA,GAAT,IAAgB6M,iBAAiB,SAIzCpC,EC9Dd,IAAM/K,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCwE,IAAK,CACHL,gBAAkB,UAClBS,MAAO,OACPD,QAAU,MACVyB,aAAe,MACfC,UAAW,UACXC,aAAc,QAGhBC,OAAQ,CACNpC,gBAAkB,UAClBS,MAAO,OACPD,QAAU,MACVyB,aAAe,MACfC,UAAW,UACXC,aAAc,QAGhBE,QAAS,CACPH,UAAW,UACXlC,gBAAkB,UAClBS,MAAO,OACPD,QAAU,MACVyB,aAAe,MACfE,aAAc,OACd7B,OAAQ,kBAMVgC,GAAI,CACDC,UAAW,OACX/B,QAAS,IACTD,OAAQ,KAGXiC,GAAI,CACFC,aAAe,OAIjBC,KAAM,CACJC,YAAc,OAGhBhD,KAAM,CACJb,MAAO,QAET8D,QAAS,CACPC,SAAUhH,EAAMiH,WAAWC,QAAQ,IACnCC,UAAW,SACXC,WAAY,EACZxC,MAAO5E,EAAMoE,QAAQiD,KAAKC,WAE5BC,iBAAkB,CAChBP,SAAUhH,EAAMiH,WAAWC,QAAQ,KAGrCM,YAAY,CACVnB,UAAW,QAGboB,UAAU,CACRC,WAAY,MACZZ,YAAa,QAGfa,SAAS,CACPD,WAAY,OAGdE,MACA,CACEvB,UAAY,SACZqB,WAAa,MACbhD,OAAQ,OACRP,gBAAkB,OAClBQ,QAAU,OACVyB,aAAe,OAIjB0B,UAAU,CACR3D,gBAAkB,UAClBS,MAAO,QAGTsI,MAAO,CACLxF,WAAY,MACZrB,UAAW,UACX0D,UAAW,OACXpF,QAAS,QAGXwI,KAAK,CACHvI,MAAO,UACPwI,eAAgB,QAGlBC,WAAW,CACTtD,UAAW,YAMA,SAASuD,KAAc,IAAD,MAC3BpI,EAAUpF,KADiB,EAGPf,IAAMoB,WAAWrB,GAHV,mBAG1BsB,EAH0B,KAGnBC,EAHmB,OAKDtB,IAAMuB,UAAS,GALd,mBAK1B0H,EAL0B,KAKhBC,EALgB,KAO3BsF,EAAe,SAAClF,GAAD,OAAW,SAACI,EAAOC,GACtCT,IAAYS,GAAaL,KAGrBmF,EAAmB,WAEvB,GAAIf,GAAarM,EAAOC,EAAU,IAAMoM,GAAarM,EAAOC,EAAU,GACtE,CAEE,IAAMoN,EAAa,CACjBvE,OAAQ9I,EAAM8I,OACdtB,MAAOxH,EAAMwH,MACbmB,UAAW3I,EAAM2I,UACjBC,SAAU5I,EAAM4I,SAChBK,UAAWjJ,EAAMiJ,UACjBF,MAAO/I,EAAM+I,MACbG,MAAOlJ,EAAMkJ,MACbC,SAAUnJ,EAAMmJ,SAChBC,QAASpJ,EAAMoJ,QACfC,MAAOrJ,EAAMqJ,MACbsD,YAAa3M,EAAM2M,YACnBrD,eAAgBtJ,EAAMsJ,eACtBE,gBAAiBxJ,EAAMwJ,iBAEnB8D,EAAatN,EAAM+H,QACvBuF,EAAWnI,KAAKkI,GAChBpN,GAAS,SAAAD,GAAK,MAAK,CAACuN,WAAY,EAAGpN,YAAaH,EAAMG,YACpD4E,YAAa/E,EAAM+E,YACnBgD,QAASuF,WAGbrN,GAAS,SAAAD,GAAK,kCAASA,GAAT,IAAgBuN,WAAa,QAOjD,OACE,eAAC,IAAMhM,SAAP,WACE,cAACC,EAAA,EAAD,CAAYC,QAAQ,KAAKC,cAAY,EAArC,8BAIA,eAACC,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,SAASiG,QAAS,EAAGhG,QAAQ,aAAcC,WAAW,UAAhF,UACI,cAACJ,EAAA,EAAD,CAAMuG,MAAI,EAACC,GAAI,GAAIC,GAAI,GAAvB,SACE,qBAAK9C,UAAWR,EAAQV,IAAxB,SACE,qBAAIkB,UAAWR,EAAQuB,GAAvB,UACE,qBAAIf,UAAWR,EAAQyB,GAAvB,UACA,cAAC,KAAD,CAAiBE,KAAM+G,KAAelI,UAAWR,EAAQ2B,OACpDuC,KAAW,IAAI5I,KAAKJ,EAAMG,aAAa,mBAE5C,qBAAImF,UAAWR,EAAQyB,GAAvB,UACA,cAAC,KAAD,CAAiBE,KAAMgH,KAAiBnI,UAAWR,EAAQ2B,OAD3D,0CAQN,cAAC9E,EAAA,EAAD,CAAMuG,MAAI,EAACC,GAAI,GAAIC,GAAI,GAAvB,SACE,qBAAK9C,UAAWR,EAAQV,IAAxB,SACE,oBAAIkB,UAAWR,EAAQuB,GAAvB,SACE,qBAAIf,UAAWR,EAAQyB,GAAvB,UACA,cAAC,KAAD,CAAiBE,KAAMiH,KAASpI,UAAWR,EAAQ2B,OADnD,SAEUzG,EAAM+E,qBAMtB,cAACpD,EAAA,EAAD,CAAMuG,MAAI,EAACC,GAAI,GAAIC,GAAI,GAAvB,SACE,qBAAK9C,UAAWR,EAAQV,IAAxB,SACE,oBAAIkB,UAAWR,EAAQuB,GAAvB,SACE,oBAAIf,UAAWR,EAAQyB,GAAvB,4CAON,cAAC5E,EAAA,EAAD,CAAMuG,MAAI,EAACC,GAAI,GAAIC,GAAI,GAAvB,SACE,qBAAK9C,UAAWR,EAAQV,IAAxB,SACE,oBAAIkB,UAAWR,EAAQuB,GAAvB,SACE,oBAAIf,UAAWR,EAAQyB,GAAvB,iDAON,cAAC5E,EAAA,EAAD,CAAMuG,MAAI,EAACC,GAAI,GAAIC,GAAI,GAAvB,SACE,qBAAK9C,UAAWR,EAAQV,IAAxB,SACE,oBAAIkB,UAAWR,EAAQuB,GAAvB,SACE,oBAAIf,UAAWR,EAAQyB,GAAvB,kIAON,cAAC5E,EAAA,EAAD,CAAMuG,MAAI,EAACC,GAAI,GAAIC,GAAI,GAAvB,SACE,qBAAK9C,UAAWR,EAAQqB,OAAxB,SACE,oBAAIb,UAAWR,EAAQuB,GAAvB,SACE,oBAAIf,UAAWR,EAAQyB,GAAvB,8SAUN,sBAAMjB,UAAWR,EAAQ0C,MAAzB,wDAECxH,EAAM+H,QAAQrC,KAAI,SAACsC,EAAO7E,GAAR,iBAEX,cAACxB,EAAA,EAAD,CAAMuG,MAAI,EAACC,GAAI,GAAIC,GAAI,GAAvB,SACA,qBAAK9C,UAAWR,EAAQpB,KAAxB,SACI,eAACgE,EAAA,EAAD,CAAWpC,UAAWR,EAAQ4C,UAAWE,SAAUA,IAAQ,eAAazE,GAASV,SAAU0K,EAAa,QAAD,OAAShK,IAAhH,UACA,eAACoF,EAAA,EAAD,CACIC,WAAY,cAAC,IAAD,IACZC,gBAAc,mBACdC,GAAE,eAAUvF,EAAV,aAHN,UAKI,eAAC3B,EAAA,EAAD,CAAY8D,UAAWR,EAAQ6B,QAA/B,yBAA8CxD,EAAM,GAApD,OACA,cAAC3B,EAAA,EAAD,CAAY8D,UAAWR,EAAQqC,iBAA/B,mBACIa,EAAOW,UADX,YACwBX,EAAOY,eAGnC,cAACC,EAAA,EAAD,CAAkBvD,UAAWR,EAAQsC,YAArC,SAEI,qBAAI9B,UAAWR,EAAQuB,GAAvB,UACI,qBAAIf,UAAWR,EAAQyB,GAAvB,UACA,sBAAMjB,UAAWR,EAAQuC,UAAzB,oBADA,IACkD,sBAAM/B,UAAWR,EAAQyC,SAAzB,SAAoCS,EAAOc,YAE7F,qBAAIxD,UAAWR,EAAQyB,GAAvB,UACA,sBAAMjB,UAAWR,EAAQuC,UAAzB,mBADA,KACkD,sBAAM/B,UAAWR,EAAQyC,SAAzB,SAAoCS,EAAOR,WAE7F,qBAAIlC,UAAWR,EAAQyB,GAAvB,UACA,sBAAMjB,UAAWR,EAAQuC,UAAzB,sBADA,IACoD,sBAAM/B,UAAWR,EAAQyC,SAAzB,SAAoCS,EAAOW,eAE/F,qBAAIrD,UAAWR,EAAQyB,GAAvB,UACI,sBAAMjB,UAAWR,EAAQuC,UAAzB,qBADJ,IACuD,sBAAM/B,UAAWR,EAAQyC,SAAzB,SAAoCS,EAAOY,cAElG,qBAAItD,UAAWR,EAAQyB,GAAvB,UACI,sBAAMjB,UAAWR,EAAQuC,UAAzB,mBADJ,IACqD,sBAAM/B,UAAWR,EAAQyC,SAAzB,SAAoCS,EAAOe,WAEhG,qBAAIzD,UAAWR,EAAQyB,GAAvB,UACI,sBAAMjB,UAAWR,EAAQuC,UAAzB,mBADJ,IACqD,sBAAM/B,UAAWR,EAAQyC,SAAzB,SAAoCyB,KAAW,IAAI5I,KAAK4H,EAAOiB,WAAW,oBAE/H,qBAAI3D,UAAWR,EAAQyB,GAAvB,UACI,sBAAMjB,UAAWR,EAAQuC,UAAzB,uBADJ,IACyD,sBAAM/B,UAAWR,EAAQyC,SAAzB,SAAoCS,EAAOkB,WAEpG,qBAAI5D,UAAWR,EAAQyB,GAAvB,UACI,sBAAMjB,UAAWR,EAAQuC,UAAzB,uBADJ,IACyD,sBAAM/B,UAAWR,EAAQyC,SAAzB,SAAoCS,EAAOmB,cAEpG,qBAAI7D,UAAWR,EAAQyB,GAAvB,UACI,sBAAMjB,UAAWR,EAAQuC,UAAzB,qBADJ,IACuD,sBAAM/B,UAAWR,EAAQyC,SAAzB,SAAoCS,EAAOoB,aAElG,qBAAI9D,UAAWR,EAAQyB,GAAvB,UACI,sBAAMjB,UAAWR,EAAQuC,UAAzB,mBADJ,IACqD,sBAAM/B,UAAWR,EAAQyC,SAAzB,mBAAoCS,EAAOqB,aAA3C,QAAoD,WAEzG,qBAAI/D,UAAWR,EAAQyB,GAAvB,UACI,sBAAMjB,UAAWR,EAAQuC,UAAzB,0BADJ,IAC4D,sBAAM/B,UAAWR,EAAQyC,SAAzB,mBAAoCS,EAAOsB,sBAA3C,QAA6D,WAEzH,qBAAIhE,UAAWR,EAAQyB,GAAIgD,QAASvB,EAAOwB,iBAAqD,IAAlCxB,EAAOwB,gBAAgBxG,OAArF,UACE,sBAAMsC,UAAWR,EAAQuC,UAAzB,iCADF,IACiE,sBAAM/B,UAAWR,EAAQyC,SAAzB,mBAAoCS,EAAOwB,uBAA3C,QAA8D,2BAU7IxJ,EAAM6M,iBACA,cAAClL,EAAA,EAAD,CAAMuG,MAAI,EAACC,GAAI,GAAIC,GAAI,GAAvB,SACA,qBAAK9C,UAAWR,EAAQpB,KAAxB,SACI,eAACgE,EAAA,EAAD,CAAWpC,UAAWR,EAAQ4C,UAAWE,SAAuB,YAAbA,EAAwBnF,SAAU0K,EAAa,WAAlG,UACE,eAAC5E,EAAA,EAAD,CACEC,WAAY,cAAC,IAAD,IACZC,gBAAc,oBACdC,GAAG,mBAHL,UAKE,eAAClH,EAAA,EAAD,CAAY8D,UAAWR,EAAQ6B,QAA/B,yBAA8C3G,EAAM+H,QAAQ/E,OAAS,GAArE,OACA,cAACxB,EAAA,EAAD,CAAY8D,UAAWR,EAAQqC,iBAA/B,mBACMnH,EAAM2I,UADZ,YACyB3I,EAAM4I,eAGjC,cAACC,EAAA,EAAD,CAAkBvD,UAAWR,EAAQsC,YAArC,SAEI,qBAAI9B,UAAWR,EAAQuB,GAAvB,UACE,qBAAIf,UAAWR,EAAQyB,GAAvB,UACE,sBAAMjB,UAAWR,EAAQuC,UAAzB,oBADF,IACoD,sBAAM/B,UAAWR,EAAQyC,SAAzB,SAAoCvH,EAAM8I,YAE9F,qBAAIxD,UAAWR,EAAQyB,GAAvB,UACE,sBAAMjB,UAAWR,EAAQuC,UAAzB,mBADF,KACoD,sBAAM/B,UAAWR,EAAQyC,SAAzB,SAAoCvH,EAAMwH,WAE9F,qBAAIlC,UAAWR,EAAQyB,GAAvB,UACE,sBAAMjB,UAAWR,EAAQuC,UAAzB,sBADF,IACsD,sBAAM/B,UAAWR,EAAQyC,SAAzB,SAAoCvH,EAAM2I,eAEhG,qBAAIrD,UAAWR,EAAQyB,GAAvB,UACG,sBAAMjB,UAAWR,EAAQuC,UAAzB,qBADH,IACsD,sBAAM/B,UAAWR,EAAQyC,SAAzB,SAAoCvH,EAAM4I,cAEhG,qBAAItD,UAAWR,EAAQyB,GAAvB,UACG,sBAAMjB,UAAWR,EAAQuC,UAAzB,mBADH,IACoD,sBAAM/B,UAAWR,EAAQyC,SAAzB,SAAoCvH,EAAM+I,WAE9F,qBAAIzD,UAAWR,EAAQyB,GAAvB,UACG,sBAAMjB,UAAWR,EAAQuC,UAAzB,mBADH,IACoD,sBAAM/B,UAAWR,EAAQyC,SAAzB,SAAoCyB,KAAW,IAAI5I,KAAKJ,EAAMiJ,WAAW,oBAE7H,qBAAI3D,UAAWR,EAAQyB,GAAvB,UACG,sBAAMjB,UAAWR,EAAQuC,UAAzB,uBADH,IACwD,sBAAM/B,UAAWR,EAAQyC,SAAzB,SAAoCvH,EAAMkJ,WAElG,qBAAI5D,UAAWR,EAAQyB,GAAvB,UACG,sBAAMjB,UAAWR,EAAQuC,UAAzB,uBADH,IACwD,sBAAM/B,UAAWR,EAAQyC,SAAzB,SAAoCvH,EAAMmJ,cAElG,qBAAI7D,UAAWR,EAAQyB,GAAvB,UACG,sBAAMjB,UAAWR,EAAQuC,UAAzB,qBADH,IACsD,sBAAM/B,UAAWR,EAAQyC,SAAzB,SAAoCvH,EAAMoJ,aAEhG,qBAAI9D,UAAWR,EAAQyB,GAAvB,UACG,sBAAMjB,UAAWR,EAAQuC,UAAzB,mBADH,IACoD,sBAAM/B,UAAWR,EAAQyC,SAAzB,mBAAoCvH,EAAMqJ,aAA1C,QAAmD,WAEvG,qBAAI/D,UAAWR,EAAQyB,GAAvB,UACG,sBAAMjB,UAAWR,EAAQuC,UAAzB,0BADH,IAC2D,sBAAM/B,UAAWR,EAAQyC,SAAzB,mBAAoCvH,EAAMsJ,sBAA1C,QAA4D,WAEvH,qBAAIhE,UAAWR,EAAQyB,GAAIgD,QAASvJ,EAAMwJ,iBAAoD,IAAjCxJ,EAAMwJ,gBAAgBxG,OAAnF,UACI,sBAAMsC,UAAWR,EAAQuC,UAAzB,iCADJ,IACmE,sBAAM/B,UAAWR,EAAQyC,SAAzB,mBAAoCvH,EAAMwJ,uBAA1C,QAA6D,yBAU7IxJ,EAAM+H,SAAY/H,EAAM+H,SAAW/H,EAAM+H,QAAQ/E,OAAS,IAE3D,qBAAKsC,UAAWR,EAAQmI,WAAxB,SACM,cAACU,EAAA,EAAD,CAEQC,UAAW,cAAC,KAAD,IACXpJ,MAAM,UACNqJ,WAAcT,EACdvH,QAASuH,EAAkB9H,UAAWR,EAAQgJ,OALtD,kCAYlB,sBAAKxI,UAAWR,EAAQgI,MAAxB,oEAC2D,mBAAGxH,UAAWR,EAAQiI,KAAMgB,KAAK,IAAjC,2CC7XnE,IAAMrO,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrC6J,YAAa,CACXxD,UAAW,WAGbyD,UACA,CACEC,UAAY,OACZnD,aAAe,YAKN,SAASwH,KAAe,IAAD,cAC5BlJ,EAAUpF,KADkB,EAERf,IAAMoB,WAAWrB,GAFT,mBAE3BsB,EAF2B,KAEpBC,EAFoB,OAIRtB,IAAMuB,SAAN,UAAeF,EAAMkJ,aAArB,QAA8B,IAJtB,mBAI3BA,EAJ2B,KAIpB+E,EAJoB,OAKFtP,IAAMuB,SAAN,UAAeF,EAAMmJ,gBAArB,QAAiC,IAL/B,mBAK3BA,EAL2B,KAKjB+E,EALiB,OAMJvP,IAAMuB,SAAN,UAAeF,EAAMoJ,eAArB,QAAgC,IAN5B,mBAM3BA,EAN2B,KAMlB+E,EANkB,OAORxP,IAAMuB,SAAN,UAAeF,EAAMqJ,aAArB,QAA8B,IAPtB,mBAO3BA,EAP2B,KAOpB+E,EAPoB,OAQUzP,IAAMuB,SAAN,UAAeF,EAAMsJ,sBAArB,QAAuC,IARjD,mBAQ3BA,EAR2B,KAQX+E,EARW,OASY1P,IAAMuB,SAAN,UAAeF,EAAMwJ,uBAArB,QAAwC,IATpD,mBAS3BA,EAT2B,KASV8E,EATU,OAYI3P,IAAMuB,SAAN,UAAeF,EAAM2M,mBAArB,UAZJ,mBAY3BA,EAZ2B,KAYd4B,EAZc,KA2EpC,OACE,eAAC,IAAMhN,SAAP,WAEE,cAACoG,GAAD,IAE0B,IAAzB3H,EAAM+H,QAAQ/E,QACX,cAACxB,EAAA,EAAD,CAAY8D,UAAWR,EAAQ4E,UAAWjI,QAAQ,KAAKC,cAAY,EAAnE,oCAKH1B,EAAM+H,QAAQ/E,OAAS,GAClB,cAACxB,EAAA,EAAD,CAAY8D,UAAWR,EAAQ4E,UAAWjI,QAAQ,KAAKC,cAAY,EAAnE,+BAQN,eAACC,EAAA,EAAD,CAAMC,WAAS,EAACkG,QAAS,EAAG/F,WAAW,WAAvC,UACE,cAACJ,EAAA,EAAD,CAAMuG,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAvB,SACK,cAAC2C,EAAA,EAAD,CACWN,QAAOzK,EAAMwM,WACblC,UAAQ,EAAC5B,GAAG,QAAQuC,MAAM,eAC1B1I,WAAS,EAAC2I,aAAa,MACvB1I,MAAS0G,EACTzG,SAhFC,SAAC4F,GAElB4F,EAAS5F,EAAMuC,OAAOpI,OACtBvC,GAAS,SAAAD,GAAK,kCAASA,GAAT,IAAgBkJ,MAAQb,EAAMuC,OAAOpI,WAC/C6F,EAAMuC,OAAOpI,OAAS6F,EAAMuC,OAAOpI,MAAM2I,OAAOnI,QAAU,GAE5D/C,GAAS,SAAAD,GAAK,kCAASA,GAAT,IAAgBwM,YAAa,YA6E7C,cAAC7K,EAAA,EAAD,CAAMuG,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAvB,SACK,cAAC2C,EAAA,EAAD,CACWN,QAAOzK,EAAMyM,cACbnC,UAAQ,EAAC5B,GAAG,WAAWuC,MAAM,cAC7B1I,WAAS,EAAC2I,aAAa,cACvB1I,MAAS2G,EACT1G,SA/EI,SAAC4F,GAErB6F,EAAY7F,EAAMuC,OAAOpI,OACzBvC,GAAS,SAAAD,GAAK,kCAASA,GAAT,IAAgBmJ,SAAWd,EAAMuC,OAAOpI,WAClD6F,EAAMuC,OAAOpI,OAAS6F,EAAMuC,OAAOpI,MAAM2I,OAAOnI,QAAU,GAE5D/C,GAAS,SAAAD,GAAK,kCAASA,GAAT,IAAgByM,eAAgB,YA4EhD,cAAC9K,EAAA,EAAD,CAAMuG,MAAI,EAACC,GAAI,GAAf,SACK,cAAC4C,EAAA,EAAD,CACWN,QAAOzK,EAAM0M,aACbpC,UAAQ,EAAC5B,GAAG,UAAUuC,MAAM,UAC5BuD,WAAS,EAACC,QAAS,EACnBlM,WAAS,EAAC2I,aAAa,iBACvB1I,MAAS4G,EACT3G,SA/EG,SAAC4F,GAEpB8F,EAAW9F,EAAMuC,OAAOpI,OACxBvC,GAAS,SAAAD,GAAK,kCAASA,GAAT,IAAgBoJ,QAAUf,EAAMuC,OAAOpI,WACjD6F,EAAMuC,OAAOpI,OAAS6F,EAAMuC,OAAOpI,MAAM2I,OAAOnI,QAAU,IAE5D/C,GAAS,SAAAD,GAAK,kCAASA,GAAT,IAAgB0M,cAAe,YA4E/C,cAAC/K,EAAA,EAAD,CAAMuG,MAAI,EAACC,GAAI,GAAf,SACK,cAAC4C,EAAA,EAAD,CACG2D,YAAW,wHACXhG,GAAG,QACHuC,MAAM,mBACNS,WAAU,yCACV8C,WAAS,EAACC,QAAS,EAAGE,KAAM,EAAGpM,WAAS,EAAC2I,aAAa,GACtD1I,MAAS6G,EACT5G,SAhFS,SAAC4F,GAElB+F,EAAS/F,EAAMuC,OAAOpI,OACtBvC,GAAS,SAAAD,GAAK,kCAASA,GAAT,IAAgBqJ,MAAQhB,EAAMuC,OAAOpI,gBAgFnD,cAACb,EAAA,EAAD,CAAMuG,MAAI,EAACC,GAAI,GAAI7C,UAAWR,EAAQ2E,YAAtC,SACE,cAACqC,GAAA,EAAD,CAAkBxG,UAAWR,EAAQ2E,YACnCwC,QAAS,cAACC,GAAA,EAAD,CAAU5G,UAAWR,EAAQ2E,YAAcjF,MAAM,YAAY2H,KAAK,cAAcC,QAASO,EAAalK,SA1H5F,SAAC4F,GACpBkG,EAAelG,EAAMuC,OAAOwB,SAC5BnM,GAAS,SAAAD,GAAK,kCAASA,GAAT,IAAgB2M,YAAatE,EAAMuC,OAAOwB,gBAyHvDnB,MAAO,uBAAMc,MAAO,CAAEnF,SAAU,UAAzB,0GAGZ,cAACjF,EAAA,EAAD,CAAMuG,MAAI,EAACC,GAAI,GAAIoB,QAASoD,EAA5B,SACK,cAAC5B,EAAA,EAAD,CACWN,QAAOzK,EAAM4M,oBACbtC,UAAQ,EAAC5B,GAAG,WAAWuC,MAAM,kBAC7BS,WAAW,yDACXnJ,WAAS,EAAC2I,aAAa,GACvB1I,MAAS8G,EACT7G,SA1FU,SAAC4F,GAE3BgG,EAAkBhG,EAAMuC,OAAOpI,OAC/BvC,GAAS,SAAAD,GAAK,kCAASA,GAAT,IAAgBsJ,eAAiBjB,EAAMuC,OAAOpI,WACxD6F,EAAMuC,OAAOpI,OAAS6F,EAAMuC,OAAOpI,MAAM2I,OAAOnI,QAAU,GAE5D/C,GAAS,SAAAD,GAAK,kCAASA,GAAT,IAAgB4M,qBAAsB,YAuFtD,cAACjL,EAAA,EAAD,CAAMuG,MAAI,EAACC,GAAI,GAAIoB,QAASoD,EAA5B,SACK,cAAC5B,EAAA,EAAD,CAEWrC,GAAG,YAAYuC,MAAM,oCACrBS,WAAW,yDACXnJ,WAAS,EAAC2I,aAAa,GACvB1I,MAASgH,EACT/G,SA1FW,SAAC4F,GAE5BiG,EAAmBjG,EAAMuC,OAAOpI,OAChCvC,GAAS,SAAAD,GAAK,kCAASA,GAAT,IAAgBwJ,gBAAkBnB,EAAMuC,OAAOpI,sB,IC5FhDoM,G,kCAAAA,GAEVC,gBAAkB,SAACC,GAEvB,OAAO3P,EAAI4P,KAAK,4BAA6BD,IAJ/BF,GAOVI,gBAAkB,WAErB,OAAO7P,EAAIC,IAAI,8B,sBCER6P,GAVaC,aAAW,CACrCxL,KAAM,CACJyL,SAAU,OACVC,SAAU,GAEZC,SAAU,CACRxM,MAAO,SANiBqM,CAQzBI,MCXY,OAA0B,+BC8BzC,SAASC,KACP,OACE,eAAC/N,EAAA,EAAD,CAAYC,QAAQ,QAAQ+C,MAAM,gBAAgBgL,MAAM,SAAxD,UACG,mBACA,IAAIpP,MAAOkD,cACX,IACD,cAACmM,EAAA,EAAD,CAAMjL,MAAM,UAAUuJ,KAAK,4BAA3B,2BAEQ,IANV,yBAaJ,IAAMrO,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvC8P,OAAQ,CACNjE,SAAU,WACV1H,gBAAiB,OACjBS,MAAO,OACPzC,WAAY,UAId4N,KAAM,CACJR,SAAU,KAEZS,OAAO,aACL/M,MAAO,OACP4E,WAAY7H,EAAMkI,QAAQ,GAC1BpB,YAAa9G,EAAMkI,QAAQ,IAC1BlI,EAAMiQ,YAAYC,GAAG,IAAyB,EAAnBlQ,EAAMkI,QAAQ,IAAU,CAClDjF,MAAO,IACP4E,WAAY,OACZf,YAAa,SAGjBxC,MAAM,aACJyF,UAAW/J,EAAMkI,QAAQ,GACzBtB,aAAc5G,EAAMkI,QAAQ,GAC5BvD,QAAS3E,EAAMkI,QAAQ,IACtBlI,EAAMiQ,YAAYC,GAAG,IAAyB,EAAnBlQ,EAAMkI,QAAQ,IAAU,CAClD6B,UAAW/J,EAAMkI,QAAQ,GACzBtB,aAAc5G,EAAMkI,QAAQ,GAC5BvD,QAAS3E,EAAMkI,QAAQ,KAG3BiI,QAAS,CACPxL,QAAS3E,EAAMkI,QAAQ,EAAG,EAAG,IAE/BkI,QAAS,CACPrM,QAAS,OACTE,eAAgB,YAElBiK,OAAQ,CACNnE,UAAW/J,EAAMkI,QAAQ,GACzBL,WAAY7H,EAAMkI,QAAQ,IAG5BmI,KAAM,CACJ3I,WAAY,MACZ/C,QAAS,OAGX2L,UAAW,CACTrN,MAAO,QACPC,OAAQ,QACRwB,OAAQ,YAKN6L,GAAQ,CAAC,kBAAmB,kBAAmB,aAAc,eAAgB,UAEnF,SAASC,GAAe9D,GACtB,OAAQA,GACN,KAAK,EACH,OAAO,cAACxM,EAAD,IACT,KAAK,EACH,OAAO,cAAC+E,EAAD,IACT,KAAK,EACH,OAAO,cAAC+E,GAAD,IACT,KAAK,EACH,OAAO,cAACoE,GAAD,IACT,KAAK,EACD,OAAO,cAACd,GAAD,IACX,QACE,MAAM,IAAImD,MAAM,iBAMP,SAASC,KAAY,IAAD,EACP3R,IAAMoB,WAAWrB,GADV,mBAC1BsB,EAD0B,KACnBC,EADmB,KAE3B6E,EAAUpF,KAIX6Q,EAAgB,SAACjE,GACtBrM,GAAS,SAAAD,GAAK,kCAASA,GAAT,IAAgBuN,WAAajB,QAPV,EAUC3N,IAAMuB,UAAS,GAVhB,mBAU1BsQ,EAV0B,KAUfC,EAVe,KAa3BC,EAAWP,GAAMnN,OA6DjB6J,EAAkB,WAEtB5M,GAAS,SAAAD,GAAK,kCAASA,GAAT,IAAgB6M,iBAAiB,OAC/C0D,EAAc,IAIVI,EAAa,WAEQ,IAArB3Q,EAAMuN,YAERkD,GAAa,GAlEE,WAEjB,IAAIG,EAAe,GAEnBhC,GAAYI,kBAAkBlO,MAAM,SAAC+P,GAEnC,IAAMC,EAAMD,EAAI7P,KAAK8P,IAIrB,GAFA7Q,GAAS,SAAAD,GAAK,kCAASA,GAAT,IAAgB8Q,IAAKA,QAE9B9Q,EAAM6M,gBACX,CACE,IAAMQ,EAAa,CACjBvE,OAAQ9I,EAAM8I,OACdtB,MAAOxH,EAAMwH,MACbmB,UAAW3I,EAAM2I,UACjBC,SAAU5I,EAAM4I,SAChBK,UAAWjJ,EAAMiJ,UACjBF,MAAO/I,EAAM+I,MACbG,MAAOlJ,EAAMkJ,MACbC,SAAUnJ,EAAMmJ,SAChBC,QAASpJ,EAAMoJ,QACfC,MAAOrJ,EAAMqJ,MACbsD,YAAa3M,EAAM2M,YACnBrD,eAAgBtJ,EAAMsJ,eACtBE,gBAAiBxJ,EAAMwJ,iBAGnBuH,EAAUnC,GAAYC,gBAAZ,2BAAgCxB,GAAhC,IAA4ClN,YAAaH,EAAMG,YAAa4E,YAAa/E,EAAM+E,YAAaiM,WAAYF,KACxIF,EAAazL,KAAK4L,GAKpB/Q,EAAM+H,QAAQ7E,SAAQ,SAAC8E,GACrB4I,EAAazL,KAAKyJ,GAAYC,gBAAZ,2BAAgC7G,GAAhC,IAAuC7H,YAAaH,EAAMG,YAAa4E,YAAa/E,EAAM+E,YAAaiM,WAAYF,SAGvIlQ,QAAQC,IAAI+P,GAAc9P,MAAM,SAACC,GAC/B0P,GAAa,GACbF,EAAcvQ,EAAMuN,WAAa,MAEhCpM,OAAO,SAACC,GAETH,QAAQC,IAAIE,GACZqP,GAAa,SAGdtP,OAAO,SAACC,GAETH,QAAQC,IAAIE,GACZqP,GAAa,MAgBbQ,IAEQ5E,GAAarM,EAAOC,EAAUD,EAAMuN,aAE1CgD,EAAcvQ,EAAMuN,WAAa,IAIjC2D,EAAa,WACjBX,EAAcvQ,EAAMuN,WAAa,IAGnC,OACE,eAAC,IAAMhM,SAAP,WACE,cAAC4P,EAAA,EAAD,IACA,cAACC,EAAA,EAAD,CAAQ3F,SAAS,WAAWjH,MAAM,UAAUc,UAAWR,EAAQ4K,OAA/D,SACE,cAAC2B,EAAA,EAAD,UAEE,cAAC7P,EAAA,EAAD,CAAYC,QAAQ,KAAK+C,MAAM,UAAU8M,QAAM,EAA/C,wCAKJ,uBAAMhM,UAAWR,EAAQ8K,OAAzB,UACE,eAAC2B,EAAA,EAAD,CAAOjM,UAAWR,EAAQZ,MAA1B,UACE,cAAC1C,EAAA,EAAD,CAAYgQ,UAAU,KAAK/P,QAAQ,KAAK+N,MAAM,SAA9C,qCAMA,cAAC,IAAMjO,SAAP,UACKvB,EAAMuN,WAAa4C,GAAMnN,OACtB,eAAC,IAAMzB,SAAP,WACM,cAAC,cAAD,UACQ,cAACkQ,EAAA,EAAD,CAASlE,WAAYvN,EAAMuN,WAAYjI,UAAWR,EAAQiL,QAA1D,SACKI,GAAMzK,KAAI,SAACuF,GAAD,OACX,cAACyG,EAAA,EAAD,UACI,cAACC,EAAA,EAAD,UAAY1G,KADLA,UAOvB,cAAC,aAAD,UACY,cAAC,GAAD,CACQkF,MAAOO,EACPjF,SAAS,SACThK,QAAQ,WAER8L,WAAYvN,EAAMuN,kBAK5C,cAAC,IAAMhM,SAAP,MASR,cAAC,IAAMA,SAAP,UACGvB,EAAMuN,aAAe4C,GAAMnN,OAC1B,eAAC,IAAMzB,SAAP,WAEE,qBAAK+D,UAAWR,EAAQoL,UAAW0B,IAAK1B,GAAW2B,IAAI,eAEvD,cAACrQ,EAAA,EAAD,CAAYC,QAAQ,KAAKC,cAAY,EAArC,yCAGA,uBACA,eAACF,EAAA,EAAD,CAAYC,QAAQ,YAApB,oCACyB,sBAAM6D,UAAWR,EAAQmL,KAAzB,oBAAoCjQ,EAAM8Q,IAA1C,OADzB,sGAKF,eAAC,IAAMvP,SAAP,WACG6O,GAAepQ,EAAMuN,YACtB,sBAAKjI,UAAWR,EAAQkL,QAAxB,UACwB,IAArBhQ,EAAMuN,YACL,cAACI,EAAA,EAAD,CAAQmE,SAAUtB,EAAW3K,QAASqL,EAAYrD,WAAcqD,EAAa5L,UAAWR,EAAQgJ,OAAhG,mBAKsB,IAArB9N,EAAMuN,YAAyC,IAArBvN,EAAMuN,aAAsBvN,EAAM+H,SAAW/H,EAAM+H,QAAQ/E,QAAU,GAChG,cAAC2K,EAAA,EAAD,CAEQnJ,MAAM,YACNqJ,WAAchB,EACdhH,QAASgH,EAAiBvH,UAAWR,EAAQgJ,OAJrD,4BASF,cAACH,EAAA,EAAD,CACEmE,SAAUtB,EACV/O,QAAQ,YACR+C,MAAM,UACNqJ,WAAc8C,EACd9K,QAAS8K,EACTrL,UAAWR,EAAQgJ,OANrB,SAQG9N,EAAMuN,aAAe4C,GAAMnN,OAAS,EAAI,SAAW,oBAYhE,cAACuM,GAAD,UCvTOwC,OAXf,WAAgB,IAAD,EACapT,IAAMuB,SAAS,CAACqN,WAAa,EAAGpN,YAAa,IAAIC,KAAQ2H,QAAS,KAD/E,mBACN/H,EADM,KACCC,EADD,KAEb,OACE,cAAC,EAAY+R,SAAb,CAAsBxP,MAAO,CAACxC,EAAOC,GAArC,SACE,qBAAKqF,UAAU,MAAf,SACE,cAACgL,GAAD,qBCJR2B,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,GAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.bfc851c4.chunk.js","sourcesContent":["import React from 'react'; \r\nconst GlobalState = React.createContext([{}, () => {}]); \r\nexport default GlobalState;","import axios from 'axios';\r\n\r\nexport default axios.create({\r\n  //  baseURL: 'http://localhost:9090',\r\n  baseURL: 'https://www.travelpcrtest.com/',\r\n  headers : {\r\n      'Authorization' : 'Basic QXp1cmXEaWFtb45kOmh1bnRlcjO='\r\n  }\r\n});","import TimeSlot from './../models/TimeSlot';\r\nimport API from './api';\r\n\r\nexport default class TimeService{\r\n\r\n     static getFirstAvailableDate =  () =>\r\n    {\r\n        return API.get('/api/time/getfirstavaiabledate');\r\n    }\r\n\r\n    // static dayIsBooked =  (date) =>\r\n    // {\r\n    //    /// check if this date is booked or not\r\n    //    return new Promise( (resolve, reject) =>\r\n    //    {\r\n    //         setTimeout(() => {\r\n    //             resolve(false);\r\n    //         }, 1000);\r\n    //    });\r\n    // }\r\n\r\n    static getFullyBookedDates = () =>\r\n    {        \r\n       return API.get('/api/time/getfullybookeddays');\r\n    }\r\n\r\n    static getTimeSlots = (date) =>\r\n    {\r\n        return API.get(`/api/time/gettimeslots?date=${date}`);\r\n    }\r\n\r\n\r\n}","import React, { useEffect } from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport {\r\n    DatePicker,\r\n    MuiPickersUtilsProvider\r\n  } from '@material-ui/pickers';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport GlobalState from './GlobalState';\r\nimport {BrowserView, MobileView} from 'react-device-detect';\r\n\r\nimport TimeService from './services/TimeService';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Skeleton from '@material-ui/lab/Skeleton';\r\n\r\nvar firstAvailableDay = null;\r\nvar fullyBookedDays = [];\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n  loadingBox: {\r\n    \r\n  }\r\n\r\n}));\r\n\r\n\r\nfunction LoadData(callback){\r\n\r\n      const promise1 = TimeService.getFirstAvailableDate();\r\n      const promise2 = TimeService.getFullyBookedDates();\r\n\r\n      Promise.all([promise1, promise2]).then( (values) => {\r\n\r\n        firstAvailableDay = new Date((values[0].data).date);\r\n        fullyBookedDays = values[1];\r\n\r\n        console.log(firstAvailableDay);\r\n        console.log(fullyBookedDays);\r\n\r\n\r\n        callback(true);\r\n\r\n      }).catch( (err) =>\r\n      {\r\n        console.log(err);\r\n      });\r\n}\r\n\r\n\r\nexport default function DateForm() {\r\n   const classes = useStyles();\r\n\r\n    const [state, setState] = React.useContext(GlobalState);\r\n    const [bookingDate, handleDateChange] = React.useState(state.bookingDate ?? new Date());\r\n\r\n    const [dataLoaded, setDataLoaded] =  React.useState(false);\r\n\r\n    useEffect(() => {\r\n\r\n      LoadData(setDataLoaded);\r\n\r\n    },[])\r\n\r\n    \r\n\r\n    const dateChanged = (date) =>\r\n    {\r\n        handleDateChange(date);\r\n        setState(state => ({...state, bookingDate: date}));\r\n    }\r\n\r\n  return (\r\n\r\n    <React.Fragment>\r\n               \r\n                <Typography variant=\"h6\" gutterBottom>\r\n                    Pick a Date\r\n                </Typography>\r\n\r\n        {dataLoaded ?  (\r\n            \r\n                <React.Fragment>\r\n\r\n                <Grid\r\n                  container\r\n                  direction=\"column\"\r\n                  justify=\"center\"\r\n                  alignItems=\"center\"\r\n                  >\r\n\r\n                        <BrowserView>\r\n                            <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n                                    <DatePicker autoOk \r\n                                                disablePast=\"true\" \r\n                                                openTo=\"date\"\r\n                                                orientation=\"landscape\" \r\n                                                variant=\"static\" \r\n                                                fullWidth\r\n                                                value={bookingDate} \r\n                                                onChange={dateChanged} \r\n                                                shouldDisableDate={checkFullyBooked}\r\n                                                />\r\n                            </MuiPickersUtilsProvider>\r\n                        </BrowserView>\r\n\r\n                        <MobileView>\r\n                            <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n                                        <DatePicker autoOk \r\n                                                    disablePast=\"true\" \r\n                                                    openTo=\"date\"\r\n                                                    variant=\"static\" \r\n                                                    fullWidth\r\n                                                    value={bookingDate} \r\n                                                    onChange={dateChanged} \r\n                                                    shouldDisableDate={checkFullyBooked}\r\n                                                    />\r\n                                </MuiPickersUtilsProvider>\r\n                        </MobileView>\r\n                </Grid>\r\n\r\n              </React.Fragment>\r\n              )\r\n            : \r\n            (\r\n            <React.Fragment>\r\n                <Grid\r\n                  container\r\n                  direction=\"column\"\r\n                  justify=\"center\"\r\n                  alignItems=\"center\"\r\n                  >\r\n\r\n                      <Skeleton variant=\"text\" width={'80%'} />\r\n                      <Skeleton variant=\"text\" width={'80%'}  />\r\n                      <Skeleton variant=\"rect\" width={'80%'}  height={220} />\r\n\r\n                  </Grid>\r\n            </React.Fragment>\r\n            )\r\n          }\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\n\r\n\r\nconst checkFullyBooked = (date) =>\r\n{\r\n    if (date.setHours(0,0,0,0) < firstAvailableDay.setHours(0,0,0,0))\r\n    {\r\n      return true;\r\n    }\r\n\r\n    else if (fullyBookedDays && fullyBookedDays.length > 0)\r\n    {\r\n      var result = false;\r\n      fullyBookedDays.forEach( (value, index) => {\r\n\r\n        if (EquallDates(value,date))\r\n        {\r\n          result = true;\r\n        }\r\n      });\r\n      return result;\r\n    }\r\n    else\r\n    {\r\n      return false;\r\n    }\r\n}\r\n\r\nfunction EquallDates(date1, date2)\r\n{\r\n   return (\r\n           date1.getFullYear() === date2.getFullYear() &&\r\n           date1.getMonth() === date2.getMonth() &&\r\n           date1.getDate() === date2.getDate()\r\n   );      \r\n}\r\n","import React, { useEffect } from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport GlobalState from './GlobalState';\r\nimport { makeStyles , useTheme} from '@material-ui/core/styles';\r\n\r\nimport GridList from '@material-ui/core/GridList';\r\nimport GridListTile from '@material-ui/core/GridListTile';\r\n\r\nimport TimeService from './services/TimeService';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Skeleton from '@material-ui/lab/Skeleton';\r\n\r\nimport {BrowserView, MobileView} from 'react-device-detect';\r\n\r\n// import Card from '@material-ui/core/Card';\r\n// import CardActions from '@material-ui/core/CardActions';\r\n// import CardContent from '@material-ui/core/CardContent';\r\n// import Button from '@material-ui/core/Button'\r\n// import { Mouse, Satellite } from '@material-ui/icons';\r\n// import { BrowserView } from 'react-device-detect';\r\n\r\nvar timeSlots = null;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    \r\n    root: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        justifyContent: 'space-around',\r\n        overflow: 'hidden',\r\n        backgroundColor: theme.palette.background.paper,\r\n      },\r\n      gridList: {\r\n        // width: 500,\r\n        // height: 450,\r\n      },\r\n\r\n      box: {\r\n        //backgroundColor: \"red\",\r\n        border: \"1px solid #999\",\r\n        margin: \"5px\",\r\n        padding: \"5px\",\r\n        color: \"#555\",\r\n        cursor: \"pointer\",\r\n        \"&:hover\": {\r\n            background: \"green\",\r\n            color: \"#fff\"\r\n          },\r\n      },\r\n\r\n      boxMobile: {\r\n        //backgroundColor: \"red\",\r\n        border: \"1px solid #999\",\r\n        margin: \"5px\",\r\n        padding: \"5px\",\r\n        color: \"#555\",\r\n        cursor: \"pointer\"\r\n      },\r\n\r\n      boxSelected: {\r\n        backgroundColor: \"green\",\r\n        border: \"1px solid #999\",\r\n        margin: \"5px\",\r\n        padding: \"5px\",\r\n        color: \"#fff\",\r\n        cursor: \"pointer\",\r\n      },\r\n\r\n      boxDisable: {\r\n        backgroundColor: \"#999\",\r\n        border: \"1px solid #ddd\",\r\n        margin: \"5px\",\r\n        padding: \"5px\",\r\n        color: \"#fff\"\r\n        \r\n      },\r\n\r\n  }));\r\n\r\n  function LoadData(date, callback){\r\n\r\n    const promise1 = TimeService.getTimeSlots(date);\r\n\r\n    Promise.all([promise1]).then( (values) => {\r\n\r\n      timeSlots = values[0].data;\r\n\r\n      callback(true);\r\n\r\n    }).catch( (err) =>\r\n    {\r\n      console.log(err);\r\n    });\r\n}\r\n\r\nexport default function TimeForm() {\r\n    const classes = useStyles();\r\n    // const theme = useTheme();\r\n\r\n    const [state, setState] = React.useContext(GlobalState);\r\n    const [bookingTime, setTime] = React.useState(state.bookingTime ?? '');\r\n\r\n    const [dataLoaded, setDataLoaded] =  React.useState(false);\r\n\r\n    const emptyTimeSlots = [];\r\n    for (var i=0; i<28; i++)\r\n    {\r\n      emptyTimeSlots.push(i);\r\n    }\r\n\r\n    useEffect(() => {\r\n      LoadData(state.bookingDate, setDataLoaded);\r\n    }, []);\r\n\r\n\r\n\r\n    const boxClicked = (key) =>\r\n    {\r\n        if (key)\r\n        {\r\n            setTime(key);\r\n            setState({...state, bookingTime : key});\r\n        }\r\n\r\n    }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Typography variant=\"h6\" gutterBottom>\r\n        Pick a Time\r\n      </Typography>\r\n\r\n      {dataLoaded ?  (\r\n            \r\n          \r\n\r\n            <React.Fragment>\r\n\r\n              <BrowserView>\r\n                  <div className={classes.root}>\r\n                            <GridList cellHeight={60} className={classes.gridList} cols={4}>\r\n                              {timeSlots.map((timeSlot) => (\r\n                                <GridListTile key={timeSlot.time} cols={1}>\r\n                                  <div \r\n                                      onClick= {() => {timeSlot.available? boxClicked(timeSlot.time) : boxClicked(null)}}\r\n                                      className={(timeSlot.available) ? ((bookingTime === timeSlot.time)? classes.boxSelected : classes.box ): classes.boxDisable}>\r\n                                      {timeSlot.time}\r\n                                  </div>\r\n                                </GridListTile>\r\n                              ))}\r\n                            </GridList>\r\n                  </div>\r\n              \r\n              </BrowserView>\r\n\r\n              <MobileView>\r\n\r\n              <div className={classes.root}>\r\n                            <GridList cellHeight={60} className={classes.gridList} cols={4}>\r\n                              {timeSlots.map((timeSlot) => (\r\n                                <GridListTile key={timeSlot.time} cols={1}>\r\n                                  <div \r\n                                      onClick = {() => {timeSlot.available? boxClicked(timeSlot.time) : boxClicked(null)}}\r\n                                      className={(timeSlot.available) ? ((bookingTime === timeSlot.time)? classes.boxSelected : classes.boxMobile ): classes.boxDisable}>\r\n                                      {timeSlot.time}\r\n                                  </div>\r\n                                </GridListTile>\r\n                              ))}\r\n                            </GridList>\r\n                  </div>\r\n\r\n              </MobileView>\r\n\r\n            </React.Fragment>\r\n      ) : (\r\n        <React.Fragment>\r\n                <Grid\r\n                  container\r\n                  direction=\"column\"\r\n                  justify=\"center\"\r\n                  alignItems=\"center\"\r\n                  >\r\n                      <GridList cellHeight={60} className={classes.gridList} cols={4}>\r\n                          {emptyTimeSlots.map((timeSlot) => (\r\n                            <GridListTile key={timeSlot} cols={1}>\r\n                                 <Skeleton variant=\"rect\" width={120}  height={35} />\r\n                            </GridListTile>\r\n                          ))}\r\n                        </GridList>\r\n                  </Grid>\r\n\r\n    </React.Fragment>\r\n\r\n      ) }\r\n\r\n\r\n\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nconst checkFullyBooked = (time) =>\r\n{\r\n    return false;\r\n}\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport GlobalState from './GlobalState';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Accordion from '@material-ui/core/Accordion';\r\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\r\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport dateFormat from 'dateformat';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  box: {\r\n    backgroundColor : \"#373737\",\r\n    color: \"#fff\",\r\n    padding : \"1px\",\r\n    borderRadius : \"4px\",\r\n    textAlign: \"justify\",\r\n    paddingRight: \"40px\"\r\n  },\r\n\r\n  boxRed: {\r\n    backgroundColor : \"#dc2626\",\r\n    color: \"#fff\",\r\n    padding : \"1px\",\r\n    borderRadius : \"4px\",\r\n    textAlign: \"justify\",\r\n    paddingRight: \"40px\"\r\n  },\r\n\r\n  boxInfo: {\r\n    textAlign: \"justify\",\r\n    backgroundColor : \"#fafafa\",\r\n    color: \"#333\",\r\n    padding : \"1px\",\r\n    borderRadius : \"4px\",\r\n    paddingRight: \"40px\",\r\n    border: \"1px solid #eee\",\r\n  },\r\n\r\n  ul: {\r\n     listStyle: \"none\",\r\n     padding: \"0\",\r\n     margin: \"0\"\r\n  },\r\n\r\n  li: {\r\n    marginBottom : \"5px\"\r\n  },\r\n\r\n\r\n  icon: {\r\n    marginRight : \"8px\"\r\n  },\r\n\r\n  root: {\r\n    width: '100%',\r\n  },\r\n  heading: {\r\n    fontSize: theme.typography.pxToRem(15),\r\n    flexBasis: '33.33%',\r\n    flexShrink: 0,\r\n    color: theme.palette.text.secondary,\r\n  },\r\n  secondaryHeading: {\r\n    fontSize: theme.typography.pxToRem(15),\r\n  },\r\n\r\n  infoDetails:{\r\n    textAlign: \"left\"\r\n  },\r\n\r\n  infoTitle:{\r\n    fontWeight: \"800\",\r\n    marginRight: \"10px\"\r\n  },\r\n\r\n  infoData:{\r\n    fontWeight: \"400\",\r\n  },\r\n\r\n  title:\r\n  {\r\n    // textAlign : \"center\",\r\n    // fontWeight : \"500\",\r\n    // margin: \"10px\",\r\n    // backgroundColor : \"#eee\",\r\n    // padding : \"10px\",\r\n    // borderRadius : \"4px\"\r\n    textAlign: \"left\",\r\n    fontWeight : \"600\",\r\n    marginLeft: \"10px\"\r\n\r\n  },\r\n\r\n  Accordion:{\r\n    backgroundColor : \"#f5f5f5\",\r\n    color: \"#222\"\r\n  }\r\n\r\n}));\r\n\r\n\r\nexport default function PersonsBox() {\r\n    const classes = useStyles();\r\n\r\n    const [state, setState] = React.useContext(GlobalState);\r\n\r\n    const [expanded, setExpanded] = React.useState(false);\r\n\r\n    const handleChange = (panel) => (event, isExpanded) => {\r\n      setExpanded(isExpanded ? panel : false);\r\n    };\r\n\r\n  return (\r\n    <React.Fragment>\r\n    \r\n      \r\n\r\n      <Grid container direction=\"column\" spacing={1} justify=\"flex-start\"  alignItems=\"stretch\">\r\n\r\n        {state.persons && state.persons.length > 0 && (\r\n          \r\n              <span className={classes.title}> Persons added so far :</span>\r\n\r\n        )}\r\n        \r\n\r\n          {state.persons.map((person,index) => (\r\n   \r\n                <Grid item xs={12} md={12}>\r\n                <div className={classes.root}>\r\n                    <Accordion className={classes.Accordion} expanded={expanded === `panel${index}`} onChange={handleChange(`panel${index}`)}>\r\n                    <AccordionSummary\r\n                        expandIcon={<ExpandMoreIcon />}\r\n                        aria-controls=\"panel1bh-content\"\r\n                        id={`panel${index}bh-header`}\r\n                    >\r\n                        <Typography className={classes.heading}> {`#${index+1}`} </Typography>\r\n                        <Typography className={classes.secondaryHeading}>\r\n                        {`${person.firstname} ${person.lastname}`}\r\n                        </Typography>\r\n                    </AccordionSummary>\r\n                    <AccordionDetails className={classes.infoDetails}>\r\n                        \r\n                        <ul className={classes.ul}>\r\n                            <li className={classes.li}>\r\n                            <span className={classes.infoTitle}>Gender</span> <span className={classes.infoData}>{person.gender}</span>   \r\n                            </li>\r\n                            <li className={classes.li}>\r\n                            <span className={classes.infoTitle}>Title</span>  <span className={classes.infoData}>{person.title}</span>   \r\n                            </li>\r\n                            <li className={classes.li}>\r\n                            <span className={classes.infoTitle}>Forename</span> <span className={classes.infoData}>{person.firstname}</span>   \r\n                            </li>\r\n                            <li className={classes.li}>\r\n                                <span className={classes.infoTitle}>Surname</span> <span className={classes.infoData}>{person.lastname}</span>   \r\n                            </li>\r\n                            <li className={classes.li}>\r\n                                <span className={classes.infoTitle}>Email</span> <span className={classes.infoData}>{person.email}</span>   \r\n                            </li>\r\n                            <li className={classes.li}>\r\n                                <span className={classes.infoTitle}>D.O.B</span> <span className={classes.infoData}>{dateFormat(new Date(person.birthDate),'dd mmm yyyy') }</span>  \r\n                            </li>\r\n                            <li className={classes.li}>\r\n                                <span className={classes.infoTitle}>Telephone</span> <span className={classes.infoData}>{person.phone}</span>  \r\n                            </li>\r\n                            <li className={classes.li}>\r\n                                <span className={classes.infoTitle}>Post Code</span> <span className={classes.infoData}>{person.postCode}</span>  \r\n                            </li>\r\n                            <li className={classes.li}>\r\n                                <span className={classes.infoTitle}>Address</span> <span className={classes.infoData}>{person.address}</span>  \r\n                            </li>\r\n                            <li className={classes.li}>\r\n                                <span className={classes.infoTitle}>Notes</span> <span className={classes.infoData}>{person.notes ?? 'N/A'}</span>  \r\n                            </li>\r\n                            <li className={classes.li}>\r\n                                <span className={classes.infoTitle}>Passport No.</span> <span className={classes.infoData}>{person.passportNumber ?? 'N/A'}</span>  \r\n                            </li>\r\n                            <li className={classes.li} hidden={!person.passportNumber2 || person.passportNumber2.length === 0}>\r\n                                <span className={classes.infoTitle}>Second Passport No.</span> <span className={classes.infoData}>{person.passportNumber2 ?? 'N/A'}</span>  \r\n                            </li>\r\n                        </ul>\r\n                        \r\n                    </AccordionDetails>\r\n                    </Accordion>\r\n                </div>\r\n            </Grid> \r\n          ))}\r\n    </Grid>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\n\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport GlobalState from './GlobalState';\r\nimport * as EmailValidator from 'email-validator';\r\n\r\nimport {\r\n    DatePicker,\r\n    KeyboardDatePicker,\r\n    MuiPickersUtilsProvider\r\n  } from '@material-ui/pickers';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport PersonsBox from './PersonsBox';\r\nimport { Checkbox, FormControlLabel } from '@material-ui/core';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    formControl: {\r\n      textAlign: \"left\"\r\n    },\r\n\r\n    FormTitle:\r\n    {\r\n      marginTop : \"20px\",\r\n      marginBottom : \"20px\",\r\n    }\r\n\r\n  }));\r\n\r\nexport default function InformationForm() {\r\n    const classes = useStyles();\r\n    const [state, setState] = React.useContext(GlobalState);\r\n    const [birthDate, handleBirthDateChange] = React.useState(state.birthDate ?? null);\r\n    const [firstname, setFirstname] = React.useState(state.firstname ?? '');\r\n    const [lastname, setLastname] = React.useState(state.lastname ?? '');\r\n    const [email, setEmail] = React.useState(state.email ?? '');\r\n    \r\n    const [gender, setGender] = React.useState(state.gender ?? '');\r\n    const [title, setTitle] = React.useState(state.title ?? '');\r\n\r\n    const [emailConfirmed, setEmailConfirmed] = React.useState(state.emailConfirmed ?? false);\r\n\r\n    const emailConfirmedChanged = (event) => {\r\n      setEmailConfirmed(event.target.checked);\r\n      setState(state => ({...state, emailConfirmed: event.target.checked}));\r\n      setState(state => ({...state, emailConfirmedError: false}));\r\n  };\r\n\r\n    const titleChanged = (event) => {\r\n            setTitle(event.target.value);\r\n            setState(state => ({...state, title: event.target.value}));\r\n            setState(state => ({...state, titleError : false}));\r\n        };\r\n\r\n    const genderChanged = (event) => {\r\n            setGender(event.target.value);\r\n            setState(state => ({...state, gender: event.target.value}));\r\n            setState(state => ({...state, genderError : false}));\r\n        };\r\n\r\n    const birthDateChanged = (date) =>\r\n    {\r\n        handleBirthDateChange(date);\r\n        setState(state => ({...state, birthDate: date}));\r\n        setState(state => ({...state, birthDateError : false}));\r\n    }  \r\n\r\n    const firstnameChanged = (event) =>\r\n    {\r\n        setFirstname(event.target.value);\r\n        setState(state => ({...state, firstname : event.target.value }));\r\n        if (event.target.value && event.target.value.trim().length >= 3)\r\n        {\r\n          setState(state => ({...state, firstnameError : false}));\r\n        }\r\n    }\r\n\r\n    const lastnameChanged = (event) =>\r\n    {\r\n        setLastname(event.target.value);\r\n        setState(state => ({...state, lastname : event.target.value }));\r\n        if (event.target.value && event.target.value.trim().length >= 3)\r\n        {\r\n          setState(state => ({...state, lastnameError : false}));\r\n        }\r\n    }\r\n\r\n    const emailChanged = (event) =>\r\n    {\r\n        setEmail(event.target.value);\r\n        setState(state => ({...state, email : event.target.value }));\r\n        if (event.target.value && EmailValidator.validate(event.target.value))\r\n        {\r\n          setState(state => ({...state, emailError : false}));\r\n        }\r\n    }\r\n\r\n  return (\r\n\r\n\r\n    <React.Fragment>\r\n\r\n      <PersonsBox/>\r\n\r\n    {state.persons.length === 0 &&\r\n          <Typography className={classes.FormTitle} variant=\"h6\" gutterBottom>\r\n              Fill Your Basic Info\r\n          </Typography>\r\n    }\r\n\r\n    {state.persons.length > 0 &&\r\n          <Typography className={classes.FormTitle} variant=\"h6\" gutterBottom>\r\n              Fill Basic Info\r\n          </Typography>\r\n    }\r\n\r\n      \r\n   \r\n\r\n      <Grid container spacing={3} alignItems=\"baseline\">\r\n\r\n      <Grid item xs={12} md={6}>\r\n            <FormControl className={classes.formControl} fullWidth required>\r\n                <InputLabel id=\"gender-label-id\">Gender</InputLabel>\r\n                <Select\r\n                    error={state.genderError ? true : false}\r\n                    fullWidth\r\n                    labelId=\"gender-label-id\"\r\n                    id=\"gender-id\"\r\n                    value={gender}\r\n                    onChange={genderChanged}\r\n                >\r\n                    <MenuItem value={'Male'}>Male</MenuItem>\r\n                    <MenuItem value={'Female'}>Female</MenuItem>\r\n                </Select>\r\n        </FormControl>\r\n        </Grid>\r\n        <Grid item xs={12} md={6}>\r\n            <FormControl className={classes.formControl} fullWidth required>\r\n                <InputLabel id=\"title-label-id\">Title</InputLabel>\r\n                <Select\r\n                    error={state.titleError ? true : false}\r\n                    fullWidth\r\n                    labelId=\"title-label-id\"\r\n                    id=\"title-id\"\r\n                    value={title}\r\n                    onChange={titleChanged}\r\n                >\r\n                    <MenuItem value={'Mr'}>Mr</MenuItem>\r\n                    <MenuItem value={'Mrs'}>Mrs</MenuItem>\r\n                    <MenuItem value={'Miss'}>Miss</MenuItem>\r\n                    <MenuItem value={'Ms'}>Ms</MenuItem>\r\n                    <MenuItem value={'Dr'}>Dr</MenuItem>\r\n                </Select>\r\n        </FormControl>\r\n        </Grid>\r\n        <Grid item xs={12} md={6}>\r\n          <TextField \r\n                    error={state.firstnameError ? true : false}\r\n                    required id=\"firstName\" label=\"First Name\" \r\n                    fullWidth autoComplete=\"given-name\" \r\n                    value = {firstname}\r\n                    onChange = {firstnameChanged} \r\n          />\r\n        </Grid>\r\n        <Grid item xs={12} md={6}>\r\n         <TextField \r\n                    error={state.lastnameError ? true : false}\r\n                    required id=\"lastName\" label=\"Last Name\" \r\n                    fullWidth autoComplete=\"family-name\" \r\n                    value = {lastname}\r\n                    onChange = {lastnameChanged} \r\n        />  \r\n        </Grid>\r\n        <Grid item xs={12} md={6}>\r\n        <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n            <KeyboardDatePicker  \r\n                        error={state.birthDateError ? true : false}\r\n                        autoOk\r\n                        fullWidth\r\n                        variant=\"inline\"\r\n                        label=\"Birthdate\"\r\n                        format=\"dd/MM/yyyy\"\r\n                        disableFuture\r\n                        InputAdornmentProps={{ position: \"start\" }}\r\n                        helperText=\"dd/MM/yyyy\"\r\n                        value={birthDate}\r\n                        onChange={birthDateChanged}\r\n                        />\r\n             </MuiPickersUtilsProvider>\r\n        </Grid>\r\n        <Grid item xs={12} md={6}>\r\n             <TextField\r\n                        error={state.emailError ? true : false}\r\n                        required id=\"email\" label=\"Email Address\" \r\n                        fullWidth autoComplete=\"email\"  type=\"email\"\r\n                        value = {email}\r\n                        onChange = {emailChanged} \r\n                        helperText = 'This email address is where you will receive your results. Please tick the box below to confirm that this is a private email address to which you are happy for us to send your results.'\r\n             />  \r\n        </Grid>\r\n\r\n        <Grid item xs={12} className={classes.formControl} >\r\n          <FormControlLabel className={classes.formControl}  style={ {color: state.emailConfirmedError ? \"red\" : ''}} \r\n            control={<Checkbox className={classes.formControl} style={ {color: state.emailConfirmedError ? \"red\" : ''}}  color=\"secondary\" name=\"emailConfirmCheckBox\" checked={emailConfirmed} onChange={emailConfirmedChanged} />}\r\n             label={<span style={{ fontSize: '0.8rem' }}>{`I confirm that this is a private email address to which I am happy for you to send my results.`} </span>}\r\n          />\r\n        </Grid>\r\n\r\n     \r\n      </Grid>\r\n    \r\n      \r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\n","import * as EmailValidator from 'email-validator';\r\n\r\nexport default function ValidateStep (state,setState, step) \r\n  {\r\n    var error = false;\r\n\r\n    if (step === 1)\r\n    {\r\n      /// Validate time\r\n      \r\n      if (!state.bookingTime)\r\n      {\r\n        setState(state => ({...state, bookingTimeError : true}));\r\n        error = true;\r\n      }\r\n    } else if (step === 2){\r\n      ///validate Basic Info\r\n      if (!state.gender)\r\n      {\r\n        setState(state => ({...state, genderError : true}));\r\n        error = true;\r\n      }\r\n      if (!state.title)\r\n      {\r\n        setState(state => ({...state, titleError : true}));\r\n        error = true;\r\n      }\r\n      if (!state.firstname || state.firstname.trim().length < 3)\r\n      {\r\n        setState(state => ({...state, firstnameError : true}));\r\n        error = true;\r\n      }\r\n      if (!state.lastname || state.lastname.trim().length < 3)\r\n      {\r\n        setState(state => ({...state, lastnameError : true}));\r\n        error = true;\r\n      }\r\n      if (!state.birthDate)\r\n      {\r\n        setState(state => ({...state, birthDateError : true}));\r\n        error = true;\r\n      }\r\n      if (!state.email || !EmailValidator.validate(state.email))\r\n      {\r\n        setState(state => ({...state, emailError : true}));\r\n        error = true;\r\n      }\r\n\r\n      if (!state.emailConfirmed)\r\n      {\r\n        setState(state => ({...state, emailConfirmedError : true}));\r\n        error = true;\r\n      }\r\n\r\n    }\r\n    else if (step === 3){\r\n      ///validate Address Info\r\n      if (!state.phone || state.phone.trim().length < 6)\r\n      {\r\n        setState(state => ({...state, phoneError : true}));\r\n        error = true;\r\n      }\r\n      if (!state.postCode || state.postCode.trim().length < 5)\r\n      {\r\n        setState(state => ({...state, postCodeError : true}));\r\n        error = true;\r\n      }\r\n      if (!state.address || state.address.trim().length < 10)\r\n      {\r\n        setState(state => ({...state, addressError : true}));\r\n        error = true;\r\n      }    \r\n      if (state.certificate && (!state.passportNumber || state.passportNumber.trim().length < 6))\r\n      {\r\n        setState(state => ({...state, passportNumberError : true}));\r\n        error = true;\r\n      }\r\n\r\n      if (!error){\r\n        setState(state => ({...state, proceedToSubmit: false}));\r\n      }\r\n    }\r\n\r\n      return !error;   \r\n  }","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport GlobalState from './GlobalState';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Accordion from '@material-ui/core/Accordion';\r\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\r\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faCalendarAlt } from '@fortawesome/free-solid-svg-icons';\r\nimport { faClock } from '@fortawesome/free-solid-svg-icons';\r\nimport { faHourglassHalf } from '@fortawesome/free-solid-svg-icons';\r\nimport dateFormat from 'dateformat';\r\nimport { Button } from '@material-ui/core';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport PersonAddIcon from '@material-ui/icons/PersonAdd';\r\nimport Icon from '@material-ui/core/Icon';\r\n\r\nimport ValidateStep from './Validation';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  box: {\r\n    backgroundColor : \"#373737\",\r\n    color: \"#fff\",\r\n    padding : \"1px\",\r\n    borderRadius : \"4px\",\r\n    textAlign: \"justify\",\r\n    paddingRight: \"40px\"\r\n  },\r\n\r\n  boxRed: {\r\n    backgroundColor : \"#dc2626\",\r\n    color: \"#fff\",\r\n    padding : \"1px\",\r\n    borderRadius : \"4px\",\r\n    textAlign: \"justify\",\r\n    paddingRight: \"40px\"\r\n  },\r\n\r\n  boxInfo: {\r\n    textAlign: \"justify\",\r\n    backgroundColor : \"#fafafa\",\r\n    color: \"#333\",\r\n    padding : \"1px\",\r\n    borderRadius : \"4px\",\r\n    paddingRight: \"40px\",\r\n    border: \"1px solid #eee\",\r\n  },\r\n\r\n\r\n  \r\n\r\n  ul: {\r\n     listStyle: \"none\",\r\n     padding: \"0\",\r\n     margin: \"0\"\r\n  },\r\n\r\n  li: {\r\n    marginBottom : \"5px\"\r\n  },\r\n\r\n\r\n  icon: {\r\n    marginRight : \"8px\"\r\n  },\r\n\r\n  root: {\r\n    width: '100%',\r\n  },\r\n  heading: {\r\n    fontSize: theme.typography.pxToRem(15),\r\n    flexBasis: '33.33%',\r\n    flexShrink: 0,\r\n    color: theme.palette.text.secondary,\r\n  },\r\n  secondaryHeading: {\r\n    fontSize: theme.typography.pxToRem(15),\r\n  },\r\n\r\n  infoDetails:{\r\n    textAlign: \"left\"\r\n  },\r\n\r\n  infoTitle:{\r\n    fontWeight: \"800\",\r\n    marginRight: \"10px\"\r\n  },\r\n\r\n  infoData:{\r\n    fontWeight: \"400\",\r\n  },\r\n\r\n  title:\r\n  {\r\n    textAlign : \"center\",\r\n    fontWeight : \"500\",\r\n    margin: \"10px\",\r\n    backgroundColor : \"#eee\",\r\n    padding : \"10px\",\r\n    borderRadius : \"4px\"\r\n\r\n  },\r\n\r\n  Accordion:{\r\n    backgroundColor : \"#f5f5f5\",\r\n    color: \"#222\"\r\n  },\r\n\r\n  terms: {\r\n    fontWeight: \"500\",\r\n    textAlign: \"justify\",\r\n    marginTop: \"10px\",\r\n    padding: \"10px\",\r\n  },\r\n\r\n  link:{\r\n    color: \"#dc2626\",\r\n    textDecoration: \"none\",\r\n  },\r\n\r\n  AddAnother:{\r\n    marginTop: \"10px\"\r\n  }\r\n\r\n}));\r\n\r\n\r\nexport default function ReviewForm() {\r\n    const classes = useStyles();\r\n\r\n    const [state, setState] = React.useContext(GlobalState);\r\n\r\n    const [expanded, setExpanded] = React.useState(false);\r\n\r\n    const handleChange = (panel) => (event, isExpanded) => {\r\n      setExpanded(isExpanded ? panel : false);\r\n    };\r\n\r\n    const addAnotherPerson = () => {\r\n\r\n      if (ValidateStep(state, setState, 2) && ValidateStep(state, setState, 3))\r\n      {\r\n\r\n        const personInfo = {\r\n          gender: state.gender,\r\n          title: state.title,\r\n          firstname: state.firstname,\r\n          lastname: state.lastname,\r\n          birthDate: state.birthDate,\r\n          email: state.email,\r\n          phone: state.phone,\r\n          postCode: state.postCode,\r\n          address: state.address,\r\n          notes: state.notes,\r\n          certificate: state.certificate,\r\n          passportNumber: state.passportNumber,\r\n          passportNumber2: state.passportNumber2\r\n        }\r\n          var newPersons = state.persons;\r\n          newPersons.push(personInfo);\r\n          setState(state => ({activeStep: 2, bookingDate: state.bookingDate, \r\n            bookingTime: state.bookingTime,\r\n            persons: newPersons\r\n          }));       \r\n      }else {\r\n        setState(state => ({...state, activeStep : 2 }));\r\n      }\r\n\r\n  }\r\n  \r\n   \r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Typography variant=\"h6\" gutterBottom>\r\n        Review Your Data\r\n      </Typography>\r\n\r\n      <Grid container direction=\"column\" spacing={1} justify=\"flex-start\"  alignItems=\"stretch\">\r\n          <Grid item xs={12} md={12}>\r\n            <div className={classes.box}>\r\n              <ul className={classes.ul}>\r\n                <li className={classes.li}>\r\n                <FontAwesomeIcon icon={faCalendarAlt} className={classes.icon} />\r\n                    {dateFormat(new Date(state.bookingDate),'dd-mmmm-yyyy')}\r\n                </li>\r\n                <li className={classes.li}>\r\n                <FontAwesomeIcon icon={faHourglassHalf} className={classes.icon} />\r\n                   Check-up Duration: 30 minutes\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </Grid> \r\n\r\n          <Grid item xs={12} md={12}>\r\n            <div className={classes.box}>\r\n              <ul className={classes.ul}>\r\n                <li className={classes.li}>\r\n                <FontAwesomeIcon icon={faClock} className={classes.icon} />\r\n                   Time: {state.bookingTime}\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </Grid> \r\n\r\n          <Grid item xs={12} md={12}>\r\n            <div className={classes.box}>\r\n              <ul className={classes.ul}>\r\n                <li className={classes.li}>\r\n                    Package : In-Clinic Test\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </Grid> \r\n\r\n          <Grid item xs={12} md={12}>\r\n            <div className={classes.box}>\r\n              <ul className={classes.ul}>\r\n                <li className={classes.li}>\r\n                   Price : £199 (each person)\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </Grid> \r\n\r\n          <Grid item xs={12} md={12}>\r\n            <div className={classes.box}>\r\n              <ul className={classes.ul}>\r\n                <li className={classes.li}>\r\n                 This time slot is not guaranteed, due to nature of healthcare there might be slight delay to your appointment.\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </Grid> \r\n          \r\n          <Grid item xs={12} md={12}>\r\n            <div className={classes.boxRed}>\r\n              <ul className={classes.ul}>\r\n                <li className={classes.li}>\r\n                During the coronavirus pandemic, we must confirm appointments in order to maintain social distancing, \r\n                we will email you to confirm your booking if your selected time is possible.\r\n                 If not, we will contact you with the nearest availability to your request. \r\n                 Thank you for understanding.\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </Grid> \r\n\r\n          <span className={classes.title}> Appointment is for the following people :</span>\r\n\r\n          {state.persons.map((person,index) => (\r\n   \r\n                  <Grid item xs={12} md={12}>\r\n                  <div className={classes.root}>\r\n                      <Accordion className={classes.Accordion} expanded={expanded === `panel${index}`} onChange={handleChange(`panel${index}`)}>\r\n                      <AccordionSummary\r\n                          expandIcon={<ExpandMoreIcon />}\r\n                          aria-controls=\"panel1bh-content\"\r\n                          id={`panel${index}bh-header`}\r\n                      >\r\n                          <Typography className={classes.heading}> {`#${index+1}`} </Typography>\r\n                          <Typography className={classes.secondaryHeading}>\r\n                          {`${person.firstname} ${person.lastname}`}\r\n                          </Typography>\r\n                      </AccordionSummary>\r\n                      <AccordionDetails className={classes.infoDetails}>\r\n                          \r\n                          <ul className={classes.ul}>\r\n                              <li className={classes.li}>\r\n                              <span className={classes.infoTitle}>Gender</span> <span className={classes.infoData}>{person.gender}</span>   \r\n                              </li>\r\n                              <li className={classes.li}>\r\n                              <span className={classes.infoTitle}>Title</span>  <span className={classes.infoData}>{person.title}</span>   \r\n                              </li>\r\n                              <li className={classes.li}>\r\n                              <span className={classes.infoTitle}>Forename</span> <span className={classes.infoData}>{person.firstname}</span>   \r\n                              </li>\r\n                              <li className={classes.li}>\r\n                                  <span className={classes.infoTitle}>Surname</span> <span className={classes.infoData}>{person.lastname}</span>   \r\n                              </li>\r\n                              <li className={classes.li}>\r\n                                  <span className={classes.infoTitle}>Email</span> <span className={classes.infoData}>{person.email}</span>   \r\n                              </li>\r\n                              <li className={classes.li}>\r\n                                  <span className={classes.infoTitle}>D.O.B</span> <span className={classes.infoData}>{dateFormat(new Date(person.birthDate),'dd mmm yyyy') }</span>  \r\n                              </li>\r\n                              <li className={classes.li}>\r\n                                  <span className={classes.infoTitle}>Telephone</span> <span className={classes.infoData}>{person.phone}</span>  \r\n                              </li>\r\n                              <li className={classes.li}>\r\n                                  <span className={classes.infoTitle}>Post Code</span> <span className={classes.infoData}>{person.postCode}</span>  \r\n                              </li>\r\n                              <li className={classes.li}>\r\n                                  <span className={classes.infoTitle}>Address</span> <span className={classes.infoData}>{person.address}</span>  \r\n                              </li>\r\n                              <li className={classes.li}>\r\n                                  <span className={classes.infoTitle}>Notes</span> <span className={classes.infoData}>{person.notes ?? 'N/A'}</span>  \r\n                              </li>\r\n                              <li className={classes.li}>\r\n                                  <span className={classes.infoTitle}>Passport No.</span> <span className={classes.infoData}>{person.passportNumber ?? 'N/A'}</span>  \r\n                              </li>\r\n                              <li className={classes.li} hidden={!person.passportNumber2 || person.passportNumber2.length === 0}>\r\n                                <span className={classes.infoTitle}>Second Passport No.</span> <span className={classes.infoData}>{person.passportNumber2 ?? 'N/A'}</span>  \r\n                            </li>\r\n                          </ul>\r\n                          \r\n                          </AccordionDetails>\r\n                          </Accordion>\r\n                      </div>\r\n                    </Grid> \r\n                    ))}\r\n\r\n            { (!state.proceedToSubmit) && \r\n                      <Grid item xs={12} md={12}>\r\n                      <div className={classes.root}>\r\n                          <Accordion className={classes.Accordion} expanded={expanded === 'panel10'} onChange={handleChange('panel10')}>\r\n                            <AccordionSummary\r\n                              expandIcon={<ExpandMoreIcon />}\r\n                              aria-controls=\"panel10bh-content\"\r\n                              id=\"panel10bh-header\"\r\n                            >\r\n                              <Typography className={classes.heading}> {`#${state.persons.length + 1}`} </Typography>\r\n                              <Typography className={classes.secondaryHeading}>\r\n                                {`${state.firstname} ${state.lastname}`}\r\n                              </Typography>\r\n                            </AccordionSummary>\r\n                            <AccordionDetails className={classes.infoDetails}>\r\n                              \r\n                                <ul className={classes.ul}>\r\n                                  <li className={classes.li}>\r\n                                    <span className={classes.infoTitle}>Gender</span> <span className={classes.infoData}>{state.gender}</span>   \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                    <span className={classes.infoTitle}>Title</span>  <span className={classes.infoData}>{state.title}</span>   \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                    <span className={classes.infoTitle}>Forename</span> <span className={classes.infoData}>{state.firstname}</span>   \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                     <span className={classes.infoTitle}>Surname</span> <span className={classes.infoData}>{state.lastname}</span>   \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                     <span className={classes.infoTitle}>Email</span> <span className={classes.infoData}>{state.email}</span>   \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                     <span className={classes.infoTitle}>D.O.B</span> <span className={classes.infoData}>{dateFormat(new Date(state.birthDate),'dd mmm yyyy') }</span>  \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                     <span className={classes.infoTitle}>Telephone</span> <span className={classes.infoData}>{state.phone}</span>  \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                     <span className={classes.infoTitle}>Post Code</span> <span className={classes.infoData}>{state.postCode}</span>  \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                     <span className={classes.infoTitle}>Address</span> <span className={classes.infoData}>{state.address}</span>  \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                     <span className={classes.infoTitle}>Notes</span> <span className={classes.infoData}>{state.notes ?? 'N/A'}</span>  \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                     <span className={classes.infoTitle}>Passport No.</span> <span className={classes.infoData}>{state.passportNumber ?? 'N/A'}</span>  \r\n                                  </li>\r\n                                  <li className={classes.li} hidden={!state.passportNumber2 || state.passportNumber2.length === 0}>\r\n                                      <span className={classes.infoTitle}>Second Passport No.</span> <span className={classes.infoData}>{state.passportNumber2 ?? 'N/A'}</span>  \r\n                                  </li>\r\n                                  \r\n                                </ul>\r\n                              \r\n                            </AccordionDetails>\r\n                          </Accordion>\r\n                        </div>\r\n                  </Grid> \r\n               }\r\n                  {(!state.persons || (state.persons && state.persons.length < 4)) && (\r\n\r\n                    <div className={classes.AddAnother}>\r\n                          <Button \r\n                                  // variant=\"outlined\"\r\n                                  startIcon={<PersonAddIcon />}\r\n                                  color=\"primary\"\r\n                                  onTouchTap = {addAnotherPerson} \r\n                                  onClick={addAnotherPerson} className={classes.button}>\r\n                            Add Another Person\r\n                          </Button>\r\n                    </div>\r\n \r\n                  )}\r\n        \r\n        <div className={classes.terms}>\r\n            By clicking on submit button you are agreeing with our <a className={classes.link} href=\"#\">terms and condition.</a> \r\n        </div>\r\n\r\n    \r\n      </Grid>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport GlobalState from './GlobalState';\r\nimport PersonsBox from './PersonsBox';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    formControl: {\r\n      textAlign: \"justify\",\r\n    },\r\n\r\n    FormTitle:\r\n    {\r\n      marginTop : \"20px\",\r\n      marginBottom : \"20px\",\r\n    }\r\n\r\n  }));\r\n\r\nexport default function AddressForm() {\r\n    const classes = useStyles();\r\n    const [state, setState] = React.useContext(GlobalState);\r\n \r\n    const [phone, setPhone] = React.useState(state.phone ?? '');\r\n    const [postCode, setPostCode] = React.useState(state.postCode ?? '');\r\n    const [address, setAddress] = React.useState(state.address ?? '');\r\n    const [notes, setNotes] = React.useState(state.notes ?? '');\r\n    const [passportNumber, setPassportNumber] = React.useState(state.passportNumber ?? '');\r\n    const [passportNumber2, setPassportNumber2] = React.useState(state.passportNumber2 ?? '');\r\n\r\n\r\n    const [certificate, setCertificate] = React.useState(state.certificate ?? false);\r\n\r\n\r\n    const certificateChanged = (event) => {\r\n            setCertificate(event.target.checked);\r\n            setState(state => ({...state, certificate: event.target.checked}));\r\n        };\r\n\r\n\r\n\r\n    const phoneChanged = (event) =>\r\n    {\r\n        setPhone(event.target.value);\r\n        setState(state => ({...state, phone : event.target.value }));\r\n        if (event.target.value && event.target.value.trim().length >= 6)\r\n        {\r\n          setState(state => ({...state, phoneError : false}));\r\n        } \r\n    }\r\n\r\n    const postCodeChanged = (event) =>\r\n    {\r\n        setPostCode(event.target.value);\r\n        setState(state => ({...state, postCode : event.target.value }));\r\n        if (event.target.value && event.target.value.trim().length >= 5)\r\n        {\r\n          setState(state => ({...state, postCodeError : false}));\r\n        }\r\n    }\r\n\r\n    const addressChanged = (event) =>\r\n    {\r\n        setAddress(event.target.value);\r\n        setState(state => ({...state, address : event.target.value }));\r\n        if (event.target.value && event.target.value.trim().length >= 10)\r\n        {\r\n          setState(state => ({...state, addressError : false}));\r\n        }\r\n    }\r\n\r\n    const notesChanged = (event) =>\r\n    {\r\n        setNotes(event.target.value);\r\n        setState(state => ({...state, notes : event.target.value }));\r\n    }\r\n\r\n    const passportNumberChanged = (event) =>\r\n    {\r\n        setPassportNumber(event.target.value);\r\n        setState(state => ({...state, passportNumber : event.target.value }));\r\n        if (event.target.value && event.target.value.trim().length >= 6)\r\n        {\r\n          setState(state => ({...state, passportNumberError : false}));\r\n        }\r\n    }\r\n\r\n    const passportNumberChanged2 = (event) =>\r\n    {\r\n        setPassportNumber2(event.target.value);\r\n        setState(state => ({...state, passportNumber2 : event.target.value}));\r\n    }\r\n\r\n\r\n  return (\r\n    <React.Fragment>\r\n\r\n      <PersonsBox/>\r\n\r\n      {state.persons.length === 0 &&\r\n          <Typography className={classes.FormTitle} variant=\"h6\" gutterBottom>\r\n              Fill Your Address Info\r\n          </Typography>\r\n       }\r\n\r\n      {state.persons.length > 0 &&\r\n            <Typography className={classes.FormTitle} variant=\"h6\" gutterBottom>\r\n                Fill Address Info\r\n            </Typography>\r\n      }\r\n\r\n\r\n  \r\n\r\n      <Grid container spacing={3} alignItems=\"baseline\">\r\n        <Grid item xs={12} md={6}>\r\n             <TextField \r\n                        error={state.phoneError ? true : false}\r\n                        required id=\"phone\" label=\"Phone Number\" \r\n                        fullWidth autoComplete=\"tel\" \r\n                        value = {phone}\r\n                        onChange = {phoneChanged} \r\n             />  \r\n        </Grid>\r\n        <Grid item xs={12} md={6}>\r\n             <TextField \r\n                        error={state.postCodeError ? true : false}\r\n                        required id=\"postCode\" label=\"Postal Code\" \r\n                        fullWidth autoComplete=\"postal-code\"\r\n                        value = {postCode}\r\n                        onChange = {postCodeChanged} \r\n             />  \r\n        </Grid>\r\n        <Grid item xs={12}>\r\n             <TextField \r\n                        error={state.addressError ? true : false}\r\n                        required id=\"address\" label=\"Address\" \r\n                        multiline rowsMax={2} \r\n                        fullWidth autoComplete=\"street-address\" \r\n                        value = {address}\r\n                        onChange = {addressChanged} \r\n             />  \r\n        </Grid>\r\n        <Grid item xs={12}>\r\n             <TextField \r\n                placeholder={`Must include flight date & flight time also If there's anything you want to tell the doctor beforehand, enter it here`} \r\n                id=\"notes\"\r\n                label=\"Notes (optional)\" \r\n                helperText={`MUST include flight date & flight time`} \r\n                multiline rowsMax={2} rows={2} fullWidth autoComplete=\"\"\r\n                value = {notes}\r\n                onChange = {notesChanged} \r\n            />  \r\n        </Grid>\r\n        <Grid item xs={12} className={classes.formControl} >\r\n          <FormControlLabel className={classes.formControl} \r\n            control={<Checkbox className={classes.formControl}  color=\"secondary\" name=\"certificate\" checked={certificate} onChange={certificateChanged} />}\r\n             label={<span style={{ fontSize: '0.8rem' }}>{`I also require a medical certificate signed by a doctor declaring me 'fit-to-fly'.`} </span>}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={12} hidden={!certificate} >\r\n             <TextField \r\n                        error={state.passportNumberError ? true : false}\r\n                        required id=\"passport\" label=\"Passport Number\" \r\n                        helperText=\"your passport number will be noted on your certificate\" \r\n                        fullWidth autoComplete=\"\" \r\n                        value = {passportNumber}\r\n                        onChange = {passportNumberChanged} \r\n             />  \r\n        </Grid>\r\n        <Grid item xs={12} hidden={!certificate} >\r\n             <TextField \r\n                        // error={state.passportNumberError ? true : false}\r\n                        id=\"passport2\" label=\"Second Passport Number (optional)\" \r\n                        helperText=\"your passport number will be noted on your certificate\" \r\n                        fullWidth autoComplete=\"\" \r\n                        value = {passportNumber2}\r\n                        onChange = {passportNumberChanged2} \r\n             />  \r\n        </Grid>\r\n      </Grid>\r\n    \r\n      \r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\n","import API from './api';\r\n\r\nexport default class BookService {\r\n\r\n    static bookAppointment = (payload) =>\r\n    {\r\n       return API.post('/api/book/bookappointment', payload);\r\n    }\r\n\r\n    static getNewReference = () =>\r\n    {\r\n        return API.get('/api/book/getnewreference');\r\n    }\r\n\r\n}","import { withStyles } from \"@material-ui/core/styles\";\r\nimport MobileStepper from \"@material-ui/core/MobileStepper\";\r\n\r\nconst StyledMobileStepper = withStyles({\r\n  root: {\r\n    maxWidth: \"100%\",\r\n    flexGrow: 1\r\n  },\r\n  progress: {\r\n    width: \"100%\"\r\n  }\r\n})(MobileStepper);\r\n\r\nexport default StyledMobileStepper;","export default __webpack_public_path__ + \"static/media/ok.c105a1fa.png\";","import React from 'react';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Stepper from '@material-ui/core/Stepper';\r\nimport Step from '@material-ui/core/Step';\r\nimport StepLabel from '@material-ui/core/StepLabel';\r\nimport Button from '@material-ui/core/Button';\r\nimport Link from '@material-ui/core/Link';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport DateForm from './DateForm';\r\nimport TimeForm from './TimeForm';\r\nimport InformationForm from './InformationForm';\r\nimport ReviewForm from './ReviewForm';\r\nimport GlobalState from './GlobalState';\r\nimport AddressForm from './AddressForm';\r\nimport BookService from './services/BookService';\r\n\r\nimport {BrowserView, MobileView} from 'react-device-detect';\r\n\r\nimport ValidateStep from './Validation';\r\n\r\n\r\nimport MobileStepper from './MobileStepper';\r\nimport doneImage from './images/ok.png';\r\n\r\n\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright © '}\r\n      {new Date().getFullYear()}\r\n      {' '}\r\n      <Link color=\"inherit\" href=\"https://www.blood.london/\">\r\n            Blood.London. \r\n      </Link>{' '}\r\n     \r\n      All rights reserved\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  appBar: {\r\n    position: 'relative',\r\n    backgroundColor: \"#333\",\r\n    color: \"#fff\",\r\n    alignItems: 'center'\r\n\r\n  },\r\n\r\n  logo: {\r\n    maxWidth: 160,\r\n  },\r\n  layout: {\r\n    width: 'auto',\r\n    marginLeft: theme.spacing(2),\r\n    marginRight: theme.spacing(2),\r\n    [theme.breakpoints.up(600 + theme.spacing(2) * 2)]: {\r\n      width: 600,\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n    },\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(1),\r\n    marginBottom: theme.spacing(3),\r\n    padding: theme.spacing(1),\r\n    [theme.breakpoints.up(600 + theme.spacing(3) * 2)]: {\r\n      marginTop: theme.spacing(6),\r\n      marginBottom: theme.spacing(6),\r\n      padding: theme.spacing(3),\r\n    },\r\n  },\r\n  stepper: {\r\n    padding: theme.spacing(3, 0, 5),\r\n  },\r\n  buttons: {\r\n    display: 'flex',\r\n    justifyContent: 'flex-end',\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing(3),\r\n    marginLeft: theme.spacing(1),\r\n  },\r\n\r\n  bold: {\r\n    fontWeight: \"800\",\r\n    padding: \"5px\"\r\n  },\r\n\r\n  doneImage: {\r\n    width: \"240px\",\r\n    height: \"150px\",\r\n    margin: \"20px\"\r\n  }\r\n\r\n}));\r\n\r\nconst steps = ['Appoinment Date', 'Appoinment Time', 'Basic Info', 'Address Info' ,'Review'];\r\n\r\nfunction getStepContent(step) {\r\n  switch (step) {\r\n    case 0:\r\n      return <DateForm />;\r\n    case 1:\r\n      return <TimeForm />;\r\n    case 2:\r\n      return <InformationForm />;\r\n    case 3:\r\n      return <AddressForm />;\r\n    case 4:\r\n        return <ReviewForm />;\r\n    default:\r\n      throw new Error('Unknown step');\r\n  }\r\n}\r\n\r\n\r\n\r\nexport default function Checkout() {\r\n  const [state, setState] = React.useContext(GlobalState);\r\n  const classes = useStyles();\r\n\r\n // const [activeStep, setActiveStep] = React.useState(0);\r\n \r\n const setActiveStep = (step) => {\r\n  setState(state => ({...state, activeStep : step}));\r\n }\r\n\r\n  const [submiting, setSubmiting] = React.useState(false);\r\n\r\n\r\n  const maxSteps = steps.length;\r\n\r\n\r\n\r\n  \r\n\r\n  const submitForm = () =>\r\n  {\r\n    var promiseArray = [];\r\n\r\n    BookService.getNewReference().then( (res) => {\r\n\r\n      const ref = res.data.ref;\r\n\r\n      setState(state => ({...state, ref: ref}));\r\n\r\n      if (!state.proceedToSubmit)\r\n      {\r\n        const personInfo = {\r\n          gender: state.gender,\r\n          title: state.title,\r\n          firstname: state.firstname,\r\n          lastname: state.lastname,\r\n          birthDate: state.birthDate,\r\n          email: state.email,\r\n          phone: state.phone,\r\n          postCode: state.postCode,\r\n          address: state.address,\r\n          notes: state.notes,\r\n          certificate: state.certificate,\r\n          passportNumber: state.passportNumber,\r\n          passportNumber2: state.passportNumber2\r\n        };\r\n    \r\n        const promise = BookService.bookAppointment({...personInfo, bookingDate: state.bookingDate, bookingTime: state.bookingTime, bookingRef: ref});\r\n        promiseArray.push(promise);\r\n      }\r\n  \r\n  \r\n  \r\n      state.persons.forEach((person) => {\r\n        promiseArray.push(BookService.bookAppointment({...person,bookingDate: state.bookingDate, bookingTime: state.bookingTime, bookingRef: ref }));\r\n      });\r\n      \r\n      Promise.all(promiseArray).then( (values) => {\r\n        setSubmiting(false);\r\n        setActiveStep(state.activeStep + 1);\r\n  \r\n      }).catch( (err) =>\r\n      {\r\n        console.log(err);\r\n        setSubmiting(false);\r\n      });\r\n\r\n    }).catch( (err) =>\r\n    {\r\n      console.log(err);\r\n      setSubmiting(false);\r\n    });;\r\n  }\r\n\r\n  const proceedToSubmit = () =>\r\n  {\r\n    setState(state => ({...state, proceedToSubmit: true}));\r\n    setActiveStep(4);\r\n  }\r\n\r\n\r\n  const handleNext = () => {\r\n\r\n    if (state.activeStep === 4)\r\n    {\r\n      setSubmiting(true);\r\n      submitForm();\r\n\r\n    }else if (ValidateStep(state, setState, state.activeStep)) {\r\n    \r\n        setActiveStep(state.activeStep + 1);\r\n    }\r\n  };\r\n\r\n  const handleBack = () => {\r\n    setActiveStep(state.activeStep - 1);\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <CssBaseline />\r\n      <AppBar position=\"absolute\" color=\"default\" className={classes.appBar}>\r\n        <Toolbar>\r\n            {/* <img src=\"logo.png\" alt=\"logo\" className={classes.logo} /> */}\r\n          <Typography variant=\"h6\" color=\"inherit\" noWrap>\r\n                 Medical Express Clinic\r\n          </Typography>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <main className={classes.layout}>\r\n        <Paper className={classes.paper}>\r\n          <Typography component=\"h1\" variant=\"h6\" align=\"center\">\r\n                Book Appointment Online\r\n          </Typography>\r\n\r\n      \r\n\r\n          <React.Fragment>\r\n              {state.activeStep < steps.length ? (\r\n                  <React.Fragment>\r\n                        <BrowserView>\r\n                                <Stepper activeStep={state.activeStep} className={classes.stepper}>\r\n                                    {steps.map((label) => (\r\n                                    <Step key={label}>\r\n                                        <StepLabel>{label}</StepLabel>\r\n                                    </Step>\r\n                                    ))}\r\n                                </Stepper>\r\n                        </BrowserView>\r\n\r\n                        <MobileView>\r\n                                    <MobileStepper \r\n                                            steps={maxSteps}\r\n                                            position=\"static\"\r\n                                            variant=\"progress\"\r\n                                            \r\n                                            activeStep={state.activeStep}\r\n                                    />\r\n                        </MobileView>  \r\n                  </React.Fragment>\r\n              ) : (\r\n                  <React.Fragment>\r\n\r\n                      \r\n                  </React.Fragment>\r\n              )}\r\n          </React.Fragment>                  \r\n\r\n          {/* <PersonsBox/> */}\r\n\r\n          <React.Fragment>\r\n            {state.activeStep === steps.length ? (\r\n              <React.Fragment>\r\n\r\n                <img className={classes.doneImage} src={doneImage} alt=\"Done image\"/>\r\n\r\n                <Typography variant=\"h5\" gutterBottom>\r\n                  Thank you for your Booking.\r\n                </Typography>\r\n                <br/>\r\n                <Typography variant=\"subtitle1\">\r\n                  Your booking number is <span className={classes.bold}>{`\"${state.ref}\"`}</span> . We have emailed your booking information, and will look forward to meet you at the clinic. \r\n                </Typography>\r\n              </React.Fragment>\r\n            ) : (\r\n              <React.Fragment>\r\n                {getStepContent(state.activeStep)}\r\n                <div className={classes.buttons}>\r\n                  {state.activeStep !== 0 && (\r\n                    <Button disabled={submiting} onClick={handleBack} onTouchTap = {handleBack}  className={classes.button}>\r\n                      Back\r\n                    </Button>\r\n                  )}\r\n\r\n                  {((state.activeStep === 2 || state.activeStep === 3 ) && state.persons && state.persons.length >= 1) && (\r\n                    <Button \r\n                            // variant=\"contained\"\r\n                            color=\"secondary\"\r\n                            onTouchTap = {proceedToSubmit} \r\n                            onClick={proceedToSubmit} className={classes.button}>\r\n                      Skip to Submit\r\n                    </Button>\r\n                  )}\r\n\r\n                  <Button\r\n                    disabled={submiting} \r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    onTouchTap = {handleNext} \r\n                    onClick={handleNext}\r\n                    className={classes.button}\r\n                  >\r\n                    {state.activeStep === steps.length - 1 ? 'Submit' : 'Next'}\r\n                  </Button>\r\n                  \r\n\r\n\r\n\r\n\r\n                </div>\r\n              </React.Fragment>\r\n            )}\r\n          </React.Fragment>\r\n        </Paper>\r\n        <Copyright />\r\n      </main>\r\n    </React.Fragment>\r\n  );\r\n}","import './App.css';\nimport Checkout from './checkout';\nimport GlobalState from './GlobalState'; \nimport React from 'react';\n\nfunction App() {\n  const [state, setState] = React.useState({activeStep : 0, bookingDate: new Date(), persons: []});\n  return (\n    <GlobalState.Provider value={[state, setState]}>\n      <div className=\"App\">\n        <Checkout> </Checkout>\n      </div>\n    </GlobalState.Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n// import reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"],"sourceRoot":""}