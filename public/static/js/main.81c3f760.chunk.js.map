{"version":3,"sources":["GlobalState.js","services/api.js","services/TimeService.js","DateForm.js","TimeForm.js","PersonsBox.js","InformationForm.js","Validation.js","ReviewForm.js","AddressForm.js","services/BookService.js","MobileStepper.js","images/ok.png","checkout.js","App.js","index.js"],"names":["GlobalState","React","createContext","axios","create","baseURL","headers","TimeService","getFirstAvailableDate","API","get","getFullyBookedDates","getTimeSlots","date","firstAvailableDay","fullyBookedDays","useStyles","makeStyles","theme","loadingBox","DateForm","useContext","state","setState","useState","bookingDate","Date","handleDateChange","dataLoaded","callback","promise1","promise2","Promise","all","then","values","data","console","log","catch","err","LoadData","dateChanged","Fragment","Typography","variant","gutterBottom","Grid","container","direction","justify","alignItems","utils","DateFnsUtils","DatePicker","autoOk","disablePast","openTo","orientation","fullWidth","value","onChange","shouldDisableDate","checkFullyBooked","Skeleton","width","height","setHours","length","result","forEach","index","date1","date2","getFullYear","getMonth","getDate","timeSlots","root","display","flexWrap","justifyContent","overflow","backgroundColor","palette","background","paper","gridList","box","border","margin","padding","color","cursor","boxMobile","boxSelected","boxDisable","TimeForm","classes","bookingTime","setTime","setDataLoaded","emptyTimeSlots","i","push","boxClicked","key","className","GridList","cellHeight","cols","map","timeSlot","GridListTile","onClick","available","time","borderRadius","textAlign","paddingRight","boxRed","boxInfo","ul","listStyle","li","marginBottom","icon","marginRight","heading","fontSize","typography","pxToRem","flexBasis","flexShrink","text","secondary","secondaryHeading","infoDetails","infoTitle","fontWeight","infoData","title","marginLeft","Accordion","PersonsBox","expanded","setExpanded","spacing","persons","person","panel","item","xs","md","event","isExpanded","AccordionSummary","expandIcon","aria-controls","id","firstname","lastname","AccordionDetails","gender","email","dateFormat","birthDate","phone","postCode","address","notes","passportNumber","hidden","passportNumber2","formControl","FormTitle","marginTop","InformationForm","handleBirthDateChange","setFirstname","setLastname","setEmail","setGender","setTitle","FormControl","required","InputLabel","Select","error","genderError","labelId","target","MenuItem","titleError","TextField","firstnameError","label","autoComplete","trim","lastnameError","birthDateError","format","disableFuture","InputAdornmentProps","position","helperText","emailError","type","EmailValidator","ValidateStep","step","bookingTimeError","phoneError","postCodeError","addressError","certificate","passportNumberError","proceedToSubmit","terms","link","textDecoration","AddAnother","ReviewForm","handleChange","addAnotherPerson","personInfo","newPersons","activeStep","faCalendarAlt","faHourglassHalf","faClock","Button","startIcon","onTouchTap","button","href","AddressForm","setPhone","setPostCode","setAddress","setNotes","setPassportNumber","setPassportNumber2","setCertificate","multiline","rowsMax","placeholder","rows","FormControlLabel","control","Checkbox","name","checked","style","BookService","bookAppointment","payload","post","getNewReference","StyledMobileStepper","withStyles","maxWidth","flexGrow","progress","MobileStepper","Copyright","align","Link","appBar","logo","layout","breakpoints","up","stepper","buttons","bold","doneImage","steps","getStepContent","Error","Checkout","setActiveStep","submiting","setSubmiting","maxSteps","handleNext","promiseArray","res","ref","promise","bookingRef","submitForm","handleBack","CssBaseline","AppBar","Toolbar","noWrap","Paper","component","Stepper","Step","StepLabel","src","alt","disabled","App","Provider","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.81c3f760.chunk.js","sourcesContent":["import React from 'react'; \r\nconst GlobalState = React.createContext([{}, () => {}]); \r\nexport default GlobalState;","import axios from 'axios';\r\n\r\nexport default axios.create({\r\n  //  baseURL: 'http://localhost:9090',\r\n  baseURL: 'https://www.travelpcrtest.com/',\r\n  headers : {\r\n      'Authorization' : 'Basic QXp1cmXEaWFtb45kOmh1bnRlcjO='\r\n  }\r\n});","import TimeSlot from './../models/TimeSlot';\r\nimport API from './api';\r\n\r\nexport default class TimeService{\r\n\r\n     static getFirstAvailableDate =  () =>\r\n    {\r\n        return API.get('/api/time/getfirstavaiabledate');\r\n    }\r\n\r\n    // static dayIsBooked =  (date) =>\r\n    // {\r\n    //    /// check if this date is booked or not\r\n    //    return new Promise( (resolve, reject) =>\r\n    //    {\r\n    //         setTimeout(() => {\r\n    //             resolve(false);\r\n    //         }, 1000);\r\n    //    });\r\n    // }\r\n\r\n    static getFullyBookedDates = () =>\r\n    {        \r\n       return API.get('/api/time/getfullybookeddays');\r\n    }\r\n\r\n    static getTimeSlots = (date) =>\r\n    {\r\n        return API.get(`/api/time/gettimeslots?date=${date}`);\r\n    }\r\n\r\n\r\n}","import React from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport {\r\n    DatePicker,\r\n    MuiPickersUtilsProvider\r\n  } from '@material-ui/pickers';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport GlobalState from './GlobalState';\r\nimport {BrowserView, MobileView} from 'react-device-detect';\r\n\r\nimport TimeService from './services/TimeService';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Skeleton from '@material-ui/lab/Skeleton';\r\n\r\nvar firstAvailableDay = null;\r\nvar fullyBookedDays = [];\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n  loadingBox: {\r\n    \r\n  }\r\n\r\n}));\r\n\r\n\r\nfunction LoadData(callback){\r\n\r\n      const promise1 = TimeService.getFirstAvailableDate();\r\n      const promise2 = TimeService.getFullyBookedDates();\r\n\r\n      Promise.all([promise1, promise2]).then( (values) => {\r\n\r\n        firstAvailableDay = new Date((values[0].data).date);\r\n        fullyBookedDays = values[1];\r\n\r\n        console.log(firstAvailableDay);\r\n        console.log(fullyBookedDays);\r\n\r\n\r\n        callback(true);\r\n\r\n      }).catch( (err) =>\r\n      {\r\n        console.log(err);\r\n      });\r\n}\r\n\r\n\r\nexport default function DateForm() {\r\n   const classes = useStyles();\r\n\r\n    const [state, setState] = React.useContext(GlobalState);\r\n    const [bookingDate, handleDateChange] = React.useState(state.bookingDate ?? new Date());\r\n\r\n    const [dataLoaded, setDataLoaded] =  React.useState(false);\r\n\r\n    LoadData(setDataLoaded);\r\n\r\n    const dateChanged = (date) =>\r\n    {\r\n        handleDateChange(date);\r\n        setState(state => ({...state, bookingDate: date}));\r\n    }\r\n\r\n  return (\r\n\r\n    <React.Fragment>\r\n               \r\n                <Typography variant=\"h6\" gutterBottom>\r\n                    Pick a Date\r\n                </Typography>\r\n\r\n        {dataLoaded ?  (\r\n            \r\n                <React.Fragment>\r\n\r\n                <Grid\r\n                  container\r\n                  direction=\"column\"\r\n                  justify=\"center\"\r\n                  alignItems=\"center\"\r\n                  >\r\n\r\n                        <BrowserView>\r\n                            <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n                                    <DatePicker autoOk \r\n                                                disablePast=\"true\" \r\n                                                openTo=\"date\"\r\n                                                orientation=\"landscape\" \r\n                                                variant=\"static\" \r\n                                                fullWidth\r\n                                                value={bookingDate} \r\n                                                onChange={dateChanged} \r\n                                                shouldDisableDate={checkFullyBooked}\r\n                                                />\r\n                            </MuiPickersUtilsProvider>\r\n                        </BrowserView>\r\n\r\n                        <MobileView>\r\n                            <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n                                        <DatePicker autoOk \r\n                                                    disablePast=\"true\" \r\n                                                    openTo=\"date\"\r\n                                                    variant=\"static\" \r\n                                                    fullWidth\r\n                                                    value={bookingDate} \r\n                                                    onChange={dateChanged} \r\n                                                    shouldDisableDate={checkFullyBooked}\r\n                                                    />\r\n                                </MuiPickersUtilsProvider>\r\n                        </MobileView>\r\n                </Grid>\r\n\r\n              </React.Fragment>\r\n              )\r\n            : \r\n            (\r\n            <React.Fragment>\r\n                <Grid\r\n                  container\r\n                  direction=\"column\"\r\n                  justify=\"center\"\r\n                  alignItems=\"center\"\r\n                  >\r\n\r\n                      <Skeleton variant=\"text\" width={'80%'} />\r\n                      <Skeleton variant=\"text\" width={'80%'}  />\r\n                      <Skeleton variant=\"rect\" width={'80%'}  height={220} />\r\n\r\n                  </Grid>\r\n            </React.Fragment>\r\n            )\r\n          }\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\n\r\n\r\nconst checkFullyBooked = (date) =>\r\n{\r\n    if (date.setHours(0,0,0,0) < firstAvailableDay.setHours(0,0,0,0))\r\n    {\r\n      return true;\r\n    }\r\n\r\n    else if (fullyBookedDays && fullyBookedDays.length > 0)\r\n    {\r\n      var result = false;\r\n      fullyBookedDays.forEach( (value, index) => {\r\n\r\n        if (EquallDates(value,date))\r\n        {\r\n          result = true;\r\n        }\r\n      });\r\n      return result;\r\n    }\r\n    else\r\n    {\r\n      return false;\r\n    }\r\n}\r\n\r\nfunction EquallDates(date1, date2)\r\n{\r\n   return (\r\n           date1.getFullYear() === date2.getFullYear() &&\r\n           date1.getMonth() === date2.getMonth() &&\r\n           date1.getDate() === date2.getDate()\r\n   );      \r\n}\r\n","import React from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport GlobalState from './GlobalState';\r\nimport { makeStyles , useTheme} from '@material-ui/core/styles';\r\n\r\nimport GridList from '@material-ui/core/GridList';\r\nimport GridListTile from '@material-ui/core/GridListTile';\r\n\r\nimport TimeService from './services/TimeService';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Skeleton from '@material-ui/lab/Skeleton';\r\n\r\nimport {BrowserView, MobileView} from 'react-device-detect';\r\n\r\n// import Card from '@material-ui/core/Card';\r\n// import CardActions from '@material-ui/core/CardActions';\r\n// import CardContent from '@material-ui/core/CardContent';\r\n// import Button from '@material-ui/core/Button'\r\n// import { Mouse, Satellite } from '@material-ui/icons';\r\n// import { BrowserView } from 'react-device-detect';\r\n\r\nvar timeSlots = null;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    \r\n    root: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        justifyContent: 'space-around',\r\n        overflow: 'hidden',\r\n        backgroundColor: theme.palette.background.paper,\r\n      },\r\n      gridList: {\r\n        // width: 500,\r\n        // height: 450,\r\n      },\r\n\r\n      box: {\r\n        //backgroundColor: \"red\",\r\n        border: \"1px solid #999\",\r\n        margin: \"5px\",\r\n        padding: \"5px\",\r\n        color: \"#555\",\r\n        cursor: \"pointer\",\r\n        \"&:hover\": {\r\n            background: \"green\",\r\n            color: \"#fff\"\r\n          },\r\n      },\r\n\r\n      boxMobile: {\r\n        //backgroundColor: \"red\",\r\n        border: \"1px solid #999\",\r\n        margin: \"5px\",\r\n        padding: \"5px\",\r\n        color: \"#555\",\r\n        cursor: \"pointer\"\r\n      },\r\n\r\n      boxSelected: {\r\n        backgroundColor: \"green\",\r\n        border: \"1px solid #999\",\r\n        margin: \"5px\",\r\n        padding: \"5px\",\r\n        color: \"#fff\",\r\n        cursor: \"pointer\",\r\n      },\r\n\r\n      boxDisable: {\r\n        backgroundColor: \"#999\",\r\n        border: \"1px solid #ddd\",\r\n        margin: \"5px\",\r\n        padding: \"5px\",\r\n        color: \"#fff\"\r\n        \r\n      },\r\n\r\n  }));\r\n\r\n  function LoadData(date, callback){\r\n\r\n    const promise1 = TimeService.getTimeSlots(date);\r\n\r\n    Promise.all([promise1]).then( (values) => {\r\n\r\n      timeSlots = values[0].data;\r\n\r\n      callback(true);\r\n\r\n    }).catch( (err) =>\r\n    {\r\n      console.log(err);\r\n    });\r\n}\r\n\r\nexport default function TimeForm() {\r\n    const classes = useStyles();\r\n    // const theme = useTheme();\r\n\r\n    const [state, setState] = React.useContext(GlobalState);\r\n    const [bookingTime, setTime] = React.useState(state.bookingTime ?? '');\r\n\r\n    const [dataLoaded, setDataLoaded] =  React.useState(false);\r\n\r\n    const emptyTimeSlots = [];\r\n    for (var i=0; i<28; i++)\r\n    {\r\n      emptyTimeSlots.push(i);\r\n    }\r\n\r\n    LoadData(state.bookingDate, setDataLoaded);\r\n\r\n    const boxClicked = (key) =>\r\n    {\r\n        if (key)\r\n        {\r\n            setTime(key);\r\n            setState({...state, bookingTime : key});\r\n        }\r\n\r\n    }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Typography variant=\"h6\" gutterBottom>\r\n        Pick a Time\r\n      </Typography>\r\n\r\n      {dataLoaded ?  (\r\n            \r\n          \r\n\r\n            <React.Fragment>\r\n\r\n              <BrowserView>\r\n                  <div className={classes.root}>\r\n                            <GridList cellHeight={60} className={classes.gridList} cols={4}>\r\n                              {timeSlots.map((timeSlot) => (\r\n                                <GridListTile key={timeSlot.time} cols={1}>\r\n                                  <div \r\n                                      onClick= {() => {timeSlot.available? boxClicked(timeSlot.time) : boxClicked(null)}}\r\n                                      className={(timeSlot.available) ? ((bookingTime === timeSlot.time)? classes.boxSelected : classes.box ): classes.boxDisable}>\r\n                                      {timeSlot.time}\r\n                                  </div>\r\n                                </GridListTile>\r\n                              ))}\r\n                            </GridList>\r\n                  </div>\r\n              \r\n              </BrowserView>\r\n\r\n              <MobileView>\r\n\r\n              <div className={classes.root}>\r\n                            <GridList cellHeight={60} className={classes.gridList} cols={4}>\r\n                              {timeSlots.map((timeSlot) => (\r\n                                <GridListTile key={timeSlot.time} cols={1}>\r\n                                  <div \r\n                                      onClick = {() => {timeSlot.available? boxClicked(timeSlot.time) : boxClicked(null)}}\r\n                                      className={(timeSlot.available) ? ((bookingTime === timeSlot.time)? classes.boxSelected : classes.boxMobile ): classes.boxDisable}>\r\n                                      {timeSlot.time}\r\n                                  </div>\r\n                                </GridListTile>\r\n                              ))}\r\n                            </GridList>\r\n                  </div>\r\n\r\n              </MobileView>\r\n\r\n            </React.Fragment>\r\n      ) : (\r\n        <React.Fragment>\r\n                <Grid\r\n                  container\r\n                  direction=\"column\"\r\n                  justify=\"center\"\r\n                  alignItems=\"center\"\r\n                  >\r\n                      <GridList cellHeight={60} className={classes.gridList} cols={4}>\r\n                          {emptyTimeSlots.map((timeSlot) => (\r\n                            <GridListTile key={timeSlot} cols={1}>\r\n                                 <Skeleton variant=\"rect\" width={120}  height={35} />\r\n                            </GridListTile>\r\n                          ))}\r\n                        </GridList>\r\n                  </Grid>\r\n\r\n    </React.Fragment>\r\n\r\n      ) }\r\n\r\n\r\n\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nconst checkFullyBooked = (time) =>\r\n{\r\n    return false;\r\n}\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport GlobalState from './GlobalState';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Accordion from '@material-ui/core/Accordion';\r\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\r\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport dateFormat from 'dateformat';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  box: {\r\n    backgroundColor : \"#373737\",\r\n    color: \"#fff\",\r\n    padding : \"1px\",\r\n    borderRadius : \"4px\",\r\n    textAlign: \"justify\",\r\n    paddingRight: \"40px\"\r\n  },\r\n\r\n  boxRed: {\r\n    backgroundColor : \"#dc2626\",\r\n    color: \"#fff\",\r\n    padding : \"1px\",\r\n    borderRadius : \"4px\",\r\n    textAlign: \"justify\",\r\n    paddingRight: \"40px\"\r\n  },\r\n\r\n  boxInfo: {\r\n    textAlign: \"justify\",\r\n    backgroundColor : \"#fafafa\",\r\n    color: \"#333\",\r\n    padding : \"1px\",\r\n    borderRadius : \"4px\",\r\n    paddingRight: \"40px\",\r\n    border: \"1px solid #eee\",\r\n  },\r\n\r\n  ul: {\r\n     listStyle: \"none\",\r\n     padding: \"0\",\r\n     margin: \"0\"\r\n  },\r\n\r\n  li: {\r\n    marginBottom : \"5px\"\r\n  },\r\n\r\n\r\n  icon: {\r\n    marginRight : \"8px\"\r\n  },\r\n\r\n  root: {\r\n    width: '100%',\r\n  },\r\n  heading: {\r\n    fontSize: theme.typography.pxToRem(15),\r\n    flexBasis: '33.33%',\r\n    flexShrink: 0,\r\n    color: theme.palette.text.secondary,\r\n  },\r\n  secondaryHeading: {\r\n    fontSize: theme.typography.pxToRem(15),\r\n  },\r\n\r\n  infoDetails:{\r\n    textAlign: \"left\"\r\n  },\r\n\r\n  infoTitle:{\r\n    fontWeight: \"800\",\r\n    marginRight: \"10px\"\r\n  },\r\n\r\n  infoData:{\r\n    fontWeight: \"400\",\r\n  },\r\n\r\n  title:\r\n  {\r\n    // textAlign : \"center\",\r\n    // fontWeight : \"500\",\r\n    // margin: \"10px\",\r\n    // backgroundColor : \"#eee\",\r\n    // padding : \"10px\",\r\n    // borderRadius : \"4px\"\r\n    textAlign: \"left\",\r\n    fontWeight : \"600\",\r\n    marginLeft: \"10px\"\r\n\r\n  },\r\n\r\n  Accordion:{\r\n    backgroundColor : \"#f5f5f5\",\r\n    color: \"#222\"\r\n  }\r\n\r\n}));\r\n\r\n\r\nexport default function PersonsBox() {\r\n    const classes = useStyles();\r\n\r\n    const [state, setState] = React.useContext(GlobalState);\r\n\r\n    const [expanded, setExpanded] = React.useState(false);\r\n\r\n    const handleChange = (panel) => (event, isExpanded) => {\r\n      setExpanded(isExpanded ? panel : false);\r\n    };\r\n\r\n  return (\r\n    <React.Fragment>\r\n    \r\n      \r\n\r\n      <Grid container direction=\"column\" spacing={1} justify=\"flex-start\"  alignItems=\"stretch\">\r\n\r\n        {state.persons && state.persons.length > 0 && (\r\n          \r\n              <span className={classes.title}> Persons added so far :</span>\r\n\r\n        )}\r\n        \r\n\r\n          {state.persons.map((person,index) => (\r\n   \r\n                <Grid item xs={12} md={12}>\r\n                <div className={classes.root}>\r\n                    <Accordion className={classes.Accordion} expanded={expanded === `panel${index}`} onChange={handleChange(`panel${index}`)}>\r\n                    <AccordionSummary\r\n                        expandIcon={<ExpandMoreIcon />}\r\n                        aria-controls=\"panel1bh-content\"\r\n                        id={`panel${index}bh-header`}\r\n                    >\r\n                        <Typography className={classes.heading}> {`#${index+1}`} </Typography>\r\n                        <Typography className={classes.secondaryHeading}>\r\n                        {`${person.firstname} ${person.lastname}`}\r\n                        </Typography>\r\n                    </AccordionSummary>\r\n                    <AccordionDetails className={classes.infoDetails}>\r\n                        \r\n                        <ul className={classes.ul}>\r\n                            <li className={classes.li}>\r\n                            <span className={classes.infoTitle}>Gender</span> <span className={classes.infoData}>{person.gender}</span>   \r\n                            </li>\r\n                            <li className={classes.li}>\r\n                            <span className={classes.infoTitle}>Title</span>  <span className={classes.infoData}>{person.title}</span>   \r\n                            </li>\r\n                            <li className={classes.li}>\r\n                            <span className={classes.infoTitle}>Forename</span> <span className={classes.infoData}>{person.firstname}</span>   \r\n                            </li>\r\n                            <li className={classes.li}>\r\n                                <span className={classes.infoTitle}>Surname</span> <span className={classes.infoData}>{person.lastname}</span>   \r\n                            </li>\r\n                            <li className={classes.li}>\r\n                                <span className={classes.infoTitle}>Email</span> <span className={classes.infoData}>{person.email}</span>   \r\n                            </li>\r\n                            <li className={classes.li}>\r\n                                <span className={classes.infoTitle}>D.O.B</span> <span className={classes.infoData}>{dateFormat(new Date(person.birthDate),'dd mmm yyyy') }</span>  \r\n                            </li>\r\n                            <li className={classes.li}>\r\n                                <span className={classes.infoTitle}>Telephone</span> <span className={classes.infoData}>{person.phone}</span>  \r\n                            </li>\r\n                            <li className={classes.li}>\r\n                                <span className={classes.infoTitle}>Post Code</span> <span className={classes.infoData}>{person.postCode}</span>  \r\n                            </li>\r\n                            <li className={classes.li}>\r\n                                <span className={classes.infoTitle}>Address</span> <span className={classes.infoData}>{person.address}</span>  \r\n                            </li>\r\n                            <li className={classes.li}>\r\n                                <span className={classes.infoTitle}>Notes</span> <span className={classes.infoData}>{person.notes ?? 'N/A'}</span>  \r\n                            </li>\r\n                            <li className={classes.li}>\r\n                                <span className={classes.infoTitle}>Passport No.</span> <span className={classes.infoData}>{person.passportNumber ?? 'N/A'}</span>  \r\n                            </li>\r\n                            <li className={classes.li} hidden={!person.passportNumber2 || person.passportNumber2.length === 0}>\r\n                                <span className={classes.infoTitle}>Second Passport No.</span> <span className={classes.infoData}>{person.passportNumber2 ?? 'N/A'}</span>  \r\n                            </li>\r\n                        </ul>\r\n                        \r\n                    </AccordionDetails>\r\n                    </Accordion>\r\n                </div>\r\n            </Grid> \r\n          ))}\r\n    </Grid>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\n\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport GlobalState from './GlobalState';\r\nimport * as EmailValidator from 'email-validator';\r\n\r\nimport {\r\n    DatePicker,\r\n    KeyboardDatePicker,\r\n    MuiPickersUtilsProvider\r\n  } from '@material-ui/pickers';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport PersonsBox from './PersonsBox';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    formControl: {\r\n      textAlign: \"left\"\r\n    },\r\n\r\n    FormTitle:\r\n    {\r\n      marginTop : \"20px\",\r\n      marginBottom : \"20px\",\r\n    }\r\n\r\n  }));\r\n\r\nexport default function InformationForm() {\r\n    const classes = useStyles();\r\n    const [state, setState] = React.useContext(GlobalState);\r\n    const [birthDate, handleBirthDateChange] = React.useState(state.birthDate ?? null);\r\n    const [firstname, setFirstname] = React.useState(state.firstname ?? '');\r\n    const [lastname, setLastname] = React.useState(state.lastname ?? '');\r\n    const [email, setEmail] = React.useState(state.email ?? '');\r\n    \r\n    const [gender, setGender] = React.useState(state.gender ?? '');\r\n    const [title, setTitle] = React.useState(state.title ?? '');\r\n\r\n    const titleChanged = (event) => {\r\n            setTitle(event.target.value);\r\n            setState(state => ({...state, title: event.target.value}));\r\n            setState(state => ({...state, titleError : false}));\r\n        };\r\n\r\n    const genderChanged = (event) => {\r\n            setGender(event.target.value);\r\n            setState(state => ({...state, gender: event.target.value}));\r\n            setState(state => ({...state, genderError : false}));\r\n        };\r\n\r\n    const birthDateChanged = (date) =>\r\n    {\r\n        handleBirthDateChange(date);\r\n        setState(state => ({...state, birthDate: date}));\r\n        setState(state => ({...state, birthDateError : false}));\r\n    }  \r\n\r\n    const firstnameChanged = (event) =>\r\n    {\r\n        setFirstname(event.target.value);\r\n        setState(state => ({...state, firstname : event.target.value }));\r\n        if (event.target.value && event.target.value.trim().length >= 3)\r\n        {\r\n          setState(state => ({...state, firstnameError : false}));\r\n        }\r\n    }\r\n\r\n    const lastnameChanged = (event) =>\r\n    {\r\n        setLastname(event.target.value);\r\n        setState(state => ({...state, lastname : event.target.value }));\r\n        if (event.target.value && event.target.value.trim().length >= 3)\r\n        {\r\n          setState(state => ({...state, lastnameError : false}));\r\n        }\r\n    }\r\n\r\n    const emailChanged = (event) =>\r\n    {\r\n        setEmail(event.target.value);\r\n        setState(state => ({...state, email : event.target.value }));\r\n        if (event.target.value && EmailValidator.validate(event.target.value))\r\n        {\r\n          setState(state => ({...state, emailError : false}));\r\n        }\r\n    }\r\n\r\n  return (\r\n\r\n\r\n    <React.Fragment>\r\n\r\n      <PersonsBox/>\r\n\r\n    {state.persons.length === 0 &&\r\n          <Typography className={classes.FormTitle} variant=\"h6\" gutterBottom>\r\n              Fill Your Basic Info\r\n          </Typography>\r\n    }\r\n\r\n    {state.persons.length > 0 &&\r\n          <Typography className={classes.FormTitle} variant=\"h6\" gutterBottom>\r\n              Fill Basic Info\r\n          </Typography>\r\n    }\r\n\r\n      \r\n   \r\n\r\n      <Grid container spacing={3} alignItems=\"baseline\">\r\n\r\n      <Grid item xs={12} md={6}>\r\n            <FormControl className={classes.formControl} fullWidth required>\r\n                <InputLabel id=\"gender-label-id\">Gender</InputLabel>\r\n                <Select\r\n                    error={state.genderError ? true : false}\r\n                    fullWidth\r\n                    labelId=\"gender-label-id\"\r\n                    id=\"gender-id\"\r\n                    value={gender}\r\n                    onChange={genderChanged}\r\n                >\r\n                    <MenuItem value={'Male'}>Male</MenuItem>\r\n                    <MenuItem value={'Female'}>Female</MenuItem>\r\n                </Select>\r\n        </FormControl>\r\n        </Grid>\r\n        <Grid item xs={12} md={6}>\r\n            <FormControl className={classes.formControl} fullWidth required>\r\n                <InputLabel id=\"title-label-id\">Title</InputLabel>\r\n                <Select\r\n                    error={state.titleError ? true : false}\r\n                    fullWidth\r\n                    labelId=\"title-label-id\"\r\n                    id=\"title-id\"\r\n                    value={title}\r\n                    onChange={titleChanged}\r\n                >\r\n                    <MenuItem value={'Mr'}>Mr</MenuItem>\r\n                    <MenuItem value={'Mrs'}>Mrs</MenuItem>\r\n                    <MenuItem value={'Miss'}>Miss</MenuItem>\r\n                    <MenuItem value={'Ms'}>Ms</MenuItem>\r\n                    <MenuItem value={'Dr'}>Dr</MenuItem>\r\n                </Select>\r\n        </FormControl>\r\n        </Grid>\r\n        <Grid item xs={12} md={6}>\r\n          <TextField \r\n                    error={state.firstnameError ? true : false}\r\n                    required id=\"firstName\" label=\"First Name\" \r\n                    fullWidth autoComplete=\"given-name\" \r\n                    value = {firstname}\r\n                    onChange = {firstnameChanged} \r\n          />\r\n        </Grid>\r\n        <Grid item xs={12} md={6}>\r\n         <TextField \r\n                    error={state.lastnameError ? true : false}\r\n                    required id=\"lastName\" label=\"Last Name\" \r\n                    fullWidth autoComplete=\"family-name\" \r\n                    value = {lastname}\r\n                    onChange = {lastnameChanged} \r\n        />  \r\n        </Grid>\r\n        <Grid item xs={12} md={6}>\r\n        <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n            <KeyboardDatePicker  \r\n                        error={state.birthDateError ? true : false}\r\n                        autoOk\r\n                        fullWidth\r\n                        variant=\"inline\"\r\n                        label=\"Birthdate\"\r\n                        format=\"dd/MM/yyyy\"\r\n                        disableFuture\r\n                        InputAdornmentProps={{ position: \"start\" }}\r\n                        helperText=\"dd/MM/yyyy\"\r\n                        value={birthDate}\r\n                        onChange={birthDateChanged}\r\n                        />\r\n             </MuiPickersUtilsProvider>\r\n        </Grid>\r\n        <Grid item xs={12} md={6}>\r\n             <TextField\r\n                        error={state.emailError ? true : false}\r\n                        required id=\"email\" label=\"Email Address\" \r\n                        fullWidth autoComplete=\"email\"  type=\"email\"\r\n                        value = {email}\r\n                        onChange = {emailChanged} \r\n             />  \r\n        </Grid>\r\n     \r\n      </Grid>\r\n    \r\n      \r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\n","import * as EmailValidator from 'email-validator';\r\n\r\nexport default function ValidateStep (state,setState, step) \r\n  {\r\n    var error = false;\r\n\r\n    if (step === 1)\r\n    {\r\n      /// Validate time\r\n      \r\n      if (!state.bookingTime)\r\n      {\r\n        setState(state => ({...state, bookingTimeError : true}));\r\n        error = true;\r\n      }\r\n    } else if (step === 2){\r\n      ///validate Basic Info\r\n      if (!state.gender)\r\n      {\r\n        setState(state => ({...state, genderError : true}));\r\n        error = true;\r\n      }\r\n      if (!state.title)\r\n      {\r\n        setState(state => ({...state, titleError : true}));\r\n        error = true;\r\n      }\r\n      if (!state.firstname || state.firstname.trim().length < 3)\r\n      {\r\n        setState(state => ({...state, firstnameError : true}));\r\n        error = true;\r\n      }\r\n      if (!state.lastname || state.lastname.trim().length < 3)\r\n      {\r\n        setState(state => ({...state, lastnameError : true}));\r\n        error = true;\r\n      }\r\n      if (!state.birthDate)\r\n      {\r\n        setState(state => ({...state, birthDateError : true}));\r\n        error = true;\r\n      }\r\n      if (!state.email || !EmailValidator.validate(state.email))\r\n      {\r\n        setState(state => ({...state, emailError : true}));\r\n        error = true;\r\n      }\r\n    }\r\n    else if (step === 3){\r\n      ///validate Address Info\r\n      if (!state.phone || state.phone.trim().length < 6)\r\n      {\r\n        setState(state => ({...state, phoneError : true}));\r\n        error = true;\r\n      }\r\n      if (!state.postCode || state.postCode.trim().length < 5)\r\n      {\r\n        setState(state => ({...state, postCodeError : true}));\r\n        error = true;\r\n      }\r\n      if (!state.address || state.address.trim().length < 10)\r\n      {\r\n        setState(state => ({...state, addressError : true}));\r\n        error = true;\r\n      }    \r\n      if (state.certificate && (!state.passportNumber || state.passportNumber.trim().length < 6))\r\n      {\r\n        setState(state => ({...state, passportNumberError : true}));\r\n        error = true;\r\n      }\r\n\r\n      if (!error){\r\n        setState(state => ({...state, proceedToSubmit: false}));\r\n      }\r\n    }\r\n\r\n      return !error;   \r\n  }","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport GlobalState from './GlobalState';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Accordion from '@material-ui/core/Accordion';\r\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\r\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faCalendarAlt } from '@fortawesome/free-solid-svg-icons';\r\nimport { faClock } from '@fortawesome/free-solid-svg-icons';\r\nimport { faHourglassHalf } from '@fortawesome/free-solid-svg-icons';\r\nimport dateFormat from 'dateformat';\r\nimport { Button } from '@material-ui/core';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport PersonAddIcon from '@material-ui/icons/PersonAdd';\r\nimport Icon from '@material-ui/core/Icon';\r\n\r\nimport ValidateStep from './Validation';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  box: {\r\n    backgroundColor : \"#373737\",\r\n    color: \"#fff\",\r\n    padding : \"1px\",\r\n    borderRadius : \"4px\",\r\n    textAlign: \"justify\",\r\n    paddingRight: \"40px\"\r\n  },\r\n\r\n  boxRed: {\r\n    backgroundColor : \"#dc2626\",\r\n    color: \"#fff\",\r\n    padding : \"1px\",\r\n    borderRadius : \"4px\",\r\n    textAlign: \"justify\",\r\n    paddingRight: \"40px\"\r\n  },\r\n\r\n  boxInfo: {\r\n    textAlign: \"justify\",\r\n    backgroundColor : \"#fafafa\",\r\n    color: \"#333\",\r\n    padding : \"1px\",\r\n    borderRadius : \"4px\",\r\n    paddingRight: \"40px\",\r\n    border: \"1px solid #eee\",\r\n  },\r\n\r\n\r\n  \r\n\r\n  ul: {\r\n     listStyle: \"none\",\r\n     padding: \"0\",\r\n     margin: \"0\"\r\n  },\r\n\r\n  li: {\r\n    marginBottom : \"5px\"\r\n  },\r\n\r\n\r\n  icon: {\r\n    marginRight : \"8px\"\r\n  },\r\n\r\n  root: {\r\n    width: '100%',\r\n  },\r\n  heading: {\r\n    fontSize: theme.typography.pxToRem(15),\r\n    flexBasis: '33.33%',\r\n    flexShrink: 0,\r\n    color: theme.palette.text.secondary,\r\n  },\r\n  secondaryHeading: {\r\n    fontSize: theme.typography.pxToRem(15),\r\n  },\r\n\r\n  infoDetails:{\r\n    textAlign: \"left\"\r\n  },\r\n\r\n  infoTitle:{\r\n    fontWeight: \"800\",\r\n    marginRight: \"10px\"\r\n  },\r\n\r\n  infoData:{\r\n    fontWeight: \"400\",\r\n  },\r\n\r\n  title:\r\n  {\r\n    textAlign : \"center\",\r\n    fontWeight : \"500\",\r\n    margin: \"10px\",\r\n    backgroundColor : \"#eee\",\r\n    padding : \"10px\",\r\n    borderRadius : \"4px\"\r\n\r\n  },\r\n\r\n  Accordion:{\r\n    backgroundColor : \"#f5f5f5\",\r\n    color: \"#222\"\r\n  },\r\n\r\n  terms: {\r\n    fontWeight: \"500\",\r\n    textAlign: \"justify\",\r\n    marginTop: \"10px\",\r\n    padding: \"10px\",\r\n  },\r\n\r\n  link:{\r\n    color: \"#dc2626\",\r\n    textDecoration: \"none\",\r\n  },\r\n\r\n  AddAnother:{\r\n    marginTop: \"10px\"\r\n  }\r\n\r\n}));\r\n\r\n\r\nexport default function ReviewForm() {\r\n    const classes = useStyles();\r\n\r\n    const [state, setState] = React.useContext(GlobalState);\r\n\r\n    const [expanded, setExpanded] = React.useState(false);\r\n\r\n    const handleChange = (panel) => (event, isExpanded) => {\r\n      setExpanded(isExpanded ? panel : false);\r\n    };\r\n\r\n    const addAnotherPerson = () => {\r\n\r\n      if (ValidateStep(state, setState, 2) && ValidateStep(state, setState, 3))\r\n      {\r\n\r\n        const personInfo = {\r\n          gender: state.gender,\r\n          title: state.title,\r\n          firstname: state.firstname,\r\n          lastname: state.lastname,\r\n          birthDate: state.birthDate,\r\n          email: state.email,\r\n          phone: state.phone,\r\n          postCode: state.postCode,\r\n          address: state.address,\r\n          notes: state.notes,\r\n          certificate: state.certificate,\r\n          passportNumber: state.passportNumber,\r\n          passportNumber2: state.passportNumber2\r\n        }\r\n          var newPersons = state.persons;\r\n          newPersons.push(personInfo);\r\n          setState(state => ({activeStep: 2, bookingDate: state.bookingDate, \r\n            bookingTime: state.bookingTime,\r\n            persons: newPersons\r\n          }));       \r\n      }else {\r\n        setState(state => ({...state, activeStep : 2 }));\r\n      }\r\n\r\n  }\r\n  \r\n   \r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Typography variant=\"h6\" gutterBottom>\r\n        Review Your Data\r\n      </Typography>\r\n\r\n      <Grid container direction=\"column\" spacing={1} justify=\"flex-start\"  alignItems=\"stretch\">\r\n          <Grid item xs={12} md={12}>\r\n            <div className={classes.box}>\r\n              <ul className={classes.ul}>\r\n                <li className={classes.li}>\r\n                <FontAwesomeIcon icon={faCalendarAlt} className={classes.icon} />\r\n                    {dateFormat(new Date(state.bookingDate),'dd-mmmm-yyyy')}\r\n                </li>\r\n                <li className={classes.li}>\r\n                <FontAwesomeIcon icon={faHourglassHalf} className={classes.icon} />\r\n                   Check-up Duration: 30 minutes\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </Grid> \r\n\r\n          <Grid item xs={12} md={12}>\r\n            <div className={classes.box}>\r\n              <ul className={classes.ul}>\r\n                <li className={classes.li}>\r\n                <FontAwesomeIcon icon={faClock} className={classes.icon} />\r\n                   Time: {state.bookingTime}\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </Grid> \r\n\r\n          <Grid item xs={12} md={12}>\r\n            <div className={classes.box}>\r\n              <ul className={classes.ul}>\r\n                <li className={classes.li}>\r\n                    Package : In-Clinic Test\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </Grid> \r\n\r\n          <Grid item xs={12} md={12}>\r\n            <div className={classes.box}>\r\n              <ul className={classes.ul}>\r\n                <li className={classes.li}>\r\n                   Price : £199 (each person)\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </Grid> \r\n\r\n          <Grid item xs={12} md={12}>\r\n            <div className={classes.box}>\r\n              <ul className={classes.ul}>\r\n                <li className={classes.li}>\r\n                 This time slot is not guaranteed, due to nature of healthcare there might be slight delay to your appointment.\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </Grid> \r\n          \r\n          <Grid item xs={12} md={12}>\r\n            <div className={classes.boxRed}>\r\n              <ul className={classes.ul}>\r\n                <li className={classes.li}>\r\n                During the coronavirus pandemic, we must confirm appointments in order to maintain social distancing, \r\n                we will email you to confirm your booking if your selected time is possible.\r\n                 If not, we will contact you with the nearest availability to your request. \r\n                 Thank you for understanding.\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </Grid> \r\n\r\n          <span className={classes.title}> Appointment is for the following people :</span>\r\n\r\n          {state.persons.map((person,index) => (\r\n   \r\n                  <Grid item xs={12} md={12}>\r\n                  <div className={classes.root}>\r\n                      <Accordion className={classes.Accordion} expanded={expanded === `panel${index}`} onChange={handleChange(`panel${index}`)}>\r\n                      <AccordionSummary\r\n                          expandIcon={<ExpandMoreIcon />}\r\n                          aria-controls=\"panel1bh-content\"\r\n                          id={`panel${index}bh-header`}\r\n                      >\r\n                          <Typography className={classes.heading}> {`#${index+1}`} </Typography>\r\n                          <Typography className={classes.secondaryHeading}>\r\n                          {`${person.firstname} ${person.lastname}`}\r\n                          </Typography>\r\n                      </AccordionSummary>\r\n                      <AccordionDetails className={classes.infoDetails}>\r\n                          \r\n                          <ul className={classes.ul}>\r\n                              <li className={classes.li}>\r\n                              <span className={classes.infoTitle}>Gender</span> <span className={classes.infoData}>{person.gender}</span>   \r\n                              </li>\r\n                              <li className={classes.li}>\r\n                              <span className={classes.infoTitle}>Title</span>  <span className={classes.infoData}>{person.title}</span>   \r\n                              </li>\r\n                              <li className={classes.li}>\r\n                              <span className={classes.infoTitle}>Forename</span> <span className={classes.infoData}>{person.firstname}</span>   \r\n                              </li>\r\n                              <li className={classes.li}>\r\n                                  <span className={classes.infoTitle}>Surname</span> <span className={classes.infoData}>{person.lastname}</span>   \r\n                              </li>\r\n                              <li className={classes.li}>\r\n                                  <span className={classes.infoTitle}>Email</span> <span className={classes.infoData}>{person.email}</span>   \r\n                              </li>\r\n                              <li className={classes.li}>\r\n                                  <span className={classes.infoTitle}>D.O.B</span> <span className={classes.infoData}>{dateFormat(new Date(person.birthDate),'dd mmm yyyy') }</span>  \r\n                              </li>\r\n                              <li className={classes.li}>\r\n                                  <span className={classes.infoTitle}>Telephone</span> <span className={classes.infoData}>{person.phone}</span>  \r\n                              </li>\r\n                              <li className={classes.li}>\r\n                                  <span className={classes.infoTitle}>Post Code</span> <span className={classes.infoData}>{person.postCode}</span>  \r\n                              </li>\r\n                              <li className={classes.li}>\r\n                                  <span className={classes.infoTitle}>Address</span> <span className={classes.infoData}>{person.address}</span>  \r\n                              </li>\r\n                              <li className={classes.li}>\r\n                                  <span className={classes.infoTitle}>Notes</span> <span className={classes.infoData}>{person.notes ?? 'N/A'}</span>  \r\n                              </li>\r\n                              <li className={classes.li}>\r\n                                  <span className={classes.infoTitle}>Passport No.</span> <span className={classes.infoData}>{person.passportNumber ?? 'N/A'}</span>  \r\n                              </li>\r\n                              <li className={classes.li} hidden={!person.passportNumber2 || person.passportNumber2.length === 0}>\r\n                                <span className={classes.infoTitle}>Second Passport No.</span> <span className={classes.infoData}>{person.passportNumber2 ?? 'N/A'}</span>  \r\n                            </li>\r\n                          </ul>\r\n                          \r\n                          </AccordionDetails>\r\n                          </Accordion>\r\n                      </div>\r\n                    </Grid> \r\n                    ))}\r\n\r\n            { (!state.proceedToSubmit) && \r\n                      <Grid item xs={12} md={12}>\r\n                      <div className={classes.root}>\r\n                          <Accordion className={classes.Accordion} expanded={expanded === 'panel10'} onChange={handleChange('panel10')}>\r\n                            <AccordionSummary\r\n                              expandIcon={<ExpandMoreIcon />}\r\n                              aria-controls=\"panel10bh-content\"\r\n                              id=\"panel10bh-header\"\r\n                            >\r\n                              <Typography className={classes.heading}> {`#${state.persons.length + 1}`} </Typography>\r\n                              <Typography className={classes.secondaryHeading}>\r\n                                {`${state.firstname} ${state.lastname}`}\r\n                              </Typography>\r\n                            </AccordionSummary>\r\n                            <AccordionDetails className={classes.infoDetails}>\r\n                              \r\n                                <ul className={classes.ul}>\r\n                                  <li className={classes.li}>\r\n                                    <span className={classes.infoTitle}>Gender</span> <span className={classes.infoData}>{state.gender}</span>   \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                    <span className={classes.infoTitle}>Title</span>  <span className={classes.infoData}>{state.title}</span>   \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                    <span className={classes.infoTitle}>Forename</span> <span className={classes.infoData}>{state.firstname}</span>   \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                     <span className={classes.infoTitle}>Surname</span> <span className={classes.infoData}>{state.lastname}</span>   \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                     <span className={classes.infoTitle}>Email</span> <span className={classes.infoData}>{state.email}</span>   \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                     <span className={classes.infoTitle}>D.O.B</span> <span className={classes.infoData}>{dateFormat(new Date(state.birthDate),'dd mmm yyyy') }</span>  \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                     <span className={classes.infoTitle}>Telephone</span> <span className={classes.infoData}>{state.phone}</span>  \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                     <span className={classes.infoTitle}>Post Code</span> <span className={classes.infoData}>{state.postCode}</span>  \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                     <span className={classes.infoTitle}>Address</span> <span className={classes.infoData}>{state.address}</span>  \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                     <span className={classes.infoTitle}>Notes</span> <span className={classes.infoData}>{state.notes ?? 'N/A'}</span>  \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                     <span className={classes.infoTitle}>Passport No.</span> <span className={classes.infoData}>{state.passportNumber ?? 'N/A'}</span>  \r\n                                  </li>\r\n                                  <li className={classes.li} hidden={!state.passportNumber2 || state.passportNumber2.length === 0}>\r\n                                      <span className={classes.infoTitle}>Second Passport No.</span> <span className={classes.infoData}>{state.passportNumber2 ?? 'N/A'}</span>  \r\n                                  </li>\r\n                                  \r\n                                </ul>\r\n                              \r\n                            </AccordionDetails>\r\n                          </Accordion>\r\n                        </div>\r\n                  </Grid> \r\n               }\r\n                  {(!state.persons || (state.persons && state.persons.length < 4)) && (\r\n\r\n                    <div className={classes.AddAnother}>\r\n                          <Button \r\n                                  // variant=\"outlined\"\r\n                                  startIcon={<PersonAddIcon />}\r\n                                  color=\"primary\"\r\n                                  onTouchTap = {addAnotherPerson} \r\n                                  onClick={addAnotherPerson} className={classes.button}>\r\n                            Add Another Person\r\n                          </Button>\r\n                    </div>\r\n \r\n                  )}\r\n        \r\n        <div className={classes.terms}>\r\n            By clicking on submit button you are agreeing with our <a className={classes.link} href=\"#\">terms and condition.</a> \r\n        </div>\r\n\r\n    \r\n      </Grid>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport GlobalState from './GlobalState';\r\nimport PersonsBox from './PersonsBox';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    formControl: {\r\n      textAlign: \"justify\",\r\n    },\r\n\r\n    FormTitle:\r\n    {\r\n      marginTop : \"20px\",\r\n      marginBottom : \"20px\",\r\n    }\r\n\r\n  }));\r\n\r\nexport default function AddressForm() {\r\n    const classes = useStyles();\r\n    const [state, setState] = React.useContext(GlobalState);\r\n \r\n    const [phone, setPhone] = React.useState(state.phone ?? '');\r\n    const [postCode, setPostCode] = React.useState(state.postCode ?? '');\r\n    const [address, setAddress] = React.useState(state.address ?? '');\r\n    const [notes, setNotes] = React.useState(state.notes ?? '');\r\n    const [passportNumber, setPassportNumber] = React.useState(state.passportNumber ?? '');\r\n    const [passportNumber2, setPassportNumber2] = React.useState(state.passportNumber2 ?? '');\r\n\r\n\r\n    const [certificate, setCertificate] = React.useState(state.certificate ?? false);\r\n\r\n\r\n    const certificateChanged = (event) => {\r\n            setCertificate(event.target.checked);\r\n            setState(state => ({...state, certificate: event.target.checked}));\r\n        };\r\n\r\n\r\n\r\n    const phoneChanged = (event) =>\r\n    {\r\n        setPhone(event.target.value);\r\n        setState(state => ({...state, phone : event.target.value }));\r\n        if (event.target.value && event.target.value.trim().length >= 6)\r\n        {\r\n          setState(state => ({...state, phoneError : false}));\r\n        } \r\n    }\r\n\r\n    const postCodeChanged = (event) =>\r\n    {\r\n        setPostCode(event.target.value);\r\n        setState(state => ({...state, postCode : event.target.value }));\r\n        if (event.target.value && event.target.value.trim().length >= 5)\r\n        {\r\n          setState(state => ({...state, postCodeError : false}));\r\n        }\r\n    }\r\n\r\n    const addressChanged = (event) =>\r\n    {\r\n        setAddress(event.target.value);\r\n        setState(state => ({...state, address : event.target.value }));\r\n        if (event.target.value && event.target.value.trim().length >= 10)\r\n        {\r\n          setState(state => ({...state, addressError : false}));\r\n        }\r\n    }\r\n\r\n    const notesChanged = (event) =>\r\n    {\r\n        setNotes(event.target.value);\r\n        setState(state => ({...state, notes : event.target.value }));\r\n    }\r\n\r\n    const passportNumberChanged = (event) =>\r\n    {\r\n        setPassportNumber(event.target.value);\r\n        setState(state => ({...state, passportNumber : event.target.value }));\r\n        if (event.target.value && event.target.value.trim().length >= 6)\r\n        {\r\n          setState(state => ({...state, passportNumberError : false}));\r\n        }\r\n    }\r\n\r\n    const passportNumberChanged2 = (event) =>\r\n    {\r\n        setPassportNumber2(event.target.value);\r\n        setState(state => ({...state, passportNumber2 : event.target.value}));\r\n    }\r\n\r\n\r\n  return (\r\n    <React.Fragment>\r\n\r\n      <PersonsBox/>\r\n\r\n      {state.persons.length === 0 &&\r\n          <Typography className={classes.FormTitle} variant=\"h6\" gutterBottom>\r\n              Fill Your Address Info\r\n          </Typography>\r\n       }\r\n\r\n      {state.persons.length > 0 &&\r\n            <Typography className={classes.FormTitle} variant=\"h6\" gutterBottom>\r\n                Fill Address Info\r\n            </Typography>\r\n      }\r\n\r\n\r\n  \r\n\r\n      <Grid container spacing={3} alignItems=\"baseline\">\r\n        <Grid item xs={12} md={6}>\r\n             <TextField \r\n                        error={state.phoneError ? true : false}\r\n                        required id=\"phone\" label=\"Phone Number\" \r\n                        fullWidth autoComplete=\"tel\" \r\n                        value = {phone}\r\n                        onChange = {phoneChanged} \r\n             />  \r\n        </Grid>\r\n        <Grid item xs={12} md={6}>\r\n             <TextField \r\n                        error={state.postCodeError ? true : false}\r\n                        required id=\"postCode\" label=\"Postal Code\" \r\n                        fullWidth autoComplete=\"postal-code\"\r\n                        value = {postCode}\r\n                        onChange = {postCodeChanged} \r\n             />  \r\n        </Grid>\r\n        <Grid item xs={12}>\r\n             <TextField \r\n                        error={state.addressError ? true : false}\r\n                        required id=\"address\" label=\"Address\" \r\n                        multiline rowsMax={2} \r\n                        fullWidth autoComplete=\"street-address\" \r\n                        value = {address}\r\n                        onChange = {addressChanged} \r\n             />  \r\n        </Grid>\r\n        <Grid item xs={12}>\r\n             <TextField \r\n                placeholder={`Must include flight date & flight time also If there's anything you want to tell the doctor beforehand, enter it here`} \r\n                id=\"notes\"\r\n                label=\"Notes (optional)\" \r\n                helperText={`MUST include flight date & flight time`} \r\n                multiline rowsMax={2} rows={2} fullWidth autoComplete=\"\"\r\n                value = {notes}\r\n                onChange = {notesChanged} \r\n            />  \r\n        </Grid>\r\n        <Grid item xs={12} className={classes.formControl} >\r\n          <FormControlLabel className={classes.formControl} \r\n            control={<Checkbox className={classes.formControl}  color=\"secondary\" name=\"certificate\" checked={certificate} onChange={certificateChanged} />}\r\n             label={<span style={{ fontSize: '0.8rem' }}>{`I also require a medical certificate signed by a doctor declaring me 'fit-to-fly'.`} </span>}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={12} hidden={!certificate} >\r\n             <TextField \r\n                        error={state.passportNumberError ? true : false}\r\n                        required id=\"passport\" label=\"Passport Number\" \r\n                        helperText=\"your passport number will be noted on your certificate\" \r\n                        fullWidth autoComplete=\"\" \r\n                        value = {passportNumber}\r\n                        onChange = {passportNumberChanged} \r\n             />  \r\n        </Grid>\r\n        <Grid item xs={12} hidden={!certificate} >\r\n             <TextField \r\n                        // error={state.passportNumberError ? true : false}\r\n                        id=\"passport2\" label=\"Second Passport Number (optional)\" \r\n                        helperText=\"your passport number will be noted on your certificate\" \r\n                        fullWidth autoComplete=\"\" \r\n                        value = {passportNumber2}\r\n                        onChange = {passportNumberChanged2} \r\n             />  \r\n        </Grid>\r\n      </Grid>\r\n    \r\n      \r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\n","import API from './api';\r\n\r\nexport default class BookService {\r\n\r\n    static bookAppointment = (payload) =>\r\n    {\r\n       return API.post('/api/book/bookappointment', payload);\r\n    }\r\n\r\n    static getNewReference = () =>\r\n    {\r\n        return API.get('/api/book/getnewreference');\r\n    }\r\n\r\n}","import { withStyles } from \"@material-ui/core/styles\";\r\nimport MobileStepper from \"@material-ui/core/MobileStepper\";\r\n\r\nconst StyledMobileStepper = withStyles({\r\n  root: {\r\n    maxWidth: \"100%\",\r\n    flexGrow: 1\r\n  },\r\n  progress: {\r\n    width: \"100%\"\r\n  }\r\n})(MobileStepper);\r\n\r\nexport default StyledMobileStepper;","export default __webpack_public_path__ + \"static/media/ok.c105a1fa.png\";","import React from 'react';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Stepper from '@material-ui/core/Stepper';\r\nimport Step from '@material-ui/core/Step';\r\nimport StepLabel from '@material-ui/core/StepLabel';\r\nimport Button from '@material-ui/core/Button';\r\nimport Link from '@material-ui/core/Link';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport DateForm from './DateForm';\r\nimport TimeForm from './TimeForm';\r\nimport InformationForm from './InformationForm';\r\nimport ReviewForm from './ReviewForm';\r\nimport GlobalState from './GlobalState';\r\nimport AddressForm from './AddressForm';\r\nimport BookService from './services/BookService';\r\n\r\nimport {BrowserView, MobileView} from 'react-device-detect';\r\n\r\nimport ValidateStep from './Validation';\r\n\r\n\r\nimport MobileStepper from './MobileStepper';\r\nimport doneImage from './images/ok.png';\r\n\r\n\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright © '}\r\n      {new Date().getFullYear()}\r\n      {' '}\r\n      <Link color=\"inherit\" href=\"https://www.blood.london/\">\r\n            Blood.London. \r\n      </Link>{' '}\r\n     \r\n      All rights reserved\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  appBar: {\r\n    position: 'relative',\r\n    backgroundColor: \"#333\",\r\n    color: \"#fff\",\r\n    alignItems: 'center'\r\n\r\n  },\r\n\r\n  logo: {\r\n    maxWidth: 160,\r\n  },\r\n  layout: {\r\n    width: 'auto',\r\n    marginLeft: theme.spacing(2),\r\n    marginRight: theme.spacing(2),\r\n    [theme.breakpoints.up(600 + theme.spacing(2) * 2)]: {\r\n      width: 600,\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n    },\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(1),\r\n    marginBottom: theme.spacing(3),\r\n    padding: theme.spacing(1),\r\n    [theme.breakpoints.up(600 + theme.spacing(3) * 2)]: {\r\n      marginTop: theme.spacing(6),\r\n      marginBottom: theme.spacing(6),\r\n      padding: theme.spacing(3),\r\n    },\r\n  },\r\n  stepper: {\r\n    padding: theme.spacing(3, 0, 5),\r\n  },\r\n  buttons: {\r\n    display: 'flex',\r\n    justifyContent: 'flex-end',\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing(3),\r\n    marginLeft: theme.spacing(1),\r\n  },\r\n\r\n  bold: {\r\n    fontWeight: \"800\",\r\n    padding: \"5px\"\r\n  },\r\n\r\n  doneImage: {\r\n    width: \"240px\",\r\n    height: \"150px\",\r\n    margin: \"20px\"\r\n  }\r\n\r\n}));\r\n\r\nconst steps = ['Appoinment Date', 'Appoinment Time', 'Basic Info', 'Address Info' ,'Review'];\r\n\r\nfunction getStepContent(step) {\r\n  switch (step) {\r\n    case 0:\r\n      return <DateForm />;\r\n    case 1:\r\n      return <TimeForm />;\r\n    case 2:\r\n      return <InformationForm />;\r\n    case 3:\r\n      return <AddressForm />;\r\n    case 4:\r\n        return <ReviewForm />;\r\n    default:\r\n      throw new Error('Unknown step');\r\n  }\r\n}\r\n\r\n\r\n\r\nexport default function Checkout() {\r\n  const [state, setState] = React.useContext(GlobalState);\r\n  const classes = useStyles();\r\n\r\n // const [activeStep, setActiveStep] = React.useState(0);\r\n \r\n const setActiveStep = (step) => {\r\n  setState(state => ({...state, activeStep : step}));\r\n }\r\n\r\n  const [submiting, setSubmiting] = React.useState(false);\r\n\r\n\r\n  const maxSteps = steps.length;\r\n\r\n\r\n\r\n  \r\n\r\n  const submitForm = () =>\r\n  {\r\n    var promiseArray = [];\r\n\r\n    BookService.getNewReference().then( (res) => {\r\n\r\n      const ref = res.data.ref;\r\n\r\n      setState(state => ({...state, ref: ref}));\r\n\r\n      if (!state.proceedToSubmit)\r\n      {\r\n        const personInfo = {\r\n          gender: state.gender,\r\n          title: state.title,\r\n          firstname: state.firstname,\r\n          lastname: state.lastname,\r\n          birthDate: state.birthDate,\r\n          email: state.email,\r\n          phone: state.phone,\r\n          postCode: state.postCode,\r\n          address: state.address,\r\n          notes: state.notes,\r\n          certificate: state.certificate,\r\n          passportNumber: state.passportNumber,\r\n          passportNumber2: state.passportNumber2\r\n        };\r\n    \r\n        const promise = BookService.bookAppointment({...personInfo, bookingDate: state.bookingDate, bookingTime: state.bookingTime, bookingRef: ref});\r\n        promiseArray.push(promise);\r\n      }\r\n  \r\n  \r\n  \r\n      state.persons.forEach((person) => {\r\n        promiseArray.push(BookService.bookAppointment({...person,bookingDate: state.bookingDate, bookingTime: state.bookingTime, bookingRef: ref }));\r\n      });\r\n      \r\n      Promise.all(promiseArray).then( (values) => {\r\n        setSubmiting(false);\r\n        setActiveStep(state.activeStep + 1);\r\n  \r\n      }).catch( (err) =>\r\n      {\r\n        console.log(err);\r\n        setSubmiting(false);\r\n      });\r\n\r\n    }).catch( (err) =>\r\n    {\r\n      console.log(err);\r\n      setSubmiting(false);\r\n    });;\r\n  }\r\n\r\n  const proceedToSubmit = () =>\r\n  {\r\n    setState(state => ({...state, proceedToSubmit: true}));\r\n    setActiveStep(4);\r\n  }\r\n\r\n\r\n  const handleNext = () => {\r\n\r\n    if (state.activeStep === 4)\r\n    {\r\n      setSubmiting(true);\r\n      submitForm();\r\n\r\n    }else if (ValidateStep(state, setState, state.activeStep)) {\r\n    \r\n        setActiveStep(state.activeStep + 1);\r\n    }\r\n  };\r\n\r\n  const handleBack = () => {\r\n    setActiveStep(state.activeStep - 1);\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <CssBaseline />\r\n      <AppBar position=\"absolute\" color=\"default\" className={classes.appBar}>\r\n        <Toolbar>\r\n            {/* <img src=\"logo.png\" alt=\"logo\" className={classes.logo} /> */}\r\n          <Typography variant=\"h6\" color=\"inherit\" noWrap>\r\n                 Medical Express Clinic\r\n          </Typography>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <main className={classes.layout}>\r\n        <Paper className={classes.paper}>\r\n          <Typography component=\"h1\" variant=\"h6\" align=\"center\">\r\n                Book Appointment Online\r\n          </Typography>\r\n\r\n      \r\n\r\n          <React.Fragment>\r\n              {state.activeStep < steps.length ? (\r\n                  <React.Fragment>\r\n                        <BrowserView>\r\n                                <Stepper activeStep={state.activeStep} className={classes.stepper}>\r\n                                    {steps.map((label) => (\r\n                                    <Step key={label}>\r\n                                        <StepLabel>{label}</StepLabel>\r\n                                    </Step>\r\n                                    ))}\r\n                                </Stepper>\r\n                        </BrowserView>\r\n\r\n                        <MobileView>\r\n                                    <MobileStepper \r\n                                            steps={maxSteps}\r\n                                            position=\"static\"\r\n                                            variant=\"progress\"\r\n                                            \r\n                                            activeStep={state.activeStep}\r\n                                    />\r\n                        </MobileView>  \r\n                  </React.Fragment>\r\n              ) : (\r\n                  <React.Fragment>\r\n\r\n                      \r\n                  </React.Fragment>\r\n              )}\r\n          </React.Fragment>                  \r\n\r\n          {/* <PersonsBox/> */}\r\n\r\n          <React.Fragment>\r\n            {state.activeStep === steps.length ? (\r\n              <React.Fragment>\r\n\r\n                <img className={classes.doneImage} src={doneImage} alt=\"Done image\"/>\r\n\r\n                <Typography variant=\"h5\" gutterBottom>\r\n                  Thank you for your Booking.\r\n                </Typography>\r\n                <br/>\r\n                <Typography variant=\"subtitle1\">\r\n                  Your booking number is <span className={classes.bold}>{`\"${state.ref}\"`}</span> . We have emailed your booking information, and will look forward to meet you at the clinic. \r\n                </Typography>\r\n              </React.Fragment>\r\n            ) : (\r\n              <React.Fragment>\r\n                {getStepContent(state.activeStep)}\r\n                <div className={classes.buttons}>\r\n                  {state.activeStep !== 0 && (\r\n                    <Button disabled={submiting} onClick={handleBack} onTouchTap = {handleBack}  className={classes.button}>\r\n                      Back\r\n                    </Button>\r\n                  )}\r\n\r\n                  {((state.activeStep === 2 || state.activeStep === 3 ) && state.persons && state.persons.length >= 1) && (\r\n                    <Button \r\n                            // variant=\"contained\"\r\n                            color=\"secondary\"\r\n                            onTouchTap = {proceedToSubmit} \r\n                            onClick={proceedToSubmit} className={classes.button}>\r\n                      Skip to Submit\r\n                    </Button>\r\n                  )}\r\n\r\n                  <Button\r\n                    disabled={submiting} \r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    onTouchTap = {handleNext} \r\n                    onClick={handleNext}\r\n                    className={classes.button}\r\n                  >\r\n                    {state.activeStep === steps.length - 1 ? 'Submit' : 'Next'}\r\n                  </Button>\r\n                  \r\n\r\n\r\n\r\n\r\n                </div>\r\n              </React.Fragment>\r\n            )}\r\n          </React.Fragment>\r\n        </Paper>\r\n        <Copyright />\r\n      </main>\r\n    </React.Fragment>\r\n  );\r\n}","import './App.css';\nimport Checkout from './checkout';\nimport GlobalState from './GlobalState'; \nimport React from 'react';\n\nfunction App() {\n  const [state, setState] = React.useState({activeStep : 0, bookingDate: new Date(), persons: []});\n  return (\n    <GlobalState.Provider value={[state, setState]}>\n      <div className=\"App\">\n        <Checkout> </Checkout>\n      </div>\n    </GlobalState.Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n// import reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"],"sourceRoot":""}