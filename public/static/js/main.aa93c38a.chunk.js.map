{"version":3,"sources":["GlobalState.js","services/api.js","services/TimeService.js","DateForm.js","TimeForm.js","PersonsBox.js","AntiBodyComponent.js","InformationForm.js","Validation.js","ReviewForm.js","AddressForm.js","services/BookService.js","MobileStepper.js","images/logo.png","images/ok.png","images/error.png","ResultsForm.js","checkout.js","WelcomeForm.js","AgreementForm.js","App.js","index.js","PriceCalculator.js"],"names":["GlobalState","React","createContext","axios","create","baseURL","headers","TimeService","getFirstAvailableDate","API","get","getFullyBookedDates","getTimeSlots","date","useStyles","makeStyles","theme","loadingBox","DateForm","useContext","state","setState","useState","bookingDate","Date","handleDateChange","firstAvailableDay","setFirstAvailableDay","fullyBookedDays","setFullyBookedDays","dataLoaded","setDataLoaded","useEffect","promise1","promise2","Promise","all","then","values","data","catch","err","console","log","LoadData","dateChanged","checkFullyBooked","result","setHours","length","i","Fragment","Typography","variant","gutterBottom","Grid","container","direction","justify","alignItems","utils","DateFnsUtils","DatePicker","autoOk","disablePast","openTo","orientation","fullWidth","value","onChange","shouldDisableDate","Skeleton","width","height","timeSlots","root","display","flexWrap","justifyContent","overflow","backgroundColor","palette","background","paper","gridList","box","border","margin","padding","color","cursor","boxMobile","boxSelected","boxDisable","TimeForm","classes","bookingTime","setTime","emptyTimeSlots","push","callback","boxClicked","key","className","GridList","cellHeight","cols","map","timeSlot","GridListTile","onClick","available","time","borderRadius","textAlign","paddingRight","boxRed","boxInfo","ul","listStyle","li","marginBottom","icon","marginRight","heading","fontSize","typography","pxToRem","flexBasis","flexShrink","text","secondary","secondaryHeading","infoDetails","infoTitle","fontWeight","infoData","title","marginLeft","Accordion","PersonsBox","expanded","setExpanded","spacing","persons","person","index","panel","item","xs","md","event","isExpanded","AccordionSummary","expandIcon","aria-controls","id","firstname","lastname","AccordionDetails","gender","email","dateFormat","birthDate","phone","postCode","address","passportNumber","hidden","passportNumber2","certificate","antiBodyTest","calculatePrice","formControl","Box","boxShadow","marginTop","Label","CheckBox","AntiBodyComponent","antiBodyCheck","setAntiBodyCheck","FormControlLabel","control","Checkbox","name","checked","target","label","style","textDecoration","FormTitle","InformationForm","handleBirthDateChange","setFirstname","setLastname","setEmail","retypeEmail","setRetypeEmail","setGender","setTitle","emailConfirmed","setEmailConfirmed","FormControl","required","InputLabel","Select","error","genderError","labelId","MenuItem","titleError","TextField","firstnameError","autoComplete","trim","lastnameError","birthDateError","format","disableFuture","InputAdornmentProps","position","helperText","emailError","type","EmailValidator","retypeEmailError","emailConfirmedError","ValidateStep","step","bookingTimeError","phoneError","postCodeError","addressError","passportNumberError","proceedToSubmit","terms","link","AddAnother","ReviewForm","totalPrice","setTotalPrice","total","calculateTotalPrice","handleChange","addAnotherPerson","personInfo","notes","newPersons","activeStep","getStarted","agreed","Button","startIcon","onTouchTap","button","faCalendarAlt","faHourglassHalf","faClock","href","dataConfirmedError","dataConfirmed","AddressForm","sameAddress","setSameAddress","setPhone","setPostCode","setAddress","setNotes","setPassportNumber","setPassportNumber2","setCertificate","disabled","multiline","rowsMax","placeholder","rows","paddingTop","BookService","bookAppointment","payload","post","getNewReference","StyledMobileStepper","withStyles","maxWidth","flexGrow","progress","MobileStepper","bold","doneImage","errorImage","ResultsForm","finalResults","AllError","results","status","src","alt","ref","dateformat","Alert","severity","forename","surname","Copyright","align","getFullYear","Link","isMobile","appBar","logo","layout","breakpoints","up","stepper","buttons","logoImage","privacyButton","backdrop","zIndex","drawer","steps","getStepContent","Error","Checkout","open","setOpen","scroll","setScroll","handleClickOpen","scrollType","handleClose","descriptionElementRef","useRef","descriptionElement","current","focus","setActiveStep","submiting","setSubmiting","maxSteps","handleNext","promiseArray","res","promise","bookingRef","referrer","window","location","pathname","errs","submitForm","handleBack","CssBaseline","AppBar","Toolbar","noWrap","Paper","component","Stepper","Step","StepLabel","Dialog","onClose","aria-labelledby","aria-describedby","DialogTitle","DialogContent","dividers","DialogContentText","tabIndex","DialogActions","Backdrop","CircularProgress","textContent","paddingLeft","lineHeight","textContentMobile","getStartedButton","AirIcon","WelcomeForm","getStartedClicked","AgreementForm","check","setCheck","setError","check1","check2","check3","check4","checkClicked","backButtonClicked","getAgreeClicked","App","Provider","ReactDOM","render","StrictMode","document","getElementById","price","module","exports"],"mappings":"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","file":"static/js/main.aa93c38a.chunk.js","sourcesContent":["import React from 'react'; \r\nconst GlobalState = React.createContext([{}, () => {}]); \r\nexport default GlobalState;","import axios from 'axios';\r\n\r\nexport default axios.create({\r\n  //  baseURL: 'http://localhost:9090',\r\n  baseURL: 'https://www.travelpcrtest.com/',\r\n  headers : {\r\n      'Authorization' : 'Basic QXp1cmXEaWFtb45kOmh1bnRlcjO='\r\n  }\r\n});","import TimeSlot from './../models/TimeSlot';\r\nimport API from './api';\r\n\r\nexport default class TimeService{\r\n\r\n     static getFirstAvailableDate =  () =>\r\n    {\r\n        return API.get('/api/time/getfirstavaiabledate');\r\n    }\r\n\r\n    // static dayIsBooked =  (date) =>\r\n    // {\r\n    //    /// check if this date is booked or not\r\n    //    return new Promise( (resolve, reject) =>\r\n    //    {\r\n    //         setTimeout(() => {\r\n    //             resolve(false);\r\n    //         }, 1000);\r\n    //    });\r\n    // }\r\n\r\n    static getFullyBookedDates = () =>\r\n    {        \r\n       return API.get('/api/time/getfullybookeddays');\r\n    }\r\n\r\n    static getTimeSlots = (date) =>\r\n    {\r\n        return API.get(`/api/time/gettimeslots?date=${date}`);\r\n    }\r\n\r\n\r\n}","import React, { useEffect } from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport {\r\n    DatePicker,\r\n    MuiPickersUtilsProvider\r\n  } from '@material-ui/pickers';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport GlobalState from './GlobalState';\r\nimport {BrowserView, MobileView} from 'react-device-detect';\r\n\r\nimport TimeService from './services/TimeService';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Skeleton from '@material-ui/lab/Skeleton';\r\n\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n  loadingBox: {\r\n    \r\n  }\r\n\r\n}));\r\n\r\n\r\n\r\n\r\nexport default function DateForm() {\r\n   const classes = useStyles();\r\n\r\n    const [state, setState] = React.useContext(GlobalState);\r\n    const [bookingDate, handleDateChange] = React.useState(state.bookingDate ?? new Date());\r\n\r\n    const [firstAvailableDay, setFirstAvailableDay] = React.useState(new Date());\r\n    const [fullyBookedDays, setFullyBookedDays] = React.useState(null);\r\n\r\n    const [dataLoaded, setDataLoaded] =  React.useState(false);\r\n\r\n    const LoadData = () => {\r\n\r\n      const promise1 = TimeService.getFirstAvailableDate();\r\n      const promise2 = TimeService.getFullyBookedDates();\r\n\r\n      Promise.all([promise1, promise2]).then( (values) => {\r\n\r\n        setFirstAvailableDay(new Date((values[0].data).date));\r\n        setFullyBookedDays(values[1].data);\r\n\r\n        setDataLoaded(true);\r\n\r\n      }).catch( (err) =>\r\n      {\r\n        console.log(err);\r\n      });\r\n}\r\n\r\n\r\n\r\n    useEffect(() => {\r\n\r\n      LoadData();\r\n\r\n    },[]);\r\n\r\n    \r\n\r\n    const dateChanged = (date) =>\r\n    {\r\n        handleDateChange(date);\r\n        setState(state => ({...state, bookingDate: date}));\r\n    }\r\n\r\n    const checkFullyBooked = (date) =>\r\n  {\r\n    var result = false;\r\n\r\n    if (date.setHours(0,0,0,0) < firstAvailableDay.setHours(0,0,0,0))\r\n    {\r\n       result = true;\r\n    }\r\n\r\n    else if (fullyBookedDays && fullyBookedDays.length > 0)\r\n    {\r\n     \r\n\r\n      for (var i=0 ; i < fullyBookedDays.length ; i++ )\r\n      {\r\n        if (new Date(fullyBookedDays[i]).setHours(0,0,0,0) === date.setHours(0,0,0,0))\r\n        {\r\n          result = true;\r\n        }\r\n      }\r\n\r\n      return result;\r\n    }\r\n    else\r\n    {\r\n      return false;\r\n    }\r\n}\r\n\r\n  return (\r\n\r\n    <React.Fragment>\r\n               \r\n                <Typography variant=\"h6\" gutterBottom>\r\n                    Pick a Date\r\n                </Typography>\r\n\r\n        {dataLoaded ?  (\r\n            \r\n                <React.Fragment>\r\n\r\n                <Grid\r\n                  container\r\n                  direction=\"column\"\r\n                  justify=\"center\"\r\n                  alignItems=\"center\"\r\n                  >\r\n\r\n                        <BrowserView>\r\n                            <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n                                    <DatePicker autoOk \r\n                                                disablePast=\"true\" \r\n                                                openTo=\"date\"\r\n                                                orientation=\"landscape\" \r\n                                                variant=\"static\" \r\n                                                fullWidth\r\n                                                value={bookingDate} \r\n                                                onChange={dateChanged} \r\n                                                shouldDisableDate={checkFullyBooked}\r\n                                                />\r\n                            </MuiPickersUtilsProvider>\r\n                        </BrowserView>\r\n\r\n                        <MobileView>\r\n                            <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n                                        <DatePicker autoOk \r\n                                                    disablePast=\"true\" \r\n                                                    openTo=\"date\"\r\n                                                    variant=\"static\" \r\n                                                    fullWidth\r\n                                                    value={bookingDate} \r\n                                                    onChange={dateChanged} \r\n                                                    shouldDisableDate={checkFullyBooked}\r\n                                                    />\r\n                                </MuiPickersUtilsProvider>\r\n                        </MobileView>\r\n                </Grid>\r\n\r\n              </React.Fragment>\r\n              )\r\n            : \r\n            (\r\n            <React.Fragment>\r\n                <Grid\r\n                  container\r\n                  direction=\"column\"\r\n                  justify=\"center\"\r\n                  alignItems=\"center\"\r\n                  >\r\n\r\n                      <Skeleton variant=\"text\" width={'80%'} />\r\n                      <Skeleton variant=\"text\" width={'80%'}  />\r\n                      <Skeleton variant=\"rect\" width={'80%'}  height={220} />\r\n\r\n                  </Grid>\r\n            </React.Fragment>\r\n            )\r\n          }\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\n\r\n\r\n\r\n\r\nfunction EquallDates(date1, date2)\r\n{\r\n   return (\r\n           date1.getFullYear() === date2.getFullYear() &&\r\n           date1.getMonth() === date2.getMonth() &&\r\n           date1.getDate() === date2.getDate()\r\n   );      \r\n}\r\n","import React, { useEffect } from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport GlobalState from './GlobalState';\r\nimport { makeStyles , useTheme} from '@material-ui/core/styles';\r\n\r\nimport GridList from '@material-ui/core/GridList';\r\nimport GridListTile from '@material-ui/core/GridListTile';\r\n\r\nimport TimeService from './services/TimeService';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Skeleton from '@material-ui/lab/Skeleton';\r\n\r\nimport {BrowserView, MobileView} from 'react-device-detect';\r\n\r\n// import Card from '@material-ui/core/Card';\r\n// import CardActions from '@material-ui/core/CardActions';\r\n// import CardContent from '@material-ui/core/CardContent';\r\n// import Button from '@material-ui/core/Button'\r\n// import { Mouse, Satellite } from '@material-ui/icons';\r\n// import { BrowserView } from 'react-device-detect';\r\n\r\nvar timeSlots = null;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    \r\n    root: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        justifyContent: 'space-around',\r\n        overflow: 'hidden',\r\n        backgroundColor: theme.palette.background.paper,\r\n      },\r\n      gridList: {\r\n        // width: 500,\r\n        // height: 450,\r\n      },\r\n\r\n      box: {\r\n        //backgroundColor: \"red\",\r\n        border: \"1px solid #999\",\r\n        margin: \"5px\",\r\n        padding: \"5px\",\r\n        color: \"#555\",\r\n        cursor: \"pointer\",\r\n        \"&:hover\": {\r\n            background: \"green\",\r\n            color: \"#fff\"\r\n          },\r\n      },\r\n\r\n      boxMobile: {\r\n        //backgroundColor: \"red\",\r\n        border: \"1px solid #999\",\r\n        margin: \"5px\",\r\n        padding: \"5px\",\r\n        color: \"#555\",\r\n        cursor: \"pointer\"\r\n      },\r\n\r\n      boxSelected: {\r\n        backgroundColor: \"green\",\r\n        border: \"1px solid #999\",\r\n        margin: \"5px\",\r\n        padding: \"5px\",\r\n        color: \"#fff\",\r\n        cursor: \"pointer\",\r\n      },\r\n\r\n      boxDisable: {\r\n        backgroundColor: \"#999\",\r\n        border: \"1px solid #ddd\",\r\n        margin: \"5px\",\r\n        padding: \"5px\",\r\n        color: \"#fff\"\r\n        \r\n      },\r\n\r\n  }));\r\n\r\n  function LoadData(date, callback){\r\n\r\n    const promise1 = TimeService.getTimeSlots(date);\r\n\r\n    Promise.all([promise1]).then( (values) => {\r\n\r\n      timeSlots = values[0].data;\r\n\r\n      callback(true);\r\n\r\n    }).catch( (err) =>\r\n    {\r\n      console.log(err);\r\n    });\r\n}\r\n\r\nexport default function TimeForm() {\r\n    const classes = useStyles();\r\n    // const theme = useTheme();\r\n\r\n    const [state, setState] = React.useContext(GlobalState);\r\n    const [bookingTime, setTime] = React.useState(state.bookingTime ?? '');\r\n\r\n    const [dataLoaded, setDataLoaded] =  React.useState(false);\r\n\r\n    const emptyTimeSlots = [];\r\n    for (var i=0; i<28; i++)\r\n    {\r\n      emptyTimeSlots.push(i);\r\n    }\r\n\r\n    useEffect(() => {\r\n      LoadData(state.bookingDate, setDataLoaded);\r\n    }, []);\r\n\r\n\r\n\r\n    const boxClicked = (key) =>\r\n    {\r\n        if (key)\r\n        {\r\n            setTime(key);\r\n            setState({...state, bookingTime : key});\r\n        }\r\n\r\n    }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Typography variant=\"h6\" gutterBottom>\r\n        Pick a Time\r\n      </Typography>\r\n\r\n      {dataLoaded ?  (\r\n            \r\n          \r\n\r\n            <React.Fragment>\r\n\r\n              <BrowserView>\r\n                  <div className={classes.root}>\r\n                            <GridList cellHeight={60} className={classes.gridList} cols={4}>\r\n                              {timeSlots.map((timeSlot) => (\r\n                                <GridListTile key={timeSlot.time} cols={1}>\r\n                                  <div \r\n                                      onClick= {() => {timeSlot.available? boxClicked(timeSlot.time) : boxClicked(null)}}\r\n                                      className={(timeSlot.available) ? ((bookingTime === timeSlot.time)? classes.boxSelected : classes.box ): classes.boxDisable}>\r\n                                      {timeSlot.time}\r\n                                  </div>\r\n                                </GridListTile>\r\n                              ))}\r\n                            </GridList>\r\n                  </div>\r\n              \r\n              </BrowserView>\r\n\r\n              <MobileView>\r\n\r\n              <div className={classes.root}>\r\n                            <GridList cellHeight={60} className={classes.gridList} cols={4}>\r\n                              {timeSlots.map((timeSlot) => (\r\n                                <GridListTile key={timeSlot.time} cols={1}>\r\n                                  <div \r\n                                      onClick = {() => {timeSlot.available? boxClicked(timeSlot.time) : boxClicked(null)}}\r\n                                      className={(timeSlot.available) ? ((bookingTime === timeSlot.time)? classes.boxSelected : classes.boxMobile ): classes.boxDisable}>\r\n                                      {timeSlot.time}\r\n                                  </div>\r\n                                </GridListTile>\r\n                              ))}\r\n                            </GridList>\r\n                  </div>\r\n\r\n              </MobileView>\r\n\r\n            </React.Fragment>\r\n      ) : (\r\n        <React.Fragment>\r\n                <Grid\r\n                  container\r\n                  direction=\"column\"\r\n                  justify=\"center\"\r\n                  alignItems=\"center\"\r\n                  >\r\n                      <GridList cellHeight={60} className={classes.gridList} cols={4}>\r\n                          {emptyTimeSlots.map((timeSlot) => (\r\n                            <GridListTile key={timeSlot} cols={1}>\r\n                                 <Skeleton variant=\"rect\" width={120}  height={35} />\r\n                            </GridListTile>\r\n                          ))}\r\n                        </GridList>\r\n                  </Grid>\r\n\r\n    </React.Fragment>\r\n\r\n      ) }\r\n\r\n\r\n\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nconst checkFullyBooked = (time) =>\r\n{\r\n    return false;\r\n}\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport GlobalState from './GlobalState';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Accordion from '@material-ui/core/Accordion';\r\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\r\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport dateFormat from 'dateformat';\r\nimport {calculatePrice} from './PriceCalculator';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  box: {\r\n    backgroundColor : \"#373737\",\r\n    color: \"#fff\",\r\n    padding : \"1px\",\r\n    borderRadius : \"4px\",\r\n    textAlign: \"justify\",\r\n    paddingRight: \"40px\"\r\n  },\r\n\r\n  boxRed: {\r\n    backgroundColor : \"#dc2626\",\r\n    color: \"#fff\",\r\n    padding : \"1px\",\r\n    borderRadius : \"4px\",\r\n    textAlign: \"justify\",\r\n    paddingRight: \"40px\"\r\n  },\r\n\r\n  boxInfo: {\r\n    textAlign: \"justify\",\r\n    backgroundColor : \"#fafafa\",\r\n    color: \"#333\",\r\n    padding : \"1px\",\r\n    borderRadius : \"4px\",\r\n    paddingRight: \"40px\",\r\n    border: \"1px solid #eee\",\r\n  },\r\n\r\n  ul: {\r\n     listStyle: \"none\",\r\n     padding: \"0\",\r\n     margin: \"0\"\r\n  },\r\n\r\n  li: {\r\n    marginBottom : \"5px\"\r\n  },\r\n\r\n\r\n  icon: {\r\n    marginRight : \"8px\"\r\n  },\r\n\r\n  root: {\r\n    width: '100%',\r\n  },\r\n  heading: {\r\n    fontSize: theme.typography.pxToRem(15),\r\n    flexBasis: '33.33%',\r\n    flexShrink: 0,\r\n    color: theme.palette.text.secondary,\r\n  },\r\n  secondaryHeading: {\r\n    fontSize: theme.typography.pxToRem(15),\r\n  },\r\n\r\n  infoDetails:{\r\n    textAlign: \"left\"\r\n  },\r\n\r\n  infoTitle:{\r\n    fontWeight: \"800\",\r\n    marginRight: \"10px\"\r\n  },\r\n\r\n  infoData:{\r\n    fontWeight: \"400\",\r\n  },\r\n\r\n  title:\r\n  {\r\n    // textAlign : \"center\",\r\n    // fontWeight : \"500\",\r\n    // margin: \"10px\",\r\n    // backgroundColor : \"#eee\",\r\n    // padding : \"10px\",\r\n    // borderRadius : \"4px\"\r\n    textAlign: \"left\",\r\n    fontWeight : \"600\",\r\n    marginLeft: \"10px\"\r\n\r\n  },\r\n\r\n  Accordion:{\r\n    backgroundColor : \"#f5f5f5\",\r\n    color: \"#222\"\r\n  }\r\n\r\n}));\r\n\r\n\r\nexport default function PersonsBox() {\r\n    const classes = useStyles();\r\n\r\n    const [state, setState] = React.useContext(GlobalState);\r\n\r\n    const [expanded, setExpanded] = React.useState(false);\r\n\r\n    const handleChange = (panel) => (event, isExpanded) => {\r\n      setExpanded(isExpanded ? panel : false);\r\n    };\r\n\r\n  return (\r\n    <React.Fragment>\r\n    \r\n      \r\n\r\n      <Grid container direction=\"column\" spacing={1} justify=\"flex-start\"  alignItems=\"stretch\">\r\n\r\n        {state.persons && state.persons.length > 0 && (\r\n          \r\n              <span className={classes.title}> Persons added so far :</span>\r\n\r\n        )}\r\n        \r\n\r\n          {state.persons.map((person,index) => (\r\n   \r\n                <Grid item xs={12} md={12}>\r\n                <div className={classes.root}>\r\n                    <Accordion className={classes.Accordion} expanded={expanded === `panel${index}`} onChange={handleChange(`panel${index}`)}>\r\n                    <AccordionSummary\r\n                        expandIcon={<ExpandMoreIcon />}\r\n                        aria-controls=\"panel1bh-content\"\r\n                        id={`panel${index}bh-header`}\r\n                    >\r\n                        <Typography className={classes.heading}> {`#${index+1}`} </Typography>\r\n                        <Typography className={classes.secondaryHeading}>\r\n                        {`${person.firstname} ${person.lastname}`}\r\n                        </Typography>\r\n                    </AccordionSummary>\r\n                    <AccordionDetails className={classes.infoDetails}>\r\n                        \r\n                        <ul className={classes.ul}>\r\n                            <li className={classes.li}>\r\n                            <span className={classes.infoTitle}>Gender</span> <span className={classes.infoData}>{person.gender}</span>   \r\n                            </li>\r\n                            <li className={classes.li}>\r\n                            <span className={classes.infoTitle}>Title</span>  <span className={classes.infoData}>{person.title}</span>   \r\n                            </li>\r\n                            <li className={classes.li}>\r\n                            <span className={classes.infoTitle}>Forename</span> <span className={classes.infoData}>{person.firstname}</span>   \r\n                            </li>\r\n                            <li className={classes.li}>\r\n                                <span className={classes.infoTitle}>Surname</span> <span className={classes.infoData}>{person.lastname}</span>   \r\n                            </li>\r\n                            <li className={classes.li}>\r\n                                <span className={classes.infoTitle}>Email</span> <span className={classes.infoData}>{person.email}</span>   \r\n                            </li>\r\n                            <li className={classes.li}>\r\n                                <span className={classes.infoTitle}>D.O.B</span> <span className={classes.infoData}>{dateFormat(new Date(person.birthDate),'dd mmm yyyy') }</span>  \r\n                            </li>\r\n                            <li className={classes.li}>\r\n                                <span className={classes.infoTitle}>Telephone</span> <span className={classes.infoData}>{person.phone}</span>  \r\n                            </li>\r\n                            <li className={classes.li}>\r\n                                <span className={classes.infoTitle}>Post Code</span> <span className={classes.infoData}>{person.postCode}</span>  \r\n                            </li>\r\n                            <li className={classes.li}>\r\n                                <span className={classes.infoTitle}>Address</span> <span className={classes.infoData}>{person.address}</span>  \r\n                            </li>\r\n                            {/* <li className={classes.li}>\r\n                                <span className={classes.infoTitle}>Notes</span> <span className={classes.infoData}>{person.notes ?? 'N/A'}</span>  \r\n                            </li> */}\r\n                            <li className={classes.li}>\r\n                                <span className={classes.infoTitle}>Passport No.</span> <span className={classes.infoData}>{person.passportNumber ?? 'N/A'}</span>  \r\n                            </li>\r\n                            <li className={classes.li} hidden={!person.passportNumber2 || person.passportNumber2.length === 0}>\r\n                                <span className={classes.infoTitle}>Second Passport No.</span> <span className={classes.infoData}>{person.passportNumber2 ?? 'N/A'}</span>  \r\n                            </li>\r\n\r\n                            <li className={classes.li}>\r\n                                <span className={classes.infoTitle}>Request for Certificate</span> <span className={classes.infoData}>{person.certificate ? 'Yes' : 'No'}</span>  \r\n                            </li>\r\n                            <li className={classes.li}>\r\n                                <span className={classes.infoTitle}>Request for Antibody Test</span> <span className={classes.infoData}>{person.antiBodyTest ? 'Yes' : 'No'}</span>  \r\n                            </li>\r\n\r\n                            <li className={classes.li}>\r\n                                <span className={classes.infoTitle}>Price</span> <span className={classes.infoData}>{`${calculatePrice(person)}`}</span>  \r\n                            </li>\r\n\r\n                        </ul>\r\n                        \r\n                    </AccordionDetails>\r\n                    </Accordion>\r\n                </div>\r\n            </Grid> \r\n          ))}\r\n    </Grid>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\n","import React from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport GlobalState from './GlobalState';\r\nimport {BrowserView, MobileView} from 'react-device-detect';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { Checkbox, FormControlLabel } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n  formControl: {\r\n    // marginTop : theme.spacing(1),\r\n    // marginBottom : theme.spacing(1),\r\n    // padding: theme.spacing(1),\r\n    \r\n  },\r\n\r\n  Box:{\r\n    backgroundColor : \"#f1f1f1\",\r\n    padding: \"10px\",\r\n    //maxWidth: \"300px\",\r\n    borderRadius  : \"10px\",\r\n    boxShadow: \"2px 4px #ddd\",\r\n    marginTop: \"5px\",\r\n    marginBottom : \"15px\",\r\n    textAlign: \"left\"\r\n    \r\n  \r\n  },\r\n\r\n  Label: {\r\n\r\n  },\r\n\r\n  CheckBox: {\r\n\r\n  }\r\n\r\n\r\n\r\n}));\r\n\r\n\r\nexport default function AntiBodyComponent() {\r\n   const classes = useStyles();\r\n\r\n    const [state, setState] = React.useContext(GlobalState);\r\n    const [antiBodyCheck, setAntiBodyCheck] = React.useState(state.antiBodyTest ?? false);\r\n\r\n    const antiBodyCheckChanged = (event) =>\r\n    {\r\n      setAntiBodyCheck(event.target.checked);\r\n      setState(state => ({...state, antiBodyTest : event.target.checked}));\r\n    }\r\n\r\n  return (\r\n\r\n    <React.Fragment>\r\n\r\n      <div className={classes.Box}>\r\n\r\n         <div className= {classes.Label}>\r\n              Add to your Appointment...\r\n         </div>\r\n\r\n        <div className= {classes.CheckBox}>\r\n           <FormControlLabel className={classes.formControl} \r\n                  control={<Checkbox className={classes.formControl}  color=\"secondary\" name=\"emailConfirmCheckBox\" checked={antiBodyCheck} onChange={antiBodyCheckChanged} />}\r\n                  label={<span style={{ fontSize: '0.7rem' }}>{`COVID-19 Antibody Test (IgM & IgG)`} \r\n                  <span  style={{ fontSize: '0.8rem', textDecoration: \"italic\" ,fontWeight:\"600\" ,color:\"#333\" }}> 99.00 </span> </span> } />\r\n        </div>\r\n\r\n\r\n      </div>\r\n               \r\n\r\n\r\n        \r\n          \r\n{/* \r\n        <Grid container spacing={1} alignItems=\"baseline\">\r\n\r\n            <Grid item xs={12} className={classes.formControl} > */}\r\n                {/* <FormControlLabel className={classes.formControl} \r\n                  control={<Checkbox className={classes.formControl}  color=\"secondary\" name=\"emailConfirmCheckBox\" checked={antiBodyCheck} onChange={antiBodyCheckChanged} />}\r\n                  label={<span style={{ fontSize: '0.7rem' }}>{`COVID-19 Antibody Test (IgM & IgG)`} \r\n                  <span  style={{ fontSize: '0.8rem', textDecoration: \"italic\" ,fontWeight:\"600\" ,color:\"#333\" }}> 99.00 </span> </span> } */}\r\n                  \r\n                \r\n                {/* /> */}\r\n            {/* </Grid>\r\n\r\n        </Grid> */}\r\n\r\n\r\n     \r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\n\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport GlobalState from './GlobalState';\r\nimport * as EmailValidator from 'email-validator';\r\n\r\nimport {\r\n    DatePicker,\r\n    KeyboardDatePicker,\r\n    MuiPickersUtilsProvider\r\n  } from '@material-ui/pickers';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport PersonsBox from './PersonsBox';\r\nimport { Checkbox, FormControlLabel } from '@material-ui/core';\r\nimport AntiBodyComponent from './AntiBodyComponent';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    formControl: {\r\n      textAlign: \"left\"\r\n    },\r\n\r\n    FormTitle:\r\n    {\r\n      marginTop : \"20px\",\r\n      marginBottom : \"20px\",\r\n    }\r\n\r\n  }));\r\n\r\nexport default function InformationForm() {\r\n    const classes = useStyles();\r\n    const [state, setState] = React.useContext(GlobalState);\r\n    const [birthDate, handleBirthDateChange] = React.useState(state.birthDate ?? null);\r\n    const [firstname, setFirstname] = React.useState(state.firstname ?? '');\r\n    const [lastname, setLastname] = React.useState(state.lastname ?? '');\r\n    const [email, setEmail] = React.useState(state.email ?? '');\r\n    const [retypeEmail, setRetypeEmail] = React.useState(state.retypeEmail ?? '');\r\n    \r\n    const [gender, setGender] = React.useState(state.gender ?? '');\r\n    const [title, setTitle] = React.useState(state.title ?? '');\r\n\r\n    const [emailConfirmed, setEmailConfirmed] = React.useState(state.emailConfirmed ?? false);\r\n\r\n    const emailConfirmedChanged = (event) => {\r\n      setEmailConfirmed(event.target.checked);\r\n      setState(state => ({...state, emailConfirmed: event.target.checked}));\r\n      setState(state => ({...state, emailConfirmedError: false}));\r\n  };\r\n\r\n    const titleChanged = (event) => {\r\n            setTitle(event.target.value);\r\n            setState(state => ({...state, title: event.target.value}));\r\n            setState(state => ({...state, titleError : false}));\r\n        };\r\n\r\n    const genderChanged = (event) => {\r\n            setGender(event.target.value);\r\n            setState(state => ({...state, gender: event.target.value}));\r\n            setState(state => ({...state, genderError : false}));\r\n        };\r\n\r\n    const birthDateChanged = (date) =>\r\n    {\r\n        handleBirthDateChange(date);\r\n        setState(state => ({...state, birthDate: date}));\r\n        setState(state => ({...state, birthDateError : false}));\r\n    }  \r\n\r\n    const firstnameChanged = (event) =>\r\n    {\r\n        setFirstname(event.target.value);\r\n        setState(state => ({...state, firstname : event.target.value }));\r\n        if (event.target.value && event.target.value.trim().length > 0)\r\n        {\r\n          setState(state => ({...state, firstnameError : false}));\r\n        }\r\n    }\r\n\r\n    const lastnameChanged = (event) =>\r\n    {\r\n        setLastname(event.target.value);\r\n        setState(state => ({...state, lastname : event.target.value }));\r\n        if (event.target.value && event.target.value.trim().length > 0)\r\n        {\r\n          setState(state => ({...state, lastnameError : false}));\r\n        }\r\n    }\r\n\r\n    const emailChanged = (event) =>\r\n    {\r\n        setEmail(event.target.value);\r\n        setState(state => ({...state, email : event.target.value }));\r\n        if (event.target.value && EmailValidator.validate(event.target.value))\r\n        {\r\n          setState(state => ({...state, emailError : false}));\r\n        }\r\n    }\r\n\r\n    \r\n    const retypeEmailChanged = (event) =>\r\n    {\r\n        setRetypeEmail(event.target.value);\r\n        setState(state => ({...state, retypeEmail : event.target.value }));\r\n        if (event.target.value && EmailValidator.validate(event.target.value))\r\n        {\r\n          setState(state => ({...state, retypeEmailError : false}));\r\n        }\r\n    }\r\n\r\n  return (\r\n\r\n\r\n    <React.Fragment>\r\n\r\n      <AntiBodyComponent/>\r\n\r\n      <PersonsBox/>\r\n\r\n    {state.persons.length === 0 &&\r\n          <Typography className={classes.FormTitle} variant=\"h6\" gutterBottom>\r\n              Enter your Info\r\n          </Typography>\r\n    }\r\n\r\n    {state.persons.length > 0 &&\r\n          <Typography className={classes.FormTitle} variant=\"h6\" gutterBottom>\r\n              Enter your Info\r\n          </Typography>\r\n    }\r\n\r\n      \r\n   \r\n\r\n      <Grid container spacing={3} alignItems=\"baseline\">\r\n\r\n      <Grid item xs={12} md={6}>\r\n            <FormControl className={classes.formControl} fullWidth required>\r\n                <InputLabel id=\"gender-label-id\">Gender</InputLabel>\r\n                <Select\r\n                    error={state.genderError ? true : false}\r\n                    fullWidth\r\n                    labelId=\"gender-label-id\"\r\n                    id=\"gender-id\"\r\n                    value={gender}\r\n                    onChange={genderChanged}\r\n                >\r\n                    <MenuItem value={'Male'}>Male</MenuItem>\r\n                    <MenuItem value={'Female'}>Female</MenuItem>\r\n                </Select>\r\n        </FormControl>\r\n        </Grid>\r\n        <Grid item xs={12} md={6}>\r\n            <FormControl className={classes.formControl} fullWidth required>\r\n                <InputLabel id=\"title-label-id\">Title</InputLabel>\r\n                <Select\r\n                    error={state.titleError ? true : false}\r\n                    fullWidth\r\n                    labelId=\"title-label-id\"\r\n                    id=\"title-id\"\r\n                    value={title}\r\n                    onChange={titleChanged}\r\n                >\r\n                    <MenuItem value={'Mr'}>Mr</MenuItem>\r\n                    <MenuItem value={'Mrs'}>Mrs</MenuItem>\r\n                    <MenuItem value={'Miss'}>Miss</MenuItem>\r\n                    <MenuItem value={'Ms'}>Ms</MenuItem>\r\n                    <MenuItem value={'Dr'}>Dr</MenuItem>\r\n                </Select>\r\n        </FormControl>\r\n        </Grid>\r\n        <Grid item xs={12} md={6}>\r\n          <TextField \r\n                    error={state.firstnameError ? true : false}\r\n                    required id=\"firstName\" label=\"First Name\" \r\n                    fullWidth autoComplete=\"given-name\" \r\n                    value = {firstname}\r\n                    onChange = {firstnameChanged} \r\n          />\r\n        </Grid>\r\n        <Grid item xs={12} md={6}>\r\n         <TextField \r\n                    error={state.lastnameError ? true : false}\r\n                    required id=\"lastName\" label=\"Last Name\" \r\n                    fullWidth autoComplete=\"family-name\" \r\n                    value = {lastname}\r\n                    onChange = {lastnameChanged} \r\n        />  \r\n        </Grid>\r\n        <Grid item xs={12} md={12}>\r\n        <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n            <KeyboardDatePicker  \r\n                        error={state.birthDateError ? true : false}\r\n                        autoOk\r\n                        fullWidth\r\n                        variant=\"inline\"\r\n                        label=\"Birthdate\"\r\n                        format=\"dd/MM/yyyy\"\r\n                        disableFuture\r\n                        InputAdornmentProps={{ position: \"start\" }}\r\n                        helperText=\"dd/MM/yyyy\"\r\n                        value={birthDate}\r\n                        onChange={birthDateChanged}\r\n                        />\r\n             </MuiPickersUtilsProvider>\r\n        </Grid>\r\n        <Grid item xs={12} md={6}>\r\n             <TextField\r\n                        error={state.emailError ? true : false}\r\n                        required id=\"email\" label=\"Email Address\" \r\n                        fullWidth autoComplete=\"email\"  type=\"email\"\r\n                        value = {email}\r\n                        onChange = {emailChanged} \r\n                        helperText = 'This email address is where you will receive your results. Please tick the box below to confirm that this is a private email address to which you are happy for us to send your results.'\r\n             />  \r\n        </Grid>\r\n\r\n        <Grid item xs={12} md={6}>\r\n             <TextField\r\n                        error={state.retypeEmailError ? true : false}\r\n                        required id=\"retypeEmail\" label=\"Retype Email Address\" \r\n                        fullWidth autoComplete=\"none\"  type=\"email\"\r\n                        value = {retypeEmail}\r\n                        onChange = {retypeEmailChanged} \r\n                        // helperText = 'This email address is where you will receive your results. Please tick the box below to confirm that this is a private email address to which you are happy for us to send your results.'\r\n             />  \r\n        </Grid>\r\n\r\n        <Grid item xs={12} className={classes.formControl} >\r\n          <FormControlLabel className={classes.formControl}  style={ {color: state.emailConfirmedError ? \"red\" : ''}} \r\n            control={<Checkbox className={classes.formControl} style={ {color: state.emailConfirmedError ? \"red\" : ''}}  color=\"secondary\" name=\"emailConfirmCheckBox\" checked={emailConfirmed} onChange={emailConfirmedChanged} />}\r\n             label={<span style={{ fontSize: '0.8rem' }}>{`I confirm that this is a private email address to which I am happy for you to send my results.`} </span>}\r\n          />\r\n        </Grid>\r\n\r\n     \r\n      </Grid>\r\n    \r\n      \r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\n","import * as EmailValidator from 'email-validator';\r\n\r\nexport default function ValidateStep (state,setState, step) \r\n  {\r\n    var error = false;\r\n\r\n    if (step === 1)\r\n    {\r\n      /// Validate time\r\n      \r\n      if (!state.bookingTime)\r\n      {\r\n        setState(state => ({...state, bookingTimeError : true}));\r\n        error = true;\r\n      }\r\n    } else if (step === 2){\r\n      ///validate Basic Info\r\n      if (!state.gender)\r\n      {\r\n        setState(state => ({...state, genderError : true}));\r\n        error = true;\r\n      }\r\n      if (!state.title)\r\n      {\r\n        setState(state => ({...state, titleError : true}));\r\n        error = true;\r\n      }\r\n      if (!state.firstname || state.firstname.trim().length < 1)\r\n      {\r\n        setState(state => ({...state, firstnameError : true}));\r\n        error = true;\r\n      }\r\n      if (!state.lastname || state.lastname.trim().length < 1)\r\n      {\r\n        setState(state => ({...state, lastnameError : true}));\r\n        error = true;\r\n      }\r\n      if (!state.birthDate)\r\n      {\r\n        setState(state => ({...state, birthDateError : true}));\r\n        error = true;\r\n      }\r\n      if (!state.email || !EmailValidator.validate(state.email))\r\n      {\r\n        setState(state => ({...state, emailError : true}));\r\n        error = true;\r\n      }\r\n\r\n      if (!state.retypeEmail || !EmailValidator.validate(state.retypeEmail) || state.email !== state.retypeEmail)\r\n      {\r\n        setState(state => ({...state, retypeEmailError : true}));\r\n        error = true;\r\n      }\r\n\r\n      if (!state.emailConfirmed)\r\n      {\r\n        setState(state => ({...state, emailConfirmedError : true}));\r\n        error = true;\r\n      }\r\n\r\n    }\r\n    else if (step === 3){\r\n      ///validate Address Info\r\n      if (!state.phone || state.phone.trim().length < 6)\r\n      {\r\n        setState(state => ({...state, phoneError : true}));\r\n        error = true;\r\n      }\r\n      if (!state.postCode || state.postCode.trim().length < 5)\r\n      {\r\n        setState(state => ({...state, postCodeError : true}));\r\n        error = true;\r\n      }\r\n      if (!state.address || state.address.trim().length < 10)\r\n      {\r\n        setState(state => ({...state, addressError : true}));\r\n        error = true;\r\n      }    \r\n      if (state.certificate && (!state.passportNumber || state.passportNumber.trim().length < 6))\r\n      {\r\n        setState(state => ({...state, passportNumberError : true}));\r\n        error = true;\r\n      }\r\n\r\n      if (!error){\r\n        setState(state => ({...state, proceedToSubmit: false}));\r\n      }\r\n    }\r\n\r\n      return !error;   \r\n  }","import React, { useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport GlobalState from './GlobalState';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Accordion from '@material-ui/core/Accordion';\r\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\r\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faCalendarAlt } from '@fortawesome/free-solid-svg-icons';\r\nimport { faClock } from '@fortawesome/free-solid-svg-icons';\r\nimport { faHourglassHalf } from '@fortawesome/free-solid-svg-icons';\r\nimport dateFormat from 'dateformat';\r\nimport { Button, Checkbox, FormControlLabel } from '@material-ui/core';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport PersonAddIcon from '@material-ui/icons/PersonAdd';\r\nimport Icon from '@material-ui/core/Icon';\r\n\r\nimport {calculatePrice, calculateTotalPrice} from './PriceCalculator';\r\n\r\nimport ValidateStep from './Validation';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  box: {\r\n    backgroundColor : \"#444\",\r\n    color: \"#fff\",\r\n    padding : \"8px\",\r\n    borderRadius : \"4px\",\r\n    textAlign: \"justify\",\r\n    // paddingRight: \"40px\"\r\n  },\r\n\r\n  boxRed: {\r\n    backgroundColor : \"#dc2626\",\r\n    color: \"#fff\",\r\n    padding : \"1px\",\r\n    borderRadius : \"4px\",\r\n    textAlign: \"justify\",\r\n    paddingRight: \"40px\"\r\n  },\r\n\r\n  boxInfo: {\r\n    textAlign: \"justify\",\r\n    backgroundColor : \"#fafafa\",\r\n    color: \"#333\",\r\n    // padding : \"1px\",\r\n    borderRadius : \"4px\",\r\n    // paddingRight: \"40px\",\r\n    border: \"1px solid #eee\",\r\n  },\r\n\r\n\r\n  \r\n\r\n  ul: {\r\n     listStyle: \"none\",\r\n     padding: \"0\",\r\n     margin: \"0\"\r\n  },\r\n\r\n  li: {\r\n    marginBottom : \"5px\"\r\n  },\r\n\r\n\r\n  icon: {\r\n    marginRight : \"8px\"\r\n  },\r\n\r\n  root: {\r\n    width: '100%',\r\n  },\r\n  heading: {\r\n    fontSize: theme.typography.pxToRem(15),\r\n    flexBasis: '33.33%',\r\n    flexShrink: 0,\r\n    color: theme.palette.text.secondary,\r\n  },\r\n  secondaryHeading: {\r\n    fontSize: theme.typography.pxToRem(15),\r\n  },\r\n\r\n  infoDetails:{\r\n    textAlign: \"left\"\r\n  },\r\n\r\n  infoTitle:{\r\n    fontWeight: \"800\",\r\n    marginRight: \"10px\"\r\n  },\r\n\r\n  infoData:{\r\n    fontWeight: \"400\",\r\n  },\r\n\r\n  title:\r\n  {\r\n    textAlign : \"left\",\r\n    fontWeight : \"500\",\r\n    // marginBottom: \"5px\",\r\n    marginTop: \"5px\",\r\n    padding : \"10px\",\r\n    borderRadius : \"4px\"\r\n\r\n  },\r\n\r\n  Accordion:{\r\n    backgroundColor : \"#f5f5f5\",\r\n    color: \"#111\"\r\n  },\r\n\r\n  terms: {\r\n    fontWeight: \"500\",\r\n    textAlign: \"justify\",\r\n    marginTop: \"10px\",\r\n    padding: \"10px\",\r\n  },\r\n\r\n  link:{\r\n    color: \"#dc2626\",\r\n    textDecoration: \"none\",\r\n  },\r\n\r\n  AddAnother:{\r\n    marginTop: \"10px\",\r\n    marginBottom: \"10px\",\r\n  }\r\n\r\n}));\r\n\r\n\r\nexport default function ReviewForm() {\r\n    const classes = useStyles();\r\n\r\n    const [state, setState] = React.useContext(GlobalState);\r\n\r\n    const [totalPrice, setTotalPrice] =  React.useState(0);\r\n\r\n    const [expanded, setExpanded] = React.useState('panel10');\r\n\r\n    const dataConfirmedChanged = (event) =>\r\n    {\r\n      setState(state => ({...state, dataConfirmed : event.target.checked }));\r\n      if (event.target.checked)\r\n      {\r\n        setState(state => ({...state, dataConfirmedError : false }));\r\n      }\r\n    }\r\n\r\n    useEffect( () => {\r\n      \r\n      var total = 0;\r\n      \r\n      if (!state.proceedToSubmit)\r\n      {\r\n        total += calculatePrice(state);\r\n      }\r\n\r\n      if (state.persons)\r\n      {\r\n        total += calculateTotalPrice(state.persons);\r\n      }\r\n\r\n      setTotalPrice(total);\r\n\r\n\r\n    }, [...state.persons, state]);\r\n\r\n    const handleChange = (panel) => (event, isExpanded) => {\r\n      setExpanded(isExpanded ? panel : false);\r\n    };\r\n\r\n    const addAnotherPerson = () => {\r\n\r\n      if (ValidateStep(state, setState, 2) && ValidateStep(state, setState, 3))\r\n      {\r\n\r\n        const personInfo = {\r\n          gender: state.gender,\r\n          title: state.title,\r\n          firstname: state.firstname,\r\n          lastname: state.lastname,\r\n          birthDate: state.birthDate,\r\n          email: state.email,\r\n          phone: state.phone,\r\n          postCode: state.postCode,\r\n          address: state.address,\r\n          notes: state.notes,\r\n          certificate: state.certificate ?? false,\r\n          passportNumber: state.passportNumber,\r\n          passportNumber2: state.passportNumber2,\r\n          antiBodyTest: state.antiBodyTest ?? false\r\n        }\r\n          var newPersons = state.persons;\r\n          newPersons.push(personInfo);\r\n          setState(state => ({activeStep: 2, \r\n            getStarted: true,\r\n            agreed : true,\r\n            bookingDate: state.bookingDate, \r\n            bookingTime: state.bookingTime,\r\n            address: state.address,\r\n            phone: state.phone,\r\n            postCode: state.postCode,\r\n            persons: newPersons\r\n          }));       \r\n      }else {\r\n        setState(state => ({...state, activeStep : 2 }));\r\n      }\r\n\r\n  }\r\n  \r\n   \r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Typography variant=\"h6\" gutterBottom>\r\n        Review Your Data\r\n      </Typography>\r\n\r\n      <Grid container direction=\"column\" spacing={1} justify=\"flex-start\"  alignItems=\"stretch\">\r\n\r\n          <div className={classes.title}> Appointment is for the following people :</div>\r\n\r\n          {state.persons.map((person,index) => (\r\n   \r\n                  <Grid item xs={12} md={12}>\r\n                  <div className={classes.root}>\r\n                      <Accordion className={classes.Accordion} expanded={expanded === `panel${index}`} onChange={handleChange(`panel${index}`)}>\r\n                      <AccordionSummary\r\n                          expandIcon={<ExpandMoreIcon />}\r\n                          aria-controls=\"panel1bh-content\"\r\n                          id={`panel${index}bh-header`}\r\n                      >\r\n                          <Typography className={classes.heading}> {`#${index+1}`} </Typography>\r\n                          <Typography className={classes.secondaryHeading}>\r\n                          {`${person.firstname} ${person.lastname}`}\r\n                          </Typography>\r\n                      </AccordionSummary>\r\n                      <AccordionDetails className={classes.infoDetails}>\r\n                          \r\n                          <ul className={classes.ul}>\r\n                              <li className={classes.li}>\r\n                              <span className={classes.infoTitle}>Gender</span> <span className={classes.infoData}>{person.gender}</span>   \r\n                              </li>\r\n                              <li className={classes.li}>\r\n                              <span className={classes.infoTitle}>Title</span>  <span className={classes.infoData}>{person.title}</span>   \r\n                              </li>\r\n                              <li className={classes.li}>\r\n                              <span className={classes.infoTitle}>Forename</span> <span className={classes.infoData}>{person.firstname}</span>   \r\n                              </li>\r\n                              <li className={classes.li}>\r\n                                  <span className={classes.infoTitle}>Surname</span> <span className={classes.infoData}>{person.lastname}</span>   \r\n                              </li>\r\n                              <li className={classes.li}>\r\n                                  <span className={classes.infoTitle}>Email</span> <span className={classes.infoData}>{person.email}</span>   \r\n                              </li>\r\n                              <li className={classes.li}>\r\n                                  <span className={classes.infoTitle}>D.O.B</span> <span className={classes.infoData}>{dateFormat(new Date(person.birthDate),'dd mmm yyyy') }</span>  \r\n                              </li>\r\n                              <li className={classes.li}>\r\n                                  <span className={classes.infoTitle}>Telephone</span> <span className={classes.infoData}>{person.phone}</span>  \r\n                              </li>\r\n                              <li className={classes.li}>\r\n                                  <span className={classes.infoTitle}>Post Code</span> <span className={classes.infoData}>{person.postCode}</span>  \r\n                              </li>\r\n                              <li className={classes.li}>\r\n                                  <span className={classes.infoTitle}>Address</span> <span className={classes.infoData}>{person.address}</span>  \r\n                              </li>\r\n                              <li className={classes.li}>\r\n                                  <span className={classes.infoTitle}>Passport No.</span> <span className={classes.infoData}>{person.passportNumber ?? 'N/A'}</span>  \r\n                              </li>\r\n                              <li className={classes.li} hidden={!person.passportNumber2 || person.passportNumber2.length === 0}>\r\n                                <span className={classes.infoTitle}>Second Passport No.</span> <span className={classes.infoData}>{person.passportNumber2 ?? 'N/A'}</span>  \r\n                            </li>\r\n\r\n                            <li className={classes.li}>\r\n                                <span className={classes.infoTitle}>Request for Certificate</span> <span className={classes.infoData}>{person.certificate ? 'Yes' : 'No'}</span>  \r\n                            </li>\r\n                            <li className={classes.li}>\r\n                                <span className={classes.infoTitle}>Request for Antibody Test</span> <span className={classes.infoData}>{person.antiBodyTest ? 'Yes' : 'No'}</span>  \r\n                            </li>\r\n\r\n                            <li className={classes.li}>\r\n                                <span className={classes.infoTitle}>Price</span> <span className={classes.infoData}>{`${calculatePrice(person)}`}</span>  \r\n                            </li>\r\n\r\n                          </ul>\r\n                          \r\n                          </AccordionDetails>\r\n                          </Accordion>\r\n                      </div>\r\n                    </Grid> \r\n                    ))}\r\n\r\n            { (!state.proceedToSubmit) && \r\n                      <Grid item xs={12} md={12}>\r\n                      <div className={classes.root}>\r\n                          <Accordion className={classes.Accordion} expanded={expanded === 'panel10'} onChange={handleChange('panel10')}>\r\n                            <AccordionSummary\r\n                              expandIcon={<ExpandMoreIcon />}\r\n                              aria-controls=\"panel10bh-content\"\r\n                              id=\"panel10bh-header\"\r\n                            >\r\n                              <Typography className={classes.heading}> {`#${state.persons.length + 1}`} </Typography>\r\n                              <Typography className={classes.secondaryHeading}>\r\n                                {`${state.firstname} ${state.lastname}`}\r\n                              </Typography>\r\n                            </AccordionSummary>\r\n                            <AccordionDetails className={classes.infoDetails}>\r\n                              \r\n                                <ul className={classes.ul}>\r\n                                  <li className={classes.li}>\r\n                                    <span className={classes.infoTitle}>Gender</span> <span className={classes.infoData}>{state.gender}</span>   \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                    <span className={classes.infoTitle}>Title</span>  <span className={classes.infoData}>{state.title}</span>   \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                    <span className={classes.infoTitle}>Forename</span> <span className={classes.infoData}>{state.firstname}</span>   \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                     <span className={classes.infoTitle}>Surname</span> <span className={classes.infoData}>{state.lastname}</span>   \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                     <span className={classes.infoTitle}>Email</span> <span className={classes.infoData}>{state.email}</span>   \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                     <span className={classes.infoTitle}>D.O.B</span> <span className={classes.infoData}>{dateFormat(new Date(state.birthDate),'dd mmm yyyy') }</span>  \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                     <span className={classes.infoTitle}>Telephone</span> <span className={classes.infoData}>{state.phone}</span>  \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                     <span className={classes.infoTitle}>Post Code</span> <span className={classes.infoData}>{state.postCode}</span>  \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                     <span className={classes.infoTitle}>Address</span> <span className={classes.infoData}>{state.address}</span>  \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                     <span className={classes.infoTitle}>Passport No.</span> <span className={classes.infoData}>{state.passportNumber ?? 'N/A'}</span>  \r\n                                  </li>\r\n                                  <li className={classes.li} hidden={!state.passportNumber2 || state.passportNumber2.length === 0}>\r\n                                      <span className={classes.infoTitle}>Second Passport No.</span> <span className={classes.infoData}>{state.passportNumber2 ?? 'N/A'}</span>  \r\n                                  </li>\r\n\r\n                                  <li className={classes.li}>\r\n                                    <span className={classes.infoTitle}>Request for Certificate</span> <span className={classes.infoData}>{state.certificate ? 'Yes' : 'No'}</span>  \r\n                                </li>\r\n                                <li className={classes.li}>\r\n                                    <span className={classes.infoTitle}>Request for Antibody Test</span> <span className={classes.infoData}>{state.antiBodyTest? 'Yes' : 'No'}</span>  \r\n                                </li>\r\n\r\n                                <li className={classes.li}>\r\n                                  <span className={classes.infoTitle}>Price</span> <span className={classes.infoData}>{`${calculatePrice(state)}`}</span>  \r\n                               </li>\r\n                                  \r\n                                </ul>\r\n                              \r\n                            </AccordionDetails>\r\n                          </Accordion>\r\n                        </div>\r\n                  </Grid> \r\n               }\r\n                  {(!state.persons || (state.persons && state.persons.length < 4)) && (\r\n\r\n                    <div className={classes.AddAnother}>\r\n                          <Button \r\n                                  // variant=\"outlined\"\r\n                                  startIcon={<PersonAddIcon />}\r\n                                  color=\"primary\"\r\n                                  onTouchTap = {addAnotherPerson} \r\n                                  onClick={addAnotherPerson} className={classes.button}>\r\n                            Add Another Person\r\n                          </Button>\r\n                    </div>\r\n \r\n                  )}\r\n\r\n\r\n\r\n          <Grid item xs={12} md={12}>\r\n            <div className={classes.box}>\r\n              <ul className={classes.ul}>\r\n                <li className={classes.li}>\r\n                <FontAwesomeIcon icon={faCalendarAlt} className={classes.icon} />\r\n                    {dateFormat(new Date(state.bookingDate),'dd-mmmm-yyyy')}\r\n                </li>\r\n                <li className={classes.li}>\r\n                <FontAwesomeIcon icon={faHourglassHalf} className={classes.icon} />\r\n                   Check-up Duration: 5 minutes\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </Grid> \r\n\r\n          <Grid item xs={12} md={12}>\r\n            <div className={classes.box}>\r\n              <ul className={classes.ul}>\r\n                <li className={classes.li}>\r\n                <FontAwesomeIcon icon={faClock} className={classes.icon} />\r\n                   Time: {state.bookingTime}\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </Grid> \r\n\r\n          <Grid item xs={12} md={12}>\r\n            <div className={classes.box}>\r\n              <ul className={classes.ul}>\r\n                <li className={classes.li}>\r\n                    Package : In-Clinic Test\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </Grid> \r\n\r\n          <Grid item xs={12} md={12}>\r\n            <div className={classes.box}>\r\n              <ul className={classes.ul}>\r\n                <li className={classes.li}>\r\n                   Total Price : {`${totalPrice}`}\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </Grid> \r\n\r\n          <Grid item xs={12} md={12}>\r\n            <div className={classes.box}>\r\n              <ul className={classes.ul}>\r\n                <li className={classes.li}>\r\n                In order to aid social distancing during the coronavirus pandemic, there may be a slight delay to your appointment time. Thank you for understanding.\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </Grid> \r\n\r\n        \r\n        <div className={classes.terms}>\r\n            By clicking on submit button you are agreeing with our <a className={classes.link}  target=\"_blank\" href=\"https://www.medicalexpressclinic.co.uk/terms-and-conditions\">terms and condition.</a> \r\n        </div>\r\n\r\n        <div style={{textAlign:\"left\", color: \"#111\", marginLeft:\"10px\"}}>\r\n        <FormControlLabel className={classes.formControl}  style={ {color: state.dataConfirmedError ? \"red\" : ''}} \r\n            control={<Checkbox className={classes.formControl} style={ {color: state.dataConfirmedError ? \"red\" : ''}} \r\n             color=\"secondary\" name=\"emailConfirmCheckBox\" checked={state.dataConfirmed} onChange={dataConfirmedChanged} />}\r\n             label={<span style={{ fontSize: '0.9rem' , fontWeight:\"500\"}}>{`I confirm that the details in this form are correct, and I am happy for them to appear as written above on my results and certificate if ordered.`} </span>}\r\n             />\r\n        </div>\r\n\r\n    \r\n      </Grid>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\n","import React, { useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport GlobalState from './GlobalState';\r\nimport PersonsBox from './PersonsBox';\r\nimport AntiBodyComponent from './AntiBodyComponent';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    formControl: {\r\n      textAlign: \"justify\",\r\n    },\r\n\r\n    FormTitle:\r\n    {\r\n      marginTop : \"20px\",\r\n      marginBottom : \"20px\",\r\n    }\r\n\r\n  }));\r\n\r\nexport default function AddressForm() {\r\n    const classes = useStyles();\r\n    const [state, setState] = React.useContext(GlobalState);\r\n    \r\n    const [sameAddress, setSameAddress] = React.useState(false);\r\n    \r\n    const sameAddressChanged = (event) =>\r\n    {\r\n      setSameAddress(event.target.checked);\r\n    }\r\n\r\n    const [phone, setPhone] = React.useState(state.phone ?? '');\r\n    const [postCode, setPostCode] = React.useState(state.postCode ?? '');\r\n    const [address, setAddress] = React.useState(state.address ?? '');\r\n    const [notes, setNotes] = React.useState(state.notes ?? '');\r\n\r\n    const [passportNumber, setPassportNumber] = React.useState(state.passportNumber ?? '');\r\n    const [passportNumber2, setPassportNumber2] = React.useState(state.passportNumber2 ?? '');\r\n\r\n\r\n    const [certificate, setCertificate] = React.useState(state.certificate ?? false);\r\n\r\n\r\n\r\n    useEffect( () => {\r\n\r\n      if (state.persons && state.persons.length > 0)\r\n      {\r\n        setSameAddress(true);\r\n      }\r\n\r\n    } , [state.persons])\r\n\r\n    const certificateChanged = (event) => {\r\n            setCertificate(event.target.checked);\r\n            setState(state => ({...state, certificate: event.target.checked}));\r\n        };\r\n\r\n\r\n\r\n    const phoneChanged = (event) =>\r\n    {\r\n        setPhone(event.target.value);\r\n        setState(state => ({...state, phone : event.target.value }));\r\n        if (event.target.value && event.target.value.trim().length >= 6)\r\n        {\r\n          setState(state => ({...state, phoneError : false}));\r\n        } \r\n    }\r\n\r\n    const postCodeChanged = (event) =>\r\n    {\r\n        setPostCode(event.target.value);\r\n        setState(state => ({...state, postCode : event.target.value }));\r\n        if (event.target.value && event.target.value.trim().length >= 5)\r\n        {\r\n          setState(state => ({...state, postCodeError : false}));\r\n        }\r\n    }\r\n\r\n    const addressChanged = (event) =>\r\n    {\r\n        setAddress(event.target.value);\r\n        setState(state => ({...state, address : event.target.value }));\r\n        if (event.target.value && event.target.value.trim().length >= 10)\r\n        {\r\n          setState(state => ({...state, addressError : false}));\r\n        }\r\n    }\r\n\r\n    const notesChanged = (event) =>\r\n    {\r\n        setNotes(event.target.value);\r\n        setState(state => ({...state, notes : event.target.value }));\r\n    }\r\n\r\n    const passportNumberChanged = (event) =>\r\n    {\r\n        setPassportNumber(event.target.value);\r\n        setState(state => ({...state, passportNumber : event.target.value }));\r\n        if (event.target.value && event.target.value.trim().length >= 6)\r\n        {\r\n          setState(state => ({...state, passportNumberError : false}));\r\n        }\r\n    }\r\n\r\n    const passportNumberChanged2 = (event) =>\r\n    {\r\n        setPassportNumber2(event.target.value);\r\n        setState(state => ({...state, passportNumber2 : event.target.value}));\r\n    }\r\n\r\n\r\n  return (\r\n    <React.Fragment>\r\n\r\n      {/* <AntiBodyComponent/> */}\r\n      \r\n      <PersonsBox/>\r\n\r\n      {state.persons.length === 0 &&\r\n          <Typography className={classes.FormTitle} variant=\"h6\" gutterBottom>\r\n              Enter your Address \r\n          </Typography>\r\n       }\r\n\r\n      {state.persons.length > 0 &&\r\n            <Typography className={classes.FormTitle} variant=\"h6\" gutterBottom>\r\n                Enter your Address \r\n            </Typography>\r\n      }\r\n\r\n\r\n\r\n  \r\n\r\n      <Grid container spacing={3} alignItems=\"baseline\">\r\n\r\n      <Grid hidden={ !(state.persons && state.persons.length > 0)} item xs={12} className={classes.formControl} >\r\n          <FormControlLabel className={classes.formControl} \r\n            control={<Checkbox className={classes.formControl}  color=\"secondary\" name=\"sameAddress\" checked={sameAddress} onChange={sameAddressChanged} />}\r\n             label={<span style={{ fontSize: '0.8rem' }}>{`Use the Same Address`} \r\n             </span>}\r\n          />\r\n        </Grid>\r\n\r\n\r\n        <Grid item xs={12} md={6}>\r\n             <TextField \r\n                        error={state.phoneError ? true : false}\r\n                        disabled = {sameAddress}\r\n                        required id=\"phone\" label=\"Phone Number\" \r\n                        fullWidth autoComplete=\"tel\" \r\n                        value = {phone}\r\n                        onChange = {phoneChanged} \r\n             />  \r\n        </Grid>\r\n        <Grid item xs={12} md={6}>\r\n             <TextField \r\n                        error={state.postCodeError ? true : false}\r\n                        disabled = {sameAddress}\r\n                        required id=\"postCode\" label=\"Postal Code\" \r\n                        fullWidth autoComplete=\"postal-code\"\r\n                        value = {postCode}\r\n                        onChange = {postCodeChanged} \r\n             />  \r\n        </Grid>\r\n        <Grid item xs={12}>\r\n             <TextField \r\n                        error={state.addressError ? true : false}\r\n                        required id=\"address\" label=\"Address\" \r\n                        disabled = {sameAddress}\r\n                        multiline rowsMax={2} \r\n                        fullWidth autoComplete=\"street-address\" \r\n                        value = {address}\r\n                        onChange = {addressChanged} \r\n             />  \r\n        </Grid>\r\n        <Grid hidden=\"true\" item xs={12}>\r\n             <TextField \r\n                placeholder={`Must include flight date & flight time also If there's anything you want to tell the doctor beforehand, enter it here`} \r\n                id=\"notes\"\r\n                label=\"Notes (optional)\" \r\n                helperText={`MUST include flight date & flight time`} \r\n                multiline rowsMax={2} rows={2} fullWidth autoComplete=\"\"\r\n                value = {notes}\r\n                onChange = {notesChanged} \r\n            />  \r\n        </Grid>\r\n        <Grid item xs={12} className={classes.formControl} >\r\n          <FormControlLabel className={classes.formControl} \r\n            control={<Checkbox className={classes.formControl}  color=\"secondary\" name=\"certificate\" checked={certificate} onChange={certificateChanged} />}\r\n             label={<span style={{ fontSize: '0.8rem' }}>{`I also require a medical certificate signed by a doctor declaring me 'fit-to-fly'.`} \r\n             \r\n             <span  style={{ fontSize: '1rem', textDecoration: \"italic\" ,fontWeight:\"600\" ,color:\"#333\" }}>  + 50.00 </span> \r\n\r\n             </span>}\r\n          />\r\n        <div style={{paddingTop:\"10px\"}}>\r\n        {'If your requirements make any mention of a passport number, you will need a certificate. Laboratories do not note passport numbers on their results. If you are going to Spain, you need a certificate.'}\r\n        </div>\r\n        </Grid>\r\n        <Grid item xs={12} hidden={!certificate} >\r\n             <TextField \r\n                        error={state.passportNumberError ? true : false}\r\n                        required id=\"passport\" label=\"Passport Number\" \r\n                        helperText=\"your passport number will be noted on your certificate\" \r\n                        fullWidth autoComplete=\"\" \r\n                        value = {passportNumber}\r\n                        onChange = {passportNumberChanged} \r\n             />  \r\n        </Grid>\r\n        <Grid item xs={12} hidden={!certificate} >\r\n             <TextField \r\n                        // error={state.passportNumberError ? true : false}\r\n                        id=\"passport2\" label=\"Second Passport Number (optional)\" \r\n                        helperText=\"your passport number will be noted on your certificate\" \r\n                        fullWidth autoComplete=\"\" \r\n                        value = {passportNumber2}\r\n                        onChange = {passportNumberChanged2} \r\n             />  \r\n        </Grid>\r\n      </Grid>\r\n    \r\n      \r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\n","import API from './api';\r\n\r\nexport default class BookService {\r\n\r\n    static bookAppointment = (payload) =>\r\n    {\r\n       return API.post('/api/book/bookappointment', payload);\r\n    }\r\n\r\n    static getNewReference = () =>\r\n    {\r\n        return API.get('/api/book/getnewreference');\r\n    }\r\n\r\n}","import { withStyles } from \"@material-ui/core/styles\";\r\nimport MobileStepper from \"@material-ui/core/MobileStepper\";\r\n\r\nconst StyledMobileStepper = withStyles({\r\n  root: {\r\n    maxWidth: \"100%\",\r\n    flexGrow: 1\r\n  },\r\n  progress: {\r\n    width: \"100%\"\r\n  }\r\n})(MobileStepper);\r\n\r\nexport default StyledMobileStepper;","export default \"data:image/png;base64,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\"","export default __webpack_public_path__ + \"static/media/ok.c105a1fa.png\";","export default __webpack_public_path__ + \"static/media/error.8ab2c9d7.png\";","\r\n\r\nimport React, { useEffect } from 'react';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport GlobalState from './GlobalState';\r\nimport doneImage from './images/ok.png';\r\nimport errorImage from './images/error.png';\r\nimport * as dateformat from 'dateformat';\r\nimport Alert from '@material-ui/lab/Alert';\r\n\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    bold: {\r\n        fontWeight: \"800\",\r\n        padding: \"5px\"\r\n      },\r\n\r\n      doneImage: {\r\n        width: \"240px\",\r\n        height: \"150px\",\r\n        margin: \"20px\"\r\n      },\r\n\r\n      errorImage: {\r\n        width: \"200px\",\r\n        height: \"190px\",\r\n        margin: \"20px\"\r\n      },\r\n    \r\n\r\n\r\n}));\r\n\r\n\r\nexport default function ResultsForm() {\r\n  const [state, setState] = React.useContext(GlobalState);\r\n  const classes = useStyles();\r\n\r\n  useEffect( () => {\r\n    console.log(state.finalResults);\r\n  }, [])\r\n\r\n  const AllError = (results) =>\r\n  {\r\n      for (var i=0 ; i < results.length; i++)\r\n      {\r\n          if (results[i].data.status === 'OK')\r\n          {\r\n              return false;\r\n          }\r\n      }\r\n      return true;\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n    \r\n\r\n    {state.finalResults.length === 1 && state.finalResults[0].data.status === `OK` && (\r\n\r\n        <React.Fragment>\r\n        \r\n            <img className={classes.doneImage} src={doneImage} alt=\"Done image\"/>\r\n\r\n            <Typography variant=\"h5\" gutterBottom>\r\n                    Thank you for your Booking.\r\n            </Typography>\r\n            <br/>\r\n            <Typography variant=\"subtitle1\">\r\n                   Your booking number is <span className={classes.bold}>{`\"${state.ref}\"`}</span> . We have emailed your booking information, and will look forward to meet you at the clinic. \r\n            </Typography>\r\n\r\n        </React.Fragment>\r\n    )}\r\n\r\n    {state.finalResults.length === 1 && state.finalResults[0].data.status  === `FAILED` && (\r\n\r\n    <React.Fragment>\r\n\r\n        <img className={classes.errorImage} src={errorImage} alt=\"Error image\"/>\r\n\r\n        <Typography variant=\"h5\" gutterBottom>\r\n                Sorry, There is a Problem with your Booking.\r\n        </Typography>\r\n        <br/>\r\n        <Typography variant=\"subtitle1\">\r\n            You have already booked for {`'${dateformat(state.bookingDate,'dddd, mmmm dS, yyyy')}'`}.\r\n            Every person can only book for one appointment per day. If you want to change your appointment time please follow the link we have emailed you before.\r\n        </Typography>\r\n\r\n    </React.Fragment>\r\n    )}\r\n\r\n{state.finalResults.length > 1 &&  (\r\n\r\n\r\n\r\n      <React.Fragment>\r\n\r\n        { AllError(state.finalResults) && (\r\n\r\n                <React.Fragment>\r\n\r\n                    <img className={classes.errorImage} src={errorImage} alt=\"Error image\"/>\r\n\r\n                    <Typography variant=\"h5\" gutterBottom>\r\n                            Sorry, There is a Problem with your Booking.\r\n                    </Typography>\r\n                    <br/>\r\n                    <Typography variant=\"subtitle1\">\r\n                        You have already booked for {`'${dateformat(state.bookingDate,'dddd, mmmm dS, yyyy')}'`}.\r\n                        Every person can only book for one appointment per day. If you want to change your appointment time please follow the link we have emailed you before.\r\n                    </Typography>\r\n\r\n                </React.Fragment>\r\n        )}\r\n\r\n        { !AllError(state.finalResults) && (\r\n\r\n                <React.Fragment>\r\n                        \r\n                <img className={classes.doneImage} src={doneImage} alt=\"Done image\"/>\r\n\r\n                <Typography variant=\"h5\" gutterBottom>\r\n                        Thank you for your Booking.\r\n                </Typography>\r\n                <br/>\r\n                <Typography variant=\"subtitle1\">\r\n                    Your booking number is <span className={classes.bold}>{`\"${state.ref}\"`}</span> . We have emailed your booking information, and will look forward to meet you at the clinic. \r\n                </Typography>\r\n\r\n                </React.Fragment>\r\n        )}\r\n\r\n\r\n    {state.finalResults.map( item => (\r\n\r\n        <React.Fragment>\r\n            {item.data.status === 'OK' && (\r\n                <React.Fragment>\r\n                \r\n                <div style={{marginTop: \"5px\", marginBottom: \"5px\"}}>\r\n                    <Alert severity=\"success\">\r\n                        {`${item.data.person.forename} ${item.data.person.surname} - Successfully Booked!` }\r\n                    </Alert>\r\n                </div>\r\n           \r\n                </React.Fragment>\r\n            )}\r\n\r\n        {item.data.status === 'FAILED' && (\r\n                <React.Fragment>\r\n                \r\n                <div style={{marginTop: \"5px\", marginBottom: \"5px\"}}>\r\n                    <Alert severity=\"error\">\r\n                          {`${item.data.person.forename} ${item.data.person.surname} - Booking Failed! ( has already booked for that day!)` }\r\n                    </Alert>\r\n                </div>\r\n                             \r\n                </React.Fragment>\r\n            )}\r\n\r\n        </React.Fragment>\r\n    ))\r\n      \r\n    }\r\n      \r\n      </React.Fragment>\r\n\r\n\r\n)}\r\n\r\n    </React.Fragment>\r\n\r\n\r\n  );\r\n}","import React from 'react';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Stepper from '@material-ui/core/Stepper';\r\nimport Step from '@material-ui/core/Step';\r\nimport StepLabel from '@material-ui/core/StepLabel';\r\nimport Button from '@material-ui/core/Button';\r\nimport Link from '@material-ui/core/Link';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport DateForm from './DateForm';\r\nimport TimeForm from './TimeForm';\r\nimport InformationForm from './InformationForm';\r\nimport ReviewForm from './ReviewForm';\r\nimport GlobalState from './GlobalState';\r\nimport AddressForm from './AddressForm';\r\nimport BookService from './services/BookService';\r\n\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nimport HttpsIcon from '@material-ui/icons/Https';\r\n\r\nimport {BrowserView, MobileView, isMobile} from 'react-device-detect';\r\n\r\nimport ValidateStep from './Validation';\r\n\r\n\r\nimport MobileStepper from './MobileStepper';\r\n\r\nimport logoImage from './images/logo.png';\r\nimport { Grid } from '@material-ui/core';\r\n\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport ResultsForm from './ResultsForm';\r\n\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright  '}\r\n      {new Date().getFullYear()}\r\n      {' '}\r\n      <Link color=\"inherit\" href=\"#\">\r\n           <strong> Medical Express Clinic </strong> \r\n      </Link>{isMobile ? ' ' : ' All rights reserved.' }\r\n   \r\n       \r\n \r\n     \r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  appBar: {\r\n    position: 'relative',\r\n    backgroundColor: \"#fff\",\r\n    color: \"#00a1c5\",\r\n    alignItems: 'center',\r\n  },\r\n\r\n  logo: {\r\n    maxWidth: 160,\r\n  },\r\n  layout: {\r\n    width: 'auto',\r\n    marginLeft: theme.spacing(2),\r\n    marginRight: theme.spacing(2),\r\n    [theme.breakpoints.up(600 + theme.spacing(2) * 2)]: {\r\n      width: 700,\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n    },\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(1),\r\n    marginBottom: theme.spacing(3),\r\n    padding: theme.spacing(1),\r\n    [theme.breakpoints.up(600 + theme.spacing(3) * 2)]: {\r\n      marginTop: theme.spacing(2),\r\n      marginBottom: theme.spacing(2),\r\n      padding: theme.spacing(3),\r\n    },\r\n  },\r\n  stepper: {\r\n    padding: theme.spacing(3, 0, 5),\r\n  },\r\n  buttons: {\r\n    display: 'flex',\r\n    justifyContent: 'flex-end',\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing(3),\r\n    marginLeft: theme.spacing(1),\r\n  },\r\n\r\n  bold: {\r\n    fontWeight: \"800\",\r\n    padding: \"5px\"\r\n  },\r\n\r\n  doneImage: {\r\n    width: \"240px\",\r\n    height: \"150px\",\r\n    margin: \"20px\"\r\n  },\r\n\r\n  logoImage: {\r\n    width: \"40px\",\r\n    height: \"40px\",\r\n    marginLeft: \"0px\",\r\n    \r\n  },\r\n\r\n  privacyButton: {\r\n    marginBottom : \"20px\"\r\n  },\r\n\r\n  backdrop: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    color: '#fff',\r\n  },\r\n\r\n}));\r\n\r\nconst steps = ['Appoinment Date', 'Appoinment Time', 'Basic Info', 'Address Info','Review'];\r\n\r\nfunction getStepContent(step) {\r\n  switch (step) {\r\n    case 0:\r\n      return <DateForm />;\r\n    case 1:\r\n      return <TimeForm />;\r\n    case 2:\r\n      return <InformationForm />;\r\n    case 3:\r\n      return <AddressForm />;\r\n    case 4:\r\n        return <ReviewForm />;\r\n    default:\r\n      throw new Error('Unknown step');\r\n  }\r\n}\r\n\r\n\r\n\r\nexport default function Checkout() {\r\n  const [state, setState] = React.useContext(GlobalState);\r\n  const classes = useStyles();\r\n\r\n\r\n  //// ** Dialog\r\n\r\n  const [open, setOpen] = React.useState(false);\r\n  const [scroll, setScroll] = React.useState('paper');\r\n\r\n  const handleClickOpen = (scrollType) => () => {\r\n    setOpen(true);\r\n    setScroll(scrollType);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const descriptionElementRef = React.useRef(null);\r\n  React.useEffect(() => {\r\n    if (open) {\r\n      const { current: descriptionElement } = descriptionElementRef;\r\n      if (descriptionElement !== null) {\r\n        descriptionElement.focus();\r\n      }\r\n    }\r\n  }, [open]);\r\n\r\n\r\n\r\n  /////****************** */\r\n\r\n\r\n\r\n\r\n // const [activeStep, setActiveStep] = React.useState(0);\r\n \r\n const setActiveStep = (step) => {\r\n  setState(state => ({...state, activeStep : step}));\r\n }\r\n\r\n  const [submiting, setSubmiting] = React.useState(false);\r\n\r\n\r\n  const maxSteps = steps.length;\r\n\r\n\r\n\r\n  \r\n\r\n  const submitForm = () =>\r\n  {\r\n\r\n    var promiseArray = [];\r\n\r\n    BookService.getNewReference().then( (res) => {\r\n\r\n      const ref = res.data.ref;\r\n\r\n      setState(state => ({...state, ref: ref}));\r\n\r\n      if (!state.proceedToSubmit)\r\n      {\r\n        const personInfo = {\r\n          gender: state.gender,\r\n          title: state.title,\r\n          firstname: state.firstname,\r\n          lastname: state.lastname,\r\n          birthDate: state.birthDate,\r\n          email: state.email,\r\n          phone: state.phone,\r\n          postCode: state.postCode,\r\n          address: state.address,\r\n          notes: state.notes,\r\n          certificate: state.certificate,\r\n          passportNumber: state.passportNumber,\r\n          passportNumber2: state.passportNumber2,\r\n          antiBodyTest: state.antiBodyTest ?? false\r\n        };\r\n    \r\n        const promise = BookService.bookAppointment({...personInfo, bookingDate: state.bookingDate, bookingTime: state.bookingTime, bookingRef: ref, referrer: window.location.pathname});\r\n        promiseArray.push(promise);\r\n      }\r\n  \r\n      for (var i=0 ; i < state.persons?.length; i++){\r\n        promiseArray.push(BookService.bookAppointment({...state.persons[i],bookingDate: state.bookingDate, bookingTime: state.bookingTime, bookingRef: ref, referrer: window.location.pathname}));\r\n      }\r\n      \r\n      Promise.all(promiseArray).then( (values) => {\r\n\r\n        setState(state => ({...state, finalResults: values}));\r\n\r\n        setSubmiting(false);\r\n        setActiveStep(state.activeStep + 1);\r\n  \r\n      }).catch( (errs) =>\r\n      {\r\n        console.log(`Error :  ${errs}`);\r\n        setSubmiting(false);\r\n      });\r\n\r\n    }).catch( (err) =>\r\n    {\r\n      console.log(`Cannot Get REF NO. : ${err}`);\r\n      setSubmiting(false);\r\n    });;\r\n  }\r\n\r\n  const proceedToSubmit = () =>\r\n  {\r\n    setState(state => ({...state, proceedToSubmit: true}));\r\n    setActiveStep(4);\r\n  }\r\n\r\n\r\n  const handleNext = () => {\r\n\r\n    if (state.activeStep === 4)\r\n    {\r\n      if (!state.dataConfirmed)\r\n      {\r\n        setState(state => ({...state, dataConfirmedError : true }));\r\n        return;\r\n      }\r\n  \r\n\r\n      setSubmiting(true);\r\n      submitForm();\r\n\r\n    }else if (ValidateStep(state, setState, state.activeStep)) {\r\n    \r\n        setActiveStep(state.activeStep + 1);\r\n    }\r\n  };\r\n\r\n  const handleBack = () => {\r\n    setActiveStep(state.activeStep - 1);\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <CssBaseline />\r\n      <AppBar position=\"absolute\" color=\"default\" className={classes.appBar}>\r\n        <Toolbar>\r\n\r\n\r\n        <Grid\r\n            container\r\n            direction=\"row\"\r\n            spacing= {1}\r\n            justify=\"center\"\r\n            alignItems=\"center\"\r\n        >\r\n\r\n\r\n            <Grid item item xs={10}>\r\n                  <Typography  style={{fontWeight: \"400\"}} variant=\"h6\" color=\"inherit\" noWrap>\r\n                    Medical Express Clinic\r\n                  </Typography>\r\n            </Grid>\r\n\r\n            <Grid item xs={2}>\r\n                    <img className={classes.logoImage} src={logoImage} alt=\"logo image\"/> \r\n            </Grid>\r\n\r\n        </Grid>  \r\n        </Toolbar>\r\n      </AppBar>\r\n      <main className={classes.layout}>\r\n        <Paper className={classes.paper}>\r\n\r\n\r\n          <Typography component=\"h1\" variant=\"h6\" align=\"center\">\r\n                Book Appointment Online\r\n          </Typography>\r\n\r\n      \r\n\r\n          <React.Fragment>\r\n              {state.activeStep < steps.length ? (\r\n                  <React.Fragment>\r\n                        <BrowserView>\r\n                                <Stepper activeStep={state.activeStep} className={classes.stepper}>\r\n                                    {steps.map((label) => (\r\n                                    <Step key={label}>\r\n                                        <StepLabel>{label}</StepLabel>\r\n                                    </Step>\r\n                                    ))}\r\n                                </Stepper>\r\n                        </BrowserView>\r\n\r\n                        <MobileView>\r\n                                    <MobileStepper \r\n                                            steps={maxSteps}\r\n                                            position=\"static\"\r\n                                            variant=\"progress\"\r\n                                            \r\n                                            activeStep={state.activeStep}\r\n                                    />\r\n                        </MobileView>  \r\n                  </React.Fragment>\r\n              ) : (\r\n                  <React.Fragment>\r\n\r\n                      \r\n                  </React.Fragment>\r\n              )}\r\n          </React.Fragment>                  \r\n\r\n          {/* <PersonsBox/> */}\r\n\r\n          <React.Fragment>\r\n            {state.activeStep === steps.length ? (\r\n\r\n              <ResultsForm/>\r\n\r\n            ) : (\r\n              <React.Fragment>\r\n                {getStepContent(state.activeStep)}\r\n                <div className={classes.buttons}>\r\n                  {state.activeStep !== 0 && (\r\n                    <Button disabled={submiting} onClick={handleBack} onTouchTap = {handleBack}  className={classes.button}>\r\n                      Back\r\n                    </Button>\r\n                  )}\r\n\r\n                  {((state.activeStep === 2 || state.activeStep === 3 ) && state.persons && state.persons.length >= 1) && (\r\n                    <Button \r\n                            // variant=\"contained\"\r\n                            color=\"secondary\"\r\n                            onTouchTap = {proceedToSubmit} \r\n                            onClick={proceedToSubmit} className={classes.button}>\r\n                      Skip to Submit\r\n                    </Button>\r\n                  )}\r\n\r\n                  <Button\r\n                    disabled={submiting} \r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    onTouchTap = {handleNext} \r\n                    onClick={handleNext}\r\n                    className={classes.button}\r\n                  >\r\n                    {state.activeStep === steps.length - 1 ? 'Submit' : 'Next'}\r\n                  </Button>\r\n                  \r\n\r\n\r\n\r\n\r\n                </div>\r\n              </React.Fragment>\r\n            )}\r\n          </React.Fragment>\r\n\r\n        </Paper>\r\n\r\n        <Button \r\n                  variant=\"contained\" \r\n                  className={classes.privacyButton} \r\n                  color=\"secondary\"\r\n                  startIcon={<HttpsIcon/>}\r\n                  onClick={handleClickOpen('paper')}\r\n                  onTouchTap={handleClickOpen('paper')} \r\n                  >\r\n             Privacy\r\n         </Button>\r\n         <Dialog\r\n                        open={open}\r\n                        onClose={handleClose}\r\n                        scroll={scroll}\r\n                        aria-labelledby=\"scroll-dialog-title\"\r\n                        aria-describedby=\"scroll-dialog-description\"\r\n                      >\r\n                        <DialogTitle id=\"scroll-dialog-title\">Application Disclaimer</DialogTitle>\r\n                        <DialogContent dividers={scroll === 'paper'}>\r\n                          <DialogContentText\r\n                            id=\"scroll-dialog-description\"\r\n                            ref={descriptionElementRef}\r\n                            tabIndex={-1}\r\n                          >\r\n                            <div style={{textAlign:\"justify\", padding:\"10px\"}}>\r\n                              Medical Express Clinic will not contact you for any other reason than to share your test results, and certificate if selected, via the email address provided. The information provided to us via this registration form is never shared with any other organisations, except when this is required by law. \r\n\r\n                                Information provided will never be used for marketing purposes, you cannot opt in.\r\n\r\n                                In the case of a positive swab result, our doctor will call on the telephone number provided to inform you of your result and provide additional advice or guidance.\r\n                          </div>\r\n                          </DialogContentText>\r\n                        </DialogContent>\r\n                        <DialogActions>\r\n                          <Button onClick={handleClose} color=\"primary\">\r\n                            Close\r\n                          </Button>\r\n                      \r\n                        </DialogActions>\r\n      </Dialog>\r\n\r\n      <Backdrop className={classes.backdrop} open={submiting} >\r\n        <CircularProgress color=\"inherit\" />\r\n      </Backdrop>\r\n\r\n\r\n        <Copyright />\r\n      </main>\r\n    </React.Fragment>\r\n  );\r\n}","import React from 'react';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Button from '@material-ui/core/Button';\r\nimport Link from '@material-ui/core/Link';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport GlobalState from './GlobalState';\r\n\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nimport HttpsIcon from '@material-ui/icons/Https';\r\n\r\nimport {BrowserView, MobileView, isMobile} from 'react-device-detect';\r\n\r\nimport AirplanemodeActiveIcon from '@material-ui/icons/AirplanemodeActive';\r\nimport { Grid } from '@material-ui/core';\r\n\r\nimport logoImage from './images/logo.png';\r\n\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright  '}\r\n      {new Date().getFullYear()}\r\n      {' '}\r\n      <Link color=\"inherit\" href=\"#\">\r\n           <strong> Medical Express Clinic </strong> \r\n      </Link>{isMobile ? ' ' : ' All rights reserved.' }\r\n   \r\n       \r\n \r\n     \r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  appBar: {\r\n    position: 'relative',\r\n    backgroundColor: \"#fff\",\r\n    color: \"#00a1c5\",\r\n    alignItems: 'center',\r\n  },\r\n\r\n  logo: {\r\n    maxWidth: 160,\r\n  },\r\n  layout: {\r\n    width: 'auto',\r\n    marginLeft: theme.spacing(2),\r\n    marginRight: theme.spacing(2),\r\n    [theme.breakpoints.up(600 + theme.spacing(2) * 2)]: {\r\n      width: 700,\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n    },\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(1),\r\n    marginBottom: theme.spacing(3),\r\n    padding: theme.spacing(1),\r\n    [theme.breakpoints.up(600 + theme.spacing(3) * 2)]: {\r\n      marginTop: theme.spacing(2),\r\n      marginBottom: theme.spacing(2),\r\n      padding: theme.spacing(3),\r\n    },\r\n  },\r\n  stepper: {\r\n    padding: theme.spacing(3, 0, 5),\r\n  },\r\n  buttons: {\r\n    display: 'flex',\r\n    justifyContent: 'flex-end',\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing(3),\r\n    marginLeft: theme.spacing(1),\r\n  },\r\n\r\n  bold: {\r\n    fontWeight: \"800\",\r\n    padding: \"5px\"\r\n  },\r\n\r\n  doneImage: {\r\n    width: \"240px\",\r\n    height: \"150px\",\r\n    margin: \"20px\"\r\n  },\r\n\r\n  logoImage: {\r\n    width: \"40px\",\r\n    height: \"40px\",\r\n    marginLeft: \"0px\",\r\n    \r\n  },\r\n\r\n  privacyButton: {\r\n    marginBottom : \"20px\"\r\n  },\r\n\r\n  textContent : {\r\n      color : \"#666f77\",\r\n      fontSize : \"1.1rem\",\r\n      textAlign: \"justify\",\r\n      paddingLeft: \"30px\",\r\n      paddingRight: \"30px\",\r\n      lineHeight: \"2.2em\",\r\n      fontWeight : \"400\"\r\n  },\r\n\r\n  textContentMobile : {\r\n    color : \"#666f77\",\r\n    fontSize : \"0.9rem\",\r\n    textAlign: \"justify\",\r\n    paddingLeft: \"30px\",\r\n    paddingRight: \"30px\",\r\n    lineHeight: \"2.2em\",\r\n    fontWeight : \"400\"\r\n},\r\n\r\n  getStartedButton: {\r\n      marginTop : \"10px\",\r\n      marginBottom : \"10px\",\r\n\r\n  },\r\n\r\n  AirIcon : {\r\n      marginRight : \"10px\",\r\n      fontSize: \"32px\"\r\n  }\r\n\r\n}));\r\n\r\n\r\n\r\n\r\nexport default function WelcomeForm() {\r\n  const [state, setState] = React.useContext(GlobalState);\r\n  const classes = useStyles();\r\n\r\n\r\n  //// ** Dialog\r\n\r\n  const [open, setOpen] = React.useState(false);\r\n  const [scroll, setScroll] = React.useState('paper');\r\n\r\n  const descriptionElementRef = React.useRef(null);\r\n  React.useEffect(() => {\r\n    if (open) {\r\n      const { current: descriptionElement } = descriptionElementRef;\r\n      if (descriptionElement !== null) {\r\n        descriptionElement.focus();\r\n      }\r\n    }\r\n  }, [open]);\r\n\r\n\r\n  const handleClickOpen = (scrollType) => () => {\r\n    setOpen(true);\r\n    setScroll(scrollType);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n\r\n\r\nconst getStartedClicked = (event) => {\r\n    setState(state => ({...state, getStarted: true}));\r\n}\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <CssBaseline />\r\n      <AppBar position=\"absolute\" color=\"default\" className={classes.appBar}>\r\n        <Toolbar>\r\n\r\n  \r\n\r\n        <Grid\r\n                container\r\n                direction=\"row\"\r\n                spacing= {1}\r\n                justify=\"center\"\r\n                alignItems=\"center\"\r\n            >\r\n\r\n\r\n                <Grid item item xs={10}>\r\n                      <Typography  style={{fontWeight: \"400\"}} variant=\"h6\" color=\"inherit\" noWrap>\r\n                        Medical Express Clinic\r\n                      </Typography>\r\n                </Grid>\r\n\r\n                <Grid item xs={2}>\r\n                        <img className={classes.logoImage} src={logoImage} alt=\"logo image\"/> \r\n                </Grid>\r\n\r\n            \r\n          </Grid>  \r\n\r\n      \r\n\r\n\r\n        </Toolbar>\r\n      </AppBar>\r\n      <main className={classes.layout}>\r\n        <Paper className={classes.paper}>\r\n\r\n       \r\n          <Typography style={{fontWeight : 700, marginBottom: \"50px\"}} component=\"h1\" variant=\"h6\" align=\"center\">\r\n\r\n                    <div style={{\r\n                            display: 'flex',\r\n                            alignItems: 'center',\r\n                            justifyContent: 'center'\r\n                        }}>\r\n              \r\n                  <AirplanemodeActiveIcon className={classes.AirIcon} color=\"primary\" />  \r\n                      RT-PCR Fit to Fly Test - 199\r\n\r\n                    </div>\r\n          </Typography>\r\n\r\n          <p className={isMobile ? classes.textContentMobile : classes.textContent}>\r\n                 Universally accepted for international travel to all destinations.\r\n          </p>\r\n\r\n          <p className={isMobile ? classes.textContentMobile : classes.textContent}>\r\n                  Nasopharyngeal swab sample taken from the back of the nose and throat.\r\n          </p>\r\n\r\n          <p className={isMobile ? classes.textContentMobile : classes.textContent}>\r\n                     COVID-19 PCR test to detect viral RNA.\r\n          </p>\r\n\r\n          \r\n          <p className={isMobile ? classes.textContentMobile : classes.textContent}>\r\n                     Guaranteed results within 48 hours - over 90% of our results return before 24 hours of clinic appointment.\r\n          </p>\r\n\r\n          <p className={isMobile ? classes.textContentMobile : classes.textContent}>\r\n                        Secure, verifiable results sent in PDF format via email, hard copies available to collect.        \r\n          </p>\r\n\r\n          <p className={isMobile ? classes.textContentMobile : classes.textContent}>\r\n                                 No card details or payment necessary.        \r\n          </p>\r\n\r\n          <p className={isMobile ? classes.textContentMobile : classes.textContent}>\r\n                Plans change and you may need to cancel or rearrange your appointment. We take payment for your test only when you attend the clinic.\r\n          </p>\r\n\r\n\r\n          \r\n\r\n\r\n          <Button \r\n                  variant=\"contained\" \r\n                  className={classes.getStartedButton} \r\n                  color=\"primary\"\r\n                  onClick={getStartedClicked}\r\n                  onTouchTap={getStartedClicked} \r\n                  >\r\n             Get Started\r\n         </Button>\r\n      \r\n\r\n        </Paper>\r\n\r\n        <Button \r\n                  variant=\"contained\" \r\n                  className={classes.privacyButton} \r\n                  color=\"secondary\"\r\n                  startIcon={<HttpsIcon/>}\r\n                  onClick={handleClickOpen('paper')}\r\n                  onTouchTap={handleClickOpen('paper')} \r\n                  >\r\n             Privacy\r\n         </Button>\r\n         <Dialog\r\n                        open={open}\r\n                        onClose={handleClose}\r\n                        scroll={scroll}\r\n                        aria-labelledby=\"scroll-dialog-title\"\r\n                        aria-describedby=\"scroll-dialog-description\"\r\n                      >\r\n                        <DialogTitle id=\"scroll-dialog-title\">Application Disclaimer</DialogTitle>\r\n                        <DialogContent dividers={scroll === 'paper'}>\r\n                          <DialogContentText\r\n                            id=\"scroll-dialog-description\"\r\n                            ref={descriptionElementRef}\r\n                            tabIndex={-1}\r\n                          >\r\n                            <div style={{textAlign:\"justify\", padding:\"10px\"}}>\r\n                              Medical Express Clinic will not contact you for any other reason than to share your test results, and certificate if selected, via the email address provided. The information provided to us via this registration form is never shared with any other organisations, except when this is required by law. \r\n\r\n                                Information provided will never be used for marketing purposes, you cannot opt in.\r\n\r\n                                In the case of a positive swab result, our doctor will call on the telephone number provided to inform you of your result and provide additional advice or guidance.\r\n                          </div>\r\n                          </DialogContentText>\r\n                        </DialogContent>\r\n                        <DialogActions>\r\n                          <Button onClick={handleClose} color=\"primary\">\r\n                            Close\r\n                          </Button>\r\n                      \r\n                        </DialogActions>\r\n      </Dialog>\r\n\r\n\r\n\r\n\r\n        <Copyright />\r\n      </main>\r\n    </React.Fragment>\r\n  );\r\n}","import React from 'react';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Stepper from '@material-ui/core/Stepper';\r\nimport Step from '@material-ui/core/Step';\r\nimport StepLabel from '@material-ui/core/StepLabel';\r\nimport Button from '@material-ui/core/Button';\r\nimport Link from '@material-ui/core/Link';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport DateForm from './DateForm';\r\nimport TimeForm from './TimeForm';\r\nimport InformationForm from './InformationForm';\r\nimport ReviewForm from './ReviewForm';\r\nimport GlobalState from './GlobalState';\r\nimport AddressForm from './AddressForm';\r\nimport BookService from './services/BookService';\r\n\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Alert from '@material-ui/lab/Alert';\r\n\r\nimport HttpsIcon from '@material-ui/icons/Https';\r\n\r\nimport {BrowserView, MobileView, isMobile} from 'react-device-detect';\r\n\r\nimport logoImage from './images/logo.png';\r\nimport { Checkbox, FormControlLabel, Grid } from '@material-ui/core';\r\n\r\n\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright  '}\r\n      {new Date().getFullYear()}\r\n      {' '}\r\n      <Link color=\"inherit\" href=\"#\">\r\n           <strong> Medical Express Clinic </strong> \r\n      </Link>{isMobile ? ' ' : ' All rights reserved.' }\r\n   \r\n       \r\n \r\n     \r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  appBar: {\r\n    position: 'relative',\r\n    backgroundColor: \"#fff\",\r\n    color: \"#00a1c5\",\r\n    alignItems: 'center',\r\n  },\r\n\r\n  logo: {\r\n    maxWidth: 160,\r\n  },\r\n  layout: {\r\n    width: 'auto',\r\n    marginLeft: theme.spacing(2),\r\n    marginRight: theme.spacing(2),\r\n    [theme.breakpoints.up(600 + theme.spacing(2) * 2)]: {\r\n      width: 700,\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n    },\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(1),\r\n    marginBottom: theme.spacing(3),\r\n    padding: theme.spacing(1),\r\n    [theme.breakpoints.up(600 + theme.spacing(3) * 2)]: {\r\n      marginTop: theme.spacing(2),\r\n      marginBottom: theme.spacing(2),\r\n      padding: theme.spacing(3),\r\n    },\r\n  },\r\n  stepper: {\r\n    padding: theme.spacing(3, 0, 5),\r\n  },\r\n  buttons: {\r\n    display: 'flex',\r\n    justifyContent: 'flex-end',\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing(3),\r\n    marginLeft: theme.spacing(1),\r\n  },\r\n\r\n  bold: {\r\n    fontWeight: \"800\",\r\n    padding: \"5px\"\r\n  },\r\n\r\n  doneImage: {\r\n    width: \"240px\",\r\n    height: \"150px\",\r\n    margin: \"20px\"\r\n  },\r\n\r\n  logoImage: {\r\n    width: \"40px\",\r\n    height: \"40px\",\r\n    marginLeft: \"0px\",\r\n    \r\n  },\r\n  privacyButton: {\r\n    marginBottom : \"20px\"\r\n  },\r\n\r\n  getStartedButton: {\r\n    marginTop : \"30px\",\r\n    marginBottom : \"10px\",\r\n\r\n},\r\ntextContent : {\r\n    color : \"#666f77\",\r\n    fontSize : \"1.1rem\",\r\n    textAlign: \"justify\",\r\n    paddingLeft: \"8px\",\r\n    paddingRight: \"20px\",\r\n    lineHeight: \"2.2em\",\r\n    fontWeight : \"400\"\r\n},\r\n\r\ntextContentMobile : {\r\n  color : \"#666f77\",\r\n  fontSize : \"0.9rem\",\r\n  textAlign: \"justify\",\r\n  paddingLeft: \"8px\",\r\n  paddingRight: \"20px\",\r\n  lineHeight: \"2.2em\",\r\n  fontWeight : \"400\"\r\n},\r\n\r\n}));\r\n\r\n\r\n\r\n\r\nexport default function AgreementForm() {\r\n  const [state, setState] = React.useContext(GlobalState);\r\n  const classes = useStyles();\r\n\r\n\r\n  //// ** Dialog\r\n\r\n  const [check, setCheck] = React.useState({});\r\n\r\n  const [error, setError] = React.useState(false);\r\n\r\n  const [open, setOpen] = React.useState(false);\r\n  const [scroll, setScroll] = React.useState('paper');\r\n\r\n  const descriptionElementRef = React.useRef(null);\r\n  React.useEffect(() => {\r\n    if (open) {\r\n      const { current: descriptionElement } = descriptionElementRef;\r\n      if (descriptionElement !== null) {\r\n        descriptionElement.focus();\r\n      }\r\n    }\r\n  }, [open]);\r\n\r\n  React.useEffect( () => \r\n  {    \r\n    if (check.check1 && check.check2 && check.check3 && check.check4)\r\n    {\r\n        setError(false);\r\n    }\r\n  } , [check]);\r\n\r\n\r\n  const handleClickOpen = (scrollType) => () => {\r\n    setOpen(true);\r\n    setScroll(scrollType);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const checkClicked = (event, id) =>\r\n  {\r\n    switch (id)\r\n    {\r\n        case 1: \r\n            setCheck({...check, check1:event.target.checked});\r\n            break;\r\n        case 2: \r\n            setCheck({...check, check2:event.target.checked});\r\n            break;\r\n        case 3: \r\n            setCheck({...check, check3:event.target.checked});\r\n            break;\r\n        case 4: \r\n            setCheck({...check, check4:event.target.checked});\r\n            break;\r\n        default:\r\n                break;\r\n\r\n    }\r\n\r\n  }\r\n\r\n const backButtonClicked = (event) =>\r\n {\r\n     setState(state => ({...state, getStarted:false}));\r\n }\r\n\r\n\r\nconst getAgreeClicked = (event) => {\r\n    if (check.check1 && check.check2 && check.check3 && check.check4)\r\n    {\r\n        setState(state => ({...state, agreed: true}));\r\n    }\r\n    else\r\n    {\r\n        setError(true);\r\n    }\r\n}\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <CssBaseline />\r\n      <AppBar position=\"absolute\" color=\"default\" className={classes.appBar}>\r\n        <Toolbar>\r\n\r\n\r\n        <Grid\r\n            container\r\n            direction=\"row\"\r\n            spacing= {1}\r\n            justify=\"center\"\r\n            alignItems=\"center\"\r\n        >\r\n\r\n\r\n            <Grid item item xs={10}>\r\n                  <Typography  style={{fontWeight: \"400\"}} variant=\"h6\" color=\"inherit\" noWrap>\r\n                    Medical Express Clinic\r\n                  </Typography>\r\n            </Grid>\r\n\r\n            <Grid item xs={2}>\r\n                    <img className={classes.logoImage} src={logoImage} alt=\"logo image\"/> \r\n            </Grid>\r\n\r\n\r\n        \r\n        </Grid>  \r\n        </Toolbar>\r\n      </AppBar>\r\n      <main className={classes.layout}>\r\n        <Paper className={classes.paper}>\r\n\r\n\r\n          <Typography style={{ marginBottom: \"30px\"}} component=\"h1\" variant=\"h6\" align=\"left\">\r\n              Patients wishing to book an appointment must confirm that:\r\n          </Typography>\r\n\r\n\r\n                <Grid container  direction=\"column\"  justify=\"flex-start\" alignItems=\"flex-start\" spacing={3}>\r\n\r\n                <Grid item xs={12}  >\r\n\r\n                        <FormControlLabel \r\n                            control={<Checkbox  color=\"secondary\" name=\"check1\" checked={check.check1} onChange={(event => checkClicked(event,1))} />}\r\n                            label={<span style={{ fontSize: '1rem' }}>{`I do not have a fever`} \r\n                            </span>}\r\n                        />\r\n                </Grid>\r\n\r\n                <Grid item xs={12}  >\r\n\r\n                        <FormControlLabel\r\n                                    control={<Checkbox color=\"secondary\" name=\"check2\"checked={check.check2} onChange={(event => checkClicked(event,2))} />}\r\n                                    label={<span style={{ fontSize: '1rem' }}>{`I do not have a new, continuous cough`} \r\n                                    </span>}\r\n                                />\r\n                </Grid>\r\n\r\n                <Grid item xs={12}  >\r\n\r\n                    <FormControlLabel\r\n                                control={<Checkbox color=\"secondary\" name=\"check3\" checked={check.check3} onChange={(event => checkClicked(event,3))} />}\r\n                                label={<span style={{ fontSize: '1rem' }}>{`I do not have shortness of breath`} \r\n                                </span>}\r\n                            />\r\n                    </Grid>\r\n\r\n                \r\n                <Grid item xs={12}  >\r\n\r\n                    <FormControlLabel\r\n                                control={<Checkbox color=\"secondary\" name=\"check4\" checked={check.check4} onChange={(event => checkClicked(event,4))}  />}\r\n                                label={<span style={{ fontSize: '1rem' }}>{`I have not been in contact with someone suspected or known to have coronavirus`} \r\n                                </span>}\r\n                            />\r\n                    </Grid>\r\n\r\n                </Grid>\r\n\r\n            <p className={isMobile ? classes.textContentMobile : classes.textContent}>\r\n                 If you cannot confirm all the points stated above, you must not proceed any further and must self-isolate for the next 14 days. Please click the box to agree to these terms.\r\n            </p>\r\n\r\n            {error && (\r\n                <Alert severity=\"error\">You need to check all the terms to proceed! </Alert>\r\n            )}\r\n            \r\n\r\n        <Button \r\n                // variant=\"contained\" \r\n                className={classes.getStartedButton} \r\n                style = {{marginRight : \"20px\"}}\r\n                color=\"default\"\r\n                onClick={backButtonClicked}\r\n                onTouchTap={backButtonClicked} \r\n                >\r\n        Back\r\n        </Button>\r\n\r\n          <Button \r\n                  variant=\"contained\" \r\n                  className={classes.getStartedButton} \r\n                  color=\"primary\"\r\n                  onClick={getAgreeClicked}\r\n                  onTouchTap={getAgreeClicked} \r\n                  >\r\n            Agree\r\n         </Button>\r\n      \r\n\r\n        </Paper>\r\n\r\n        <Button \r\n                  variant=\"contained\" \r\n                  className={classes.privacyButton} \r\n                  color=\"secondary\"\r\n                  startIcon={<HttpsIcon/>}\r\n                  onClick={handleClickOpen('paper')}\r\n                  onTouchTap={handleClickOpen('paper')} \r\n                  >\r\n             Privacy\r\n         </Button>\r\n         <Dialog\r\n                        open={open}\r\n                        onClose={handleClose}\r\n                        scroll={scroll}\r\n                        aria-labelledby=\"scroll-dialog-title\"\r\n                        aria-describedby=\"scroll-dialog-description\"\r\n                      >\r\n                        <DialogTitle id=\"scroll-dialog-title\">Application Disclaimer</DialogTitle>\r\n                        <DialogContent dividers={scroll === 'paper'}>\r\n                          <DialogContentText\r\n                            id=\"scroll-dialog-description\"\r\n                            ref={descriptionElementRef}\r\n                            tabIndex={-1}\r\n                          >\r\n                            <div style={{textAlign:\"justify\", padding:\"10px\"}}>\r\n                              Medical Express Clinic will not contact you for any other reason than to share your test results, and certificate if selected, via the email address provided. The information provided to us via this registration form is never shared with any other organisations, except when this is required by law. \r\n\r\n                                Information provided will never be used for marketing purposes, you cannot opt in.\r\n\r\n                                In the case of a positive swab result, our doctor will call on the telephone number provided to inform you of your result and provide additional advice or guidance.\r\n                          </div>\r\n                          </DialogContentText>\r\n                        </DialogContent>\r\n                        <DialogActions>\r\n                          <Button onClick={handleClose} color=\"primary\">\r\n                            Close\r\n                          </Button>\r\n                      \r\n                        </DialogActions>\r\n      </Dialog>\r\n\r\n\r\n\r\n\r\n        <Copyright />\r\n      </main>\r\n    </React.Fragment>\r\n  );\r\n}","import './App.css';\nimport Checkout from './checkout';\nimport WelcomeForm from './WelcomeForm';\nimport AgreementForm from './AgreementForm';\nimport GlobalState from './GlobalState'; \nimport React from 'react';\n\nfunction App() {\n  const [state, setState] = React.useState({activeStep : 0, bookingDate: new Date(), persons: []});\n  return (\n    <GlobalState.Provider value={[state, setState]}>\n      <div className=\"App\">\n\n\n        \n        {!state.getStarted && ( <WelcomeForm/> )}\n        {state.getStarted && !state.agreed && ( <AgreementForm/>  )}\n        {state.getStarted && state.agreed  && ( <Checkout/>  )}\n\n       \n      </div>\n    </GlobalState.Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n// import reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n","\r\n\r\nconst calculatePrice = (person) =>\r\n{\r\n\r\n    var price = 199;\r\n    \r\n    if (person.certificate)\r\n    {\r\n        price += 50;\r\n    }\r\n\r\n    if (person.antiBodyTest)\r\n    {\r\n        price += 99;\r\n    }\r\n\r\n    return price;\r\n\r\n}\r\n\r\nconst calculateTotalPrice = (persons) =>\r\n{\r\n    var totalPrice = 0;\r\n    for (var i = 0 ; i < persons.length ; i++)\r\n    {\r\n        totalPrice += calculatePrice(persons[i]);\r\n    }\r\n\r\n    return totalPrice;\r\n}\r\n\r\nmodule.exports = {\r\n    calculatePrice : calculatePrice,\r\n    calculateTotalPrice : calculateTotalPrice\r\n}"],"sourceRoot":""}