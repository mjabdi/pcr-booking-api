(this["webpackJsonppcr-booking-ui"]=this["webpackJsonppcr-booking-ui"]||[]).push([[0],{122:function(e,t,a){},123:function(e,t,a){},147:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a(0),c=a.n(i),s=a(13),r=a.n(s),l=(a(122),a(8)),o=(a(123),a(7)),j=a(11),d=a(192),b=a(209),u=a(210),m=a(198),h=a(148),x=a(218),p=a(211),O=a(216),f=a(197),g=a(208),N=a(97),v=a(18),D=a(212),T=a(57),y=c.a.createContext([{},function(){}]),k=a(34),C=a(19),S=a(92),w=a.n(S).a.create({baseURL:"https://www.travelpcrtest.com/",headers:{Authorization:"Basic QXp1cmXEaWFtb45kOmh1bnRlcjO="}}),A=function e(){Object(C.a)(this,e)};A.getFirstAvailableDate=function(){return w.get("/api/time/getfirstavaiabledate")},A.getFullyBookedDates=function(){return w.get("/api/time/getfullybookeddays")},A.getTimeSlots=function(e){return w.get("/api/time/gettimeslots?date=".concat(e))};var F=a(196),E=a(202),B=null,R=[],I=Object(d.a)((function(e){return{loadingBox:{}}}));function W(){I();var e,t=c.a.useContext(y),a=Object(l.a)(t,2),i=a[0],s=a[1],r=c.a.useState(null!==(e=i.bookingDate)&&void 0!==e?e:new Date),j=Object(l.a)(r,2),d=j[0],b=j[1],u=c.a.useState(!1),m=Object(l.a)(u,2),h=m[0];!function(e){var t=A.getFirstAvailableDate(),a=A.getFullyBookedDates();Promise.all([t,a]).then((function(t){B=new Date(t[0].data.date),R=t[1],e(!0)})).catch((function(e){console.log(e)}))}(m[1]);var x=function(e){b(e),s((function(t){return Object(o.a)(Object(o.a)({},t),{},{bookingDate:e})}))};return Object(n.jsxs)(c.a.Fragment,{children:[Object(n.jsx)(N.a,{variant:"h6",gutterBottom:!0,children:"Pick a Date"}),h?Object(n.jsx)(c.a.Fragment,{children:Object(n.jsxs)(F.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:[Object(n.jsx)(k.BrowserView,{children:Object(n.jsx)(v.a,{utils:T.a,children:Object(n.jsx)(D.a,{autoOk:!0,disablePast:"true",openTo:"date",orientation:"landscape",variant:"static",fullWidth:!0,value:d,onChange:x,shouldDisableDate:M})})}),Object(n.jsx)(k.MobileView,{children:Object(n.jsx)(v.a,{utils:T.a,children:Object(n.jsx)(D.a,{autoOk:!0,disablePast:"true",openTo:"date",variant:"static",fullWidth:!0,value:d,onChange:x,shouldDisableDate:M})})})]})}):Object(n.jsx)(c.a.Fragment,{children:Object(n.jsxs)(F.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:[Object(n.jsx)(E.a,{variant:"text",width:"80%"}),Object(n.jsx)(E.a,{variant:"text",width:"80%"}),Object(n.jsx)(E.a,{variant:"rect",width:"80%",height:220})]})})]})}var M=function(e){if(e.setHours(0,0,0,0)<B.setHours(0,0,0,0))return!0;if(R&&R.length>0){var t=!1;return R.forEach((function(a,n){var i,c;c=e,(i=a).getFullYear()===c.getFullYear()&&i.getMonth()===c.getMonth()&&i.getDate()===c.getDate()&&(t=!0)})),t}return!1};var P=a(203),q=a(204),L=null,H=Object(d.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},gridList:{},box:{border:"1px solid #999",margin:"5px",padding:"5px",color:"#555",cursor:"pointer","&:hover":{background:"green",color:"#fff"}},boxMobile:{border:"1px solid #999",margin:"5px",padding:"5px",color:"#555",cursor:"pointer"},boxSelected:{backgroundColor:"green",border:"1px solid #999",margin:"5px",padding:"5px",color:"#fff",cursor:"pointer"},boxDisable:{backgroundColor:"#999",border:"1px solid #ddd",margin:"5px",padding:"5px",color:"#fff"}}}));function Y(){for(var e,t=H(),a=c.a.useContext(y),i=Object(l.a)(a,2),s=i[0],r=i[1],j=c.a.useState(null!==(e=s.bookingTime)&&void 0!==e?e:""),d=Object(l.a)(j,2),b=d[0],u=d[1],m=c.a.useState(!1),h=Object(l.a)(m,2),x=h[0],p=h[1],O=[],f=0;f<28;f++)O.push(f);!function(e,t){var a=A.getTimeSlots(e);Promise.all([a]).then((function(e){L=e[0].data,t(!0)})).catch((function(e){console.log(e)}))}(s.bookingDate,p);var g=function(e){e&&(u(e),r(Object(o.a)(Object(o.a)({},s),{},{bookingTime:e})))};return Object(n.jsxs)(c.a.Fragment,{children:[Object(n.jsx)(N.a,{variant:"h6",gutterBottom:!0,children:"Pick a Time"}),x?Object(n.jsxs)(c.a.Fragment,{children:[Object(n.jsx)(k.BrowserView,{children:Object(n.jsx)("div",{className:t.root,children:Object(n.jsx)(P.a,{cellHeight:60,className:t.gridList,cols:4,children:L.map((function(e){return Object(n.jsx)(q.a,{cols:1,children:Object(n.jsx)("div",{onClick:function(){e.available?g(e.time):g(null)},className:e.available?b===e.time?t.boxSelected:t.box:t.boxDisable,children:e.time})},e.time)}))})})}),Object(n.jsx)(k.MobileView,{children:Object(n.jsx)("div",{className:t.root,children:Object(n.jsx)(P.a,{cellHeight:60,className:t.gridList,cols:4,children:L.map((function(e){return Object(n.jsx)(q.a,{cols:1,children:Object(n.jsx)("div",{onClick:function(){e.available?g(e.time):g(null)},className:e.available?b===e.time?t.boxSelected:t.boxMobile:t.boxDisable,children:e.time})},e.time)}))})})})]}):Object(n.jsx)(c.a.Fragment,{children:Object(n.jsx)(F.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:Object(n.jsx)(P.a,{cellHeight:60,className:t.gridList,cols:4,children:O.map((function(e){return Object(n.jsx)(q.a,{cols:1,children:Object(n.jsx)(E.a,{variant:"rect",width:120,height:35})},e)}))})})})]})}var z=a(219),V=a(213),G=a(221),U=a(220),J=a(201),X=a(66),Q=a(217),K=a(206),Z=a(205),$=a(56),_=a.n($),ee=a(49),te=a.n(ee),ae=Object(d.a)((function(e){return{box:{backgroundColor:"#373737",color:"#fff",padding:"1px",borderRadius:"4px",textAlign:"justify",paddingRight:"40px"},boxRed:{backgroundColor:"#dc2626",color:"#fff",padding:"1px",borderRadius:"4px",textAlign:"justify",paddingRight:"40px"},boxInfo:{textAlign:"justify",backgroundColor:"#fafafa",color:"#333",padding:"1px",borderRadius:"4px",paddingRight:"40px",border:"1px solid #eee"},ul:{listStyle:"none",padding:"0",margin:"0"},li:{marginBottom:"5px"},icon:{marginRight:"8px"},root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0,color:e.palette.text.secondary},secondaryHeading:{fontSize:e.typography.pxToRem(15)},infoDetails:{textAlign:"left"},infoTitle:{fontWeight:"800",marginRight:"10px"},infoData:{fontWeight:"400"},title:{textAlign:"left",fontWeight:"600",marginLeft:"10px"},Accordion:{backgroundColor:"#f5f5f5",color:"#222"}}}));function ne(){var e=ae(),t=c.a.useContext(y),a=Object(l.a)(t,2),i=a[0],s=(a[1],c.a.useState(!1)),r=Object(l.a)(s,2),o=r[0],j=r[1];return Object(n.jsx)(c.a.Fragment,{children:Object(n.jsxs)(F.a,{container:!0,direction:"column",spacing:1,justify:"flex-start",alignItems:"stretch",children:[i.persons&&i.persons.length>0&&Object(n.jsx)("span",{className:e.title,children:" Persons added so far :"}),i.persons.map((function(t,a){var i,c,s;return Object(n.jsx)(F.a,{item:!0,xs:12,md:12,children:Object(n.jsx)("div",{className:e.root,children:Object(n.jsxs)(Q.a,{className:e.Accordion,expanded:o==="panel".concat(a),onChange:(s="panel".concat(a),function(e,t){j(!!t&&s)}),children:[Object(n.jsxs)(Z.a,{expandIcon:Object(n.jsx)(_.a,{}),"aria-controls":"panel1bh-content",id:"panel".concat(a,"bh-header"),children:[Object(n.jsxs)(N.a,{className:e.heading,children:[" ","#".concat(a+1)," "]}),Object(n.jsx)(N.a,{className:e.secondaryHeading,children:"".concat(t.firstname," ").concat(t.lastname)})]}),Object(n.jsx)(K.a,{className:e.infoDetails,children:Object(n.jsxs)("ul",{className:e.ul,children:[Object(n.jsxs)("li",{className:e.li,children:[Object(n.jsx)("span",{className:e.infoTitle,children:"Gender"})," ",Object(n.jsx)("span",{className:e.infoData,children:t.gender})]}),Object(n.jsxs)("li",{className:e.li,children:[Object(n.jsx)("span",{className:e.infoTitle,children:"Title"}),"  ",Object(n.jsx)("span",{className:e.infoData,children:t.title})]}),Object(n.jsxs)("li",{className:e.li,children:[Object(n.jsx)("span",{className:e.infoTitle,children:"Forename"})," ",Object(n.jsx)("span",{className:e.infoData,children:t.firstname})]}),Object(n.jsxs)("li",{className:e.li,children:[Object(n.jsx)("span",{className:e.infoTitle,children:"Surname"})," ",Object(n.jsx)("span",{className:e.infoData,children:t.lastname})]}),Object(n.jsxs)("li",{className:e.li,children:[Object(n.jsx)("span",{className:e.infoTitle,children:"Email"})," ",Object(n.jsx)("span",{className:e.infoData,children:t.email})]}),Object(n.jsxs)("li",{className:e.li,children:[Object(n.jsx)("span",{className:e.infoTitle,children:"D.O.B"})," ",Object(n.jsx)("span",{className:e.infoData,children:te()(new Date(t.birthDate),"dd mmm yyyy")})]}),Object(n.jsxs)("li",{className:e.li,children:[Object(n.jsx)("span",{className:e.infoTitle,children:"Telephone"})," ",Object(n.jsx)("span",{className:e.infoData,children:t.phone})]}),Object(n.jsxs)("li",{className:e.li,children:[Object(n.jsx)("span",{className:e.infoTitle,children:"Post Code"})," ",Object(n.jsx)("span",{className:e.infoData,children:t.postCode})]}),Object(n.jsxs)("li",{className:e.li,children:[Object(n.jsx)("span",{className:e.infoTitle,children:"Address"})," ",Object(n.jsx)("span",{className:e.infoData,children:t.address})]}),Object(n.jsxs)("li",{className:e.li,children:[Object(n.jsx)("span",{className:e.infoTitle,children:"Notes"})," ",Object(n.jsx)("span",{className:e.infoData,children:null!==(i=t.notes)&&void 0!==i?i:"N/A"})]}),Object(n.jsxs)("li",{className:e.li,children:[Object(n.jsx)("span",{className:e.infoTitle,children:"Passport No."})," ",Object(n.jsx)("span",{className:e.infoData,children:null!==(c=t.passportNumber)&&void 0!==c?c:"N/A"})]})]})})]})})})}))]})})}var ie=Object(d.a)((function(e){return{formControl:{textAlign:"left"},FormTitle:{marginTop:"20px",marginBottom:"20px"}}}));function ce(){var e,t,a,i,s,r,j=ie(),d=c.a.useContext(y),b=Object(l.a)(d,2),u=b[0],m=b[1],h=c.a.useState(null!==(e=u.birthDate)&&void 0!==e?e:null),x=Object(l.a)(h,2),p=x[0],O=x[1],f=c.a.useState(null!==(t=u.firstname)&&void 0!==t?t:""),g=Object(l.a)(f,2),k=g[0],C=g[1],S=c.a.useState(null!==(a=u.lastname)&&void 0!==a?a:""),w=Object(l.a)(S,2),A=w[0],E=w[1],B=c.a.useState(null!==(i=u.email)&&void 0!==i?i:""),R=Object(l.a)(B,2),I=R[0],W=R[1],M=c.a.useState(null!==(s=u.gender)&&void 0!==s?s:""),P=Object(l.a)(M,2),q=P[0],L=P[1],H=c.a.useState(null!==(r=u.title)&&void 0!==r?r:""),Y=Object(l.a)(H,2),Q=Y[0],K=Y[1];return Object(n.jsxs)(c.a.Fragment,{children:[Object(n.jsx)(ne,{}),0===u.persons.length&&Object(n.jsx)(N.a,{className:j.FormTitle,variant:"h6",gutterBottom:!0,children:"Fill Your Basic Info"}),u.persons.length>0&&Object(n.jsx)(N.a,{className:j.FormTitle,variant:"h6",gutterBottom:!0,children:"Fill Basic Info"}),Object(n.jsxs)(F.a,{container:!0,spacing:3,alignItems:"baseline",children:[Object(n.jsx)(F.a,{item:!0,xs:12,md:6,children:Object(n.jsxs)(J.a,{className:j.formControl,fullWidth:!0,required:!0,children:[Object(n.jsx)(U.a,{id:"gender-label-id",children:"Gender"}),Object(n.jsxs)(V.a,{error:!!u.genderError,fullWidth:!0,labelId:"gender-label-id",id:"gender-id",value:q,onChange:function(e){L(e.target.value),m((function(t){return Object(o.a)(Object(o.a)({},t),{},{gender:e.target.value})})),m((function(e){return Object(o.a)(Object(o.a)({},e),{},{genderError:!1})}))},children:[Object(n.jsx)(G.a,{value:"Male",children:"Male"}),Object(n.jsx)(G.a,{value:"Female",children:"Female"})]})]})}),Object(n.jsx)(F.a,{item:!0,xs:12,md:6,children:Object(n.jsxs)(J.a,{className:j.formControl,fullWidth:!0,required:!0,children:[Object(n.jsx)(U.a,{id:"title-label-id",children:"Title"}),Object(n.jsxs)(V.a,{error:!!u.titleError,fullWidth:!0,labelId:"title-label-id",id:"title-id",value:Q,onChange:function(e){K(e.target.value),m((function(t){return Object(o.a)(Object(o.a)({},t),{},{title:e.target.value})})),m((function(e){return Object(o.a)(Object(o.a)({},e),{},{titleError:!1})}))},children:[Object(n.jsx)(G.a,{value:"Mr",children:"Mr"}),Object(n.jsx)(G.a,{value:"Mrs",children:"Mrs"}),Object(n.jsx)(G.a,{value:"Miss",children:"Miss"}),Object(n.jsx)(G.a,{value:"Ms",children:"Ms"}),Object(n.jsx)(G.a,{value:"Dr",children:"Dr"})]})]})}),Object(n.jsx)(F.a,{item:!0,xs:12,md:6,children:Object(n.jsx)(z.a,{error:!!u.firstnameError,required:!0,id:"firstName",label:"First Name",fullWidth:!0,autoComplete:"given-name",value:k,onChange:function(e){C(e.target.value),m((function(t){return Object(o.a)(Object(o.a)({},t),{},{firstname:e.target.value})})),e.target.value&&e.target.value.trim().length>=3&&m((function(e){return Object(o.a)(Object(o.a)({},e),{},{firstnameError:!1})}))}})}),Object(n.jsx)(F.a,{item:!0,xs:12,md:6,children:Object(n.jsx)(z.a,{error:!!u.lastnameError,required:!0,id:"lastName",label:"Last Name",fullWidth:!0,autoComplete:"family-name",value:A,onChange:function(e){E(e.target.value),m((function(t){return Object(o.a)(Object(o.a)({},t),{},{lastname:e.target.value})})),e.target.value&&e.target.value.trim().length>=3&&m((function(e){return Object(o.a)(Object(o.a)({},e),{},{lastnameError:!1})}))}})}),Object(n.jsx)(F.a,{item:!0,xs:12,md:6,children:Object(n.jsx)(v.a,{utils:T.a,children:Object(n.jsx)(D.b,{error:!!u.birthDateError,autoOk:!0,fullWidth:!0,variant:"inline",label:"Birthdate",format:"dd/MM/yyyy",disableFuture:!0,InputAdornmentProps:{position:"start"},helperText:"dd/MM/yyyy",value:p,onChange:function(e){O(e),m((function(t){return Object(o.a)(Object(o.a)({},t),{},{birthDate:e})})),m((function(e){return Object(o.a)(Object(o.a)({},e),{},{birthDateError:!1})}))}})})}),Object(n.jsx)(F.a,{item:!0,xs:12,md:6,children:Object(n.jsx)(z.a,{error:!!u.emailError,required:!0,id:"email",label:"Email Address",fullWidth:!0,autoComplete:"email",type:"email",value:I,onChange:function(e){W(e.target.value),m((function(t){return Object(o.a)(Object(o.a)({},t),{},{email:e.target.value})})),e.target.value&&X.validate(e.target.value)&&m((function(e){return Object(o.a)(Object(o.a)({},e),{},{emailError:!1})}))}})})]})]})}var se=a(68),re=a(45),le=a(94),oe=a.n(le);function je(e,t,a){var n=!1;return 1===a?e.bookingTime||(t((function(e){return Object(o.a)(Object(o.a)({},e),{},{bookingTimeError:!0})})),n=!0):2===a?(e.gender||(t((function(e){return Object(o.a)(Object(o.a)({},e),{},{genderError:!0})})),n=!0),e.title||(t((function(e){return Object(o.a)(Object(o.a)({},e),{},{titleError:!0})})),n=!0),(!e.firstname||e.firstname.trim().length<3)&&(t((function(e){return Object(o.a)(Object(o.a)({},e),{},{firstnameError:!0})})),n=!0),(!e.lastname||e.lastname.trim().length<3)&&(t((function(e){return Object(o.a)(Object(o.a)({},e),{},{lastnameError:!0})})),n=!0),e.birthDate||(t((function(e){return Object(o.a)(Object(o.a)({},e),{},{birthDateError:!0})})),n=!0),e.email&&X.validate(e.email)||(t((function(e){return Object(o.a)(Object(o.a)({},e),{},{emailError:!0})})),n=!0)):3===a&&((!e.phone||e.phone.trim().length<6)&&(t((function(e){return Object(o.a)(Object(o.a)({},e),{},{phoneError:!0})})),n=!0),(!e.postCode||e.postCode.trim().length<5)&&(t((function(e){return Object(o.a)(Object(o.a)({},e),{},{postCodeError:!0})})),n=!0),(!e.address||e.address.trim().length<10)&&(t((function(e){return Object(o.a)(Object(o.a)({},e),{},{addressError:!0})})),n=!0),e.certificate&&(!e.passportNumber||e.passportNumber.trim().length<6)&&(t((function(e){return Object(o.a)(Object(o.a)({},e),{},{passportNumberError:!0})})),n=!0),n||t((function(e){return Object(o.a)(Object(o.a)({},e),{},{proceedToSubmit:!1})}))),!n}var de=Object(d.a)((function(e){return{box:{backgroundColor:"#373737",color:"#fff",padding:"1px",borderRadius:"4px",textAlign:"justify",paddingRight:"40px"},boxRed:{backgroundColor:"#dc2626",color:"#fff",padding:"1px",borderRadius:"4px",textAlign:"justify",paddingRight:"40px"},boxInfo:{textAlign:"justify",backgroundColor:"#fafafa",color:"#333",padding:"1px",borderRadius:"4px",paddingRight:"40px",border:"1px solid #eee"},ul:{listStyle:"none",padding:"0",margin:"0"},li:{marginBottom:"5px"},icon:{marginRight:"8px"},root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0,color:e.palette.text.secondary},secondaryHeading:{fontSize:e.typography.pxToRem(15)},infoDetails:{textAlign:"left"},infoTitle:{fontWeight:"800",marginRight:"10px"},infoData:{fontWeight:"400"},title:{textAlign:"center",fontWeight:"500",margin:"10px",backgroundColor:"#eee",padding:"10px",borderRadius:"4px"},Accordion:{backgroundColor:"#f5f5f5",color:"#222"},terms:{fontWeight:"500",textAlign:"justify",marginTop:"10px",padding:"10px"},link:{color:"#dc2626",textDecoration:"none"},AddAnother:{marginTop:"10px"}}}));function be(){var e,t,a=de(),i=c.a.useContext(y),s=Object(l.a)(i,2),r=s[0],j=s[1],d=c.a.useState(!1),b=Object(l.a)(d,2),u=b[0],m=b[1],h=function(e){return function(t,a){m(!!a&&e)}},x=function(){if(je(r,j,2)&&je(r,j,3)){var e={gender:r.gender,title:r.title,firstname:r.firstname,lastname:r.lastname,birthDate:r.birthDate,email:r.email,phone:r.phone,postCode:r.postCode,address:r.address,notes:r.notes,certificate:r.certificate,passportNumber:r.passportNumber},t=r.persons;t.push(e),j((function(e){return{activeStep:2,bookingDate:e.bookingDate,bookingTime:e.bookingTime,persons:t}}))}else j((function(e){return Object(o.a)(Object(o.a)({},e),{},{activeStep:2})}))};return Object(n.jsxs)(c.a.Fragment,{children:[Object(n.jsx)(N.a,{variant:"h6",gutterBottom:!0,children:"Review Your Data"}),Object(n.jsxs)(F.a,{container:!0,direction:"column",spacing:1,justify:"flex-start",alignItems:"stretch",children:[Object(n.jsx)(F.a,{item:!0,xs:12,md:12,children:Object(n.jsx)("div",{className:a.box,children:Object(n.jsxs)("ul",{className:a.ul,children:[Object(n.jsxs)("li",{className:a.li,children:[Object(n.jsx)(se.a,{icon:re.a,className:a.icon}),te()(new Date(r.bookingDate),"dd-mmmm-yyyy")]}),Object(n.jsxs)("li",{className:a.li,children:[Object(n.jsx)(se.a,{icon:re.c,className:a.icon}),"Check-up Duration: 30 minutes"]})]})})}),Object(n.jsx)(F.a,{item:!0,xs:12,md:12,children:Object(n.jsx)("div",{className:a.box,children:Object(n.jsx)("ul",{className:a.ul,children:Object(n.jsxs)("li",{className:a.li,children:[Object(n.jsx)(se.a,{icon:re.b,className:a.icon}),"Time: ",r.bookingTime]})})})}),Object(n.jsx)(F.a,{item:!0,xs:12,md:12,children:Object(n.jsx)("div",{className:a.box,children:Object(n.jsx)("ul",{className:a.ul,children:Object(n.jsx)("li",{className:a.li,children:"Package : In-Clinic Test"})})})}),Object(n.jsx)(F.a,{item:!0,xs:12,md:12,children:Object(n.jsx)("div",{className:a.box,children:Object(n.jsx)("ul",{className:a.ul,children:Object(n.jsx)("li",{className:a.li,children:"Price : \xa3199"})})})}),Object(n.jsx)(F.a,{item:!0,xs:12,md:12,children:Object(n.jsx)("div",{className:a.box,children:Object(n.jsx)("ul",{className:a.ul,children:Object(n.jsx)("li",{className:a.li,children:"This time slot is not guaranteed, due to nature of healthcare there might be slight delay to your appointment."})})})}),Object(n.jsx)(F.a,{item:!0,xs:12,md:12,children:Object(n.jsx)("div",{className:a.boxRed,children:Object(n.jsx)("ul",{className:a.ul,children:Object(n.jsx)("li",{className:a.li,children:"During the coronavirus pandemic, we must confirm appointments in order to maintain social distancing, we will email you to confirm your booking if your selected time is possible. If not, we will contact you with the nearest availability to your request. Thank you for understanding."})})})}),Object(n.jsx)("span",{className:a.title,children:" Appointment is for the following people :"}),r.persons.map((function(e,t){var i,c;return Object(n.jsx)(F.a,{item:!0,xs:12,md:12,children:Object(n.jsx)("div",{className:a.root,children:Object(n.jsxs)(Q.a,{className:a.Accordion,expanded:u==="panel".concat(t),onChange:h("panel".concat(t)),children:[Object(n.jsxs)(Z.a,{expandIcon:Object(n.jsx)(_.a,{}),"aria-controls":"panel1bh-content",id:"panel".concat(t,"bh-header"),children:[Object(n.jsxs)(N.a,{className:a.heading,children:[" ","#".concat(t+1)," "]}),Object(n.jsx)(N.a,{className:a.secondaryHeading,children:"".concat(e.firstname," ").concat(e.lastname)})]}),Object(n.jsx)(K.a,{className:a.infoDetails,children:Object(n.jsxs)("ul",{className:a.ul,children:[Object(n.jsxs)("li",{className:a.li,children:[Object(n.jsx)("span",{className:a.infoTitle,children:"Gender"})," ",Object(n.jsx)("span",{className:a.infoData,children:e.gender})]}),Object(n.jsxs)("li",{className:a.li,children:[Object(n.jsx)("span",{className:a.infoTitle,children:"Title"}),"  ",Object(n.jsx)("span",{className:a.infoData,children:e.title})]}),Object(n.jsxs)("li",{className:a.li,children:[Object(n.jsx)("span",{className:a.infoTitle,children:"Forename"})," ",Object(n.jsx)("span",{className:a.infoData,children:e.firstname})]}),Object(n.jsxs)("li",{className:a.li,children:[Object(n.jsx)("span",{className:a.infoTitle,children:"Surname"})," ",Object(n.jsx)("span",{className:a.infoData,children:e.lastname})]}),Object(n.jsxs)("li",{className:a.li,children:[Object(n.jsx)("span",{className:a.infoTitle,children:"Email"})," ",Object(n.jsx)("span",{className:a.infoData,children:e.email})]}),Object(n.jsxs)("li",{className:a.li,children:[Object(n.jsx)("span",{className:a.infoTitle,children:"D.O.B"})," ",Object(n.jsx)("span",{className:a.infoData,children:te()(new Date(e.birthDate),"dd mmm yyyy")})]}),Object(n.jsxs)("li",{className:a.li,children:[Object(n.jsx)("span",{className:a.infoTitle,children:"Telephone"})," ",Object(n.jsx)("span",{className:a.infoData,children:e.phone})]}),Object(n.jsxs)("li",{className:a.li,children:[Object(n.jsx)("span",{className:a.infoTitle,children:"Post Code"})," ",Object(n.jsx)("span",{className:a.infoData,children:e.postCode})]}),Object(n.jsxs)("li",{className:a.li,children:[Object(n.jsx)("span",{className:a.infoTitle,children:"Address"})," ",Object(n.jsx)("span",{className:a.infoData,children:e.address})]}),Object(n.jsxs)("li",{className:a.li,children:[Object(n.jsx)("span",{className:a.infoTitle,children:"Notes"})," ",Object(n.jsx)("span",{className:a.infoData,children:null!==(i=e.notes)&&void 0!==i?i:"N/A"})]}),Object(n.jsxs)("li",{className:a.li,children:[Object(n.jsx)("span",{className:a.infoTitle,children:"Passport No."})," ",Object(n.jsx)("span",{className:a.infoData,children:null!==(c=e.passportNumber)&&void 0!==c?c:"N/A"})]})]})})]})})})})),!r.proceedToSubmit&&Object(n.jsx)(F.a,{item:!0,xs:12,md:12,children:Object(n.jsx)("div",{className:a.root,children:Object(n.jsxs)(Q.a,{className:a.Accordion,expanded:"panel10"===u,onChange:h("panel10"),children:[Object(n.jsxs)(Z.a,{expandIcon:Object(n.jsx)(_.a,{}),"aria-controls":"panel10bh-content",id:"panel10bh-header",children:[Object(n.jsxs)(N.a,{className:a.heading,children:[" ","#".concat(r.persons.length+1)," "]}),Object(n.jsx)(N.a,{className:a.secondaryHeading,children:"".concat(r.firstname," ").concat(r.lastname)})]}),Object(n.jsx)(K.a,{className:a.infoDetails,children:Object(n.jsxs)("ul",{className:a.ul,children:[Object(n.jsxs)("li",{className:a.li,children:[Object(n.jsx)("span",{className:a.infoTitle,children:"Gender"})," ",Object(n.jsx)("span",{className:a.infoData,children:r.gender})]}),Object(n.jsxs)("li",{className:a.li,children:[Object(n.jsx)("span",{className:a.infoTitle,children:"Title"}),"  ",Object(n.jsx)("span",{className:a.infoData,children:r.title})]}),Object(n.jsxs)("li",{className:a.li,children:[Object(n.jsx)("span",{className:a.infoTitle,children:"Forename"})," ",Object(n.jsx)("span",{className:a.infoData,children:r.firstname})]}),Object(n.jsxs)("li",{className:a.li,children:[Object(n.jsx)("span",{className:a.infoTitle,children:"Surname"})," ",Object(n.jsx)("span",{className:a.infoData,children:r.lastname})]}),Object(n.jsxs)("li",{className:a.li,children:[Object(n.jsx)("span",{className:a.infoTitle,children:"Email"})," ",Object(n.jsx)("span",{className:a.infoData,children:r.email})]}),Object(n.jsxs)("li",{className:a.li,children:[Object(n.jsx)("span",{className:a.infoTitle,children:"D.O.B"})," ",Object(n.jsx)("span",{className:a.infoData,children:te()(new Date(r.birthDate),"dd mmm yyyy")})]}),Object(n.jsxs)("li",{className:a.li,children:[Object(n.jsx)("span",{className:a.infoTitle,children:"Telephone"})," ",Object(n.jsx)("span",{className:a.infoData,children:r.phone})]}),Object(n.jsxs)("li",{className:a.li,children:[Object(n.jsx)("span",{className:a.infoTitle,children:"Post Code"})," ",Object(n.jsx)("span",{className:a.infoData,children:r.postCode})]}),Object(n.jsxs)("li",{className:a.li,children:[Object(n.jsx)("span",{className:a.infoTitle,children:"Address"})," ",Object(n.jsx)("span",{className:a.infoData,children:r.address})]}),Object(n.jsxs)("li",{className:a.li,children:[Object(n.jsx)("span",{className:a.infoTitle,children:"Notes"})," ",Object(n.jsx)("span",{className:a.infoData,children:null!==(e=r.notes)&&void 0!==e?e:"N/A"})]}),Object(n.jsxs)("li",{className:a.li,children:[Object(n.jsx)("span",{className:a.infoTitle,children:"Passport No."})," ",Object(n.jsx)("span",{className:a.infoData,children:null!==(t=r.passportNumber)&&void 0!==t?t:"N/A"})]})]})})]})})}),(!r.persons||r.persons&&r.persons.length<4)&&Object(n.jsx)("div",{className:a.AddAnother,children:Object(n.jsx)(f.a,{startIcon:Object(n.jsx)(oe.a,{}),color:"primary",onTouchTap:x,onClick:x,className:a.button,children:"Add Another Person"})}),Object(n.jsxs)("div",{className:a.terms,children:["By clicking on submit button you are agreeing with our ",Object(n.jsx)("a",{className:a.link,href:"#",children:"terms and condition."})]})]})]})}var ue=a(207),me=a(214),he=Object(d.a)((function(e){return{formControl:{textAlign:"justify"},FormTitle:{marginTop:"20px",marginBottom:"20px"}}}));function xe(){var e,t,a,i,s,r,j=he(),d=c.a.useContext(y),b=Object(l.a)(d,2),u=b[0],m=b[1],h=c.a.useState(null!==(e=u.phone)&&void 0!==e?e:""),x=Object(l.a)(h,2),p=x[0],O=x[1],f=c.a.useState(null!==(t=u.postCode)&&void 0!==t?t:""),g=Object(l.a)(f,2),v=g[0],D=g[1],T=c.a.useState(null!==(a=u.address)&&void 0!==a?a:""),k=Object(l.a)(T,2),C=k[0],S=k[1],w=c.a.useState(null!==(i=u.notes)&&void 0!==i?i:""),A=Object(l.a)(w,2),E=A[0],B=A[1],R=c.a.useState(null!==(s=u.passportNumber)&&void 0!==s?s:""),I=Object(l.a)(R,2),W=I[0],M=I[1],P=c.a.useState(null!==(r=u.certificate)&&void 0!==r&&r),q=Object(l.a)(P,2),L=q[0],H=q[1];return Object(n.jsxs)(c.a.Fragment,{children:[Object(n.jsx)(ne,{}),0===u.persons.length&&Object(n.jsx)(N.a,{className:j.FormTitle,variant:"h6",gutterBottom:!0,children:"Fill Your Address Info"}),u.persons.length>0&&Object(n.jsx)(N.a,{className:j.FormTitle,variant:"h6",gutterBottom:!0,children:"Fill Address Info"}),Object(n.jsxs)(F.a,{container:!0,spacing:3,alignItems:"baseline",children:[Object(n.jsx)(F.a,{item:!0,xs:12,md:6,children:Object(n.jsx)(z.a,{error:!!u.phoneError,required:!0,id:"phone",label:"Phone Number",fullWidth:!0,autoComplete:"tel",value:p,onChange:function(e){O(e.target.value),m((function(t){return Object(o.a)(Object(o.a)({},t),{},{phone:e.target.value})})),e.target.value&&e.target.value.trim().length>=6&&m((function(e){return Object(o.a)(Object(o.a)({},e),{},{phoneError:!1})}))}})}),Object(n.jsx)(F.a,{item:!0,xs:12,md:6,children:Object(n.jsx)(z.a,{error:!!u.postCodeError,required:!0,id:"postCode",label:"Postal Code",fullWidth:!0,autoComplete:"postal-code",value:v,onChange:function(e){D(e.target.value),m((function(t){return Object(o.a)(Object(o.a)({},t),{},{postCode:e.target.value})})),e.target.value&&e.target.value.trim().length>=5&&m((function(e){return Object(o.a)(Object(o.a)({},e),{},{postCodeError:!1})}))}})}),Object(n.jsx)(F.a,{item:!0,xs:12,children:Object(n.jsx)(z.a,{error:!!u.addressError,required:!0,id:"address",label:"Address",multiline:!0,rowsMax:2,fullWidth:!0,autoComplete:"street-address",value:C,onChange:function(e){S(e.target.value),m((function(t){return Object(o.a)(Object(o.a)({},t),{},{address:e.target.value})})),e.target.value&&e.target.value.trim().length>=10&&m((function(e){return Object(o.a)(Object(o.a)({},e),{},{addressError:!1})}))}})}),Object(n.jsx)(F.a,{item:!0,xs:12,children:Object(n.jsx)(z.a,{placeholder:"Must include flight date & flight time also If there's anything you want to tell the doctor beforehand, enter it here",id:"notes",label:"Notes",helperText:"MUST include flight date & flight time",multiline:!0,rowsMax:2,rows:2,fullWidth:!0,autoComplete:"",value:E,onChange:function(e){B(e.target.value),m((function(t){return Object(o.a)(Object(o.a)({},t),{},{notes:e.target.value})}))}})}),Object(n.jsx)(F.a,{item:!0,xs:12,className:j.formControl,children:Object(n.jsx)(ue.a,{className:j.formControl,control:Object(n.jsx)(me.a,{className:j.formControl,color:"secondary",name:"certificate",checked:L,onChange:function(e){H(e.target.checked),m((function(t){return Object(o.a)(Object(o.a)({},t),{},{certificate:e.target.checked})}))}}),label:Object(n.jsxs)("span",{style:{fontSize:"0.8rem"},children:["I also require a medical certificate signed by a doctor declaring me 'fit-to-fly'."," "]})})}),Object(n.jsx)(F.a,{item:!0,xs:12,hidden:!L,children:Object(n.jsx)(z.a,{error:!!u.passportNumberError,required:!0,id:"passport",label:"Passport Number",helperText:"your passport number will be noted on your certificate",fullWidth:!0,autoComplete:"",value:W,onChange:function(e){M(e.target.value),m((function(t){return Object(o.a)(Object(o.a)({},t),{},{passportNumber:e.target.value})})),e.target.value&&e.target.value.trim().length>=6&&m((function(e){return Object(o.a)(Object(o.a)({},e),{},{passportNumberError:!1})}))}})})]})]})}var pe=function e(){Object(C.a)(this,e)};pe.bookAppointment=function(e){return w.post("/api/book/bookappointment",e)},pe.getNewReference=function(){return w.get("/api/book/getnewreference")};var Oe=a(6),fe=a(222),ge=Object(Oe.a)({root:{maxWidth:"100%",flexGrow:1},progress:{width:"100%"}})(fe.a),Ne=a.p+"static/media/ok.c105a1fa.png";function ve(){return Object(n.jsxs)(N.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",(new Date).getFullYear()," ",Object(n.jsx)(g.a,{color:"inherit",href:"https://www.blood.london/",children:"Blood.London."})," ","All rights reserved"]})}var De=Object(d.a)((function(e){return{appBar:{position:"relative",backgroundColor:"#333",color:"#fff",alignItems:"center"},logo:{maxWidth:160},layout:Object(j.a)({width:"auto",marginLeft:e.spacing(2),marginRight:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(2)),{width:600,marginLeft:"auto",marginRight:"auto"}),paper:Object(j.a)({marginTop:e.spacing(1),marginBottom:e.spacing(3),padding:e.spacing(1)},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(6),marginBottom:e.spacing(6),padding:e.spacing(3)}),stepper:{padding:e.spacing(3,0,5)},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)},bold:{fontWeight:"800",padding:"5px"},doneImage:{width:"240px",height:"150px",margin:"20px"}}})),Te=["Appoinment Date","Appoinment Time","Basic Info","Address Info","Review"];function ye(e){switch(e){case 0:return Object(n.jsx)(W,{});case 1:return Object(n.jsx)(Y,{});case 2:return Object(n.jsx)(ce,{});case 3:return Object(n.jsx)(xe,{});case 4:return Object(n.jsx)(be,{});default:throw new Error("Unknown step")}}function ke(){var e=c.a.useContext(y),t=Object(l.a)(e,2),a=t[0],i=t[1],s=De(),r=function(e){i((function(t){return Object(o.a)(Object(o.a)({},t),{},{activeStep:e})}))},j=c.a.useState(!1),d=Object(l.a)(j,2),g=d[0],v=d[1],D=Te.length,T=function(){i((function(e){return Object(o.a)(Object(o.a)({},e),{},{proceedToSubmit:!0})})),r(4)},C=function(){4===a.activeStep?(v(!0),function(){var e=[];pe.getNewReference().then((function(t){var n=t.data.ref;if(i((function(e){return Object(o.a)(Object(o.a)({},e),{},{ref:n})})),!a.proceedToSubmit){var c={gender:a.gender,title:a.title,firstname:a.firstname,lastname:a.lastname,birthDate:a.birthDate,email:a.email,phone:a.phone,postCode:a.postCode,address:a.address,notes:a.notes,certificate:a.certificate,passportNumber:a.passportNumber},s=pe.bookAppointment(Object(o.a)(Object(o.a)({},c),{},{bookingDate:a.bookingDate,bookingTime:a.bookingTime,bookingRef:n}));e.push(s)}a.persons.forEach((function(t){e.push(pe.bookAppointment(Object(o.a)(Object(o.a)({},t),{},{bookingDate:a.bookingDate,bookingTime:a.bookingTime,bookingRef:n})))})),Promise.all(e).then((function(e){v(!1),r(a.activeStep+1)})).catch((function(e){console.log(e),v(!1)}))})).catch((function(e){console.log(e),v(!1)}))}()):je(a,i,a.activeStep)&&r(a.activeStep+1)},S=function(){r(a.activeStep-1)};return Object(n.jsxs)(c.a.Fragment,{children:[Object(n.jsx)(b.a,{}),Object(n.jsx)(u.a,{position:"absolute",color:"default",className:s.appBar,children:Object(n.jsx)(m.a,{children:Object(n.jsx)(N.a,{variant:"h6",color:"inherit",noWrap:!0,children:"Medical Express Clinic"})})}),Object(n.jsxs)("main",{className:s.layout,children:[Object(n.jsxs)(h.a,{className:s.paper,children:[Object(n.jsx)(N.a,{component:"h1",variant:"h6",align:"center",children:"Book Appointment Online"}),Object(n.jsx)(c.a.Fragment,{children:a.activeStep<Te.length?Object(n.jsxs)(c.a.Fragment,{children:[Object(n.jsx)(k.BrowserView,{children:Object(n.jsx)(x.a,{activeStep:a.activeStep,className:s.stepper,children:Te.map((function(e){return Object(n.jsx)(p.a,{children:Object(n.jsx)(O.a,{children:e})},e)}))})}),Object(n.jsx)(k.MobileView,{children:Object(n.jsx)(ge,{steps:D,position:"static",variant:"progress",activeStep:a.activeStep})})]}):Object(n.jsx)(c.a.Fragment,{})}),Object(n.jsx)(c.a.Fragment,{children:a.activeStep===Te.length?Object(n.jsxs)(c.a.Fragment,{children:[Object(n.jsx)("img",{className:s.doneImage,src:Ne,alt:"Done image"}),Object(n.jsx)(N.a,{variant:"h5",gutterBottom:!0,children:"Thank you for your Booking."}),Object(n.jsx)("br",{}),Object(n.jsxs)(N.a,{variant:"subtitle1",children:["Your booking number is ",Object(n.jsx)("span",{className:s.bold,children:'"'.concat(a.ref,'"')})," . We have emailed your booking information, and will look forward to meet you at the clinic."]})]}):Object(n.jsxs)(c.a.Fragment,{children:[ye(a.activeStep),Object(n.jsxs)("div",{className:s.buttons,children:[0!==a.activeStep&&Object(n.jsx)(f.a,{disabled:g,onClick:S,onTouchTap:S,className:s.button,children:"Back"}),(2===a.activeStep||3===a.activeStep)&&a.persons&&a.persons.length>=1&&Object(n.jsx)(f.a,{color:"secondary",onTouchTap:T,onClick:T,className:s.button,children:"Skip to Submit"}),Object(n.jsx)(f.a,{disabled:g,variant:"contained",color:"primary",onTouchTap:C,onClick:C,className:s.button,children:a.activeStep===Te.length-1?"Submit":"Next"})]})]})})]}),Object(n.jsx)(ve,{})]})]})}var Ce=function(){var e=c.a.useState({activeStep:0,bookingDate:new Date,persons:[]}),t=Object(l.a)(e,2),a=t[0],i=t[1];return Object(n.jsx)(y.Provider,{value:[a,i],children:Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(ke,{children:" "})})})};r.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(Ce,{})}),document.getElementById("root"))}},[[147,1,2]]]);
//# sourceMappingURL=main.fe1bfcef.chunk.js.map