(this["webpackJsonppcr-booking-ui"]=this["webpackJsonppcr-booking-ui"]||[]).push([[0],{120:function(e,t,a){},121:function(e,t,a){},146:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a(0),s=a.n(i),c=a(13),r=a.n(c),l=(a(120),a(8)),o=(a(121),a(7)),j=a(11),d=a(188),b=a(205),u=a(206),m=a(194),h=a(147),x=a(214),O=a(207),p=a(212),f=a(193),g=a(204),N=a(95),v=a(18),D=a(208),y=a(57),T=s.a.createContext([{},function(){}]),k=a(46),C=a(19),w=a(91),S=a.n(w).a.create({baseURL:"http://159.69.76.159",headers:{Authorization:"Basic QXp1cmXEaWFtb45kOmh1bnRlcjO="}}),A=function e(){Object(C.a)(this,e)};A.getFirstAvailableDate=function(){return S.get("/api/time/getfirstavaiabledate")},A.dayIsBooked=function(e){return new Promise((function(e,t){setTimeout((function(){e(!1)}),1e3)}))},A.getFullyBookedDates=function(){return new Promise((function(e,t){var a=new Date;a.setTime(a.getTime()+432e6),setTimeout((function(){e([a])}),0)}))},A.getTimeSlots=function(e){return S.get("/api/time/gettimeslots?date=".concat(e))};var F=a(192),E=a(198),B=null,R=[],I=Object(d.a)((function(e){return{loadingBox:{}}}));function W(){I();var e,t=s.a.useContext(T),a=Object(l.a)(t,2),i=a[0],c=a[1],r=s.a.useState(null!==(e=i.bookingDate)&&void 0!==e?e:new Date),j=Object(l.a)(r,2),d=j[0],b=j[1],u=s.a.useState(!1),m=Object(l.a)(u,2),h=m[0];!function(e){var t=A.getFirstAvailableDate(),a=A.getFullyBookedDates();Promise.all([t,a]).then((function(t){B=new Date(t[0].data.date),R=t[1],e(!0)})).catch((function(e){console.log(e)}))}(m[1]);var x=function(e){b(e),c((function(t){return Object(o.a)(Object(o.a)({},t),{},{bookingDate:e})}))};return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)(N.a,{variant:"h6",gutterBottom:!0,children:"Pick a Date"}),h?Object(n.jsx)(s.a.Fragment,{children:Object(n.jsxs)(F.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:[Object(n.jsx)(k.BrowserView,{children:Object(n.jsx)(v.a,{utils:y.a,children:Object(n.jsx)(D.a,{autoOk:!0,disablePast:"true",openTo:"date",orientation:"landscape",variant:"static",fullWidth:!0,value:d,onChange:x,shouldDisableDate:P})})}),Object(n.jsx)(k.MobileView,{children:Object(n.jsx)(v.a,{utils:y.a,children:Object(n.jsx)(D.a,{autoOk:!0,disablePast:"true",openTo:"date",variant:"static",fullWidth:!0,value:d,onChange:x,shouldDisableDate:P})})})]})}):Object(n.jsx)(s.a.Fragment,{children:Object(n.jsxs)(F.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:[Object(n.jsx)(E.a,{variant:"text",width:"80%"}),Object(n.jsx)(E.a,{variant:"text",width:"80%"}),Object(n.jsx)(E.a,{variant:"rect",width:"80%",height:220})]})})]})}var P=function(e){if(e.setHours(0,0,0,0)<B.setHours(0,0,0,0))return!0;if(R&&R.length>0){var t=!1;return R.forEach((function(a,n){var i,s;s=e,(i=a).getFullYear()===s.getFullYear()&&i.getMonth()===s.getMonth()&&i.getDate()===s.getDate()&&(t=!0)})),t}return!1};var M=a(199),L=a(200),q=null,H=Object(d.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},gridList:{},box:{border:"1px solid #999",margin:"5px",padding:"5px",color:"#555",cursor:"pointer","&:hover":{background:"green",color:"#fff"}},boxSelected:{backgroundColor:"green",border:"1px solid #999",margin:"5px",padding:"5px",color:"#fff",cursor:"pointer"},boxDisable:{backgroundColor:"#999",border:"1px solid #ddd",margin:"5px",padding:"5px",color:"#fff"}}}));function Y(){for(var e,t=H(),a=s.a.useContext(T),i=Object(l.a)(a,2),c=i[0],r=i[1],j=s.a.useState(null!==(e=c.bookingTime)&&void 0!==e?e:""),d=Object(l.a)(j,2),b=d[0],u=d[1],m=s.a.useState(!1),h=Object(l.a)(m,2),x=h[0],O=h[1],p=[],f=0;f<28;f++)p.push(f);!function(e,t){var a=A.getTimeSlots(e);Promise.all([a]).then((function(e){q=e[0].data,t(!0)})).catch((function(e){console.log(e)}))}(c.bookingDate,O);var g=function(e){e&&(u(e),r(Object(o.a)(Object(o.a)({},c),{},{bookingTime:e})))};return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)(N.a,{variant:"h6",gutterBottom:!0,children:"Pick a Time"}),x?Object(n.jsx)(s.a.Fragment,{children:Object(n.jsx)("div",{className:t.root,children:Object(n.jsx)(M.a,{cellHeight:60,className:t.gridList,cols:4,children:q.map((function(e){return Object(n.jsx)(L.a,{cols:1,children:Object(n.jsx)("div",{onClick:function(){e.available?g(e.time):g(null)},className:e.available?b===e.time?t.boxSelected:t.box:t.boxDisable,children:e.time})},e.time)}))})})}):Object(n.jsx)(s.a.Fragment,{children:Object(n.jsx)(F.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:Object(n.jsx)(M.a,{cellHeight:60,className:t.gridList,cols:4,children:p.map((function(e){return Object(n.jsx)(L.a,{cols:1,children:Object(n.jsx)(E.a,{variant:"rect",width:120,height:35})},e)}))})})})]})}var z=a(215),G=a(209),V=a(217),U=a(216),J=a(197),X=a(66),Q=a(213),K=a(202),Z=a(201),$=a(56),_=a.n($),ee=a(49),te=a.n(ee),ae=Object(d.a)((function(e){return{box:{backgroundColor:"#373737",color:"#fff",padding:"1px",borderRadius:"4px",textAlign:"justify",paddingRight:"40px"},boxRed:{backgroundColor:"#dc2626",color:"#fff",padding:"1px",borderRadius:"4px",textAlign:"justify",paddingRight:"40px"},boxInfo:{textAlign:"justify",backgroundColor:"#fafafa",color:"#333",padding:"1px",borderRadius:"4px",paddingRight:"40px",border:"1px solid #eee"},ul:{listStyle:"none"},li:{marginBottom:"5px"},icon:{marginRight:"8px"},root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0,color:e.palette.text.secondary},secondaryHeading:{fontSize:e.typography.pxToRem(15)},infoDetails:{textAlign:"left"},infoTitle:{fontWeight:"800",marginRight:"10px"},infoData:{fontWeight:"400"},title:{textAlign:"left",fontWeight:"600",marginLeft:"10px"},Accordion:{backgroundColor:"#f5f5f5",color:"#222"}}}));function ne(){var e=ae(),t=s.a.useContext(T),a=Object(l.a)(t,2),i=a[0],c=(a[1],s.a.useState(!1)),r=Object(l.a)(c,2),o=r[0],j=r[1];return Object(n.jsx)(s.a.Fragment,{children:Object(n.jsxs)(F.a,{container:!0,direction:"column",spacing:1,justify:"flex-start",alignItems:"stretch",children:[Object(n.jsx)("span",{className:e.title,children:" Persons added so far :"}),i.persons.map((function(t,a){var i,s,c;return Object(n.jsx)(F.a,{item:!0,xs:12,md:12,children:Object(n.jsx)("div",{className:e.root,children:Object(n.jsxs)(Q.a,{className:e.Accordion,expanded:o==="panel".concat(a),onChange:(c="panel".concat(a),function(e,t){j(!!t&&c)}),children:[Object(n.jsxs)(Z.a,{expandIcon:Object(n.jsx)(_.a,{}),"aria-controls":"panel1bh-content",id:"panel".concat(a,"bh-header"),children:[Object(n.jsxs)(N.a,{className:e.heading,children:[" ","#".concat(a+1)," "]}),Object(n.jsx)(N.a,{className:e.secondaryHeading,children:"".concat(t.firstname," ").concat(t.lastname)})]}),Object(n.jsx)(K.a,{className:e.infoDetails,children:Object(n.jsxs)("ul",{className:e.ul,children:[Object(n.jsxs)("li",{className:e.li,children:[Object(n.jsx)("span",{className:e.infoTitle,children:"Gender"})," ",Object(n.jsx)("span",{className:e.infoData,children:t.gender})]}),Object(n.jsxs)("li",{className:e.li,children:[Object(n.jsx)("span",{className:e.infoTitle,children:"Title"}),"  ",Object(n.jsx)("span",{className:e.infoData,children:t.title})]}),Object(n.jsxs)("li",{className:e.li,children:[Object(n.jsx)("span",{className:e.infoTitle,children:"Forename"})," ",Object(n.jsx)("span",{className:e.infoData,children:t.firstname})]}),Object(n.jsxs)("li",{className:e.li,children:[Object(n.jsx)("span",{className:e.infoTitle,children:"Surname"})," ",Object(n.jsx)("span",{className:e.infoData,children:t.lastname})]}),Object(n.jsxs)("li",{className:e.li,children:[Object(n.jsx)("span",{className:e.infoTitle,children:"Email"})," ",Object(n.jsx)("span",{className:e.infoData,children:t.email})]}),Object(n.jsxs)("li",{className:e.li,children:[Object(n.jsx)("span",{className:e.infoTitle,children:"D.O.B"})," ",Object(n.jsx)("span",{className:e.infoData,children:te()(new Date(t.birthDate),"dd mmm yyyy")})]}),Object(n.jsxs)("li",{className:e.li,children:[Object(n.jsx)("span",{className:e.infoTitle,children:"Telephone"})," ",Object(n.jsx)("span",{className:e.infoData,children:t.phone})]}),Object(n.jsxs)("li",{className:e.li,children:[Object(n.jsx)("span",{className:e.infoTitle,children:"Post Code"})," ",Object(n.jsx)("span",{className:e.infoData,children:t.postCode})]}),Object(n.jsxs)("li",{className:e.li,children:[Object(n.jsx)("span",{className:e.infoTitle,children:"Address"})," ",Object(n.jsx)("span",{className:e.infoData,children:t.address})]}),Object(n.jsxs)("li",{className:e.li,children:[Object(n.jsx)("span",{className:e.infoTitle,children:"Notes"})," ",Object(n.jsx)("span",{className:e.infoData,children:null!==(i=t.notes)&&void 0!==i?i:"N/A"})]}),Object(n.jsxs)("li",{className:e.li,children:[Object(n.jsx)("span",{className:e.infoTitle,children:"Passport No."})," ",Object(n.jsx)("span",{className:e.infoData,children:null!==(s=t.passportNumber)&&void 0!==s?s:"N/A"})]})]})})]})})})}))]})})}var ie=Object(d.a)((function(e){return{formControl:{textAlign:"left"},FormTitle:{marginTop:"20px",marginBottom:"20px"}}}));function se(){var e,t,a,i,c,r,j=ie(),d=s.a.useContext(T),b=Object(l.a)(d,2),u=b[0],m=b[1],h=s.a.useState(null!==(e=u.birthDate)&&void 0!==e?e:null),x=Object(l.a)(h,2),O=x[0],p=x[1],f=s.a.useState(null!==(t=u.firstname)&&void 0!==t?t:""),g=Object(l.a)(f,2),k=g[0],C=g[1],w=s.a.useState(null!==(a=u.lastname)&&void 0!==a?a:""),S=Object(l.a)(w,2),A=S[0],E=S[1],B=s.a.useState(null!==(i=u.email)&&void 0!==i?i:""),R=Object(l.a)(B,2),I=R[0],W=R[1],P=s.a.useState(null!==(c=u.gender)&&void 0!==c?c:""),M=Object(l.a)(P,2),L=M[0],q=M[1],H=s.a.useState(null!==(r=u.title)&&void 0!==r?r:""),Y=Object(l.a)(H,2),Q=Y[0],K=Y[1];return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)(ne,{}),0===u.persons.length&&Object(n.jsx)(N.a,{className:j.FormTitle,variant:"h6",gutterBottom:!0,children:"Fill Your Basic Info"}),u.persons.length>0&&Object(n.jsx)(N.a,{className:j.FormTitle,variant:"h6",gutterBottom:!0,children:"Fill Basic Info"}),Object(n.jsxs)(F.a,{container:!0,spacing:3,alignItems:"baseline",children:[Object(n.jsx)(F.a,{item:!0,xs:12,md:6,children:Object(n.jsxs)(J.a,{className:j.formControl,fullWidth:!0,required:!0,children:[Object(n.jsx)(U.a,{id:"gender-label-id",children:"Gender"}),Object(n.jsxs)(G.a,{error:!!u.genderError,fullWidth:!0,labelId:"gender-label-id",id:"gender-id",value:L,onChange:function(e){q(e.target.value),m((function(t){return Object(o.a)(Object(o.a)({},t),{},{gender:e.target.value})})),m((function(e){return Object(o.a)(Object(o.a)({},e),{},{genderError:!1})}))},children:[Object(n.jsx)(V.a,{value:"Male",children:"Male"}),Object(n.jsx)(V.a,{value:"Female",children:"Female"})]})]})}),Object(n.jsx)(F.a,{item:!0,xs:12,md:6,children:Object(n.jsxs)(J.a,{className:j.formControl,fullWidth:!0,required:!0,children:[Object(n.jsx)(U.a,{id:"title-label-id",children:"Title"}),Object(n.jsxs)(G.a,{error:!!u.titleError,fullWidth:!0,labelId:"title-label-id",id:"title-id",value:Q,onChange:function(e){K(e.target.value),m((function(t){return Object(o.a)(Object(o.a)({},t),{},{title:e.target.value})})),m((function(e){return Object(o.a)(Object(o.a)({},e),{},{titleError:!1})}))},children:[Object(n.jsx)(V.a,{value:"Mr",children:"Mr"}),Object(n.jsx)(V.a,{value:"Mrs",children:"Mrs"}),Object(n.jsx)(V.a,{value:"Miss",children:"Miss"}),Object(n.jsx)(V.a,{value:"Ms",children:"Ms"}),Object(n.jsx)(V.a,{value:"Dr",children:"Dr"})]})]})}),Object(n.jsx)(F.a,{item:!0,xs:12,md:6,children:Object(n.jsx)(z.a,{error:!!u.firstnameError,required:!0,id:"firstName",label:"First Name",fullWidth:!0,autoComplete:"cc-name",value:k,onChange:function(e){C(e.target.value),m((function(t){return Object(o.a)(Object(o.a)({},t),{},{firstname:e.target.value})})),e.target.value&&e.target.value.trim().length>=3&&m((function(e){return Object(o.a)(Object(o.a)({},e),{},{firstnameError:!1})}))}})}),Object(n.jsx)(F.a,{item:!0,xs:12,md:6,children:Object(n.jsx)(z.a,{error:!!u.lastnameError,required:!0,id:"lastName",label:"Last Name",fullWidth:!0,autoComplete:"cc-family-name",value:A,onChange:function(e){E(e.target.value),m((function(t){return Object(o.a)(Object(o.a)({},t),{},{lastname:e.target.value})})),e.target.value&&e.target.value.trim().length>=3&&m((function(e){return Object(o.a)(Object(o.a)({},e),{},{lastnameError:!1})}))}})}),Object(n.jsx)(F.a,{item:!0,xs:12,md:6,children:Object(n.jsx)(v.a,{utils:y.a,children:Object(n.jsx)(D.b,{error:!!u.birthDateError,autoOk:!0,fullWidth:!0,variant:"inline",label:"Birthdate",format:"dd/MM/yyyy",disableFuture:!0,InputAdornmentProps:{position:"start"},helperText:"dd/MM/yyyy",value:O,onChange:function(e){p(e),m((function(t){return Object(o.a)(Object(o.a)({},t),{},{birthDate:e})})),m((function(e){return Object(o.a)(Object(o.a)({},e),{},{birthDateError:!1})}))}})})}),Object(n.jsx)(F.a,{item:!0,xs:12,md:6,children:Object(n.jsx)(z.a,{error:!!u.emailError,required:!0,id:"email",label:"Email Address",fullWidth:!0,autoComplete:"email",value:I,onChange:function(e){W(e.target.value),m((function(t){return Object(o.a)(Object(o.a)({},t),{},{email:e.target.value})})),e.target.value&&X.validate(e.target.value)&&m((function(e){return Object(o.a)(Object(o.a)({},e),{},{emailError:!1})}))}})})]})]})}var ce=a(68),re=a(44),le=Object(d.a)((function(e){return{box:{backgroundColor:"#373737",color:"#fff",padding:"1px",borderRadius:"4px",textAlign:"justify",paddingRight:"40px"},boxRed:{backgroundColor:"#dc2626",color:"#fff",padding:"1px",borderRadius:"4px",textAlign:"justify",paddingRight:"40px"},boxInfo:{textAlign:"justify",backgroundColor:"#fafafa",color:"#333",padding:"1px",borderRadius:"4px",paddingRight:"40px",border:"1px solid #eee"},ul:{listStyle:"none"},li:{marginBottom:"5px"},icon:{marginRight:"8px"},root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0,color:e.palette.text.secondary},secondaryHeading:{fontSize:e.typography.pxToRem(15)},infoDetails:{textAlign:"left"},infoTitle:{fontWeight:"800",marginRight:"10px"},infoData:{fontWeight:"400"},title:{textAlign:"center",fontWeight:"500",margin:"10px",backgroundColor:"#eee",padding:"10px",borderRadius:"4px"},Accordion:{backgroundColor:"#f5f5f5",color:"#222"},terms:{fontWeight:"500",textAlign:"justify",marginTop:"10px",padding:"10px"},link:{color:"#dc2626",textDecoration:"none"}}}));function oe(){var e,t,a=le(),i=s.a.useContext(T),c=Object(l.a)(i,2),r=c[0],o=(c[1],s.a.useState(!1)),j=Object(l.a)(o,2),d=j[0],b=j[1],u=function(e){return function(t,a){b(!!a&&e)}};return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)(N.a,{variant:"h6",gutterBottom:!0,children:"Review Your Data"}),Object(n.jsxs)(F.a,{container:!0,direction:"column",spacing:1,justify:"flex-start",alignItems:"stretch",children:[Object(n.jsx)(F.a,{item:!0,xs:12,md:12,children:Object(n.jsx)("div",{className:a.box,children:Object(n.jsxs)("ul",{className:a.ul,children:[Object(n.jsxs)("li",{className:a.li,children:[Object(n.jsx)(ce.a,{icon:re.a,className:a.icon}),te()(new Date(r.bookingDate),"dd-mmmm-yyyy")]}),Object(n.jsxs)("li",{className:a.li,children:[Object(n.jsx)(ce.a,{icon:re.c,className:a.icon}),"Check-up Duration: 30 minutes"]})]})})}),Object(n.jsx)(F.a,{item:!0,xs:12,md:12,children:Object(n.jsx)("div",{className:a.box,children:Object(n.jsx)("ul",{className:a.ul,children:Object(n.jsxs)("li",{className:a.li,children:[Object(n.jsx)(ce.a,{icon:re.b,className:a.icon}),"Time: ",r.bookingTime]})})})}),Object(n.jsx)(F.a,{item:!0,xs:12,md:12,children:Object(n.jsx)("div",{className:a.box,children:Object(n.jsx)("ul",{className:a.ul,children:Object(n.jsx)("li",{className:a.li,children:"Package : In-Clinic Test"})})})}),Object(n.jsx)(F.a,{item:!0,xs:12,md:12,children:Object(n.jsx)("div",{className:a.box,children:Object(n.jsx)("ul",{className:a.ul,children:Object(n.jsx)("li",{className:a.li,children:"Price : \xa3199"})})})}),Object(n.jsx)(F.a,{item:!0,xs:12,md:12,children:Object(n.jsx)("div",{className:a.box,children:Object(n.jsx)("ul",{className:a.ul,children:Object(n.jsx)("li",{className:a.li,children:"This time slot is not guaranteed, due to nature of healthcare there might be slight delay to your appointment."})})})}),Object(n.jsx)(F.a,{item:!0,xs:12,md:12,children:Object(n.jsx)("div",{className:a.boxRed,children:Object(n.jsx)("ul",{className:a.ul,children:Object(n.jsx)("li",{className:a.li,children:"During the coronavirus pandemic, we must confirm appointments in order to maintain social distancing, we will email you to confirm your booking if your selected time is possible. If not, we will contact you with the nearest availability to your request. Thank you for understanding."})})})}),Object(n.jsx)("span",{className:a.title,children:" Appointment is for the following people :"}),r.persons.map((function(e,t){var i,s;return Object(n.jsx)(F.a,{item:!0,xs:12,md:12,children:Object(n.jsx)("div",{className:a.root,children:Object(n.jsxs)(Q.a,{className:a.Accordion,expanded:d==="panel".concat(t),onChange:u("panel".concat(t)),children:[Object(n.jsxs)(Z.a,{expandIcon:Object(n.jsx)(_.a,{}),"aria-controls":"panel1bh-content",id:"panel".concat(t,"bh-header"),children:[Object(n.jsxs)(N.a,{className:a.heading,children:[" ","#".concat(t+1)," "]}),Object(n.jsx)(N.a,{className:a.secondaryHeading,children:"".concat(e.firstname," ").concat(e.lastname)})]}),Object(n.jsx)(K.a,{className:a.infoDetails,children:Object(n.jsxs)("ul",{className:a.ul,children:[Object(n.jsxs)("li",{className:a.li,children:[Object(n.jsx)("span",{className:a.infoTitle,children:"Gender"})," ",Object(n.jsx)("span",{className:a.infoData,children:e.gender})]}),Object(n.jsxs)("li",{className:a.li,children:[Object(n.jsx)("span",{className:a.infoTitle,children:"Title"}),"  ",Object(n.jsx)("span",{className:a.infoData,children:e.title})]}),Object(n.jsxs)("li",{className:a.li,children:[Object(n.jsx)("span",{className:a.infoTitle,children:"Forename"})," ",Object(n.jsx)("span",{className:a.infoData,children:e.firstname})]}),Object(n.jsxs)("li",{className:a.li,children:[Object(n.jsx)("span",{className:a.infoTitle,children:"Surname"})," ",Object(n.jsx)("span",{className:a.infoData,children:e.lastname})]}),Object(n.jsxs)("li",{className:a.li,children:[Object(n.jsx)("span",{className:a.infoTitle,children:"Email"})," ",Object(n.jsx)("span",{className:a.infoData,children:e.email})]}),Object(n.jsxs)("li",{className:a.li,children:[Object(n.jsx)("span",{className:a.infoTitle,children:"D.O.B"})," ",Object(n.jsx)("span",{className:a.infoData,children:te()(new Date(e.birthDate),"dd mmm yyyy")})]}),Object(n.jsxs)("li",{className:a.li,children:[Object(n.jsx)("span",{className:a.infoTitle,children:"Telephone"})," ",Object(n.jsx)("span",{className:a.infoData,children:e.phone})]}),Object(n.jsxs)("li",{className:a.li,children:[Object(n.jsx)("span",{className:a.infoTitle,children:"Post Code"})," ",Object(n.jsx)("span",{className:a.infoData,children:e.postCode})]}),Object(n.jsxs)("li",{className:a.li,children:[Object(n.jsx)("span",{className:a.infoTitle,children:"Address"})," ",Object(n.jsx)("span",{className:a.infoData,children:e.address})]}),Object(n.jsxs)("li",{className:a.li,children:[Object(n.jsx)("span",{className:a.infoTitle,children:"Notes"})," ",Object(n.jsx)("span",{className:a.infoData,children:null!==(i=e.notes)&&void 0!==i?i:"N/A"})]}),Object(n.jsxs)("li",{className:a.li,children:[Object(n.jsx)("span",{className:a.infoTitle,children:"Passport No."})," ",Object(n.jsx)("span",{className:a.infoData,children:null!==(s=e.passportNumber)&&void 0!==s?s:"N/A"})]})]})})]})})})})),!r.proceedToSubmit&&Object(n.jsx)(F.a,{item:!0,xs:12,md:12,children:Object(n.jsx)("div",{className:a.root,children:Object(n.jsxs)(Q.a,{className:a.Accordion,expanded:"panel10"===d,onChange:u("panel10"),children:[Object(n.jsxs)(Z.a,{expandIcon:Object(n.jsx)(_.a,{}),"aria-controls":"panel10bh-content",id:"panel10bh-header",children:[Object(n.jsxs)(N.a,{className:a.heading,children:[" ","#".concat(r.persons.length+1)," "]}),Object(n.jsx)(N.a,{className:a.secondaryHeading,children:"".concat(r.firstname," ").concat(r.lastname)})]}),Object(n.jsx)(K.a,{className:a.infoDetails,children:Object(n.jsxs)("ul",{className:a.ul,children:[Object(n.jsxs)("li",{className:a.li,children:[Object(n.jsx)("span",{className:a.infoTitle,children:"Gender"})," ",Object(n.jsx)("span",{className:a.infoData,children:r.gender})]}),Object(n.jsxs)("li",{className:a.li,children:[Object(n.jsx)("span",{className:a.infoTitle,children:"Title"}),"  ",Object(n.jsx)("span",{className:a.infoData,children:r.title})]}),Object(n.jsxs)("li",{className:a.li,children:[Object(n.jsx)("span",{className:a.infoTitle,children:"Forename"})," ",Object(n.jsx)("span",{className:a.infoData,children:r.firstname})]}),Object(n.jsxs)("li",{className:a.li,children:[Object(n.jsx)("span",{className:a.infoTitle,children:"Surname"})," ",Object(n.jsx)("span",{className:a.infoData,children:r.lastname})]}),Object(n.jsxs)("li",{className:a.li,children:[Object(n.jsx)("span",{className:a.infoTitle,children:"Email"})," ",Object(n.jsx)("span",{className:a.infoData,children:r.email})]}),Object(n.jsxs)("li",{className:a.li,children:[Object(n.jsx)("span",{className:a.infoTitle,children:"D.O.B"})," ",Object(n.jsx)("span",{className:a.infoData,children:te()(new Date(r.birthDate),"dd mmm yyyy")})]}),Object(n.jsxs)("li",{className:a.li,children:[Object(n.jsx)("span",{className:a.infoTitle,children:"Telephone"})," ",Object(n.jsx)("span",{className:a.infoData,children:r.phone})]}),Object(n.jsxs)("li",{className:a.li,children:[Object(n.jsx)("span",{className:a.infoTitle,children:"Post Code"})," ",Object(n.jsx)("span",{className:a.infoData,children:r.postCode})]}),Object(n.jsxs)("li",{className:a.li,children:[Object(n.jsx)("span",{className:a.infoTitle,children:"Address"})," ",Object(n.jsx)("span",{className:a.infoData,children:r.address})]}),Object(n.jsxs)("li",{className:a.li,children:[Object(n.jsx)("span",{className:a.infoTitle,children:"Notes"})," ",Object(n.jsx)("span",{className:a.infoData,children:null!==(e=r.notes)&&void 0!==e?e:"N/A"})]}),Object(n.jsxs)("li",{className:a.li,children:[Object(n.jsx)("span",{className:a.infoTitle,children:"Passport No."})," ",Object(n.jsx)("span",{className:a.infoData,children:null!==(t=r.passportNumber)&&void 0!==t?t:"N/A"})]})]})})]})})}),Object(n.jsxs)("div",{className:a.terms,children:["By clicking on submit button you are agreeing with our ",Object(n.jsx)("a",{className:a.link,href:"#",children:"terms and condition."})]})]})]})}var je=a(203),de=a(210),be=Object(d.a)((function(e){return{formControl:{textAlign:"justify"},FormTitle:{marginTop:"20px",marginBottom:"20px"}}}));function ue(){var e,t,a,i,c,r,j=be(),d=s.a.useContext(T),b=Object(l.a)(d,2),u=b[0],m=b[1],h=s.a.useState(null!==(e=u.phone)&&void 0!==e?e:""),x=Object(l.a)(h,2),O=x[0],p=x[1],f=s.a.useState(null!==(t=u.postCode)&&void 0!==t?t:""),g=Object(l.a)(f,2),v=g[0],D=g[1],y=s.a.useState(null!==(a=u.address)&&void 0!==a?a:""),k=Object(l.a)(y,2),C=k[0],w=k[1],S=s.a.useState(null!==(i=u.notes)&&void 0!==i?i:""),A=Object(l.a)(S,2),E=A[0],B=A[1],R=s.a.useState(null!==(c=u.passportNumber)&&void 0!==c?c:""),I=Object(l.a)(R,2),W=I[0],P=I[1],M=s.a.useState(null!==(r=u.certificate)&&void 0!==r&&r),L=Object(l.a)(M,2),q=L[0],H=L[1];return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)(ne,{}),0===u.persons.length&&Object(n.jsx)(N.a,{className:j.FormTitle,variant:"h6",gutterBottom:!0,children:"Fill Your Address Info"}),u.persons.length>0&&Object(n.jsx)(N.a,{className:j.FormTitle,variant:"h6",gutterBottom:!0,children:"Fill Address Info"}),Object(n.jsxs)(F.a,{container:!0,spacing:3,alignItems:"baseline",children:[Object(n.jsx)(F.a,{item:!0,xs:12,md:6,children:Object(n.jsx)(z.a,{error:!!u.phoneError,required:!0,id:"phone",label:"Phone Number",fullWidth:!0,autoComplete:"",value:O,onChange:function(e){p(e.target.value),m((function(t){return Object(o.a)(Object(o.a)({},t),{},{phone:e.target.value})})),e.target.value&&e.target.value.trim().length>=6&&m((function(e){return Object(o.a)(Object(o.a)({},e),{},{phoneError:!1})}))}})}),Object(n.jsx)(F.a,{item:!0,xs:12,md:6,children:Object(n.jsx)(z.a,{error:!!u.postCodeError,required:!0,id:"postCode",label:"Postal Code",fullWidth:!0,autoComplete:"",value:v,onChange:function(e){D(e.target.value),m((function(t){return Object(o.a)(Object(o.a)({},t),{},{postCode:e.target.value})})),e.target.value&&e.target.value.trim().length>=5&&m((function(e){return Object(o.a)(Object(o.a)({},e),{},{postCodeError:!1})}))}})}),Object(n.jsx)(F.a,{item:!0,xs:12,children:Object(n.jsx)(z.a,{error:!!u.addressError,required:!0,id:"address",label:"Address",multiline:!0,rowsMax:2,fullWidth:!0,autoComplete:"",value:C,onChange:function(e){w(e.target.value),m((function(t){return Object(o.a)(Object(o.a)({},t),{},{address:e.target.value})})),e.target.value&&e.target.value.trim().length>=10&&m((function(e){return Object(o.a)(Object(o.a)({},e),{},{addressError:!1})}))}})}),Object(n.jsx)(F.a,{item:!0,xs:12,children:Object(n.jsx)(z.a,{placeholder:"Must include flight date & flight time also If there's anything you want to tell the doctor beforehand, enter it here",id:"notes",label:"Notes",helperText:"MUST include flight date & flight time",multiline:!0,rowsMax:2,rows:2,fullWidth:!0,autoComplete:"",value:E,onChange:function(e){B(e.target.value),m((function(t){return Object(o.a)(Object(o.a)({},t),{},{notes:e.target.value})}))}})}),Object(n.jsx)(F.a,{item:!0,xs:12,className:j.formControl,children:Object(n.jsx)(je.a,{className:j.formControl,control:Object(n.jsx)(de.a,{className:j.formControl,color:"secondary",name:"certificate",checked:q,onChange:function(e){H(e.target.checked),m((function(t){return Object(o.a)(Object(o.a)({},t),{},{certificate:e.target.checked})}))}}),label:Object(n.jsxs)("span",{style:{fontSize:"0.8rem"},children:["I also require a medical certificate signed by a doctor declaring me 'fit-to-fly'."," "]})})}),Object(n.jsx)(F.a,{item:!0,xs:12,hidden:!q,children:Object(n.jsx)(z.a,{error:!!u.passportNumberError,required:!0,id:"passport",label:"Passport Number",helperText:"your passport number will be noted on your certificate",fullWidth:!0,autoComplete:"",value:W,onChange:function(e){P(e.target.value),m((function(t){return Object(o.a)(Object(o.a)({},t),{},{passportNumber:e.target.value})})),e.target.value&&e.target.value.trim().length>=6&&m((function(e){return Object(o.a)(Object(o.a)({},e),{},{passportNumberError:!1})}))}})})]})]})}var me=function e(){Object(C.a)(this,e)};me.bookAppointment=function(e){return S.post("/api/book/bookappointment",e)},me.getNewReference=function(){return S.get("/api/book/getnewreference")};var he=a(6),xe=a(218),Oe=Object(he.a)({root:{maxWidth:"100%",flexGrow:1},progress:{width:"100%"}})(xe.a),pe=a.p+"static/media/ok.c105a1fa.png";function fe(){return Object(n.jsxs)(N.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",(new Date).getFullYear()," ",Object(n.jsx)(g.a,{color:"inherit",href:"https://www.blood.london/",children:"Blood.London."})," ","All rights reserved"]})}var ge=Object(d.a)((function(e){return{appBar:{position:"relative",backgroundColor:"#333",color:"#fff",alignItems:"center"},logo:{maxWidth:160},layout:Object(j.a)({width:"auto",marginLeft:e.spacing(2),marginRight:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(2)),{width:600,marginLeft:"auto",marginRight:"auto"}),paper:Object(j.a)({marginTop:e.spacing(1),marginBottom:e.spacing(3),padding:e.spacing(1)},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(6),marginBottom:e.spacing(6),padding:e.spacing(3)}),stepper:{padding:e.spacing(3,0,5)},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)},bold:{fontWeight:"800",padding:"5px"},doneImage:{width:"240px",height:"150px",margin:"20px"}}})),Ne=["Appoinment Date","Appoinment Time","Basic Info","Address Info","Review"];function ve(e){switch(e){case 0:return Object(n.jsx)(W,{});case 1:return Object(n.jsx)(Y,{});case 2:return Object(n.jsx)(se,{});case 3:return Object(n.jsx)(ue,{});case 4:return Object(n.jsx)(oe,{});default:throw new Error("Unknown step")}}function De(){var e=s.a.useContext(T),t=Object(l.a)(e,2),a=t[0],i=t[1],c=ge(),r=s.a.useState(0),j=Object(l.a)(r,2),d=j[0],g=j[1],v=s.a.useState(!1),D=Object(l.a)(v,2),y=D[0],C=D[1],w=Ne.length,S=function(e){var t=!1;return 1===e?a.bookingTime||(i((function(e){return Object(o.a)(Object(o.a)({},e),{},{bookingTimeError:!0})})),t=!0):2===e?(a.gender||(i((function(e){return Object(o.a)(Object(o.a)({},e),{},{genderError:!0})})),t=!0),a.title||(i((function(e){return Object(o.a)(Object(o.a)({},e),{},{titleError:!0})})),t=!0),(!a.firstname||a.firstname.trim().length<3)&&(i((function(e){return Object(o.a)(Object(o.a)({},e),{},{firstnameError:!0})})),t=!0),(!a.lastname||a.lastname.trim().length<3)&&(i((function(e){return Object(o.a)(Object(o.a)({},e),{},{lastnameError:!0})})),t=!0),a.birthDate||(i((function(e){return Object(o.a)(Object(o.a)({},e),{},{birthDateError:!0})})),t=!0),a.email&&X.validate(a.email)||(i((function(e){return Object(o.a)(Object(o.a)({},e),{},{emailError:!0})})),t=!0)):3===e?((!a.phone||a.phone.trim().length<6)&&(i((function(e){return Object(o.a)(Object(o.a)({},e),{},{phoneError:!0})})),t=!0),(!a.postCode||a.postCode.trim().length<5)&&(i((function(e){return Object(o.a)(Object(o.a)({},e),{},{postCodeError:!0})})),t=!0),(!a.address||a.address.trim().length<10)&&(i((function(e){return Object(o.a)(Object(o.a)({},e),{},{addressError:!0})})),t=!0),a.certificate&&(!a.passportNumber||a.passportNumber.trim().length<6)&&(i((function(e){return Object(o.a)(Object(o.a)({},e),{},{passportNumberError:!0})})),t=!0),t||i((function(e){return Object(o.a)(Object(o.a)({},e),{},{proceedToSubmit:!1})}))):4===e&&(t=!0,C(!0),A()),!t},A=function(){var e=[];me.getNewReference().then((function(t){var n=t.data.ref;if(i((function(e){return Object(o.a)(Object(o.a)({},e),{},{ref:n})})),!a.proceedToSubmit){var s={gender:a.gender,title:a.title,firstname:a.firstname,lastname:a.lastname,birthDate:a.birthDate,email:a.email,phone:a.phone,postCode:a.postCode,address:a.address,notes:a.notes,certificate:a.certificate,passportNumber:a.passportNumber},c=me.bookAppointment(Object(o.a)(Object(o.a)({},s),{},{bookingDate:a.bookingDate,bookingTime:a.bookingTime,bookingRef:n}));e.push(c)}a.persons.forEach((function(t){e.push(me.bookAppointment(Object(o.a)(Object(o.a)({},t),{},{bookingDate:a.bookingDate,bookingTime:a.bookingTime,bookingRef:n})))})),Promise.all(e).then((function(e){C(!1),g(d+1)})).catch((function(e){console.log(e),C(!1)}))})).catch((function(e){console.log(e),C(!1)}))};return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)(b.a,{}),Object(n.jsx)(u.a,{position:"absolute",color:"default",className:c.appBar,children:Object(n.jsx)(m.a,{children:Object(n.jsx)(N.a,{variant:"h6",color:"inherit",noWrap:!0,children:"Medical Express Clinic"})})}),Object(n.jsxs)("main",{className:c.layout,children:[Object(n.jsxs)(h.a,{className:c.paper,children:[Object(n.jsx)(N.a,{component:"h1",variant:"h6",align:"center",children:"Book Appointment Online"}),Object(n.jsx)(s.a.Fragment,{children:d<Ne.length?Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)(k.BrowserView,{children:Object(n.jsx)(x.a,{activeStep:d,className:c.stepper,children:Ne.map((function(e){return Object(n.jsx)(O.a,{children:Object(n.jsx)(p.a,{children:e})},e)}))})}),Object(n.jsx)(k.MobileView,{children:Object(n.jsx)(Oe,{steps:w,position:"static",variant:"progress",activeStep:d})})]}):Object(n.jsx)(s.a.Fragment,{})}),Object(n.jsx)(s.a.Fragment,{children:d===Ne.length?Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)("img",{className:c.doneImage,src:pe,alt:"Done image"}),Object(n.jsx)(N.a,{variant:"h5",gutterBottom:!0,children:"Thank you for your Booking."}),Object(n.jsx)("br",{}),Object(n.jsxs)(N.a,{variant:"subtitle1",children:["Your booking number is ",Object(n.jsx)("span",{className:c.bold,children:'"'.concat(a.ref,'"')})," . We have emailed your booking information, and will look forward to meet you at the clinic."]})]}):Object(n.jsxs)(s.a.Fragment,{children:[ve(d),Object(n.jsxs)("div",{className:c.buttons,children:[0!==d&&Object(n.jsx)(f.a,{disabled:y,onClick:function(){g(d-1)},className:c.button,children:"Back"}),Object(n.jsx)(f.a,{disabled:y,variant:"contained",color:"primary",onClick:function(){S(d)&&g(d+1)},className:c.button,children:d===Ne.length-1?"Submit":"Next"}),3===d&&(!a.persons||a.persons&&a.persons.length<4)&&Object(n.jsx)(f.a,{variant:"contained",color:"primary",onClick:function(){if(S(d)){var e={gender:a.gender,title:a.title,firstname:a.firstname,lastname:a.lastname,birthDate:a.birthDate,email:a.email,phone:a.phone,postCode:a.postCode,address:a.address,notes:a.notes,certificate:a.certificate,passportNumber:a.passportNumber},t=a.persons;t.push(e),i((function(e){return{bookingDate:e.bookingDate,bookingTime:e.bookingTime,persons:t}})),g(2)}},className:c.button,children:"Add Another Person"}),2===d&&a.persons&&a.persons.length>=1&&Object(n.jsx)(f.a,{variant:"contained",color:"primary",onClick:function(){i((function(e){return Object(o.a)(Object(o.a)({},e),{},{proceedToSubmit:!0})})),g(4)},className:c.button,children:"Proceed to Submit"})]})]})})]}),Object(n.jsx)(fe,{})]})]})}var ye=function(){var e=s.a.useState({bookingDate:new Date,persons:[]}),t=Object(l.a)(e,2),a=t[0],i=t[1];return Object(n.jsx)(T.Provider,{value:[a,i],children:Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(De,{children:" "})})})},Te=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,222)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,s=t.getLCP,c=t.getTTFB;a(e),n(e),i(e),s(e),c(e)}))};r.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(ye,{})}),document.getElementById("root")),Te()}},[[146,1,2]]]);
//# sourceMappingURL=main.fbc7b814.chunk.js.map