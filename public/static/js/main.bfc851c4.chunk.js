(this["webpackJsonppcr-booking-ui"]=this["webpackJsonppcr-booking-ui"]||[]).push([[0],{123:function(e,t,a){},124:function(e,t,a){},148:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a(0),s=a.n(i),c=a(13),r=a.n(c),l=(a(123),a(8)),o=(a(124),a(7)),d=a(11),j=a(192),b=a(209),m=a(210),u=a(198),h=a(149),p=a(218),x=a(211),O=a(216),f=a(197),g=a(208),N=a(97),v=a(18),y=a(212),T=a(57),D=s.a.createContext([{},function(){}]),C=a(34),k=a(19),S=a(92),w=a.n(S).a.create({baseURL:"https://www.travelpcrtest.com/",headers:{Authorization:"Basic QXp1cmXEaWFtb45kOmh1bnRlcjO="}}),A=function e(){Object(k.a)(this,e)};A.getFirstAvailableDate=function(){return w.get("/api/time/getfirstavaiabledate")},A.getFullyBookedDates=function(){return w.get("/api/time/getfullybookeddays")},A.getTimeSlots=function(e){return w.get("/api/time/gettimeslots?date=".concat(e))};var E=a(196),F=a(202),B=null,R=[],I=Object(j.a)((function(e){return{loadingBox:{}}}));function W(){I();var e,t=s.a.useContext(D),a=Object(l.a)(t,2),c=a[0],r=a[1],d=s.a.useState(null!==(e=c.bookingDate)&&void 0!==e?e:new Date),j=Object(l.a)(d,2),b=j[0],m=j[1],u=s.a.useState(!1),h=Object(l.a)(u,2),p=h[0],x=h[1];Object(i.useEffect)((function(){!function(e){var t=A.getFirstAvailableDate(),a=A.getFullyBookedDates();Promise.all([t,a]).then((function(t){B=new Date(t[0].data.date),R=t[1],console.log(B),console.log(R),e(!0)})).catch((function(e){console.log(e)}))}(x)}),[]);var O=function(e){m(e),r((function(t){return Object(o.a)(Object(o.a)({},t),{},{bookingDate:e})}))};return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)(N.a,{variant:"h6",gutterBottom:!0,children:"Pick a Date"}),p?Object(n.jsx)(s.a.Fragment,{children:Object(n.jsxs)(E.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:[Object(n.jsx)(C.BrowserView,{children:Object(n.jsx)(v.a,{utils:T.a,children:Object(n.jsx)(y.a,{autoOk:!0,disablePast:"true",openTo:"date",orientation:"landscape",variant:"static",fullWidth:!0,value:b,onChange:O,shouldDisableDate:M})})}),Object(n.jsx)(C.MobileView,{children:Object(n.jsx)(v.a,{utils:T.a,children:Object(n.jsx)(y.a,{autoOk:!0,disablePast:"true",openTo:"date",variant:"static",fullWidth:!0,value:b,onChange:O,shouldDisableDate:M})})})]})}):Object(n.jsx)(s.a.Fragment,{children:Object(n.jsxs)(E.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:[Object(n.jsx)(F.a,{variant:"text",width:"80%"}),Object(n.jsx)(F.a,{variant:"text",width:"80%"}),Object(n.jsx)(F.a,{variant:"rect",width:"80%",height:220})]})})]})}var M=function(e){if(e.setHours(0,0,0,0)<B.setHours(0,0,0,0))return!0;if(R&&R.length>0){var t=!1;return R.forEach((function(a,n){var i,s;s=e,(i=a).getFullYear()===s.getFullYear()&&i.getMonth()===s.getMonth()&&i.getDate()===s.getDate()&&(t=!0)})),t}return!1};var P=a(203),q=a(204),L=null,H=Object(j.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},gridList:{},box:{border:"1px solid #999",margin:"5px",padding:"5px",color:"#555",cursor:"pointer","&:hover":{background:"green",color:"#fff"}},boxMobile:{border:"1px solid #999",margin:"5px",padding:"5px",color:"#555",cursor:"pointer"},boxSelected:{backgroundColor:"green",border:"1px solid #999",margin:"5px",padding:"5px",color:"#fff",cursor:"pointer"},boxDisable:{backgroundColor:"#999",border:"1px solid #ddd",margin:"5px",padding:"5px",color:"#fff"}}}));function z(){for(var e,t=H(),a=s.a.useContext(D),c=Object(l.a)(a,2),r=c[0],d=c[1],j=s.a.useState(null!==(e=r.bookingTime)&&void 0!==e?e:""),b=Object(l.a)(j,2),m=b[0],u=b[1],h=s.a.useState(!1),p=Object(l.a)(h,2),x=p[0],O=p[1],f=[],g=0;g<28;g++)f.push(g);Object(i.useEffect)((function(){!function(e,t){var a=A.getTimeSlots(e);Promise.all([a]).then((function(e){L=e[0].data,t(!0)})).catch((function(e){console.log(e)}))}(r.bookingDate,O)}),[]);var v=function(e){e&&(u(e),d(Object(o.a)(Object(o.a)({},r),{},{bookingTime:e})))};return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)(N.a,{variant:"h6",gutterBottom:!0,children:"Pick a Time"}),x?Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)(C.BrowserView,{children:Object(n.jsx)("div",{className:t.root,children:Object(n.jsx)(P.a,{cellHeight:60,className:t.gridList,cols:4,children:L.map((function(e){return Object(n.jsx)(q.a,{cols:1,children:Object(n.jsx)("div",{onClick:function(){e.available?v(e.time):v(null)},className:e.available?m===e.time?t.boxSelected:t.box:t.boxDisable,children:e.time})},e.time)}))})})}),Object(n.jsx)(C.MobileView,{children:Object(n.jsx)("div",{className:t.root,children:Object(n.jsx)(P.a,{cellHeight:60,className:t.gridList,cols:4,children:L.map((function(e){return Object(n.jsx)(q.a,{cols:1,children:Object(n.jsx)("div",{onClick:function(){e.available?v(e.time):v(null)},className:e.available?m===e.time?t.boxSelected:t.boxMobile:t.boxDisable,children:e.time})},e.time)}))})})})]}):Object(n.jsx)(s.a.Fragment,{children:Object(n.jsx)(E.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:Object(n.jsx)(P.a,{cellHeight:60,className:t.gridList,cols:4,children:f.map((function(e){return Object(n.jsx)(q.a,{cols:1,children:Object(n.jsx)(F.a,{variant:"rect",width:120,height:35})},e)}))})})})]})}var Y=a(219),V=a(213),G=a(221),U=a(220),J=a(201),X=a(66),Q=a(217),K=a(206),Z=a(205),$=a(56),_=a.n($),ee=a(49),te=a.n(ee),ae=Object(j.a)((function(e){return{box:{backgroundColor:"#373737",color:"#fff",padding:"1px",borderRadius:"4px",textAlign:"justify",paddingRight:"40px"},boxRed:{backgroundColor:"#dc2626",color:"#fff",padding:"1px",borderRadius:"4px",textAlign:"justify",paddingRight:"40px"},boxInfo:{textAlign:"justify",backgroundColor:"#fafafa",color:"#333",padding:"1px",borderRadius:"4px",paddingRight:"40px",border:"1px solid #eee"},ul:{listStyle:"none",padding:"0",margin:"0"},li:{marginBottom:"5px"},icon:{marginRight:"8px"},root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0,color:e.palette.text.secondary},secondaryHeading:{fontSize:e.typography.pxToRem(15)},infoDetails:{textAlign:"left"},infoTitle:{fontWeight:"800",marginRight:"10px"},infoData:{fontWeight:"400"},title:{textAlign:"left",fontWeight:"600",marginLeft:"10px"},Accordion:{backgroundColor:"#f5f5f5",color:"#222"}}}));function ne(){var e=ae(),t=s.a.useContext(D),a=Object(l.a)(t,2),i=a[0],c=(a[1],s.a.useState(!1)),r=Object(l.a)(c,2),o=r[0],d=r[1];return Object(n.jsx)(s.a.Fragment,{children:Object(n.jsxs)(E.a,{container:!0,direction:"column",spacing:1,justify:"flex-start",alignItems:"stretch",children:[i.persons&&i.persons.length>0&&Object(n.jsx)("span",{className:e.title,children:" Persons added so far :"}),i.persons.map((function(t,a){var i,s,c,r;return Object(n.jsx)(E.a,{item:!0,xs:12,md:12,children:Object(n.jsx)("div",{className:e.root,children:Object(n.jsxs)(Q.a,{className:e.Accordion,expanded:o==="panel".concat(a),onChange:(r="panel".concat(a),function(e,t){d(!!t&&r)}),children:[Object(n.jsxs)(Z.a,{expandIcon:Object(n.jsx)(_.a,{}),"aria-controls":"panel1bh-content",id:"panel".concat(a,"bh-header"),children:[Object(n.jsxs)(N.a,{className:e.heading,children:[" ","#".concat(a+1)," "]}),Object(n.jsx)(N.a,{className:e.secondaryHeading,children:"".concat(t.firstname," ").concat(t.lastname)})]}),Object(n.jsx)(K.a,{className:e.infoDetails,children:Object(n.jsxs)("ul",{className:e.ul,children:[Object(n.jsxs)("li",{className:e.li,children:[Object(n.jsx)("span",{className:e.infoTitle,children:"Gender"})," ",Object(n.jsx)("span",{className:e.infoData,children:t.gender})]}),Object(n.jsxs)("li",{className:e.li,children:[Object(n.jsx)("span",{className:e.infoTitle,children:"Title"}),"  ",Object(n.jsx)("span",{className:e.infoData,children:t.title})]}),Object(n.jsxs)("li",{className:e.li,children:[Object(n.jsx)("span",{className:e.infoTitle,children:"Forename"})," ",Object(n.jsx)("span",{className:e.infoData,children:t.firstname})]}),Object(n.jsxs)("li",{className:e.li,children:[Object(n.jsx)("span",{className:e.infoTitle,children:"Surname"})," ",Object(n.jsx)("span",{className:e.infoData,children:t.lastname})]}),Object(n.jsxs)("li",{className:e.li,children:[Object(n.jsx)("span",{className:e.infoTitle,children:"Email"})," ",Object(n.jsx)("span",{className:e.infoData,children:t.email})]}),Object(n.jsxs)("li",{className:e.li,children:[Object(n.jsx)("span",{className:e.infoTitle,children:"D.O.B"})," ",Object(n.jsx)("span",{className:e.infoData,children:te()(new Date(t.birthDate),"dd mmm yyyy")})]}),Object(n.jsxs)("li",{className:e.li,children:[Object(n.jsx)("span",{className:e.infoTitle,children:"Telephone"})," ",Object(n.jsx)("span",{className:e.infoData,children:t.phone})]}),Object(n.jsxs)("li",{className:e.li,children:[Object(n.jsx)("span",{className:e.infoTitle,children:"Post Code"})," ",Object(n.jsx)("span",{className:e.infoData,children:t.postCode})]}),Object(n.jsxs)("li",{className:e.li,children:[Object(n.jsx)("span",{className:e.infoTitle,children:"Address"})," ",Object(n.jsx)("span",{className:e.infoData,children:t.address})]}),Object(n.jsxs)("li",{className:e.li,children:[Object(n.jsx)("span",{className:e.infoTitle,children:"Notes"})," ",Object(n.jsx)("span",{className:e.infoData,children:null!==(i=t.notes)&&void 0!==i?i:"N/A"})]}),Object(n.jsxs)("li",{className:e.li,children:[Object(n.jsx)("span",{className:e.infoTitle,children:"Passport No."})," ",Object(n.jsx)("span",{className:e.infoData,children:null!==(s=t.passportNumber)&&void 0!==s?s:"N/A"})]}),Object(n.jsxs)("li",{className:e.li,hidden:!t.passportNumber2||0===t.passportNumber2.length,children:[Object(n.jsx)("span",{className:e.infoTitle,children:"Second Passport No."})," ",Object(n.jsx)("span",{className:e.infoData,children:null!==(c=t.passportNumber2)&&void 0!==c?c:"N/A"})]})]})})]})})})}))]})})}var ie=a(207),se=a(214),ce=Object(j.a)((function(e){return{formControl:{textAlign:"left"},FormTitle:{marginTop:"20px",marginBottom:"20px"}}}));function re(){var e,t,a,i,c,r,d,j=ce(),b=s.a.useContext(D),m=Object(l.a)(b,2),u=m[0],h=m[1],p=s.a.useState(null!==(e=u.birthDate)&&void 0!==e?e:null),x=Object(l.a)(p,2),O=x[0],f=x[1],g=s.a.useState(null!==(t=u.firstname)&&void 0!==t?t:""),C=Object(l.a)(g,2),k=C[0],S=C[1],w=s.a.useState(null!==(a=u.lastname)&&void 0!==a?a:""),A=Object(l.a)(w,2),F=A[0],B=A[1],R=s.a.useState(null!==(i=u.email)&&void 0!==i?i:""),I=Object(l.a)(R,2),W=I[0],M=I[1],P=s.a.useState(null!==(c=u.gender)&&void 0!==c?c:""),q=Object(l.a)(P,2),L=q[0],H=q[1],z=s.a.useState(null!==(r=u.title)&&void 0!==r?r:""),Q=Object(l.a)(z,2),K=Q[0],Z=Q[1],$=s.a.useState(null!==(d=u.emailConfirmed)&&void 0!==d&&d),_=Object(l.a)($,2),ee=_[0],te=_[1];return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)(ne,{}),0===u.persons.length&&Object(n.jsx)(N.a,{className:j.FormTitle,variant:"h6",gutterBottom:!0,children:"Fill Your Basic Info"}),u.persons.length>0&&Object(n.jsx)(N.a,{className:j.FormTitle,variant:"h6",gutterBottom:!0,children:"Fill Basic Info"}),Object(n.jsxs)(E.a,{container:!0,spacing:3,alignItems:"baseline",children:[Object(n.jsx)(E.a,{item:!0,xs:12,md:6,children:Object(n.jsxs)(J.a,{className:j.formControl,fullWidth:!0,required:!0,children:[Object(n.jsx)(U.a,{id:"gender-label-id",children:"Gender"}),Object(n.jsxs)(V.a,{error:!!u.genderError,fullWidth:!0,labelId:"gender-label-id",id:"gender-id",value:L,onChange:function(e){H(e.target.value),h((function(t){return Object(o.a)(Object(o.a)({},t),{},{gender:e.target.value})})),h((function(e){return Object(o.a)(Object(o.a)({},e),{},{genderError:!1})}))},children:[Object(n.jsx)(G.a,{value:"Male",children:"Male"}),Object(n.jsx)(G.a,{value:"Female",children:"Female"})]})]})}),Object(n.jsx)(E.a,{item:!0,xs:12,md:6,children:Object(n.jsxs)(J.a,{className:j.formControl,fullWidth:!0,required:!0,children:[Object(n.jsx)(U.a,{id:"title-label-id",children:"Title"}),Object(n.jsxs)(V.a,{error:!!u.titleError,fullWidth:!0,labelId:"title-label-id",id:"title-id",value:K,onChange:function(e){Z(e.target.value),h((function(t){return Object(o.a)(Object(o.a)({},t),{},{title:e.target.value})})),h((function(e){return Object(o.a)(Object(o.a)({},e),{},{titleError:!1})}))},children:[Object(n.jsx)(G.a,{value:"Mr",children:"Mr"}),Object(n.jsx)(G.a,{value:"Mrs",children:"Mrs"}),Object(n.jsx)(G.a,{value:"Miss",children:"Miss"}),Object(n.jsx)(G.a,{value:"Ms",children:"Ms"}),Object(n.jsx)(G.a,{value:"Dr",children:"Dr"})]})]})}),Object(n.jsx)(E.a,{item:!0,xs:12,md:6,children:Object(n.jsx)(Y.a,{error:!!u.firstnameError,required:!0,id:"firstName",label:"First Name",fullWidth:!0,autoComplete:"given-name",value:k,onChange:function(e){S(e.target.value),h((function(t){return Object(o.a)(Object(o.a)({},t),{},{firstname:e.target.value})})),e.target.value&&e.target.value.trim().length>=3&&h((function(e){return Object(o.a)(Object(o.a)({},e),{},{firstnameError:!1})}))}})}),Object(n.jsx)(E.a,{item:!0,xs:12,md:6,children:Object(n.jsx)(Y.a,{error:!!u.lastnameError,required:!0,id:"lastName",label:"Last Name",fullWidth:!0,autoComplete:"family-name",value:F,onChange:function(e){B(e.target.value),h((function(t){return Object(o.a)(Object(o.a)({},t),{},{lastname:e.target.value})})),e.target.value&&e.target.value.trim().length>=3&&h((function(e){return Object(o.a)(Object(o.a)({},e),{},{lastnameError:!1})}))}})}),Object(n.jsx)(E.a,{item:!0,xs:12,md:6,children:Object(n.jsx)(v.a,{utils:T.a,children:Object(n.jsx)(y.b,{error:!!u.birthDateError,autoOk:!0,fullWidth:!0,variant:"inline",label:"Birthdate",format:"dd/MM/yyyy",disableFuture:!0,InputAdornmentProps:{position:"start"},helperText:"dd/MM/yyyy",value:O,onChange:function(e){f(e),h((function(t){return Object(o.a)(Object(o.a)({},t),{},{birthDate:e})})),h((function(e){return Object(o.a)(Object(o.a)({},e),{},{birthDateError:!1})}))}})})}),Object(n.jsx)(E.a,{item:!0,xs:12,md:6,children:Object(n.jsx)(Y.a,{error:!!u.emailError,required:!0,id:"email",label:"Email Address",fullWidth:!0,autoComplete:"email",type:"email",value:W,onChange:function(e){M(e.target.value),h((function(t){return Object(o.a)(Object(o.a)({},t),{},{email:e.target.value})})),e.target.value&&X.validate(e.target.value)&&h((function(e){return Object(o.a)(Object(o.a)({},e),{},{emailError:!1})}))},helperText:"This email address is where you will receive your results. Please tick the box below to confirm that this is a private email address to which you are happy for us to send your results."})}),Object(n.jsx)(E.a,{item:!0,xs:12,className:j.formControl,children:Object(n.jsx)(ie.a,{className:j.formControl,style:{color:u.emailConfirmedError?"red":""},control:Object(n.jsx)(se.a,{className:j.formControl,style:{color:u.emailConfirmedError?"red":""},color:"secondary",name:"emailConfirmCheckBox",checked:ee,onChange:function(e){te(e.target.checked),h((function(t){return Object(o.a)(Object(o.a)({},t),{},{emailConfirmed:e.target.checked})})),h((function(e){return Object(o.a)(Object(o.a)({},e),{},{emailConfirmedError:!1})}))}}),label:Object(n.jsxs)("span",{style:{fontSize:"0.8rem"},children:["I confirm that this is a private email address to which I am happy for you to send my results."," "]})})})]})]})}var le=a(68),oe=a(45),de=a(94),je=a.n(de);function be(e,t,a){var n=!1;return 1===a?e.bookingTime||(t((function(e){return Object(o.a)(Object(o.a)({},e),{},{bookingTimeError:!0})})),n=!0):2===a?(e.gender||(t((function(e){return Object(o.a)(Object(o.a)({},e),{},{genderError:!0})})),n=!0),e.title||(t((function(e){return Object(o.a)(Object(o.a)({},e),{},{titleError:!0})})),n=!0),(!e.firstname||e.firstname.trim().length<3)&&(t((function(e){return Object(o.a)(Object(o.a)({},e),{},{firstnameError:!0})})),n=!0),(!e.lastname||e.lastname.trim().length<3)&&(t((function(e){return Object(o.a)(Object(o.a)({},e),{},{lastnameError:!0})})),n=!0),e.birthDate||(t((function(e){return Object(o.a)(Object(o.a)({},e),{},{birthDateError:!0})})),n=!0),e.email&&X.validate(e.email)||(t((function(e){return Object(o.a)(Object(o.a)({},e),{},{emailError:!0})})),n=!0),e.emailConfirmed||(t((function(e){return Object(o.a)(Object(o.a)({},e),{},{emailConfirmedError:!0})})),n=!0)):3===a&&((!e.phone||e.phone.trim().length<6)&&(t((function(e){return Object(o.a)(Object(o.a)({},e),{},{phoneError:!0})})),n=!0),(!e.postCode||e.postCode.trim().length<5)&&(t((function(e){return Object(o.a)(Object(o.a)({},e),{},{postCodeError:!0})})),n=!0),(!e.address||e.address.trim().length<10)&&(t((function(e){return Object(o.a)(Object(o.a)({},e),{},{addressError:!0})})),n=!0),e.certificate&&(!e.passportNumber||e.passportNumber.trim().length<6)&&(t((function(e){return Object(o.a)(Object(o.a)({},e),{},{passportNumberError:!0})})),n=!0),n||t((function(e){return Object(o.a)(Object(o.a)({},e),{},{proceedToSubmit:!1})}))),!n}var me=Object(j.a)((function(e){return{box:{backgroundColor:"#373737",color:"#fff",padding:"1px",borderRadius:"4px",textAlign:"justify",paddingRight:"40px"},boxRed:{backgroundColor:"#dc2626",color:"#fff",padding:"1px",borderRadius:"4px",textAlign:"justify",paddingRight:"40px"},boxInfo:{textAlign:"justify",backgroundColor:"#fafafa",color:"#333",padding:"1px",borderRadius:"4px",paddingRight:"40px",border:"1px solid #eee"},ul:{listStyle:"none",padding:"0",margin:"0"},li:{marginBottom:"5px"},icon:{marginRight:"8px"},root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0,color:e.palette.text.secondary},secondaryHeading:{fontSize:e.typography.pxToRem(15)},infoDetails:{textAlign:"left"},infoTitle:{fontWeight:"800",marginRight:"10px"},infoData:{fontWeight:"400"},title:{textAlign:"center",fontWeight:"500",margin:"10px",backgroundColor:"#eee",padding:"10px",borderRadius:"4px"},Accordion:{backgroundColor:"#f5f5f5",color:"#222"},terms:{fontWeight:"500",textAlign:"justify",marginTop:"10px",padding:"10px"},link:{color:"#dc2626",textDecoration:"none"},AddAnother:{marginTop:"10px"}}}));function ue(){var e,t,a,i=me(),c=s.a.useContext(D),r=Object(l.a)(c,2),d=r[0],j=r[1],b=s.a.useState(!1),m=Object(l.a)(b,2),u=m[0],h=m[1],p=function(e){return function(t,a){h(!!a&&e)}},x=function(){if(be(d,j,2)&&be(d,j,3)){var e={gender:d.gender,title:d.title,firstname:d.firstname,lastname:d.lastname,birthDate:d.birthDate,email:d.email,phone:d.phone,postCode:d.postCode,address:d.address,notes:d.notes,certificate:d.certificate,passportNumber:d.passportNumber,passportNumber2:d.passportNumber2},t=d.persons;t.push(e),j((function(e){return{activeStep:2,bookingDate:e.bookingDate,bookingTime:e.bookingTime,persons:t}}))}else j((function(e){return Object(o.a)(Object(o.a)({},e),{},{activeStep:2})}))};return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)(N.a,{variant:"h6",gutterBottom:!0,children:"Review Your Data"}),Object(n.jsxs)(E.a,{container:!0,direction:"column",spacing:1,justify:"flex-start",alignItems:"stretch",children:[Object(n.jsx)(E.a,{item:!0,xs:12,md:12,children:Object(n.jsx)("div",{className:i.box,children:Object(n.jsxs)("ul",{className:i.ul,children:[Object(n.jsxs)("li",{className:i.li,children:[Object(n.jsx)(le.a,{icon:oe.a,className:i.icon}),te()(new Date(d.bookingDate),"dd-mmmm-yyyy")]}),Object(n.jsxs)("li",{className:i.li,children:[Object(n.jsx)(le.a,{icon:oe.c,className:i.icon}),"Check-up Duration: 30 minutes"]})]})})}),Object(n.jsx)(E.a,{item:!0,xs:12,md:12,children:Object(n.jsx)("div",{className:i.box,children:Object(n.jsx)("ul",{className:i.ul,children:Object(n.jsxs)("li",{className:i.li,children:[Object(n.jsx)(le.a,{icon:oe.b,className:i.icon}),"Time: ",d.bookingTime]})})})}),Object(n.jsx)(E.a,{item:!0,xs:12,md:12,children:Object(n.jsx)("div",{className:i.box,children:Object(n.jsx)("ul",{className:i.ul,children:Object(n.jsx)("li",{className:i.li,children:"Package : In-Clinic Test"})})})}),Object(n.jsx)(E.a,{item:!0,xs:12,md:12,children:Object(n.jsx)("div",{className:i.box,children:Object(n.jsx)("ul",{className:i.ul,children:Object(n.jsx)("li",{className:i.li,children:"Price : \xa3199 (each person)"})})})}),Object(n.jsx)(E.a,{item:!0,xs:12,md:12,children:Object(n.jsx)("div",{className:i.box,children:Object(n.jsx)("ul",{className:i.ul,children:Object(n.jsx)("li",{className:i.li,children:"This time slot is not guaranteed, due to nature of healthcare there might be slight delay to your appointment."})})})}),Object(n.jsx)(E.a,{item:!0,xs:12,md:12,children:Object(n.jsx)("div",{className:i.boxRed,children:Object(n.jsx)("ul",{className:i.ul,children:Object(n.jsx)("li",{className:i.li,children:"During the coronavirus pandemic, we must confirm appointments in order to maintain social distancing, we will email you to confirm your booking if your selected time is possible. If not, we will contact you with the nearest availability to your request. Thank you for understanding."})})})}),Object(n.jsx)("span",{className:i.title,children:" Appointment is for the following people :"}),d.persons.map((function(e,t){var a,s,c;return Object(n.jsx)(E.a,{item:!0,xs:12,md:12,children:Object(n.jsx)("div",{className:i.root,children:Object(n.jsxs)(Q.a,{className:i.Accordion,expanded:u==="panel".concat(t),onChange:p("panel".concat(t)),children:[Object(n.jsxs)(Z.a,{expandIcon:Object(n.jsx)(_.a,{}),"aria-controls":"panel1bh-content",id:"panel".concat(t,"bh-header"),children:[Object(n.jsxs)(N.a,{className:i.heading,children:[" ","#".concat(t+1)," "]}),Object(n.jsx)(N.a,{className:i.secondaryHeading,children:"".concat(e.firstname," ").concat(e.lastname)})]}),Object(n.jsx)(K.a,{className:i.infoDetails,children:Object(n.jsxs)("ul",{className:i.ul,children:[Object(n.jsxs)("li",{className:i.li,children:[Object(n.jsx)("span",{className:i.infoTitle,children:"Gender"})," ",Object(n.jsx)("span",{className:i.infoData,children:e.gender})]}),Object(n.jsxs)("li",{className:i.li,children:[Object(n.jsx)("span",{className:i.infoTitle,children:"Title"}),"  ",Object(n.jsx)("span",{className:i.infoData,children:e.title})]}),Object(n.jsxs)("li",{className:i.li,children:[Object(n.jsx)("span",{className:i.infoTitle,children:"Forename"})," ",Object(n.jsx)("span",{className:i.infoData,children:e.firstname})]}),Object(n.jsxs)("li",{className:i.li,children:[Object(n.jsx)("span",{className:i.infoTitle,children:"Surname"})," ",Object(n.jsx)("span",{className:i.infoData,children:e.lastname})]}),Object(n.jsxs)("li",{className:i.li,children:[Object(n.jsx)("span",{className:i.infoTitle,children:"Email"})," ",Object(n.jsx)("span",{className:i.infoData,children:e.email})]}),Object(n.jsxs)("li",{className:i.li,children:[Object(n.jsx)("span",{className:i.infoTitle,children:"D.O.B"})," ",Object(n.jsx)("span",{className:i.infoData,children:te()(new Date(e.birthDate),"dd mmm yyyy")})]}),Object(n.jsxs)("li",{className:i.li,children:[Object(n.jsx)("span",{className:i.infoTitle,children:"Telephone"})," ",Object(n.jsx)("span",{className:i.infoData,children:e.phone})]}),Object(n.jsxs)("li",{className:i.li,children:[Object(n.jsx)("span",{className:i.infoTitle,children:"Post Code"})," ",Object(n.jsx)("span",{className:i.infoData,children:e.postCode})]}),Object(n.jsxs)("li",{className:i.li,children:[Object(n.jsx)("span",{className:i.infoTitle,children:"Address"})," ",Object(n.jsx)("span",{className:i.infoData,children:e.address})]}),Object(n.jsxs)("li",{className:i.li,children:[Object(n.jsx)("span",{className:i.infoTitle,children:"Notes"})," ",Object(n.jsx)("span",{className:i.infoData,children:null!==(a=e.notes)&&void 0!==a?a:"N/A"})]}),Object(n.jsxs)("li",{className:i.li,children:[Object(n.jsx)("span",{className:i.infoTitle,children:"Passport No."})," ",Object(n.jsx)("span",{className:i.infoData,children:null!==(s=e.passportNumber)&&void 0!==s?s:"N/A"})]}),Object(n.jsxs)("li",{className:i.li,hidden:!e.passportNumber2||0===e.passportNumber2.length,children:[Object(n.jsx)("span",{className:i.infoTitle,children:"Second Passport No."})," ",Object(n.jsx)("span",{className:i.infoData,children:null!==(c=e.passportNumber2)&&void 0!==c?c:"N/A"})]})]})})]})})})})),!d.proceedToSubmit&&Object(n.jsx)(E.a,{item:!0,xs:12,md:12,children:Object(n.jsx)("div",{className:i.root,children:Object(n.jsxs)(Q.a,{className:i.Accordion,expanded:"panel10"===u,onChange:p("panel10"),children:[Object(n.jsxs)(Z.a,{expandIcon:Object(n.jsx)(_.a,{}),"aria-controls":"panel10bh-content",id:"panel10bh-header",children:[Object(n.jsxs)(N.a,{className:i.heading,children:[" ","#".concat(d.persons.length+1)," "]}),Object(n.jsx)(N.a,{className:i.secondaryHeading,children:"".concat(d.firstname," ").concat(d.lastname)})]}),Object(n.jsx)(K.a,{className:i.infoDetails,children:Object(n.jsxs)("ul",{className:i.ul,children:[Object(n.jsxs)("li",{className:i.li,children:[Object(n.jsx)("span",{className:i.infoTitle,children:"Gender"})," ",Object(n.jsx)("span",{className:i.infoData,children:d.gender})]}),Object(n.jsxs)("li",{className:i.li,children:[Object(n.jsx)("span",{className:i.infoTitle,children:"Title"}),"  ",Object(n.jsx)("span",{className:i.infoData,children:d.title})]}),Object(n.jsxs)("li",{className:i.li,children:[Object(n.jsx)("span",{className:i.infoTitle,children:"Forename"})," ",Object(n.jsx)("span",{className:i.infoData,children:d.firstname})]}),Object(n.jsxs)("li",{className:i.li,children:[Object(n.jsx)("span",{className:i.infoTitle,children:"Surname"})," ",Object(n.jsx)("span",{className:i.infoData,children:d.lastname})]}),Object(n.jsxs)("li",{className:i.li,children:[Object(n.jsx)("span",{className:i.infoTitle,children:"Email"})," ",Object(n.jsx)("span",{className:i.infoData,children:d.email})]}),Object(n.jsxs)("li",{className:i.li,children:[Object(n.jsx)("span",{className:i.infoTitle,children:"D.O.B"})," ",Object(n.jsx)("span",{className:i.infoData,children:te()(new Date(d.birthDate),"dd mmm yyyy")})]}),Object(n.jsxs)("li",{className:i.li,children:[Object(n.jsx)("span",{className:i.infoTitle,children:"Telephone"})," ",Object(n.jsx)("span",{className:i.infoData,children:d.phone})]}),Object(n.jsxs)("li",{className:i.li,children:[Object(n.jsx)("span",{className:i.infoTitle,children:"Post Code"})," ",Object(n.jsx)("span",{className:i.infoData,children:d.postCode})]}),Object(n.jsxs)("li",{className:i.li,children:[Object(n.jsx)("span",{className:i.infoTitle,children:"Address"})," ",Object(n.jsx)("span",{className:i.infoData,children:d.address})]}),Object(n.jsxs)("li",{className:i.li,children:[Object(n.jsx)("span",{className:i.infoTitle,children:"Notes"})," ",Object(n.jsx)("span",{className:i.infoData,children:null!==(e=d.notes)&&void 0!==e?e:"N/A"})]}),Object(n.jsxs)("li",{className:i.li,children:[Object(n.jsx)("span",{className:i.infoTitle,children:"Passport No."})," ",Object(n.jsx)("span",{className:i.infoData,children:null!==(t=d.passportNumber)&&void 0!==t?t:"N/A"})]}),Object(n.jsxs)("li",{className:i.li,hidden:!d.passportNumber2||0===d.passportNumber2.length,children:[Object(n.jsx)("span",{className:i.infoTitle,children:"Second Passport No."})," ",Object(n.jsx)("span",{className:i.infoData,children:null!==(a=d.passportNumber2)&&void 0!==a?a:"N/A"})]})]})})]})})}),(!d.persons||d.persons&&d.persons.length<4)&&Object(n.jsx)("div",{className:i.AddAnother,children:Object(n.jsx)(f.a,{startIcon:Object(n.jsx)(je.a,{}),color:"primary",onTouchTap:x,onClick:x,className:i.button,children:"Add Another Person"})}),Object(n.jsxs)("div",{className:i.terms,children:["By clicking on submit button you are agreeing with our ",Object(n.jsx)("a",{className:i.link,href:"#",children:"terms and condition."})]})]})]})}var he=Object(j.a)((function(e){return{formControl:{textAlign:"justify"},FormTitle:{marginTop:"20px",marginBottom:"20px"}}}));function pe(){var e,t,a,i,c,r,d,j=he(),b=s.a.useContext(D),m=Object(l.a)(b,2),u=m[0],h=m[1],p=s.a.useState(null!==(e=u.phone)&&void 0!==e?e:""),x=Object(l.a)(p,2),O=x[0],f=x[1],g=s.a.useState(null!==(t=u.postCode)&&void 0!==t?t:""),v=Object(l.a)(g,2),y=v[0],T=v[1],C=s.a.useState(null!==(a=u.address)&&void 0!==a?a:""),k=Object(l.a)(C,2),S=k[0],w=k[1],A=s.a.useState(null!==(i=u.notes)&&void 0!==i?i:""),F=Object(l.a)(A,2),B=F[0],R=F[1],I=s.a.useState(null!==(c=u.passportNumber)&&void 0!==c?c:""),W=Object(l.a)(I,2),M=W[0],P=W[1],q=s.a.useState(null!==(r=u.passportNumber2)&&void 0!==r?r:""),L=Object(l.a)(q,2),H=L[0],z=L[1],V=s.a.useState(null!==(d=u.certificate)&&void 0!==d&&d),G=Object(l.a)(V,2),U=G[0],J=G[1];return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)(ne,{}),0===u.persons.length&&Object(n.jsx)(N.a,{className:j.FormTitle,variant:"h6",gutterBottom:!0,children:"Fill Your Address Info"}),u.persons.length>0&&Object(n.jsx)(N.a,{className:j.FormTitle,variant:"h6",gutterBottom:!0,children:"Fill Address Info"}),Object(n.jsxs)(E.a,{container:!0,spacing:3,alignItems:"baseline",children:[Object(n.jsx)(E.a,{item:!0,xs:12,md:6,children:Object(n.jsx)(Y.a,{error:!!u.phoneError,required:!0,id:"phone",label:"Phone Number",fullWidth:!0,autoComplete:"tel",value:O,onChange:function(e){f(e.target.value),h((function(t){return Object(o.a)(Object(o.a)({},t),{},{phone:e.target.value})})),e.target.value&&e.target.value.trim().length>=6&&h((function(e){return Object(o.a)(Object(o.a)({},e),{},{phoneError:!1})}))}})}),Object(n.jsx)(E.a,{item:!0,xs:12,md:6,children:Object(n.jsx)(Y.a,{error:!!u.postCodeError,required:!0,id:"postCode",label:"Postal Code",fullWidth:!0,autoComplete:"postal-code",value:y,onChange:function(e){T(e.target.value),h((function(t){return Object(o.a)(Object(o.a)({},t),{},{postCode:e.target.value})})),e.target.value&&e.target.value.trim().length>=5&&h((function(e){return Object(o.a)(Object(o.a)({},e),{},{postCodeError:!1})}))}})}),Object(n.jsx)(E.a,{item:!0,xs:12,children:Object(n.jsx)(Y.a,{error:!!u.addressError,required:!0,id:"address",label:"Address",multiline:!0,rowsMax:2,fullWidth:!0,autoComplete:"street-address",value:S,onChange:function(e){w(e.target.value),h((function(t){return Object(o.a)(Object(o.a)({},t),{},{address:e.target.value})})),e.target.value&&e.target.value.trim().length>=10&&h((function(e){return Object(o.a)(Object(o.a)({},e),{},{addressError:!1})}))}})}),Object(n.jsx)(E.a,{item:!0,xs:12,children:Object(n.jsx)(Y.a,{placeholder:"Must include flight date & flight time also If there's anything you want to tell the doctor beforehand, enter it here",id:"notes",label:"Notes (optional)",helperText:"MUST include flight date & flight time",multiline:!0,rowsMax:2,rows:2,fullWidth:!0,autoComplete:"",value:B,onChange:function(e){R(e.target.value),h((function(t){return Object(o.a)(Object(o.a)({},t),{},{notes:e.target.value})}))}})}),Object(n.jsx)(E.a,{item:!0,xs:12,className:j.formControl,children:Object(n.jsx)(ie.a,{className:j.formControl,control:Object(n.jsx)(se.a,{className:j.formControl,color:"secondary",name:"certificate",checked:U,onChange:function(e){J(e.target.checked),h((function(t){return Object(o.a)(Object(o.a)({},t),{},{certificate:e.target.checked})}))}}),label:Object(n.jsxs)("span",{style:{fontSize:"0.8rem"},children:["I also require a medical certificate signed by a doctor declaring me 'fit-to-fly'."," "]})})}),Object(n.jsx)(E.a,{item:!0,xs:12,hidden:!U,children:Object(n.jsx)(Y.a,{error:!!u.passportNumberError,required:!0,id:"passport",label:"Passport Number",helperText:"your passport number will be noted on your certificate",fullWidth:!0,autoComplete:"",value:M,onChange:function(e){P(e.target.value),h((function(t){return Object(o.a)(Object(o.a)({},t),{},{passportNumber:e.target.value})})),e.target.value&&e.target.value.trim().length>=6&&h((function(e){return Object(o.a)(Object(o.a)({},e),{},{passportNumberError:!1})}))}})}),Object(n.jsx)(E.a,{item:!0,xs:12,hidden:!U,children:Object(n.jsx)(Y.a,{id:"passport2",label:"Second Passport Number (optional)",helperText:"your passport number will be noted on your certificate",fullWidth:!0,autoComplete:"",value:H,onChange:function(e){z(e.target.value),h((function(t){return Object(o.a)(Object(o.a)({},t),{},{passportNumber2:e.target.value})}))}})})]})]})}var xe=function e(){Object(k.a)(this,e)};xe.bookAppointment=function(e){return w.post("/api/book/bookappointment",e)},xe.getNewReference=function(){return w.get("/api/book/getnewreference")};var Oe=a(6),fe=a(222),ge=Object(Oe.a)({root:{maxWidth:"100%",flexGrow:1},progress:{width:"100%"}})(fe.a),Ne=a.p+"static/media/ok.c105a1fa.png";function ve(){return Object(n.jsxs)(N.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",(new Date).getFullYear()," ",Object(n.jsx)(g.a,{color:"inherit",href:"https://www.blood.london/",children:"Blood.London."})," ","All rights reserved"]})}var ye=Object(j.a)((function(e){return{appBar:{position:"relative",backgroundColor:"#333",color:"#fff",alignItems:"center"},logo:{maxWidth:160},layout:Object(d.a)({width:"auto",marginLeft:e.spacing(2),marginRight:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(2)),{width:600,marginLeft:"auto",marginRight:"auto"}),paper:Object(d.a)({marginTop:e.spacing(1),marginBottom:e.spacing(3),padding:e.spacing(1)},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(6),marginBottom:e.spacing(6),padding:e.spacing(3)}),stepper:{padding:e.spacing(3,0,5)},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)},bold:{fontWeight:"800",padding:"5px"},doneImage:{width:"240px",height:"150px",margin:"20px"}}})),Te=["Appoinment Date","Appoinment Time","Basic Info","Address Info","Review"];function De(e){switch(e){case 0:return Object(n.jsx)(W,{});case 1:return Object(n.jsx)(z,{});case 2:return Object(n.jsx)(re,{});case 3:return Object(n.jsx)(pe,{});case 4:return Object(n.jsx)(ue,{});default:throw new Error("Unknown step")}}function Ce(){var e=s.a.useContext(D),t=Object(l.a)(e,2),a=t[0],i=t[1],c=ye(),r=function(e){i((function(t){return Object(o.a)(Object(o.a)({},t),{},{activeStep:e})}))},d=s.a.useState(!1),j=Object(l.a)(d,2),g=j[0],v=j[1],y=Te.length,T=function(){i((function(e){return Object(o.a)(Object(o.a)({},e),{},{proceedToSubmit:!0})})),r(4)},k=function(){4===a.activeStep?(v(!0),function(){var e=[];xe.getNewReference().then((function(t){var n=t.data.ref;if(i((function(e){return Object(o.a)(Object(o.a)({},e),{},{ref:n})})),!a.proceedToSubmit){var s={gender:a.gender,title:a.title,firstname:a.firstname,lastname:a.lastname,birthDate:a.birthDate,email:a.email,phone:a.phone,postCode:a.postCode,address:a.address,notes:a.notes,certificate:a.certificate,passportNumber:a.passportNumber,passportNumber2:a.passportNumber2},c=xe.bookAppointment(Object(o.a)(Object(o.a)({},s),{},{bookingDate:a.bookingDate,bookingTime:a.bookingTime,bookingRef:n}));e.push(c)}a.persons.forEach((function(t){e.push(xe.bookAppointment(Object(o.a)(Object(o.a)({},t),{},{bookingDate:a.bookingDate,bookingTime:a.bookingTime,bookingRef:n})))})),Promise.all(e).then((function(e){v(!1),r(a.activeStep+1)})).catch((function(e){console.log(e),v(!1)}))})).catch((function(e){console.log(e),v(!1)}))}()):be(a,i,a.activeStep)&&r(a.activeStep+1)},S=function(){r(a.activeStep-1)};return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)(b.a,{}),Object(n.jsx)(m.a,{position:"absolute",color:"default",className:c.appBar,children:Object(n.jsx)(u.a,{children:Object(n.jsx)(N.a,{variant:"h6",color:"inherit",noWrap:!0,children:"Medical Express Clinic"})})}),Object(n.jsxs)("main",{className:c.layout,children:[Object(n.jsxs)(h.a,{className:c.paper,children:[Object(n.jsx)(N.a,{component:"h1",variant:"h6",align:"center",children:"Book Appointment Online"}),Object(n.jsx)(s.a.Fragment,{children:a.activeStep<Te.length?Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)(C.BrowserView,{children:Object(n.jsx)(p.a,{activeStep:a.activeStep,className:c.stepper,children:Te.map((function(e){return Object(n.jsx)(x.a,{children:Object(n.jsx)(O.a,{children:e})},e)}))})}),Object(n.jsx)(C.MobileView,{children:Object(n.jsx)(ge,{steps:y,position:"static",variant:"progress",activeStep:a.activeStep})})]}):Object(n.jsx)(s.a.Fragment,{})}),Object(n.jsx)(s.a.Fragment,{children:a.activeStep===Te.length?Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)("img",{className:c.doneImage,src:Ne,alt:"Done image"}),Object(n.jsx)(N.a,{variant:"h5",gutterBottom:!0,children:"Thank you for your Booking."}),Object(n.jsx)("br",{}),Object(n.jsxs)(N.a,{variant:"subtitle1",children:["Your booking number is ",Object(n.jsx)("span",{className:c.bold,children:'"'.concat(a.ref,'"')})," . We have emailed your booking information, and will look forward to meet you at the clinic."]})]}):Object(n.jsxs)(s.a.Fragment,{children:[De(a.activeStep),Object(n.jsxs)("div",{className:c.buttons,children:[0!==a.activeStep&&Object(n.jsx)(f.a,{disabled:g,onClick:S,onTouchTap:S,className:c.button,children:"Back"}),(2===a.activeStep||3===a.activeStep)&&a.persons&&a.persons.length>=1&&Object(n.jsx)(f.a,{color:"secondary",onTouchTap:T,onClick:T,className:c.button,children:"Skip to Submit"}),Object(n.jsx)(f.a,{disabled:g,variant:"contained",color:"primary",onTouchTap:k,onClick:k,className:c.button,children:a.activeStep===Te.length-1?"Submit":"Next"})]})]})})]}),Object(n.jsx)(ve,{})]})]})}var ke=function(){var e=s.a.useState({activeStep:0,bookingDate:new Date,persons:[]}),t=Object(l.a)(e,2),a=t[0],i=t[1];return Object(n.jsx)(D.Provider,{value:[a,i],children:Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(Ce,{children:" "})})})};r.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(ke,{})}),document.getElementById("root"))}},[[148,1,2]]]);
//# sourceMappingURL=main.bfc851c4.chunk.js.map