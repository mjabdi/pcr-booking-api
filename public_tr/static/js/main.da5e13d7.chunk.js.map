{"version":3,"sources":["GlobalState.js","services/api.js","services/TimeService.js","DateForm.js","TimeForm.js","PersonsBox.js","AntiBodyComponent.js","DateField.js","InformationForm.js","Validation.js","ReviewForm.js","AddressForm.js","services/BookService.js","MobileStepper.js","images/logo.png","images/ok.png","images/error.png","ResultsForm.js","FAQ.js","checkout.js","WelcomeForm.js","AgreementForm.js","LoginForm.js","App.js","index.js","PriceCalculator.js","DateFormatter.js"],"names":["GlobalState","React","createContext","axios","create","baseURL","headers","TimeService","getFirstAvailableDate","axiosRetry","API","retries","retryDelay","retryCount","get","getFullyBookedDates","getTimeSlots","date","date_utc","dateformat","Date","toUTCString","slice","UTCUtils","locale","enGB","DateFnsUtils","useStyles","makeStyles","theme","loadingBox","DateForm","useContext","state","setState","useState","bookingDate","setBookingDate","firstAvailableDay","setFirstAvailableDay","fullyBookedDays","setFullyBookedDays","dataLoaded","setDataLoaded","useEffect","window","scrollTo","promise1","promise2","Promise","all","then","values","firstday","data","setHours","dec21","getTime","getTimezoneOffset","dateChanged","console","log","catch","err","LoadData","getFullYear","getMonth","getDate","checkFullyBooked","result","length","i","Fragment","Typography","variant","gutterBottom","Grid","container","direction","justify","alignItems","utils","DatePicker","autoOk","disablePast","openTo","orientation","fullWidth","value","onChange","shouldDisableDate","Skeleton","width","height","root","display","flexWrap","justifyContent","overflow","backgroundColor","palette","background","paper","gridList","box","border","margin","padding","color","cursor","boxMobile","boxSelected","boxDisable","TimeForm","classes","bookingTime","setTime","emptyTimeSlots","push","timeSlots","setTimeSlots","timeSlotsTmp","beforeFeb","forEach","time","available","error","boxClicked","key","style","fontSize","paddingTop","paddingBottom","fontWeight","className","GridList","cellHeight","cols","map","timeSlot","GridListTile","onClick","borderRadius","textAlign","paddingRight","boxRed","boxInfo","ul","listStyle","li","marginBottom","icon","marginRight","heading","typography","pxToRem","flexBasis","flexShrink","text","secondary","secondaryHeading","infoDetails","infoTitle","infoData","title","marginLeft","Accordion","PersonsBox","expanded","setExpanded","spacing","persons","person","index","panel","item","xs","md","event","isExpanded","AccordionSummary","expandIcon","aria-controls","id","firstname","lastname","AccordionDetails","gender","email","FormatDateFromString","birthDate","phone","passportNumber","NHSNumber","ethnicity","postCode","address","selfIsolate","postCodeSI","addressSI","arrivalDate","flightNumber","lastDepartedDate","travellingFrom","marginTop","calculatePrice","formControl","Box","boxShadow","Label","CheckBox","DateField","day","setDay","month","setMonth","year","setYear","dayArray","setDayArray","monthArray","setMonthArray","yearArray","setYearArray","updateDate","dd","mm","yyyy","dayStr","monthStr","d","parseInt","substr","m","y","days","months","years","position","top","left","paddingLeft","FormControl","InputLabel","Select","labelId","target","MenuItem","FormTitle","InformationForm","setBirthDate","setFirstname","setLastname","setEmail","retypeEmail","setRetypeEmail","setGender","setTitle","emailConfirmed","setEmailConfirmed","setPassportNumber","setNHSNumber","setEthnicity","setPhone","required","genderError","titleError","TextField","firstnameError","label","autoComplete","trim","lastnameError","birthDateError","dateStr","emailError","type","EmailValidator","helperText","retypeEmailError","FormControlLabel","emailConfirmedError","control","Checkbox","name","checked","phoneError","passportNumberError","NHSNumberError","ethnicityError","ValidateStep","step","bookingDateError","bookingTimeError","postCodeError","addressError","postCodeSIError","addressSIError","validateDate","arrivalDateError","flightNumberError","lastDepartedDateError","travellingFromError","proceedToSubmit","str","replace","test","terms","link","textDecoration","AddAnother","ReviewForm","totalPrice","setTotalPrice","total","calculateTotalPrice","handleChange","addAnotherPerson","personInfo","newPersons","activeStep","getStarted","agreed","Button","startIcon","onTouchTap","button","faCalendarAlt","faHourglassHalf","faClock","href","dataConfirmedError","dataConfirmed","AddressForm","sameAddress","setSameAddress","setPostCode","setAddress","setPostCodeSI","setAddressSI","setSelfIsolate","setArrivalDate","setFlightNumber","setLastDepartedDate","setTravellingFrom","hidden","disabled","multiline","rowsMax","placeholder","BookService","bookAppointment","payload","post","getNewReference","getBookingById","StyledMobileStepper","withStyles","maxWidth","flexGrow","progress","MobileStepper","bold","doneImage","errorImage","ResultsForm","AllError","results","status","finalResults","src","alt","ref","Alert","severity","forename","surname","faq","question","answer","Copyright","align","Link","isMobile","appBar","logo","layout","breakpoints","up","stepper","buttons","logoImage","privacyButton","faqButton","backdrop","zIndex","drawer","steps","getStepContent","Error","Checkout","open","setOpen","scroll","setScroll","openFAQ","setOpenFAQ","scrollFAQ","setScrollFAQ","descriptionElementRef","useRef","descriptionElement","current","focus","descriptionElementRefFAQ","descriptionElementFAQ","handleClickOpen","scrollType","handleClickOpenFAQ","handleClose","handleCloseFAQ","setActiveStep","submiting","setSubmiting","maxSteps","handleNext","promiseArray","res","promise","bookingRef","tr","referrer","errs","submitForm","handleBack","CssBaseline","AppBar","Toolbar","noWrap","Paper","component","Stepper","Step","StepLabel","Dialog","onClose","aria-labelledby","aria-describedby","DialogTitle","DialogContent","dividers","DialogContentText","tabIndex","DialogActions","element","borderLeft","lineHeight","Backdrop","CircularProgress","textContent","textContentMobile","getStartedButton","AirIcon","WelcomeForm","getStartedClicked","fontStyle","AgreementForm","check","setCheck","setError","checkClicked","check1","check2","check3","check4","check5","check6","backButtonClicked","getAgreeClicked","App","bookingId","urlElements","location","pathname","split","getPathId","booking","Provider","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.da5e13d7.chunk.js","sourcesContent":["import React from 'react'; \r\nconst GlobalState = React.createContext([{}, () => {}]); \r\nexport default GlobalState;","import axios from 'axios';\r\n\r\nexport default axios.create({\r\n    // baseURL: 'http://localhost:9090',\r\n   baseURL: 'https://www.travelpcrtest.com/',\r\n   headers : {\r\n       'Authorization' : 'Basic QXp1cmXEaWFtb45kOmh1bnRlcjO='\r\n   }\r\n });\r\n\r\n ","\r\nimport API from './api';\r\nimport axiosRetry from 'axios-retry';\r\nimport dateformat from 'dateformat';\r\n\r\nexport default class TimeService{\r\n\r\n     static getFirstAvailableDate =  () =>\r\n    {\r\n        axiosRetry( API, { retries: 3,  retryDelay: (retryCount) => {\r\n            return retryCount * 1000;\r\n          } });\r\n        return API.get('/api/time/getfirstavaiabledate');\r\n    }\r\n\r\n    static getFullyBookedDates = () =>\r\n    {        \r\n        axiosRetry( API, { retries: 3,  retryDelay: (retryCount) => {\r\n            return retryCount * 1000;\r\n          } });\r\n       return API.get('/api/time/getfullybookeddays');\r\n    }\r\n\r\n    static getTimeSlots = (date) =>\r\n    {\r\n        axiosRetry( API, { retries: 3,  retryDelay: (retryCount) => {\r\n            return retryCount * 1000;\r\n          } });\r\n\r\n        const date_utc =  dateformat(new Date(date.toUTCString().slice(0, -4)),'yyyy-mm-dd');\r\n        return API.get(`/api/time/gettimeslots?date=${date_utc}`);\r\n    }\r\n\r\n\r\n}","import React, { useEffect } from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport {\r\n    DatePicker,\r\n    MuiPickersUtilsProvider,\r\n  } from '@material-ui/pickers';\r\n\r\nimport DateFnsUtils from '@date-io/date-fns';\r\n\r\nimport GlobalState from './GlobalState';\r\nimport {BrowserView, MobileView} from 'react-device-detect';\r\n\r\nimport TimeService from './services/TimeService';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Skeleton from '@material-ui/lab/Skeleton';\r\nimport { enGB, } from 'date-fns/locale'\r\n\r\nimport { format, addMinutes } from 'date-fns';\r\nimport dateformat from 'dateformat';\r\n\r\nclass UTCUtils extends DateFnsUtils {\r\n \r\n  locale = enGB;\r\n  // format(date, formatString) {\r\n  //   return format(new Date(date.getTime() + date.getTimezoneOffset() * 60 * 1000 ), formatString,enGB);\r\n  // }\r\n\r\n  // getCalendarHeaderText(date){\r\n  //   return dateformat(date, 'mmmm yyyy');\r\n  // }\r\n\r\n  // getDayText(date)\r\n  // {\r\n  //   return dateformat(date, 'd');\r\n  // }\r\n\r\n}\r\n\r\n\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n  loadingBox: {\r\n    \r\n  }\r\n\r\n}));\r\n\r\n\r\n\r\n\r\nexport default function DateForm() {\r\n   const classes = useStyles();\r\n\r\n    const [state, setState] = React.useContext(GlobalState);\r\n    const [bookingDate, setBookingDate] = React.useState(state.bookingDate ?? null);\r\n\r\n    const [firstAvailableDay, setFirstAvailableDay] = React.useState(null);\r\n    const [fullyBookedDays, setFullyBookedDays] = React.useState(null);\r\n\r\n    const [dataLoaded, setDataLoaded] =  React.useState(false);\r\n\r\n    useEffect(() => {\r\n      window.scrollTo(0, 0)\r\n    }, []);\r\n\r\n    const LoadData = () => {\r\n\r\n      const promise1 = TimeService.getFirstAvailableDate();\r\n      const promise2 = TimeService.getFullyBookedDates();\r\n\r\n      Promise.all([promise1, promise2]).then( (values) => {\r\n\r\n        let firstday = new Date((values[0].data).date);\r\n        firstday.setHours(0,0,0,0);\r\n        let dec21 = new Date(2021,0,2,0,0,0,0);\r\n        if (firstday < dec21)\r\n          firstday = dec21;\r\n        \r\n        firstday = new Date(firstday.getTime() - firstday.getTimezoneOffset() * 60 * 1000);\r\n\r\n        setFirstAvailableDay(firstday);\r\n        if (!state.bookingDate)\r\n        {\r\n          dateChanged(firstday);\r\n        }\r\n        console.log(new Date(firstday));\r\n\r\n\r\n        setFullyBookedDays(values[1].data);\r\n\r\n        setDataLoaded(true);\r\n\r\n      }).catch( (err) =>\r\n      {\r\n        console.log(err);\r\n      });\r\n}\r\n\r\n\r\n\r\n    useEffect(() => {\r\n\r\n      // dateChanged(state.bookingDate ?? new Date());\r\n\r\n      LoadData();\r\n\r\n    },[]);\r\n\r\n    const dateChanged = (date) =>\r\n    {\r\n      date = new Date(date.getFullYear(), date.getMonth(), date.getDate(),0,0,0,0);\r\n      // const offset = parseInt(date.getTimezoneOffset());\r\n      // console.log(offset);\r\n\r\n      date = new Date(date.getTime() - (date.getTimezoneOffset() * 60 * 1000));\r\n      // date = new Date(date.getFullYear(), date.getMonth(), date.getDate(),0,0,0,0);\r\n      \r\n      // date = format(date, 'yyyy-MM-dd HH:mm:ss zzz', { timeZone: 'Europe/London' }) ; // 2014-10-25 10:46:20 GMT 00\r\n      // date = toDate(date);\r\n        console.log(date);\r\n        setBookingDate(date);\r\n        setState(state => ({...state, bookingDate: date}));\r\n    }\r\n\r\n  const checkFullyBooked = (date) =>\r\n  {\r\n \r\n    var result = false;\r\n\r\n    if (dateformat(date,'yyyy-mm-dd') < dateformat(firstAvailableDay,'yyyy-mm-dd'))\r\n    {\r\n       return true;\r\n    }\r\n\r\n    else if (fullyBookedDays && fullyBookedDays.length > 0)\r\n    {\r\n      for (var i=0 ; i < fullyBookedDays.length ; i++ )\r\n      {\r\n        if (dateformat(new Date(fullyBookedDays[i]), 'yyyy-mm-dd') === dateformat(date,'yyyy-mm-dd'))\r\n        {\r\n          result = true;\r\n        }\r\n      }\r\n\r\n      return result;\r\n    }\r\n    else\r\n    {\r\n      return false;\r\n    }\r\n}\r\n\r\n  return (\r\n\r\n    <React.Fragment>\r\n               \r\n                <Typography variant=\"h6\" gutterBottom>\r\n                    Pick a Date\r\n                </Typography>\r\n\r\n        {dataLoaded && firstAvailableDay ?  (\r\n            \r\n                <React.Fragment>\r\n\r\n                <Grid\r\n                  container\r\n                  direction=\"column\"\r\n                  justify=\"center\"\r\n                  alignItems=\"center\"\r\n                  >\r\n\r\n                        <BrowserView>\r\n                            <MuiPickersUtilsProvider utils={UTCUtils} locale={enGB}>\r\n                                    <DatePicker autoOk \r\n                                                disablePast={true}\r\n                                                openTo=\"date\"\r\n                                                orientation=\"landscape\" \r\n                                                variant=\"static\" \r\n                                                fullWidth\r\n                                                value={bookingDate} \r\n                                                onChange={dateChanged} \r\n                                                shouldDisableDate={checkFullyBooked}\r\n                                                />\r\n                            </MuiPickersUtilsProvider>\r\n                        </BrowserView>\r\n\r\n                        <MobileView>\r\n                            <MuiPickersUtilsProvider utils={UTCUtils} locale={enGB}>\r\n                                        <DatePicker autoOk \r\n                                                    disablePast={true} \r\n                                                    openTo=\"date\"\r\n                                                    variant=\"static\" \r\n                                                    fullWidth\r\n                                                    value={bookingDate} \r\n                                                    onChange={dateChanged} \r\n                                                    shouldDisableDate={checkFullyBooked}\r\n                                                    />\r\n                                </MuiPickersUtilsProvider>\r\n                        </MobileView>\r\n                </Grid>\r\n\r\n              </React.Fragment>\r\n              )\r\n            : \r\n            (\r\n            <React.Fragment>\r\n                <Grid\r\n                  container\r\n                  direction=\"column\"\r\n                  justify=\"center\"\r\n                  alignItems=\"center\"\r\n                  >\r\n\r\n                      <Skeleton variant=\"text\" width={'80%'} />\r\n                      <Skeleton variant=\"text\" width={'80%'}  />\r\n                      <Skeleton variant=\"rect\" width={'80%'}  height={220} />\r\n\r\n                  </Grid>\r\n            </React.Fragment>\r\n            )\r\n          }\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","import React, { useEffect } from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport GlobalState from './GlobalState';\r\nimport { makeStyles , useTheme} from '@material-ui/core/styles';\r\n\r\nimport GridList from '@material-ui/core/GridList';\r\nimport GridListTile from '@material-ui/core/GridListTile';\r\n\r\nimport TimeService from './services/TimeService';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Skeleton from '@material-ui/lab/Skeleton';\r\nimport dateformat from 'dateformat';\r\n\r\nimport {BrowserView, MobileView} from 'react-device-detect';\r\n\r\n// import Card from '@material-ui/core/Card';\r\n// import CardActions from '@material-ui/core/CardActions';\r\n// import CardContent from '@material-ui/core/CardContent';\r\n// import Button from '@material-ui/core/Button'\r\n// import { Mouse, Satellite } from '@material-ui/icons';\r\n// import { BrowserView } from 'react-device-detect';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    \r\n    root: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        justifyContent: 'space-around',\r\n        overflow: 'hidden',\r\n        backgroundColor: theme.palette.background.paper,\r\n      },\r\n      gridList: {\r\n        // width: 500,\r\n        // height: 450,\r\n      },\r\n\r\n      box: {\r\n        //backgroundColor: \"red\",\r\n        border: \"1px solid #999\",\r\n        margin: \"5px\",\r\n        padding: \"5px\",\r\n        color: \"#555\",\r\n        cursor: \"pointer\",\r\n        \"&:hover\": {\r\n            background: \"green\",\r\n            color: \"#fff\"\r\n          },\r\n      },\r\n\r\n      boxMobile: {\r\n        //backgroundColor: \"red\",\r\n        border: \"1px solid #999\",\r\n        margin: \"5px\",\r\n        padding: \"5px\",\r\n        color: \"#555\",\r\n        cursor: \"pointer\"\r\n      },\r\n\r\n      boxSelected: {\r\n        backgroundColor: \"green\",\r\n        border: \"1px solid #999\",\r\n        margin: \"5px\",\r\n        padding: \"5px\",\r\n        color: \"#fff\",\r\n        cursor: \"pointer\",\r\n      },\r\n\r\n      boxDisable: {\r\n        backgroundColor: \"#999\",\r\n        border: \"1px solid #ddd\",\r\n        margin: \"5px\",\r\n        padding: \"5px\",\r\n        color: \"#fff\"\r\n        \r\n      },\r\n\r\n  }));\r\n\r\n  \r\nfunction isWeekend(date)\r\n{\r\n    return (date.getDay() === 0 || date.getDay() === 6) /// Weekend\r\n}\r\n\r\n\r\nexport default function TimeForm() {\r\n    const classes = useStyles();\r\n    // const theme = useTheme();\r\n\r\n    const [state, setState] = React.useContext(GlobalState);\r\n    const [bookingTime, setTime] = React.useState(state.bookingTime ?? '');\r\n\r\n    const [dataLoaded, setDataLoaded] =  React.useState(false);\r\n\r\n    const emptyTimeSlots = [];\r\n    for (var i=0; i<28; i++)\r\n    {\r\n      emptyTimeSlots.push(i);\r\n    }\r\n\r\n    const [timeSlots, setTimeSlots] = React.useState(emptyTimeSlots);\r\n\r\n    useEffect(() => {\r\n      window.scrollTo(0, 0)\r\n    }, []);\r\n\r\n    const LoadData = (date) => {\r\n\r\n      setTimeSlots(emptyTimeSlots);\r\n      setDataLoaded(false);\r\n\r\n      // const dateStr = dateformat(date,'yyyy-mm-dd');\r\n\r\n      const promise1 = TimeService.getTimeSlots(date);\r\n  \r\n      Promise.all([promise1]).then( (values) => {\r\n  \r\n        const timeSlotsTmp = values[0].data;\r\n\r\n        // if (isWeekend(date) && dateStr !== '2020-12-27')\r\n        // {\r\n        //   for (var i=0 ; i < timeSlotsTmp.length ; i++)\r\n        //   {\r\n        //     if (parseInt(timeSlotsTmp[i].time.substr(0,2)) < 10 && timeSlotsTmp[i].time.indexOf('AM') > 0)\r\n        //     {\r\n        //       timeSlotsTmp[i].available = false;\r\n        //     }\r\n  \r\n        //     if (parseInt(timeSlotsTmp[i].time.substr(0,2)) > 1 && parseInt(timeSlotsTmp[i].time.substr(0,2)) < 12 &&timeSlotsTmp[i].time.indexOf('PM') > 0)\r\n        //     {\r\n        //       timeSlotsTmp[i].available = false;\r\n        //     }\r\n        //   }\r\n        // }\r\n\r\n        if (beforeFeb())\r\n        {\r\n          timeSlotsTmp.forEach(time =>\r\n            {\r\n              time.available = false;\r\n            });\r\n        }\r\n\r\n\r\n        setTimeSlots(timeSlotsTmp);\r\n        setDataLoaded(true);\r\n  \r\n      }).catch( (err) =>\r\n      {\r\n        console.error(err);\r\n      });\r\n  }\r\n\r\n    useEffect(() => {\r\n      if (state.bookingDate && state.bookingDate !== 'undefined')\r\n         LoadData(state.bookingDate);\r\n    }, []);\r\n\r\n    // useEffect(() => {\r\n    //   var interval ;\r\n    //   if (state.bookingDate && state.bookingDate !== 'undefined')\r\n    //     {\r\n    //       interval = setInterval(() => {\r\n    //         LoadData(state.bookingDate);\r\n    //       }, 2000);\r\n    //     }\r\n\r\n    //     return () => {\r\n    //       if (interval)\r\n    //         clearInterval(interval);\r\n    //     }\r\n        \r\n    // }, []);\r\n\r\n    \r\n\r\n\r\n\r\n    const boxClicked = (key) =>\r\n    {\r\n        if (key)\r\n        {\r\n            setTime(key);\r\n            setState({...state, bookingTime : key});\r\n        }\r\n\r\n    }\r\n  \r\n    const beforeFeb = () =>\r\n    {\r\n        const dateStr = dateformat(state.bookingDate, 'yyyy-mm-dd');\r\n        return dateStr < '2021-02-01';\r\n    }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Typography variant=\"h6\" gutterBottom>\r\n        Pick a Time\r\n      </Typography>\r\n\r\n      {dataLoaded ?  (\r\n            \r\n          \r\n\r\n            <React.Fragment>\r\n\r\n                  {checkFullyBooked(timeSlots) && (\r\n\r\n                  <React.Fragment>\r\n                    <div style={{fontSize:\"1.2rem\", paddingTop:\"10px\", paddingBottom:\"10px\", color:\"#db0000\" , fontWeight: \"500\", background:\"#fff5f5\"}}>\r\n                      Sorry this day is already fully booked! \r\n                      <br/>Please choose an alternative day.\r\n                      <br/> * All dates are fully booked until 1st February 2021. \r\n                    </div>\r\n                    \r\n                  </React.Fragment>\r\n\r\n                  )}\r\n\r\n              <BrowserView>\r\n                  <div className={classes.root}>\r\n                            <GridList cellHeight={60} className={classes.gridList} cols={4}>\r\n                              {timeSlots.map((timeSlot) => (\r\n                                <GridListTile key={timeSlot.time} cols={1}>\r\n                                  <div \r\n                                      onClick= {() => {timeSlot.available? boxClicked(timeSlot.time) : boxClicked(null)}}\r\n                                      className={(timeSlot.available) ? ((bookingTime === timeSlot.time)? classes.boxSelected : classes.box ): classes.boxDisable}>\r\n                                      {timeSlot.time}\r\n                                  </div>\r\n                                </GridListTile>\r\n                              ))}\r\n                            </GridList>\r\n                  </div>\r\n              \r\n              </BrowserView>\r\n\r\n              <MobileView>\r\n\r\n              <div className={classes.root}>\r\n                            <GridList cellHeight={60} className={classes.gridList} cols={4}>\r\n                              {timeSlots.map((timeSlot) => (\r\n                                <GridListTile key={timeSlot.time} cols={1}>\r\n                                  <div \r\n                                      onClick = {() => {timeSlot.available? boxClicked(timeSlot.time) : boxClicked(null)}}\r\n                                      className={(timeSlot.available) ? ((bookingTime === timeSlot.time)? classes.boxSelected : classes.boxMobile ): classes.boxDisable}>\r\n                                      {timeSlot.time}\r\n                                  </div>\r\n                                </GridListTile>\r\n                              ))}\r\n                            </GridList>\r\n                  </div>\r\n\r\n              </MobileView>\r\n\r\n            </React.Fragment>\r\n      ) : (\r\n        <React.Fragment>\r\n                <Grid\r\n                  container\r\n                  direction=\"column\"\r\n                  justify=\"center\"\r\n                  alignItems=\"center\"\r\n                  >\r\n                      <GridList cellHeight={60} className={classes.gridList} cols={4}>\r\n                          {emptyTimeSlots.map((timeSlot) => (\r\n                            <GridListTile key={timeSlot} cols={1}>\r\n                                 <Skeleton variant=\"rect\" width={120}  height={35} />\r\n                            </GridListTile>\r\n                          ))}\r\n                        </GridList>\r\n                  </Grid>\r\n\r\n    </React.Fragment>\r\n\r\n      ) }\r\n\r\n\r\n\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nconst checkFullyBooked = (timeSlots) =>\r\n{\r\n    let available = false;\r\n    timeSlots.forEach(time => {\r\n      if (time.available)\r\n      {\r\n        available = true;\r\n      }\r\n    });\r\n\r\n    return !available;\r\n}\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport GlobalState from './GlobalState';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Accordion from '@material-ui/core/Accordion';\r\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\r\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport dateFormat from 'dateformat';\r\nimport {calculatePrice} from './PriceCalculator';\r\nimport { FormatDateFromString } from './DateFormatter';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  box: {\r\n    backgroundColor : \"#373737\",\r\n    color: \"#fff\",\r\n    padding : \"1px\",\r\n    borderRadius : \"4px\",\r\n    textAlign: \"justify\",\r\n    paddingRight: \"40px\"\r\n  },\r\n\r\n  boxRed: {\r\n    backgroundColor : \"#dc2626\",\r\n    color: \"#fff\",\r\n    padding : \"1px\",\r\n    borderRadius : \"4px\",\r\n    textAlign: \"justify\",\r\n    paddingRight: \"40px\"\r\n  },\r\n\r\n  boxInfo: {\r\n    textAlign: \"justify\",\r\n    backgroundColor : \"#fafafa\",\r\n    color: \"#333\",\r\n    padding : \"1px\",\r\n    borderRadius : \"4px\",\r\n    paddingRight: \"40px\",\r\n    border: \"1px solid #eee\",\r\n  },\r\n\r\n  ul: {\r\n     listStyle: \"none\",\r\n     padding: \"0\",\r\n     margin: \"0\"\r\n  },\r\n\r\n  li: {\r\n    marginBottom : \"5px\"\r\n  },\r\n\r\n\r\n  icon: {\r\n    marginRight : \"8px\"\r\n  },\r\n\r\n  root: {\r\n    width: '100%',\r\n  },\r\n  heading: {\r\n    fontSize: theme.typography.pxToRem(15),\r\n    flexBasis: '33.33%',\r\n    flexShrink: 0,\r\n    color: theme.palette.text.secondary,\r\n  },\r\n  secondaryHeading: {\r\n    fontSize: theme.typography.pxToRem(15),\r\n  },\r\n\r\n  infoDetails:{\r\n    textAlign: \"left\"\r\n  },\r\n\r\n  infoTitle:{\r\n    fontWeight: \"800\",\r\n    marginRight: \"10px\"\r\n  },\r\n\r\n  infoData:{\r\n    fontWeight: \"400\",\r\n  },\r\n\r\n  title:\r\n  {\r\n    // textAlign : \"center\",\r\n    // fontWeight : \"500\",\r\n    // margin: \"10px\",\r\n    // backgroundColor : \"#eee\",\r\n    // padding : \"10px\",\r\n    // borderRadius : \"4px\"\r\n    textAlign: \"left\",\r\n    fontWeight : \"600\",\r\n    marginLeft: \"10px\"\r\n\r\n  },\r\n\r\n  Accordion:{\r\n    backgroundColor : \"#f5f5f5\",\r\n    color: \"#222\"\r\n  }\r\n\r\n}));\r\n\r\n\r\nexport default function PersonsBox() {\r\n    const classes = useStyles();\r\n\r\n    const [state, setState] = React.useContext(GlobalState);\r\n\r\n    const [expanded, setExpanded] = React.useState(false);\r\n\r\n    const handleChange = (panel) => (event, isExpanded) => {\r\n      setExpanded(isExpanded ? panel : false);\r\n    };\r\n\r\n  return (\r\n    <React.Fragment>\r\n    \r\n      \r\n\r\n      <Grid container direction=\"column\" spacing={1} justify=\"flex-start\"  alignItems=\"stretch\">\r\n\r\n        {state.persons && state.persons.length > 0 && (\r\n          \r\n              <span className={classes.title}> Persons added so far :</span>\r\n\r\n        )}\r\n        \r\n\r\n          {state.persons.map((person,index) => (\r\n   \r\n                <Grid item xs={12} md={12}>\r\n                <div className={classes.root}>\r\n                    <Accordion className={classes.Accordion} expanded={expanded === `panel${index}`} onChange={handleChange(`panel${index}`)}>\r\n                    <AccordionSummary\r\n                        expandIcon={<ExpandMoreIcon />}\r\n                        aria-controls=\"panel1bh-content\"\r\n                        id={`panel${index}bh-header`}\r\n                    >\r\n                        <Typography className={classes.heading}> {`#${index+1}`} </Typography>\r\n                        <Typography className={classes.secondaryHeading}>\r\n                        {`${person.firstname} ${person.lastname}`}\r\n                        </Typography>\r\n                    </AccordionSummary>\r\n                    <AccordionDetails className={classes.infoDetails}>\r\n                        \r\n                    <ul className={classes.ul}>\r\n                                  <li className={classes.li}>\r\n                                    <span className={classes.infoTitle}>Gender</span> <span className={classes.infoData}>{person.gender}</span>   \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                    <span className={classes.infoTitle}>Title</span>  <span className={classes.infoData}>{person.title}</span>   \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                    <span className={classes.infoTitle}>Forename</span> <span className={classes.infoData}>{person.firstname}</span>   \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                     <span className={classes.infoTitle}>Surname</span> <span className={classes.infoData}>{person.lastname}</span>   \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                     <span className={classes.infoTitle}>Email</span> <span className={classes.infoData}>{person.email}</span>   \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                     <span className={classes.infoTitle}>D.O.B</span> <span className={classes.infoData}>{FormatDateFromString(person.birthDate)}</span>  \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                     <span className={classes.infoTitle}>Telephone</span> <span className={classes.infoData}>{person.phone}</span>  \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                     <span className={classes.infoTitle}>Passport Number</span> <span className={classes.infoData}>{person.passportNumber ?? '-'}</span>  \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                     <span className={classes.infoTitle}>NHS Number</span> <span className={classes.infoData}>{person.NHSNumber ?? '-'}</span>  \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                     <span className={classes.infoTitle}>Ethnicity</span> <span className={classes.infoData}>{person.ethnicity}</span>  \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                     <span className={classes.infoTitle}>Post Code</span> <span className={classes.infoData}>{person.postCode}</span>  \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                     <span className={classes.infoTitle}>Address</span> <span className={classes.infoData}>{person.address}</span>  \r\n                                  </li>\r\n                                  {person.selfIsolate && (\r\n                                    <React.Fragment>\r\n                                            <li className={classes.li}>\r\n                                            <span className={classes.infoTitle}>Self-Isolate Post Code</span> <span className={classes.infoData}>{person.postCodeSI}</span>  \r\n                                            </li>\r\n                                            <li className={classes.li}>\r\n                                            <span className={classes.infoTitle}>Self-Isolate Address</span> <span className={classes.infoData}>{person.addressSI}</span>  \r\n                                            </li>\r\n                                    </React.Fragment>\r\n                                  )}\r\n                                  <li className={classes.li}>\r\n                                     <span className={classes.infoTitle}>Arrival Date</span> <span className={classes.infoData}>{person.arrivalDate}</span>  \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                     <span className={classes.infoTitle}>Flight Number</span> <span className={classes.infoData}>{person.flightNumber}</span>  \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                     <span className={classes.infoTitle}>Last Departed Date</span> <span className={classes.infoData}>{person.lastDepartedDate}</span>  \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                     <span className={classes.infoTitle}>Travelling From</span> <span className={classes.infoData}>{person.travellingFrom}</span>  \r\n                                  </li>\r\n\r\n                                  <li className={classes.li} style={{marginTop: \"10px\"}}>\r\n                                      <span className={classes.infoTitle}>Price</span> <span style={{fontWeight: '600', color: \"red\"}} className={classes.infoData}>{`${calculatePrice(person)}`}</span>  \r\n                                  </li>\r\n                                  \r\n                                </ul>\r\n                        \r\n                    </AccordionDetails>\r\n                    </Accordion>\r\n                </div>\r\n            </Grid> \r\n          ))}\r\n    </Grid>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\n","import React from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport GlobalState from './GlobalState';\r\nimport {BrowserView, MobileView} from 'react-device-detect';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { Checkbox, FormControlLabel } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n  formControl: {\r\n    // marginTop : theme.spacing(1),\r\n    // marginBottom : theme.spacing(1),\r\n    // padding: theme.spacing(1),\r\n    \r\n  },\r\n\r\n  Box:{\r\n    backgroundColor : \"#f1f1f1\",\r\n    padding: \"10px\",\r\n    //maxWidth: \"300px\",\r\n    borderRadius  : \"10px\",\r\n    boxShadow: \"2px 4px #ddd\",\r\n    marginTop: \"5px\",\r\n    marginBottom : \"15px\",\r\n    textAlign: \"left\"\r\n    \r\n  \r\n  },\r\n\r\n  Label: {\r\n\r\n  },\r\n\r\n  CheckBox: {\r\n\r\n  }\r\n\r\n\r\n\r\n}));\r\n\r\n\r\nexport default function AntiBodyComponent() {\r\n   const classes = useStyles();\r\n\r\n    const [state, setState] = React.useContext(GlobalState);\r\n    const [antiBodyCheck, setAntiBodyCheck] = React.useState(state.antiBodyTest ?? false);\r\n\r\n    const antiBodyCheckChanged = (event) =>\r\n    {\r\n      setAntiBodyCheck(event.target.checked);\r\n      setState(state => ({...state, antiBodyTest : event.target.checked}));\r\n    }\r\n\r\n  return (\r\n\r\n    <React.Fragment>\r\n\r\n      <div className={classes.Box}>\r\n\r\n         <div className= {classes.Label}>\r\n              Add to your Appointment...\r\n         </div>\r\n\r\n        <div className= {classes.CheckBox}>\r\n           <FormControlLabel className={classes.formControl} \r\n                  control={<Checkbox className={classes.formControl}  color=\"secondary\" name=\"emailConfirmCheckBox\" checked={antiBodyCheck} onChange={antiBodyCheckChanged} />}\r\n                  label={<span style={{ fontSize: '0.8rem' }}>{`COVID-19 Antibody Test `} \r\n                  <span  style={{ fontSize: '0.8rem', textDecoration: \"italic\" ,fontWeight:\"600\" ,color:\"#333\" }}> 99.00 </span> </span> } />\r\n           <div hidden={!antiBodyCheck} style={{paddingLeft: \"30px\", fontWeight: \"400\", fontSize:\"0.8\"}}>* <strong> 50 </strong>phlebotomy charges apply</div>       \r\n        </div>\r\n\r\n\r\n      </div>\r\n               \r\n\r\n\r\n        \r\n          \r\n{/* \r\n        <Grid container spacing={1} alignItems=\"baseline\">\r\n\r\n            <Grid item xs={12} className={classes.formControl} > */}\r\n                {/* <FormControlLabel className={classes.formControl} \r\n                  control={<Checkbox className={classes.formControl}  color=\"secondary\" name=\"emailConfirmCheckBox\" checked={antiBodyCheck} onChange={antiBodyCheckChanged} />}\r\n                  label={<span style={{ fontSize: '0.7rem' }}>{`COVID-19 Antibody Test (IgM & IgG)`} \r\n                  <span  style={{ fontSize: '0.8rem', textDecoration: \"italic\" ,fontWeight:\"600\" ,color:\"#333\" }}> 99.00 </span> </span> } */}\r\n                  \r\n                \r\n                {/* /> */}\r\n            {/* </Grid>\r\n\r\n        </Grid> */}\r\n\r\n\r\n     \r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\n\r\n\r\n","import PropTypes from 'prop-types';\r\n\r\n\r\nimport React, { useEffect } from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\n\r\nimport dateformat from 'dateformat';\r\nimport { FormControl, InputLabel, Select } from '@material-ui/core';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\n\r\n\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n  loadingBox: {\r\n    \r\n  }\r\n\r\n}));\r\n\r\n\r\nconst DateField = ({title, value, dateChanged, error}) => {\r\n\r\n    const [day, setDay] = React.useState('');\r\n    const [month, setMonth] = React.useState('');\r\n    const [year, setYear] = React.useState('');\r\n\r\n    const [dayArray, setDayArray] = React.useState([]);\r\n    const [monthArray, setMonthArray] = React.useState([]);\r\n    const [yearArray, setYearArray] = React.useState([]);\r\n\r\n        const updateDate = (dd,mm,yyyy) =>\r\n        {\r\n            let dayStr = `${dd}`;\r\n            let monthStr = `${mm + 1}`;\r\n            \r\n\r\n            if (dayStr.length === 1)\r\n            {\r\n                dayStr = `0${dayStr}`;\r\n            }\r\n\r\n            if (monthStr.length === 1)\r\n            {\r\n                monthStr = `0${monthStr}`;\r\n            }\r\n\r\n            dateChanged(`${yyyy}-${monthStr}-${dayStr}`);\r\n            \r\n\r\n        }\r\n\r\n        const handleDayChanged = (event) => {\r\n            setDay(event.target.value);\r\n            updateDate(event.target.value,month,year);\r\n        };\r\n\r\n        const handleMonthChanged = (event) => {\r\n            setMonth(event.target.value);\r\n            updateDate(day, event.target.value, year);\r\n        };\r\n\r\n        const handleYearChanged = (event) => {\r\n            setYear(event.target.value);\r\n            updateDate(day,month,event.target.value);\r\n        };\r\n\r\n        useEffect ( () => \r\n        {\r\n            if (value && value.length === 10)\r\n            {\r\n                const d = parseInt(value.substr(8,2));\r\n                const m = parseInt(value.substr(5,2));\r\n                const y = parseInt(value.substr(0,4));\r\n\r\n                setDay(d);\r\n                setMonth(m-1);\r\n                setYear(y);\r\n            }\r\n           \r\n\r\n        }, [value]);\r\n\r\n      useEffect( () => {\r\n\r\n        const days = [];\r\n        const months = [];\r\n        const years = [];\r\n\r\n\r\n        for (var i = 1 ; i <= 31; i++)\r\n        {\r\n            days.push(i);\r\n        }\r\n\r\n        for ( i = 0 ; i < 12; i++)\r\n        {\r\n            months.push(dateformat(new Date(2020,i,5), 'mmmm'));\r\n        }\r\n\r\n        for ( i = 1900 ; i < new Date().getFullYear(); i++)\r\n        {\r\n            years.push(i);\r\n        }\r\n\r\n       \r\n        setDayArray(days);\r\n        setMonthArray(months);\r\n        setYearArray(years);\r\n\r\n      } , [])\r\n    \r\n  return (\r\n\r\n    <React.Fragment>\r\n\r\n        \r\n    <div style={{position:\"relative\", border:`1px solid ${error ? 'red' : '#ddd'}` , borderRadius:\"10px\", padding:\"20px\", paddingBottom: \"50px\", marginTop: \"20px\"}}>\r\n\r\n        <div style={{position:\"absolute\", top: \"-15px\", left : \"15px\", backgroundColor:\"#fff\", color : `${error ? 'red' : '#555'}`, padding:\"5px\" , paddingLeft:\"10px\", paddingRight:\"10px\" }}>\r\n               {title} * \r\n       </div>\r\n\r\n    \r\n\r\n        <Grid\r\n            container\r\n            direction=\"row\"\r\n            justify=\"flex-start\"\r\n            alignItems=\"flex-start\"\r\n            spacing={2}\r\n        >\r\n\r\n\r\n            <Grid item xs={12} md={4}>\r\n                <FormControl fullWidth>\r\n                    <InputLabel  id=\"day-label\">Day</InputLabel>\r\n                    <Select\r\n                        \r\n                        labelId=\"day-label\"\r\n                        id=\"day-select\"\r\n                        value={day}\r\n                        onChange={handleDayChanged}\r\n                        >\r\n                        {\r\n                            dayArray.map( item => (\r\n                                <MenuItem value={item}>{item}</MenuItem>\r\n                            )\r\n                        )} \r\n                    </Select>\r\n                </FormControl>\r\n\r\n\r\n            </Grid>\r\n\r\n            <Grid item xs={12} md={4}>\r\n                <FormControl fullWidth>\r\n                    <InputLabel  id=\"month-label\">Month</InputLabel>\r\n                    <Select\r\n                        labelId=\"month-label\"\r\n                        id=\"month-select\"\r\n                        value={month}\r\n                        onChange={handleMonthChanged}\r\n                        >\r\n                        {\r\n                            monthArray.map( (item , index) => (\r\n                                <MenuItem value={index}>{item}</MenuItem>\r\n                            )\r\n                        )} \r\n                    </Select>\r\n                </FormControl>\r\n\r\n                \r\n            </Grid>\r\n\r\n            <Grid item xs={12} md={4}>\r\n                <FormControl fullWidth>\r\n                    <InputLabel  id=\"day-label\">Year</InputLabel>\r\n                    <Select\r\n                    labelId=\"year-label\"\r\n                    id=\"year-select\"\r\n                    value={year}\r\n                    onChange={handleYearChanged}\r\n                    >\r\n                    {\r\n                        yearArray.map( item => (\r\n                            <MenuItem value={item}>{item}</MenuItem>\r\n                        )\r\n                    )} \r\n                    </Select>\r\n                </FormControl>\r\n            </Grid>\r\n        </Grid>\r\n\r\n        </div>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\n\r\nDateField.propTypes = {\r\n    title : PropTypes.string.isRequired,\r\n    value: PropTypes.string.isRequired,\r\n    dateChanged: PropTypes.func.isRequired,\r\n    error: PropTypes.bool\r\n  };\r\n\r\nexport default DateField;\r\n\r\n\r\n\r\n\r\n","import React, { useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\n\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport GlobalState from './GlobalState';\r\nimport * as EmailValidator from 'email-validator';\r\n\r\nimport {\r\n    DatePicker,\r\n    KeyboardDatePicker,\r\n    MuiPickersUtilsProvider\r\n  } from '@material-ui/pickers';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport PersonsBox from './PersonsBox';\r\nimport { Checkbox, FormControlLabel } from '@material-ui/core';\r\nimport AntiBodyComponent from './AntiBodyComponent';\r\n\r\nimport { format, addMinutes } from 'date-fns';\r\nimport dateformat from 'dateformat';\r\n\r\nimport { enGB, } from 'date-fns/locale'\r\nimport DateField from './DateField';\r\n\r\n\r\nclass UTCUtils extends DateFnsUtils {\r\n \r\n  locale = enGB;\r\n  // format(date, formatString) {\r\n  //   return format(new Date(date.getTime() + date.getTimezoneOffset() * 60 * 1000 ), formatString,enGB);\r\n  // }\r\n\r\n  // getCalendarHeaderText(date){\r\n  //   return dateformat(date, 'mmmm yyyy');\r\n  // }\r\n\r\n  // getDayText(date)\r\n  // {\r\n  //   return dateformat(date, 'd');\r\n  // }\r\n\r\n}\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    formControl: {\r\n      textAlign: \"left\"\r\n    },\r\n\r\n    FormTitle:\r\n    {\r\n      marginTop : \"20px\",\r\n      marginBottom : \"20px\",\r\n    },\r\n    Box:{\r\n      backgroundColor : \"#f1f1f1\",\r\n      padding: \"10px\",\r\n      //maxWidth: \"300px\",\r\n      borderRadius  : \"10px\",\r\n      boxShadow: \"2px 4px #ddd\",\r\n      marginTop: \"5px\",\r\n      marginBottom : \"15px\",\r\n      textAlign: \"left\"\r\n      \r\n    \r\n    },\r\n\r\n  }));\r\n\r\nexport default function InformationForm() {\r\n    const classes = useStyles();\r\n    const [state, setState] = React.useContext(GlobalState);\r\n    const [birthDate, setBirthDate] = React.useState(state.birthDate ?? null);\r\n    const [firstname, setFirstname] = React.useState(state.firstname ?? '');\r\n    const [lastname, setLastname] = React.useState(state.lastname ?? '');\r\n    const [email, setEmail] = React.useState(state.email ?? '');\r\n    const [retypeEmail, setRetypeEmail] = React.useState(state.retypeEmail ?? '');\r\n    \r\n    const [gender, setGender] = React.useState(state.gender ?? '');\r\n    const [title, setTitle] = React.useState(state.title ?? '');\r\n\r\n    const [emailConfirmed, setEmailConfirmed] = React.useState(state.emailConfirmed ?? false);\r\n\r\n    const [passportNumber, setPassportNumber] = React.useState(state.passportNumber ?? '');\r\n    \r\n    const [NHSNumber, setNHSNumber] = React.useState(state.NHSNumber ?? '');\r\n    const [ethnicity, setEthnicity] = React.useState(state.ethnicity ?? '');\r\n\r\n    const [phone, setPhone] = React.useState(state.phone ?? '');\r\n    \r\n   \r\n\r\n    useEffect(() => {\r\n      window.scrollTo(0, 0)\r\n    }, []);\r\n\r\n    const NHSNumberChanged = (event) =>\r\n    {\r\n        setNHSNumber(event.target.value);\r\n        setState(state => ({...state, NHSNumber : event.target.value }));\r\n        if (event.target.value && event.target.value.trim().length >= 0)\r\n        {\r\n          setState(state => ({...state, NHSNumberError : false}));\r\n        }\r\n    }\r\n\r\n    const ethnicityChanged = (event) =>\r\n    {\r\n        setEthnicity(event.target.value);\r\n        setState(state => ({...state, ethnicity : event.target.value }));\r\n        if (event.target.value && event.target.value.trim().length >= 0)\r\n        {\r\n          setState(state => ({...state, ethnicityError : false}));\r\n        }\r\n    }\r\n\r\n    const phoneChanged = (event) =>\r\n    {\r\n        setPhone(event.target.value);\r\n        setState(state => ({...state, phone : event.target.value }));\r\n        if (event.target.value && event.target.value.trim().length >= 6)\r\n        {\r\n          setState(state => ({...state, phoneError : false}));\r\n        } \r\n    }\r\n\r\n  const passportNumberChanged = (event) =>\r\n  {\r\n      setPassportNumber(event.target.value);\r\n      setState(state => ({...state, passportNumber : event.target.value }));\r\n      if (event.target.value && event.target.value.trim().length >= 6)\r\n      {\r\n        setState(state => ({...state, passportNumberError : false}));\r\n      }\r\n  }\r\n\r\n  \r\n\r\n\r\n    const emailConfirmedChanged = (event) => {\r\n      setEmailConfirmed(event.target.checked);\r\n      setState(state => ({...state, emailConfirmed: event.target.checked}));\r\n      setState(state => ({...state, emailConfirmedError: false}));\r\n  };\r\n\r\n    const titleChanged = (event) => {\r\n            setTitle(event.target.value);\r\n            setState(state => ({...state, title: event.target.value}));\r\n            setState(state => ({...state, titleError : false}));\r\n        };\r\n\r\n    const genderChanged = (event) => {\r\n            setGender(event.target.value);\r\n            setState(state => ({...state, gender: event.target.value}));\r\n            setState(state => ({...state, genderError : false}));\r\n        };\r\n\r\n    const birthDateChanged = (dateStr) =>\r\n    {\r\n      // if (date)\r\n      // {\r\n      //   date = new Date(date.getFullYear(), date.getMonth(), date.getDate(),0,0,0,0);\r\n      \r\n\r\n      //   date = new Date(date.getTime() - (date.getTimezoneOffset() * 60 * 1000));\r\n      //   console.log(date);\r\n      // }\r\n       console.log(dateStr);   \r\n\r\n        setBirthDate(dateStr);\r\n        setState(state => ({...state, birthDate: dateStr}));\r\n        setState(state => ({...state, birthDateError : false}));\r\n    }  \r\n\r\n    const firstnameChanged = (event) =>\r\n    {\r\n        setFirstname(event.target.value);\r\n        setState(state => ({...state, firstname : event.target.value }));\r\n        if (event.target.value && event.target.value.trim().length > 0)\r\n        {\r\n          setState(state => ({...state, firstnameError : false}));\r\n        }\r\n    }\r\n\r\n    const lastnameChanged = (event) =>\r\n    {\r\n        setLastname(event.target.value);\r\n        setState(state => ({...state, lastname : event.target.value }));\r\n        if (event.target.value && event.target.value.trim().length > 0)\r\n        {\r\n          setState(state => ({...state, lastnameError : false}));\r\n        }\r\n    }\r\n\r\n    const emailChanged = (event) =>\r\n    {\r\n        setEmail(event.target.value);\r\n        setState(state => ({...state, email : event.target.value }));\r\n        if (event.target.value && EmailValidator.validate(event.target.value))\r\n        {\r\n          setState(state => ({...state, emailError : false}));\r\n        }\r\n    }\r\n\r\n    \r\n    const retypeEmailChanged = (event) =>\r\n    {\r\n        setRetypeEmail(event.target.value);\r\n        setState(state => ({...state, retypeEmail : event.target.value }));\r\n        if (event.target.value && EmailValidator.validate(event.target.value))\r\n        {\r\n          setState(state => ({...state, retypeEmailError : false}));\r\n        }\r\n    }\r\n\r\n  return (\r\n\r\n\r\n    <React.Fragment>\r\n\r\n      {/* <AntiBodyComponent/> */}\r\n\r\n      <PersonsBox/>\r\n\r\n    {state.persons.length === 0 &&\r\n          <Typography className={classes.FormTitle} variant=\"h6\" gutterBottom>\r\n              Enter your Info\r\n          </Typography>\r\n    }\r\n\r\n    {state.persons.length > 0 &&\r\n          <Typography className={classes.FormTitle} variant=\"h6\" gutterBottom>\r\n              Enter your Info\r\n          </Typography>\r\n    }\r\n\r\n      \r\n   \r\n\r\n      <Grid container spacing={3} alignItems=\"baseline\">\r\n\r\n      <Grid item xs={12} md={6}>\r\n            <FormControl className={classes.formControl} fullWidth required>\r\n                <InputLabel id=\"gender-label-id\">Gender</InputLabel>\r\n                <Select\r\n                    error={state.genderError ? true : false}\r\n                    fullWidth\r\n                    labelId=\"gender-label-id\"\r\n                    id=\"gender-id\"\r\n                    value={gender}\r\n                    onChange={genderChanged}\r\n                >\r\n                    <MenuItem value={'Male'}>Male</MenuItem>\r\n                    <MenuItem value={'Female'}>Female</MenuItem>\r\n                </Select>\r\n        </FormControl>\r\n        </Grid>\r\n        <Grid item xs={12} md={6}>\r\n            <FormControl className={classes.formControl} fullWidth required>\r\n                <InputLabel id=\"title-label-id\">Title</InputLabel>\r\n                <Select\r\n                    error={state.titleError ? true : false}\r\n                    fullWidth\r\n                    labelId=\"title-label-id\"\r\n                    id=\"title-id\"\r\n                    value={title}\r\n                    onChange={titleChanged}\r\n                >\r\n                    <MenuItem value={'Mr'}>Mr</MenuItem>\r\n                    <MenuItem value={'Mrs'}>Mrs</MenuItem>\r\n                    <MenuItem value={'Miss'}>Miss</MenuItem>\r\n                    <MenuItem value={'Ms'}>Ms</MenuItem>\r\n                    <MenuItem value={'Dr'}>Dr</MenuItem>\r\n                </Select>\r\n        </FormControl>\r\n        </Grid>\r\n        <Grid item xs={12} md={6}>\r\n          <TextField \r\n                    error={state.firstnameError ? true : false}\r\n                    required id=\"firstName\" label=\"First Name\" \r\n                    fullWidth autoComplete=\"given-name\" \r\n                    value = {firstname}\r\n                    onChange = {firstnameChanged} \r\n          />\r\n        </Grid>\r\n        <Grid item xs={12} md={6}>\r\n         <TextField \r\n                    error={state.lastnameError ? true : false}\r\n                    required id=\"lastName\" label=\"Last Name\" \r\n                    fullWidth autoComplete=\"family-name\" \r\n                    value = {lastname}\r\n                    onChange = {lastnameChanged} \r\n        />  \r\n        </Grid>\r\n        <Grid item xs={12} md={12}>\r\n        {/* <MuiPickersUtilsProvider utils={UTCUtils} locale={enGB}>\r\n            <DatePicker \r\n                        disableOpenPicker = {true}\r\n                        error={state.birthDateError ? true : false}\r\n                        \r\n                        fullWidth\r\n                        required\r\n                        variant=\"inline\"\r\n                        label=\"Date of Birth\"\r\n                        format=\"dd/MM/yyyy\"\r\n                        disableFuture\r\n                      \r\n                        helperText=\"dd/MM/yyyy\"\r\n                        value={birthDate}\r\n                        onChange={birthDateChanged}\r\n                        />\r\n             </MuiPickersUtilsProvider> */}\r\n\r\n             <DateField\r\n                error={state.birthDateError}\r\n                title=\"Date of Birth\"\r\n                value={birthDate}\r\n                dateChanged={birthDateChanged}\r\n             >\r\n\r\n             </DateField>\r\n              \r\n\r\n        </Grid>\r\n        <Grid item xs={12} md={6}>\r\n             <TextField\r\n                        error={state.emailError ? true : false}\r\n                        required id=\"email\" label=\"Email Address\" \r\n                        fullWidth autoComplete=\"email\"  type=\"email\"\r\n                        value = {email}\r\n                        onChange = {emailChanged} \r\n                        helperText = 'This email address is where you will receive your results. Please tick the box below to confirm that this is a private email address to which you are happy for us to send your results.'\r\n             />  \r\n        </Grid>\r\n\r\n        <Grid item xs={12} md={6}>\r\n             <TextField\r\n                        error={state.retypeEmailError ? true : false}\r\n                        required id=\"retypeEmail\" label=\"Retype Email Address\" \r\n                        fullWidth autoComplete=\"none\"  type=\"email\"\r\n                        value = {retypeEmail}\r\n                        onChange = {retypeEmailChanged} \r\n                        // helperText = 'This email address is where you will receive your results. Please tick the box below to confirm that this is a private email address to which you are happy for us to send your results.'\r\n             />  \r\n        </Grid>\r\n\r\n        <Grid item xs={12} className={classes.formControl} >\r\n          <FormControlLabel className={classes.formControl}  style={ {color: state.emailConfirmedError ? \"red\" : ''}} \r\n            control={<Checkbox className={classes.formControl} style={ {color: state.emailConfirmedError ? \"red\" : ''}}  color=\"secondary\" name=\"emailConfirmCheckBox\" checked={emailConfirmed} onChange={emailConfirmedChanged} />}\r\n             label={<span style={{ fontSize: '0.8rem' }}>{`I confirm that this is a private email address to which I am happy for you to send my results.`} </span>}\r\n          />\r\n        </Grid>\r\n\r\n        <Grid item xs={12} md={6}>\r\n             <TextField \r\n                        error={state.phoneError ? true : false}\r\n                        required id=\"phone\" label=\"Telephone Number\" \r\n                        fullWidth autoComplete=\"tel\" \r\n                        value = {phone}\r\n                        onChange = {phoneChanged} \r\n             />  \r\n        </Grid>\r\n\r\n        <Grid item  xs={12} md={6}>\r\n        \r\n             <TextField \r\n                        error={state.passportNumberError ? true : false}\r\n                        required id=\"passport\" label=\"Passport Number\" \r\n                        fullWidth autoComplete=\"none\" \r\n                        value = {passportNumber}\r\n                        onChange = {passportNumberChanged} \r\n             />  \r\n            \r\n        </Grid>\r\n\r\n        <Grid item  xs={12} md={6}>\r\n        \r\n            <TextField \r\n                      error={state.NHSNumberError ? true : false}\r\n                      id=\"NHSNumber\" label=\"NHS Number (optional)\" \r\n                      helperText=\"(if known and applicable)\" \r\n                      fullWidth autoComplete=\"none\"  \r\n                      value = {NHSNumber}\r\n                      onChange = {NHSNumberChanged} \r\n            />        \r\n       </Grid>\r\n\r\n       <Grid item  xs={12} md={6}>\r\n        \r\n            <TextField \r\n                      error={state.ethnicityError ? true : false}\r\n                      required id=\"ethnicity\" label=\"Ethnicity\" \r\n                      fullWidth autoComplete=\"none\"  \r\n                      value = {ethnicity}\r\n                      onChange = {ethnicityChanged} \r\n            />        \r\n      </Grid>\r\n\r\n        <Grid item xs={12} className={classes.formControl} >\r\n           <p>{'* Please take care when entering your information, and double check that everything entered on this form is correct.'}</p>\r\n        </Grid>\r\n\r\n      \r\n     \r\n      </Grid>\r\n    \r\n      \r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\n","import * as EmailValidator from 'email-validator';\r\n\r\nexport default function ValidateStep (state,setState, step) \r\n  {\r\n    var error = false;\r\n\r\n    if (step === 0)\r\n    {\r\n      if (!state.bookingDate || !state.bookingDate.getTime())\r\n      {\r\n        setState(state => ({...state, bookingDateError : true}));\r\n        error = true;\r\n      }\r\n    }\r\n    else if (step === 1)\r\n    {\r\n      /// Validate time\r\n      \r\n      if (!state.bookingTime)\r\n      {\r\n        setState(state => ({...state, bookingTimeError : true}));\r\n        error = true;\r\n      }\r\n    } else if (step === 2){\r\n      ///validate Basic Info\r\n      if (!state.gender)\r\n      {\r\n        setState(state => ({...state, genderError : true}));\r\n        error = true;\r\n      }\r\n      if (!state.title)\r\n      {\r\n        setState(state => ({...state, titleError : true}));\r\n        error = true;\r\n      }\r\n      if (!state.firstname || state.firstname.trim().length < 1)\r\n      {\r\n        setState(state => ({...state, firstnameError : true}));\r\n        error = true;\r\n      }\r\n      if (!state.lastname || state.lastname.trim().length < 1)\r\n      {\r\n        setState(state => ({...state, lastnameError : true}));\r\n        error = true;\r\n      }\r\n      if (!state.birthDate || state.birthDate.length !== 10)\r\n      {\r\n        setState(state => ({...state, birthDateError : true}));\r\n        error = true;\r\n      }\r\n      if (!state.email || !EmailValidator.validate(state.email))\r\n      {\r\n        setState(state => ({...state, emailError : true}));\r\n        error = true;\r\n      }\r\n\r\n      if (!state.retypeEmail || !EmailValidator.validate(state.retypeEmail) || state.email !== state.retypeEmail)\r\n      {\r\n        setState(state => ({...state, retypeEmailError : true}));\r\n        error = true;\r\n      }\r\n\r\n      if (!state.emailConfirmed)\r\n      {\r\n        setState(state => ({...state, emailConfirmedError : true}));\r\n        error = true;\r\n      }\r\n\r\n      if (!state.passportNumber || state.passportNumber.trim().length < 6)\r\n      {\r\n        setState(state => ({...state, passportNumberError : true}));\r\n        error = true;\r\n      }\r\n\r\n      // if (!state.NHSNumber || state.NHSNumber.trim().length < 1)\r\n      // {\r\n      //   setState(state => ({...state, NHSNumberError : true}));\r\n      //   error = true;\r\n      // }\r\n\r\n      if (!state.ethnicity || state.ethnicity.trim().length < 1)\r\n      {\r\n        setState(state => ({...state, ethnicityError : true}));\r\n        error = true;\r\n      }\r\n\r\n      if (!state.phone || state.phone.trim().length < 6)\r\n      {\r\n        setState(state => ({...state, phoneError : true}));\r\n        error = true;\r\n      }\r\n\r\n    }\r\n    else if (step === 3){\r\n      ///validate Address Info\r\n   \r\n      if (!state.postCode || state.postCode.trim().length < 5)\r\n      {\r\n        setState(state => ({...state, postCodeError : true}));\r\n        error = true;\r\n      }\r\n      if (!state.address || state.address.trim().length < 10)\r\n      {\r\n        setState(state => ({...state, addressError : true}));\r\n        error = true;\r\n      }    \r\n\r\n      if (state.selfIsolate)\r\n      {\r\n        if (!state.postCodeSI || state.postCodeSI.trim().length < 5)\r\n        {\r\n          setState(state => ({...state, postCodeSIError : true}));\r\n          error = true;\r\n        }\r\n        if (!state.addressSI || state.addressSI.trim().length < 10)\r\n        {\r\n          setState(state => ({...state, addressSIError : true}));\r\n          error = true;\r\n        }    \r\n      }\r\n\r\n      if (!state.arrivalDate || !validateDate(state.arrivalDate.trim()))\r\n      {\r\n        setState(state => ({...state, arrivalDateError : true}));\r\n        error = true;\r\n      }\r\n      if (!state.flightNumber || state.flightNumber.trim().length < 1)\r\n      {\r\n        setState(state => ({...state, flightNumberError : true}));\r\n        error = true;\r\n      }\r\n      if (!state.lastDepartedDate || !validateDate(state.lastDepartedDate.trim()))\r\n      {\r\n        setState(state => ({...state, lastDepartedDateError : true}));\r\n        error = true;\r\n      }\r\n      if (!state.travellingFrom || state.travellingFrom.trim().length < 1)\r\n      {\r\n        setState(state => ({...state, travellingFromError : true}));\r\n        error = true;\r\n      }\r\n\r\n\r\n\r\n\r\n      if (!error){\r\n        setState(state => ({...state, proceedToSubmit: false}));\r\n      }\r\n    }\r\n\r\n      return !error;   \r\n  }\r\n\r\n\r\n  const validateDate = (str) =>\r\n  {\r\n    var error = false;\r\n    if (!str || str.length !== 10)\r\n    {\r\n      error = true;\r\n    }\r\n\r\n    str = str.replace('/','-');\r\n    str = str.replace('/','-');\r\n\r\n\r\n    try\r\n    {\r\n      \r\n      const result = /^\\d{2}-\\d{2}-\\d{4}$/.test(str);\r\n      if (!result)\r\n      {\r\n         error = true;\r\n      }\r\n\r\n      const year = parseInt(str.substr(6,4));\r\n      const month = parseInt(str.substr(3,2));\r\n      const day = parseInt(str.substr(0,2));\r\n\r\n      if (year < 1900)\r\n      {\r\n         error = true;\r\n      }\r\n\r\n      if (month < 1 || month > 12)\r\n      {\r\n        error = true;\r\n      }        \r\n\r\n      if (day > 31)\r\n      {\r\n        error = true;\r\n      }\r\n\r\n    }catch(err)\r\n    {\r\n      error = true;\r\n    }\r\n    return !error;\r\n  }\r\n","import React, { useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport GlobalState from './GlobalState';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Accordion from '@material-ui/core/Accordion';\r\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\r\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faCalendarAlt } from '@fortawesome/free-solid-svg-icons';\r\nimport { faClock } from '@fortawesome/free-solid-svg-icons';\r\nimport { faHourglassHalf } from '@fortawesome/free-solid-svg-icons';\r\nimport dateFormat from 'dateformat';\r\nimport { Button, Checkbox, FormControlLabel } from '@material-ui/core';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport PersonAddIcon from '@material-ui/icons/PersonAdd';\r\nimport Icon from '@material-ui/core/Icon';\r\nimport dateformat from 'dateformat';\r\n\r\nimport {calculatePrice, calculateTotalPrice} from './PriceCalculator';\r\n\r\nimport ValidateStep from './Validation';\r\nimport { FormatDateFromString } from './DateFormatter';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  box: {\r\n    backgroundColor : \"#444\",\r\n    color: \"#fff\",\r\n    padding : \"8px\",\r\n    borderRadius : \"4px\",\r\n    textAlign: \"justify\",\r\n    // paddingRight: \"40px\"\r\n  },\r\n\r\n  boxRed: {\r\n    backgroundColor : \"#dc2626\",\r\n    color: \"#fff\",\r\n    padding : \"1px\",\r\n    borderRadius : \"4px\",\r\n    textAlign: \"justify\",\r\n    paddingRight: \"40px\"\r\n  },\r\n\r\n  boxInfo: {\r\n    textAlign: \"justify\",\r\n    backgroundColor : \"#fafafa\",\r\n    color: \"#333\",\r\n    // padding : \"1px\",\r\n    borderRadius : \"4px\",\r\n    // paddingRight: \"40px\",\r\n    border: \"1px solid #eee\",\r\n  },\r\n\r\n\r\n  \r\n\r\n  ul: {\r\n     listStyle: \"none\",\r\n     padding: \"0\",\r\n     margin: \"0\"\r\n  },\r\n\r\n  li: {\r\n    marginBottom : \"5px\"\r\n  },\r\n\r\n\r\n  icon: {\r\n    marginRight : \"8px\"\r\n  },\r\n\r\n  root: {\r\n    width: '100%',\r\n  },\r\n  heading: {\r\n    fontSize: theme.typography.pxToRem(15),\r\n    flexBasis: '33.33%',\r\n    flexShrink: 0,\r\n    color: theme.palette.text.secondary,\r\n  },\r\n  secondaryHeading: {\r\n    fontSize: theme.typography.pxToRem(15),\r\n  },\r\n\r\n  infoDetails:{\r\n    textAlign: \"left\"\r\n  },\r\n\r\n  infoTitle:{\r\n    fontWeight: \"800\",\r\n    marginRight: \"10px\"\r\n  },\r\n\r\n  infoData:{\r\n    fontWeight: \"400\",\r\n  },\r\n\r\n  title:\r\n  {\r\n    textAlign : \"left\",\r\n    fontWeight : \"500\",\r\n    // marginBottom: \"5px\",\r\n    marginTop: \"5px\",\r\n    padding : \"10px\",\r\n    borderRadius : \"4px\"\r\n\r\n  },\r\n\r\n  Accordion:{\r\n    backgroundColor : \"#f5f5f5\",\r\n    color: \"#111\"\r\n  },\r\n\r\n  terms: {\r\n    fontWeight: \"500\",\r\n    textAlign: \"justify\",\r\n    marginTop: \"10px\",\r\n    padding: \"10px\",\r\n  },\r\n\r\n  link:{\r\n    color: \"#dc2626\",\r\n    textDecoration: \"none\",\r\n  },\r\n\r\n  AddAnother:{\r\n    marginTop: \"10px\",\r\n    marginBottom: \"10px\",\r\n  }\r\n\r\n}));\r\n\r\n\r\nexport default function ReviewForm() {\r\n    const classes = useStyles();\r\n\r\n    const [state, setState] = React.useContext(GlobalState);\r\n\r\n    const [totalPrice, setTotalPrice] =  React.useState(0);\r\n\r\n    const [expanded, setExpanded] = React.useState('panel10');\r\n\r\n    useEffect(() => {\r\n      window.scrollTo(0, 0)\r\n    }, []);\r\n\r\n    const dataConfirmedChanged = (event) =>\r\n    {\r\n      setState(state => ({...state, dataConfirmed : event.target.checked }));\r\n      if (event.target.checked)\r\n      {\r\n        setState(state => ({...state, dataConfirmedError : false }));\r\n      }\r\n    }\r\n\r\n    useEffect( () => {\r\n      \r\n      var total = 0;\r\n      \r\n      if (!state.proceedToSubmit)\r\n      {\r\n        total += calculatePrice(state);\r\n      }\r\n\r\n      if (state.persons)\r\n      {\r\n        total += calculateTotalPrice(state.persons);\r\n      }\r\n\r\n      setTotalPrice(total);\r\n\r\n\r\n    }, [...state.persons, state]);\r\n\r\n    const handleChange = (panel) => (event, isExpanded) => {\r\n      setExpanded(isExpanded ? panel : false);\r\n    };\r\n\r\n    const addAnotherPerson = () => {\r\n\r\n      if (ValidateStep(state, setState, 2) && ValidateStep(state, setState, 3))\r\n      {\r\n\r\n        const personInfo = {\r\n          gender: state.gender,\r\n          title: state.title,\r\n          firstname: state.firstname,\r\n          lastname: state.lastname,\r\n          birthDate: state.birthDate,\r\n          email: state.email,\r\n          phone: state.phone,\r\n          postCode: state.postCode,\r\n          address: state.address,\r\n          passportNumber: state.passportNumber,\r\n\r\n          selfIsolate: state.selfIsolate,\r\n          NHSNumber: state.NHSNumber,\r\n          ethnicity: state.ethnicity,\r\n          postCodeSI: state.postCodeSI,\r\n          addressSI: state.addressSI,\r\n          arrivalDate: state.arrivalDate,\r\n          flightNumber: state.flightNumber,\r\n          lastDepartedDate: state.lastDepartedDate,\r\n          travellingFrom: state.travellingFrom\r\n\r\n        }\r\n          var newPersons = state.persons;\r\n          newPersons.push(personInfo);\r\n          setState(state => ({activeStep: 2, \r\n            getStarted: true,\r\n            agreed : true,\r\n            bookingDate: state.bookingDate, \r\n            bookingTime: state.bookingTime,\r\n            address: state.address,\r\n            postCode: state.postCode,\r\n            selfIsolate: state.selfIsolate,\r\n            arrivalDate: state.arrivalDate,\r\n            flightNumber: state.flightNumber,\r\n            lastDepartedDate: state.lastDepartedDate,\r\n            travellingFrom: state.travellingFrom,\r\n            addressSI: state.addressSI,\r\n            postCodeSI: state.postCodeSI,\r\n\r\n            persons: newPersons\r\n          }));       \r\n      }else {\r\n        setState(state => ({...state, activeStep : 2 }));\r\n      }\r\n\r\n  }\r\n  \r\n   \r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Typography variant=\"h6\" gutterBottom>\r\n        Review Your Data\r\n      </Typography>\r\n\r\n      <Grid container direction=\"column\" spacing={1} justify=\"flex-start\"  alignItems=\"stretch\">\r\n\r\n          <div className={classes.title}> Appointment is for the following people :</div>\r\n\r\n          {state.persons.map((person,index) => (\r\n   \r\n                  <Grid item xs={12} md={12}>\r\n                  <div className={classes.root}>\r\n                      <Accordion className={classes.Accordion} expanded={expanded === `panel${index}`} onChange={handleChange(`panel${index}`)}>\r\n                      <AccordionSummary\r\n                          expandIcon={<ExpandMoreIcon />}\r\n                          aria-controls=\"panel1bh-content\"\r\n                          id={`panel${index}bh-header`}\r\n                      >\r\n                          <Typography className={classes.heading}> {`#${index+1}`} </Typography>\r\n                          <Typography className={classes.secondaryHeading}>\r\n                          {`${person.firstname} ${person.lastname}`}\r\n                          </Typography>\r\n                      </AccordionSummary>\r\n                      <AccordionDetails className={classes.infoDetails}>\r\n                          \r\n                      <ul className={classes.ul}>\r\n                                  <li className={classes.li}>\r\n                                    <span className={classes.infoTitle}>Gender</span> <span className={classes.infoData}>{person.gender}</span>   \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                    <span className={classes.infoTitle}>Title</span>  <span className={classes.infoData}>{person.title}</span>   \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                    <span className={classes.infoTitle}>Forename</span> <span className={classes.infoData}>{person.firstname}</span>   \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                     <span className={classes.infoTitle}>Surname</span> <span className={classes.infoData}>{person.lastname}</span>   \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                     <span className={classes.infoTitle}>Email</span> <span className={classes.infoData}>{person.email}</span>   \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                     <span className={classes.infoTitle}>D.O.B</span> <span className={classes.infoData}>{FormatDateFromString(person.birthDate)}</span>  \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                     <span className={classes.infoTitle}>Telephone</span> <span className={classes.infoData}>{person.phone}</span>  \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                     <span className={classes.infoTitle}>Passport Number</span> <span className={classes.infoData}>{person.passportNumber ?? '-'}</span>  \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                     <span className={classes.infoTitle}>NHS Number</span> <span className={classes.infoData}>{person.NHSNumber ?? '-'}</span>  \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                     <span className={classes.infoTitle}>Ethnicity</span> <span className={classes.infoData}>{person.ethnicity}</span>  \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                     <span className={classes.infoTitle}>Post Code</span> <span className={classes.infoData}>{person.postCode}</span>  \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                     <span className={classes.infoTitle}>Address</span> <span className={classes.infoData}>{person.address}</span>  \r\n                                  </li>\r\n                                  {person.selfIsolate && (\r\n                                    <React.Fragment>\r\n                                            <li className={classes.li}>\r\n                                            <span className={classes.infoTitle}>Self-Isolate Post Code</span> <span className={classes.infoData}>{person.postCodeSI}</span>  \r\n                                            </li>\r\n                                            <li className={classes.li}>\r\n                                            <span className={classes.infoTitle}>Self-Isolate Address</span> <span className={classes.infoData}>{person.addressSI}</span>  \r\n                                            </li>\r\n                                    </React.Fragment>\r\n                                  )}\r\n                                  <li className={classes.li}>\r\n                                     <span className={classes.infoTitle}>Arrival Date</span> <span className={classes.infoData}>{person.arrivalDate}</span>  \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                     <span className={classes.infoTitle}>Flight Number</span> <span className={classes.infoData}>{person.flightNumber}</span>  \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                     <span className={classes.infoTitle}>Last Departed Date</span> <span className={classes.infoData}>{person.lastDepartedDate}</span>  \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                     <span className={classes.infoTitle}>Travelling From</span> <span className={classes.infoData}>{person.travellingFrom}</span>  \r\n                                  </li>\r\n\r\n                                  <li className={classes.li} style={{marginTop: \"10px\"}}>\r\n                                      <span className={classes.infoTitle}>Price</span> <span style={{fontWeight: '600', color: \"red\"}} className={classes.infoData}>{`${calculatePrice(person)}`}</span>  \r\n                                  </li>\r\n                                  \r\n                                </ul>\r\n                          \r\n                          </AccordionDetails>\r\n                          </Accordion>\r\n                      </div>\r\n                    </Grid> \r\n                    ))}\r\n\r\n            { (!state.proceedToSubmit) && \r\n                      <Grid item xs={12} md={12}>\r\n                      <div className={classes.root}>\r\n                          <Accordion className={classes.Accordion} expanded={expanded === 'panel10'} onChange={handleChange('panel10')}>\r\n                            <AccordionSummary\r\n                              expandIcon={<ExpandMoreIcon />}\r\n                              aria-controls=\"panel10bh-content\"\r\n                              id=\"panel10bh-header\"\r\n                            >\r\n                              <Typography className={classes.heading}> {`#${state.persons.length + 1}`} </Typography>\r\n                              <Typography className={classes.secondaryHeading}>\r\n                                {`${state.firstname} ${state.lastname}`}\r\n                              </Typography>\r\n                            </AccordionSummary>\r\n                            <AccordionDetails className={classes.infoDetails}>\r\n                              \r\n                                <ul className={classes.ul}>\r\n                                  <li className={classes.li}>\r\n                                    <span className={classes.infoTitle}>Gender</span> <span className={classes.infoData}>{state.gender}</span>   \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                    <span className={classes.infoTitle}>Title</span>  <span className={classes.infoData}>{state.title}</span>   \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                    <span className={classes.infoTitle}>Forename</span> <span className={classes.infoData}>{state.firstname}</span>   \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                     <span className={classes.infoTitle}>Surname</span> <span className={classes.infoData}>{state.lastname}</span>   \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                     <span className={classes.infoTitle}>Email</span> <span className={classes.infoData}>{state.email}</span>   \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                     <span className={classes.infoTitle}>D.O.B</span> <span className={classes.infoData}>{FormatDateFromString(state.birthDate)}</span>  \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                     <span className={classes.infoTitle}>Telephone</span> <span className={classes.infoData}>{state.phone}</span>  \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                     <span className={classes.infoTitle}>Passport Number</span> <span className={classes.infoData}>{state.passportNumber ?? '-'}</span>  \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                     <span className={classes.infoTitle}>NHS Number</span> <span className={classes.infoData}>{state.NHSNumber ?? '-'}</span>  \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                     <span className={classes.infoTitle}>Ethnicity</span> <span className={classes.infoData}>{state.ethnicity}</span>  \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                     <span className={classes.infoTitle}>Post Code</span> <span className={classes.infoData}>{state.postCode}</span>  \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                     <span className={classes.infoTitle}>Address</span> <span className={classes.infoData}>{state.address}</span>  \r\n                                  </li>\r\n                                  {state.selfIsolate && (\r\n                                    <React.Fragment>\r\n                                            <li className={classes.li}>\r\n                                            <span className={classes.infoTitle}>Self-Isolate Post Code</span> <span className={classes.infoData}>{state.postCodeSI}</span>  \r\n                                            </li>\r\n                                            <li className={classes.li}>\r\n                                            <span className={classes.infoTitle}>Self-Isolate Address</span> <span className={classes.infoData}>{state.addressSI}</span>  \r\n                                            </li>\r\n                                    </React.Fragment>\r\n                                  )}\r\n                                  <li className={classes.li}>\r\n                                     <span className={classes.infoTitle}>Arrival Date</span> <span className={classes.infoData}>{state.arrivalDate}</span>  \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                     <span className={classes.infoTitle}>Flight Number</span> <span className={classes.infoData}>{state.flightNumber}</span>  \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                     <span className={classes.infoTitle}>Last Departed Date</span> <span className={classes.infoData}>{state.lastDepartedDate}</span>  \r\n                                  </li>\r\n                                  <li className={classes.li}>\r\n                                     <span className={classes.infoTitle}>Travelling From</span> <span className={classes.infoData}>{state.travellingFrom}</span>  \r\n                                  </li>\r\n\r\n                                  <li className={classes.li} style={{marginTop: \"10px\"}}>\r\n                                      <span className={classes.infoTitle}>Price</span> <span style={{fontWeight: '600', color: \"red\"}} className={classes.infoData}>{`${calculatePrice(state)}`}</span>  \r\n                                  </li>\r\n                                  \r\n                                </ul>\r\n                              \r\n                            </AccordionDetails>\r\n                          </Accordion>\r\n                        </div>\r\n                  </Grid> \r\n               }\r\n                  {(!state.persons || (state.persons && state.persons.length < 4)) && (\r\n\r\n                    <div className={classes.AddAnother}>\r\n                          <Button \r\n                                  variant=\"contained\"\r\n                                  startIcon={<PersonAddIcon />}\r\n                                  color=\"secondary\"\r\n                                  onTouchTap = {addAnotherPerson} \r\n                                  onClick={addAnotherPerson} className={classes.button}>\r\n                            Add Another Person\r\n                          </Button>\r\n                    </div>\r\n \r\n                  )}\r\n\r\n\r\n\r\n          <Grid item xs={12} md={12}>\r\n            <div className={classes.box}>\r\n              <ul className={classes.ul}>\r\n                <li className={classes.li}>\r\n                <FontAwesomeIcon icon={faCalendarAlt} className={classes.icon} />\r\n                    { dateformat(new Date(state.bookingDate.toUTCString().slice(0, -4)),'dd/mm/yyyy')}\r\n                </li>\r\n                <li className={classes.li}>\r\n                <FontAwesomeIcon icon={faHourglassHalf} className={classes.icon} />\r\n                   Check-up Duration: 5 minutes\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </Grid> \r\n\r\n          <Grid item xs={12} md={12}>\r\n            <div className={classes.box}>\r\n              <ul className={classes.ul}>\r\n                <li className={classes.li}>\r\n                <FontAwesomeIcon icon={faClock} className={classes.icon} />\r\n                   Time: {state.bookingTime}\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </Grid> \r\n\r\n          <Grid item xs={12} md={12}>\r\n            <div className={classes.box}>\r\n              <ul className={classes.ul}>\r\n                <li className={classes.li}>\r\n                    Package : In-Clinic Test\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </Grid> \r\n\r\n          <Grid item xs={12} md={12}>\r\n            <div className={classes.box}>\r\n              <ul className={classes.ul}>\r\n                <li className={classes.li}>\r\n                   Total Price : {`${totalPrice}`}\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </Grid> \r\n\r\n          <Grid item xs={12} md={12}>\r\n            <div className={classes.box}>\r\n              <ul className={classes.ul}>\r\n                <li className={classes.li}>\r\n                In order to aid social distancing during the coronavirus pandemic, there may be a slight delay to your appointment time. Thank you for understanding.\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </Grid> \r\n\r\n        \r\n        <div className={classes.terms}>\r\n            By clicking on submit button you are agreeing with our <a className={classes.link}  target=\"_blank\" href=\"https://www.medicalexpressclinic.co.uk/terms-and-conditions\">terms and condition.</a> \r\n        </div>\r\n\r\n        <div style={{textAlign:\"left\", color: \"#111\", marginLeft:\"10px\"}}>\r\n        <FormControlLabel className={classes.formControl}  style={ {color: state.dataConfirmedError ? \"red\" : ''}} \r\n            control={<Checkbox className={classes.formControl} style={ {color: state.dataConfirmedError ? \"red\" : ''}} \r\n             color=\"secondary\" name=\"emailConfirmCheckBox\" checked={state.dataConfirmed} onChange={dataConfirmedChanged} />}\r\n             label={<span style={{ fontSize: '0.9rem' , fontWeight:\"500\"}}>{`I confirm that the details in this form are correct, and I am happy for them to appear as written above on my results and certificate if ordered.`} </span>}\r\n             />\r\n        </div>\r\n\r\n    \r\n      </Grid>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\n","import React, { useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport GlobalState from './GlobalState';\r\nimport PersonsBox from './PersonsBox';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    formControl: {\r\n      textAlign: \"justify\",\r\n    },\r\n\r\n    FormTitle:\r\n    {\r\n      marginTop : \"20px\",\r\n      marginBottom : \"20px\",\r\n    }\r\n\r\n  }));\r\n\r\nexport default function AddressForm() {\r\n    const classes = useStyles();\r\n    const [state, setState] = React.useContext(GlobalState);\r\n    \r\n    const [sameAddress, setSameAddress] = React.useState(false);\r\n    \r\n    const sameAddressChanged = (event) =>\r\n    {\r\n      setSameAddress(event.target.checked);\r\n    }\r\n\r\n   \r\n    const [postCode, setPostCode] = React.useState(state.postCode ?? '');\r\n    const [address, setAddress] = React.useState(state.address ?? '');\r\n\r\n    const [postCodeSI, setPostCodeSI] = React.useState(state.postCodeSI ?? '');\r\n    const [addressSI, setAddressSI] = React.useState(state.addressSI ?? '');\r\n\r\n    const [selfIsolate, setSelfIsolate] = React.useState(state.selfIsolate ?? false);\r\n\r\n    const [arrivalDate, setArrivalDate] = React.useState(state.arrivalDate ?? '');\r\n    const [flightNumber, setFlightNumber] = React.useState(state.flightNumber ?? '');\r\n    const [lastDepartedDate, setLastDepartedDate] = React.useState(state.lastDepartedDate ?? '');\r\n    const [travellingFrom, setTravellingFrom] = React.useState(state.travellingFrom ?? '');\r\n\r\n  \r\n    useEffect(() => {\r\n      window.scrollTo(0, 0)\r\n    }, []);\r\n\r\n\r\n    useEffect( () => {\r\n\r\n      if (state.persons && state.persons.length > 0)\r\n      {\r\n        setSameAddress(true);\r\n      }\r\n\r\n    } , [state.persons])\r\n\r\n\r\n\r\n    const selfIsolateChanged = (event) =>\r\n    {\r\n      setSelfIsolate(event.target.checked);\r\n      setState(state => ({...state, selfIsolate : event.target.checked}));\r\n    }\r\n\r\n    const postCodeChanged = (event) =>\r\n    {\r\n        setPostCode(event.target.value);\r\n        setState(state => ({...state, postCode : event.target.value }));\r\n        if (event.target.value && event.target.value.trim().length >= 5)\r\n        {\r\n          setState(state => ({...state, postCodeError : false}));\r\n        }\r\n    }\r\n\r\n    const addressChanged = (event) =>\r\n    {\r\n        setAddress(event.target.value);\r\n        setState(state => ({...state, address : event.target.value }));\r\n        if (event.target.value && event.target.value.trim().length >= 10)\r\n        {\r\n          setState(state => ({...state, addressError : false}));\r\n        }\r\n    }\r\n\r\n    const postCodeSIChanged = (event) =>\r\n    {\r\n        setPostCodeSI(event.target.value);\r\n        setState(state => ({...state, postCodeSI : event.target.value }));\r\n        if (event.target.value && event.target.value.trim().length >= 5)\r\n        {\r\n          setState(state => ({...state, postCodeSIError : false}));\r\n        }\r\n    }\r\n\r\n    const addressSIChanged = (event) =>\r\n    {\r\n        setAddressSI(event.target.value);\r\n        setState(state => ({...state, addressSI : event.target.value }));\r\n        if (event.target.value && event.target.value.trim().length >= 10)\r\n        {\r\n          setState(state => ({...state, addressSIError : false}));\r\n        }\r\n    }\r\n\r\n    const arrivalDateChanged = (event) =>\r\n    {\r\n        setArrivalDate(event.target.value);\r\n        setState(state => ({...state, arrivalDate : event.target.value }));\r\n        if (event.target.value && event.target.value.trim().length === 10)\r\n        {\r\n          setState(state => ({...state, arrivalDateError : false}));\r\n        }\r\n    }\r\n    const flightNumberChanged = (event) =>\r\n    {\r\n        setFlightNumber(event.target.value);\r\n        setState(state => ({...state, flightNumber : event.target.value }));\r\n        if (event.target.value && event.target.value.trim().length >= 1)\r\n        {\r\n          setState(state => ({...state, flightNumberError : false}));\r\n        }\r\n    }\r\n    const lastDepartedDateChanged = (event) =>\r\n    {\r\n        setLastDepartedDate(event.target.value);\r\n        setState(state => ({...state, lastDepartedDate : event.target.value }));\r\n        if (event.target.value && event.target.value.trim().length === 10)\r\n        {\r\n          setState(state => ({...state, lastDepartedDateError : false}));\r\n        }\r\n    }\r\n    const travellingFromChanged = (event) =>\r\n    {\r\n        setTravellingFrom(event.target.value);\r\n        setState(state => ({...state, travellingFrom : event.target.value }));\r\n        if (event.target.value && event.target.value.trim().length >= 1)\r\n        {\r\n          setState(state => ({...state, travellingFromError : false}));\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n  return (\r\n    <React.Fragment>\r\n\r\n      {/* <AntiBodyComponent/> */}\r\n      \r\n      <PersonsBox/>\r\n\r\n      {state.persons.length === 0 &&\r\n          <Typography className={classes.FormTitle} variant=\"h6\" gutterBottom>\r\n              {`Enter your Address & Flight info`} \r\n          </Typography>\r\n       }\r\n\r\n      {state.persons.length > 0 &&\r\n            <Typography className={classes.FormTitle} variant=\"h6\" gutterBottom>\r\n                 {`Enter your Address & Flight info`} \r\n            </Typography>\r\n      }\r\n\r\n\r\n\r\n  \r\n\r\n      <Grid container spacing={3} alignItems=\"baseline\">\r\n\r\n      <Grid hidden={ !(state.persons && state.persons.length > 0)} item xs={12} className={classes.formControl} >\r\n          <FormControlLabel className={classes.formControl} \r\n            control={<Checkbox className={classes.formControl}  color=\"secondary\" name=\"sameAddress\" checked={sameAddress} onChange={sameAddressChanged} />}\r\n             label={<span style={{ fontSize: '0.8rem' }}>{`Use the Same Address & Flight Info`} \r\n             </span>}\r\n          />\r\n        </Grid>\r\n\r\n\r\n\r\n        <Grid item xs={12}>\r\n             <TextField \r\n                        error={state.postCodeError ? true : false}\r\n                        disabled = {sameAddress}\r\n                        required id=\"postCode\" label=\"Post Code\" \r\n                        fullWidth autoComplete=\"postal-code\"\r\n                        value = {postCode}\r\n                        onChange = {postCodeChanged} \r\n             />  \r\n        </Grid>\r\n        <Grid item xs={12}>\r\n             <TextField \r\n                        error={state.addressError ? true : false}\r\n                        required id=\"address\" label=\"Address\" \r\n                        helperText = \"This is the address you intend to self-isolate, if not please check the below \"\r\n                        disabled = {sameAddress}\r\n                        multiline rowsMax={2} \r\n                        fullWidth autoComplete=\"street-address\" \r\n                        value = {address}\r\n                        onChange = {addressChanged} \r\n             />  \r\n        </Grid>\r\n\r\n        <Grid item xs={12} className={classes.formControl} >\r\n          <FormControlLabel className={classes.formControl} disabled={sameAddress}\r\n            control={<Checkbox className={classes.formControl} color=\"secondary\" name=\"emailConfirmCheckBox\" checked={selfIsolate} onChange={selfIsolateChanged} />}\r\n             label={<span style={{ fontSize: '1rem' }}>{`I intend to self-isolate at a different address`} </span>}\r\n          />\r\n        </Grid>\r\n        \r\n        { selfIsolate && (\r\n            <React.Fragment>\r\n                      <Grid item xs={12}>\r\n                      <TextField \r\n                                  error={state.postCodeSIError ? true : false}\r\n                                  disabled = {sameAddress}\r\n                                  required id=\"postCodeSI\" label=\"Self-Isolate Post Code\" \r\n                                  fullWidth autoComplete=\"postal-code\"\r\n                                  value = {postCodeSI}\r\n                                  onChange = {postCodeSIChanged} \r\n                      />  \r\n                      </Grid>\r\n                      <Grid item xs={12}>\r\n                      <TextField \r\n                                  error={state.addressSIError ? true : false}\r\n                                  required id=\"addressSI\" label=\"Self-Isolate Address\" \r\n                                  disabled = {sameAddress}\r\n                                  multiline rowsMax={2} \r\n                                  fullWidth autoComplete=\"street-address\" \r\n                                  value = {addressSI}\r\n                                  onChange = {addressSIChanged} \r\n                      />  \r\n                      </Grid>\r\n\r\n                </React.Fragment>\r\n\r\n        )}\r\n\r\n          <Grid item xs={12}>\r\n                <TextField \r\n                            error={state.arrivalDateError ? true : false}\r\n                            disabled = {sameAddress}\r\n                            required id=\"arrivalDate\" label=\"Arrival Date\" \r\n                            helperText = \"Date of your arrival in the UK (dd/MM/YYYY)\"\r\n                            fullWidth autoComplete=\"none\"\r\n                            value = {arrivalDate}\r\n                            placeholder= \"dd/mm/yyyy\"\r\n                            onChange = {arrivalDateChanged} \r\n                />  \r\n            </Grid>\r\n\r\n            <Grid item xs={12}>\r\n                <TextField \r\n                            error={state.flightNumberError ? true : false}\r\n                            disabled = {sameAddress}\r\n                            required id=\"flightNumber\" label=\"Flight Number\" \r\n                            helperText = \"Your coach number, flight number or vessel name (as appropriate)\"\r\n                            fullWidth  autoComplete=\"none\"\r\n                            value = {flightNumber}\r\n                            onChange = {flightNumberChanged} \r\n                />  \r\n            </Grid>\r\n\r\n            <Grid item xs={12}>\r\n                <TextField \r\n                            error={state.lastDepartedDateError ? true : false}\r\n                            disabled = {sameAddress}\r\n                            placeholder= \"dd/mm/yyyy\"\r\n                            \r\n                            required id=\"lastDepartedDate\" label=\"Last Departed Date\" \r\n                            helperText = \"The date on which you last departed from or transited through a non-exempt country or territory, or a non-exempt region of a country or territory  a destination not on the travel corridors list\"\r\n                            fullWidth autoComplete=\"none\"\r\n                            value = {lastDepartedDate}\r\n                            onChange = {lastDepartedDateChanged} \r\n                />  \r\n            </Grid>\r\n\r\n            \r\n            <Grid item xs={12}>\r\n                <TextField \r\n                            error={state.travellingFromError ? true : false}\r\n                            disabled = {sameAddress}\r\n                            required id=\"travellingFrom\" label=\"Travelling from\" \r\n                            helperText = \"The country or territory you were travelling from when you arrived in the UK, and any country or territory you transited through as part of that journey\"\r\n                            fullWidth  autoComplete=\"none\"\r\n                            value = {travellingFrom}\r\n                            onChange = {travellingFromChanged} \r\n                />  \r\n            </Grid>\r\n\r\n\r\n\r\n       \r\n   \r\n      </Grid>\r\n    \r\n      \r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\n","import API from './api';\r\n\r\nexport default class BookService {\r\n\r\n    static bookAppointment = (payload) =>\r\n    {\r\n       return API.post('/api/book/bookappointment', payload);\r\n    }\r\n\r\n    static getNewReference = () =>\r\n    {\r\n        return API.get('/api/book/getnewreference');\r\n    }\r\n\r\n    static getBookingById = (id) =>\r\n    {\r\n        return API.get(`/api/book/getbookingbyid?id=${id}`);\r\n    }\r\n\r\n}","import { withStyles } from \"@material-ui/core/styles\";\r\nimport MobileStepper from \"@material-ui/core/MobileStepper\";\r\n\r\nconst StyledMobileStepper = withStyles({\r\n  root: {\r\n    maxWidth: \"100%\",\r\n    flexGrow: 1\r\n  },\r\n  progress: {\r\n    width: \"100%\"\r\n  }\r\n})(MobileStepper);\r\n\r\nexport default StyledMobileStepper;","export default \"data:image/png;base64,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\"","export default __webpack_public_path__ + \"static/media/ok.c105a1fa.png\";","export default __webpack_public_path__ + \"static/media/error.8ab2c9d7.png\";","\r\n\r\nimport React, { useEffect } from 'react';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport GlobalState from './GlobalState';\r\nimport doneImage from './images/ok.png';\r\nimport errorImage from './images/error.png';\r\nimport * as dateformat from 'dateformat';\r\nimport Alert from '@material-ui/lab/Alert';\r\n\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n    bold: {\r\n        fontWeight: \"800\",\r\n        padding: \"5px\"\r\n      },\r\n\r\n      doneImage: {\r\n        width: \"240px\",\r\n        height: \"150px\",\r\n        margin: \"20px\"\r\n      },\r\n\r\n      errorImage: {\r\n        width: \"200px\",\r\n        height: \"190px\",\r\n        margin: \"20px\"\r\n      },\r\n    \r\n\r\n\r\n}));\r\n\r\n\r\nexport default function ResultsForm() {\r\n  const [state, setState] = React.useContext(GlobalState);\r\n  const classes = useStyles();\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0)\r\n  }, []);\r\n\r\n  const AllError = (results) =>\r\n  {\r\n      for (var i=0 ; i < results.length; i++)\r\n      {\r\n          if (results[i].data.status === 'OK')\r\n          {\r\n              return false;\r\n          }\r\n      }\r\n      return true;\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {state.finalResults.length === 1 &&\r\n        state.finalResults[0].data.status === `OK` && (\r\n          <React.Fragment>\r\n            <img\r\n              className={classes.doneImage}\r\n              src={doneImage}\r\n              alt=\"Done image\"\r\n            />\r\n\r\n            <Typography variant=\"h5\" gutterBottom>\r\n              Thank you for your Booking.\r\n            </Typography>\r\n            <br />\r\n            <Typography variant=\"subtitle1\">\r\n              Your booking number is{\" \"}\r\n              <span className={classes.bold}>{`\"${state.ref}\"`}</span> . We have\r\n              emailed your booking information, and will look forward to meet\r\n              you at the clinic.\r\n            </Typography>\r\n          </React.Fragment>\r\n        )}\r\n\r\n      {state.finalResults.length === 1 &&\r\n        state.finalResults[0].data.status === `FAILED` && (\r\n          <React.Fragment>\r\n            <img\r\n              className={classes.errorImage}\r\n              src={errorImage}\r\n              alt=\"Error image\"\r\n            />\r\n\r\n            <Typography variant=\"h5\" gutterBottom>\r\n              Sorry, There is a Problem with your Booking.\r\n            </Typography>\r\n            <br />\r\n\r\n            {state.finalResults[0].data.error === \"FullTime\" && (\r\n              <Typography variant=\"subtitle1\">\r\n                Please check your system time, make sure your timezone is set to\r\n                Europe/London.\r\n              </Typography>\r\n            )}\r\n\r\n            {state.finalResults[0].data.error !== \"FullTime\" && (\r\n              <Typography variant=\"subtitle1\">\r\n                You have already booked for{\" \"}\r\n                {`'${dateformat(state.bookingDate, \"dddd, mmmm dS, yyyy\")}'`}.\r\n                Every person can only book for one appointment per day. If you\r\n                want to change your appointment time please follow the link we\r\n                have emailed you before.\r\n              </Typography>\r\n            )}\r\n          </React.Fragment>\r\n        )}\r\n\r\n      {state.finalResults.length > 1 && (\r\n        <React.Fragment>\r\n          {AllError(state.finalResults) && (\r\n            <React.Fragment>\r\n              <img\r\n                className={classes.errorImage}\r\n                src={errorImage}\r\n                alt=\"Error image\"\r\n              />\r\n\r\n              <Typography variant=\"h5\" gutterBottom>\r\n                Sorry, There is a Problem with your Booking.\r\n              </Typography>\r\n              <br />\r\n\r\n              {state.finalResults[0].data.error === \"FullTime\" && (\r\n                <Typography variant=\"subtitle1\">\r\n                  Please check your system time, make sure your timezone is set\r\n                  to Europe/London.\r\n                </Typography>\r\n              )}\r\n\r\n              {state.finalResults[0].data.error !== \"FullTime\" && (\r\n                <Typography variant=\"subtitle1\">\r\n                  You have already booked for{\" \"}\r\n                  {`'${dateformat(state.bookingDate, \"dddd, mmmm dS, yyyy\")}'`}.\r\n                  Every person can only book for one appointment per day. If you\r\n                  want to change your appointment time please follow the link we\r\n                  have emailed you before.\r\n                </Typography>\r\n              )}\r\n\r\n              \r\n            </React.Fragment>\r\n          )}\r\n\r\n          {!AllError(state.finalResults) && (\r\n            <React.Fragment>\r\n              <img\r\n                className={classes.doneImage}\r\n                src={doneImage}\r\n                alt=\"Done image\"\r\n              />\r\n\r\n              <Typography variant=\"h5\" gutterBottom>\r\n                Thank you for your Booking.\r\n              </Typography>\r\n              <br />\r\n              <Typography variant=\"subtitle1\">\r\n                Your booking number is{\" \"}\r\n                <span className={classes.bold}>{`\"${state.ref}\"`}</span> . We\r\n                have emailed your booking information, and will look forward to\r\n                meet you at the clinic.\r\n              </Typography>\r\n            </React.Fragment>\r\n          )}\r\n\r\n          {state.finalResults.map((item) => (\r\n            <React.Fragment>\r\n              {item.data.status === \"OK\" && (\r\n                <React.Fragment>\r\n                  <div style={{ marginTop: \"5px\", marginBottom: \"5px\" }}>\r\n                    <Alert severity=\"success\">\r\n                      {`${item.data.person.forename} ${item.data.person.surname} - Successfully Booked!`}\r\n                    </Alert>\r\n                  </div>\r\n                </React.Fragment>\r\n              )}\r\n\r\n              {item.data.status === \"FAILED\" && (\r\n                <React.Fragment>\r\n                  <div style={{ marginTop: \"5px\", marginBottom: \"5px\" }}>\r\n                    <Alert severity=\"error\">\r\n                      {`${item.data.person.forename} ${item.data.person.surname} - Booking Failed! ( has already booked for that day!)`}\r\n                    </Alert>\r\n                  </div>\r\n                </React.Fragment>\r\n              )}\r\n            </React.Fragment>\r\n          ))}\r\n        </React.Fragment>\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n}","\r\nconst faq = [\r\n    {\r\n        question: \"I just booked my appointment online, should I call the clinic to confirm my appointment?\",\r\n        answer: \"Please do not call to confirm appointments that have already been confirmed via email. Once you have your 9 digit code, this appointment is confirmed.\"\r\n    },\r\n    {\r\n        question: \"Can I pay in advance?\",\r\n        answer: \"Sorry, we do not accept pre-payment for any PCR tests.\"\r\n    },\r\n    {\r\n        question: \"Can you guarantee my results in less than 48 hours?\",\r\n        answer: \"No, sorry. Over 95% of our results are sent to patients within 40 hours, and there are live statistics on our website advising current turnaround times.\"\r\n    },\r\n   \r\n];\r\n\r\nexport default faq;\r\n","import React from 'react';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Stepper from '@material-ui/core/Stepper';\r\nimport Step from '@material-ui/core/Step';\r\nimport StepLabel from '@material-ui/core/StepLabel';\r\nimport Button from '@material-ui/core/Button';\r\nimport Link from '@material-ui/core/Link';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport DateForm from './DateForm';\r\nimport TimeForm from './TimeForm';\r\nimport InformationForm from './InformationForm';\r\nimport ReviewForm from './ReviewForm';\r\nimport GlobalState from './GlobalState';\r\nimport AddressForm from './AddressForm';\r\nimport BookService from './services/BookService';\r\n\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nimport HttpsIcon from '@material-ui/icons/Https';\r\n\r\nimport {BrowserView, MobileView, isMobile} from 'react-device-detect';\r\n\r\nimport ValidateStep from './Validation';\r\n\r\n\r\nimport MobileStepper from './MobileStepper';\r\n\r\nimport logoImage from './images/logo.png';\r\nimport { Grid } from '@material-ui/core';\r\n\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport ResultsForm from './ResultsForm';\r\n\r\nimport LiveHelpIcon from '@material-ui/icons/LiveHelp';\r\nimport faq from './FAQ';\r\nimport dateformat from 'dateformat';\r\n\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright  '}\r\n      {new Date().getFullYear()}\r\n      {' '}\r\n      <Link color=\"inherit\" href=\"#\">\r\n           <strong> Medical Express Clinic </strong> \r\n      </Link>{isMobile ? ' ' : ' All rights reserved.' }\r\n   \r\n       \r\n \r\n     \r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  appBar: {\r\n    position: 'relative',\r\n    backgroundColor: \"#fff\",\r\n    color: \"#00a1c5\",\r\n    alignItems: 'center',\r\n  },\r\n\r\n  logo: {\r\n    maxWidth: 160,\r\n  },\r\n  layout: {\r\n    width: 'auto',\r\n    marginLeft: theme.spacing(2),\r\n    marginRight: theme.spacing(2),\r\n    [theme.breakpoints.up(600 + theme.spacing(2) * 2)]: {\r\n      width: 700,\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n    },\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(1),\r\n    marginBottom: theme.spacing(3),\r\n    padding: theme.spacing(1),\r\n    [theme.breakpoints.up(600 + theme.spacing(3) * 2)]: {\r\n      marginTop: theme.spacing(2),\r\n      marginBottom: theme.spacing(2),\r\n      padding: theme.spacing(3),\r\n    },\r\n  },\r\n  stepper: {\r\n    padding: theme.spacing(3, 0, 5),\r\n  },\r\n  buttons: {\r\n    display: 'flex',\r\n    justifyContent: 'flex-end',\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing(3),\r\n    marginLeft: theme.spacing(1),\r\n  },\r\n\r\n  bold: {\r\n    fontWeight: \"800\",\r\n    padding: \"5px\"\r\n  },\r\n\r\n  doneImage: {\r\n    width: \"240px\",\r\n    height: \"150px\",\r\n    margin: \"20px\"\r\n  },\r\n\r\n  logoImage: {\r\n    width: \"40px\",\r\n    height: \"40px\",\r\n    marginLeft: \"0px\",\r\n    \r\n  },\r\n\r\n  privacyButton: {\r\n    marginBottom : \"20px\",\r\n    width: \"115px\"\r\n  },\r\n\r\n  faqButton: {\r\n    marginBottom : \"20px\",\r\n    marginLeft : \"10px\",\r\n    backgroundColor : \"#2f942e\",\r\n    \"&:hover\": {\r\n      background: \"green\",\r\n      color: \"#fff\"\r\n    },\r\n    textDecoration : \"none !important\",\r\n    width: \"115px\"\r\n\r\n  },\r\n\r\n  backdrop: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    color: '#fff',\r\n  },\r\n\r\n}));\r\n\r\nconst steps = ['Appoinment Date', 'Appoinment Time', 'Basic Info', 'Address Info','Review'];\r\n\r\nfunction getStepContent(step) {\r\n  switch (step) {\r\n    case 0:\r\n      return <DateForm />;\r\n    case 1:\r\n      return <TimeForm />;\r\n    case 2:\r\n      return <InformationForm />;\r\n    case 3:\r\n      return <AddressForm />;\r\n    case 4:\r\n        return <ReviewForm />;\r\n    default:\r\n      throw new Error('Unknown step');\r\n  }\r\n}\r\n\r\n\r\n\r\nexport default function Checkout() {\r\n  const [state, setState] = React.useContext(GlobalState);\r\n  const classes = useStyles();\r\n\r\n\r\n  //// ** Dialog\r\n\r\n  const [open, setOpen] = React.useState(false);\r\n  const [scroll, setScroll] = React.useState('paper');\r\n\r\n  const [openFAQ, setOpenFAQ] = React.useState(false);\r\n  const [scrollFAQ, setScrollFAQ] = React.useState('paper');\r\n\r\n  const descriptionElementRef = React.useRef(null);\r\n  React.useEffect(() => {\r\n    if (open) {\r\n      const { current: descriptionElement } = descriptionElementRef;\r\n      if (descriptionElement !== null) {\r\n        descriptionElement.focus();\r\n      }\r\n    }\r\n  }, [open]);\r\n\r\n  const descriptionElementRefFAQ = React.useRef(null);\r\n  React.useEffect(() => {\r\n    if (openFAQ) {\r\n      const { current: descriptionElementFAQ } = descriptionElementRefFAQ;\r\n      if (descriptionElementFAQ !== null) {\r\n        descriptionElementFAQ.focus();\r\n      }\r\n    }\r\n  }, [openFAQ]);\r\n\r\n\r\n  const handleClickOpen = (scrollType) => () => {\r\n    setOpen(true);\r\n    setScroll(scrollType);\r\n  };\r\n\r\n  const handleClickOpenFAQ = (scrollType) => () => {\r\n    setOpenFAQ(true);\r\n    setScrollFAQ(scrollType);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleCloseFAQ = () => {\r\n    setOpenFAQ(false);\r\n  };\r\n\r\n\r\n\r\n  /////****************** */\r\n\r\n\r\n\r\n\r\n // const [activeStep, setActiveStep] = React.useState(0);\r\n \r\n const setActiveStep = (step) => {\r\n  setState(state => ({...state, activeStep : step}));\r\n }\r\n\r\n  const [submiting, setSubmiting] = React.useState(false);\r\n\r\n\r\n  const maxSteps = steps.length;\r\n\r\n\r\n\r\n  \r\n\r\n  const submitForm = () =>\r\n  {\r\n    var promiseArray = [];\r\n\r\n    BookService.getNewReference().then( (res) => {\r\n\r\n      const ref = res.data.ref;\r\n\r\n      setState(state => ({...state, ref: ref}));\r\n\r\n      if (!state.proceedToSubmit)\r\n      {\r\n        const personInfo = {\r\n          gender: state.gender,\r\n          title: state.title,\r\n          firstname: state.firstname,\r\n          lastname: state.lastname,\r\n          birthDate: state.birthDate,\r\n          email: state.email,\r\n          phone: state.phone,\r\n          postCode: state.postCode,\r\n          address: state.address,\r\n          passportNumber: state.passportNumber,\r\n\r\n          selfIsolate: state.selfIsolate,\r\n          NHSNumber: state.NHSNumber,\r\n          ethnicity: state.ethnicity,\r\n          postCodeSI: state.postCodeSI,\r\n          addressSI: state.addressSI,\r\n          arrivalDate: state.arrivalDate,\r\n          flightNumber: state.flightNumber,\r\n          lastDepartedDate: state.lastDepartedDate,\r\n          travellingFrom: state.travellingFrom\r\n        };\r\n    \r\n        const promise = BookService.bookAppointment({...personInfo, bookingDate:  dateformat(new Date(state.bookingDate.toUTCString().slice(0, -4)),'yyyy-mm-dd'), bookingTime: state.bookingTime, bookingRef: ref, tr: true, referrer: '/'});\r\n        promiseArray.push(promise);\r\n      }\r\n  \r\n      for (var i=0 ; i < state.persons?.length; i++){\r\n        promiseArray.push(BookService.bookAppointment({...state.persons[i],bookingDate: dateformat(new Date(state.bookingDate.toUTCString().slice(0, -4)),'yyyy-mm-dd'), bookingTime: state.bookingTime, bookingRef: ref, tr: true, referrer: '/'}));\r\n      }\r\n      \r\n      Promise.all(promiseArray).then( (values) => {\r\n\r\n        setState(state => ({...state, finalResults: values}));\r\n\r\n        setSubmiting(false);\r\n        setActiveStep(state.activeStep + 1);\r\n  \r\n      }).catch( (errs) =>\r\n      {\r\n        console.log(`Error :  ${errs}`);\r\n        setSubmiting(false);\r\n      });\r\n\r\n    }).catch( (err) =>\r\n    {\r\n      console.log(`Cannot Get REF NO. : ${err}`);\r\n      setSubmiting(false);\r\n    });;\r\n  }\r\n\r\n  const proceedToSubmit = () =>\r\n  {\r\n    setState(state => ({...state, proceedToSubmit: true}));\r\n    setActiveStep(4);\r\n  }\r\n\r\n\r\n  const handleNext = () => {\r\n\r\n    if (state.activeStep === 4)\r\n    {\r\n       \r\n      if (!state.dataConfirmed)\r\n      {\r\n        setState(state => ({...state, dataConfirmedError : true }));\r\n        return;\r\n      }\r\n  \r\n\r\n      setSubmiting(true);\r\n      submitForm();\r\n\r\n    }else if (ValidateStep(state, setState, state.activeStep)) {\r\n    \r\n        setActiveStep(state.activeStep + 1);\r\n    }\r\n  };\r\n\r\n  const handleBack = () => {\r\n    setActiveStep(state.activeStep - 1);\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <CssBaseline />\r\n      <AppBar position=\"absolute\" color=\"default\" className={classes.appBar}>\r\n        <Toolbar>\r\n\r\n\r\n        <Grid\r\n            container\r\n            direction=\"row\"\r\n            spacing= {1}\r\n            justify=\"center\"\r\n            alignItems=\"center\"\r\n        >\r\n\r\n\r\n            <Grid item item xs={10}>\r\n                  <Typography  style={{fontWeight: \"400\"}} variant=\"h6\" color=\"inherit\" noWrap>\r\n                    Medical Express Clinic\r\n                  </Typography>\r\n            </Grid>\r\n\r\n            <Grid item xs={2}>\r\n                    <img className={classes.logoImage} src={logoImage} alt=\"logo image\"/> \r\n            </Grid>\r\n\r\n        </Grid>  \r\n        </Toolbar>\r\n      </AppBar>\r\n      <main className={classes.layout}>\r\n        <Paper className={classes.paper}>\r\n\r\n\r\n          <Typography component=\"h1\" variant=\"h6\" align=\"center\">\r\n                Book Appointment Online\r\n          </Typography>\r\n\r\n      \r\n\r\n          <React.Fragment>\r\n              {state.activeStep < steps.length ? (\r\n                  <React.Fragment>\r\n                        <BrowserView>\r\n                                <Stepper activeStep={state.activeStep} className={classes.stepper}>\r\n                                    {steps.map((label) => (\r\n                                    <Step key={label}>\r\n                                        <StepLabel>{label}</StepLabel>\r\n                                    </Step>\r\n                                    ))}\r\n                                </Stepper>\r\n                        </BrowserView>\r\n\r\n                        <MobileView>\r\n                                    <MobileStepper \r\n                                            steps={maxSteps}\r\n                                            position=\"static\"\r\n                                            variant=\"progress\"\r\n                                            \r\n                                            activeStep={state.activeStep}\r\n                                    />\r\n                        </MobileView>  \r\n                  </React.Fragment>\r\n              ) : (\r\n                  <React.Fragment>\r\n\r\n                      \r\n                  </React.Fragment>\r\n              )}\r\n          </React.Fragment>                  \r\n\r\n          {/* <PersonsBox/> */}\r\n\r\n          <React.Fragment>\r\n            {state.activeStep === steps.length ? (\r\n\r\n              <ResultsForm/>\r\n\r\n            ) : (\r\n              <React.Fragment>\r\n                {getStepContent(state.activeStep)}\r\n                <div className={classes.buttons}>\r\n                  {state.activeStep !== 0 && (\r\n                    <Button disabled={submiting} onClick={handleBack} onTouchTap = {handleBack}  className={classes.button}>\r\n                      Back\r\n                    </Button>\r\n                  )}\r\n\r\n                  {((state.activeStep === 2 || state.activeStep === 3 ) && state.persons && state.persons.length >= 1) && (\r\n                    <Button \r\n                            // variant=\"contained\"\r\n                            color=\"secondary\"\r\n                            onTouchTap = {proceedToSubmit} \r\n                            onClick={proceedToSubmit} className={classes.button}>\r\n                      Skip to Submit\r\n                    </Button>\r\n                  )}\r\n\r\n                  <Button\r\n                    disabled={submiting} \r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    onTouchTap = {handleNext} \r\n                    onClick={handleNext}\r\n                    className={classes.button}\r\n                  >\r\n                    {state.activeStep === steps.length - 1 ? 'Submit' : 'Next'}\r\n                  </Button>\r\n                  \r\n\r\n\r\n\r\n\r\n                </div>\r\n              </React.Fragment>\r\n            )}\r\n          </React.Fragment>\r\n\r\n        </Paper>\r\n\r\n        <Button \r\n                  variant=\"contained\" \r\n                  className={classes.privacyButton} \r\n                  color=\"secondary\"\r\n                  startIcon={<HttpsIcon/>}\r\n                  onClick={handleClickOpen('paper')}\r\n                  onTouchTap={handleClickOpen('paper')} \r\n                  >\r\n             Privacy\r\n         </Button>\r\n         <Button \r\n                  variant=\"contained\" \r\n                  className={classes.faqButton} \r\n                  color=\"secondary\"\r\n                  startIcon={<LiveHelpIcon/>}\r\n                  onClick={handleClickOpenFAQ('paper')}\r\n                  onTouchTap={handleClickOpenFAQ('paper')} \r\n                  >\r\n             FAQ\r\n         </Button>\r\n         <Dialog\r\n                        open={open}\r\n                        onClose={handleClose}\r\n                        scroll={scroll}\r\n                        aria-labelledby=\"scroll-dialog-title\"\r\n                        aria-describedby=\"scroll-dialog-description\"\r\n                      >\r\n                        <DialogTitle id=\"scroll-dialog-title\">Application Disclaimer</DialogTitle>\r\n                        <DialogContent dividers={scroll === 'paper'}>\r\n                          <DialogContentText\r\n                            id=\"scroll-dialog-description\"\r\n                            ref={descriptionElementRef}\r\n                            tabIndex={-1}\r\n                          >\r\n                            <div style={{textAlign:\"justify\", padding:\"10px\"}}>\r\n                              Medical Express Clinic will not contact you for any other reason than to share your test results, and certificate if selected, via the email address provided. The information provided to us via this registration form is never shared with any other organisations, except when this is required by law. \r\n\r\n                                Information provided will never be used for marketing purposes, you cannot opt in.\r\n\r\n                                In the case of a positive swab result, our doctor will call on the telephone number provided to inform you of your result and provide additional advice or guidance.\r\n                          </div>\r\n                          </DialogContentText>\r\n                        </DialogContent>\r\n                        <DialogActions>\r\n                          <Button onClick={handleClose} color=\"primary\">\r\n                            Close\r\n                          </Button>\r\n                      \r\n                        </DialogActions>\r\n      </Dialog>\r\n\r\n      <Dialog\r\n                        open={openFAQ}\r\n                        onClose={handleCloseFAQ}\r\n                        scroll={scrollFAQ}\r\n                        aria-labelledby=\"scroll-dialog-title-FAQ\"\r\n                        aria-describedby=\"scroll-dialog-description-FAQ\"\r\n                      >\r\n                        <DialogTitle id=\"scroll-dialog-title\">FAQ</DialogTitle>\r\n                        <DialogContent dividers={scroll === 'paper'}>\r\n                          <DialogContentText\r\n                            id=\"scroll-dialog-description-FAQ\"\r\n                            ref={descriptionElementRefFAQ}\r\n                            tabIndex={-1}\r\n                          >\r\n                            <div style={{textAlign:\"justify\", padding:\"10px\"}}>\r\n                             \r\n                            {faq.map(element => (\r\n                              <React.Fragment>\r\n                                <p style={{borderLeft: \"4px solid red\", background: \"#eee\", fontWeight: \"600\", paddingLeft: \"10px\",paddingRight: \"10px\", lineHeight: \"30px\"}}>\r\n                                  <span style={{color: \"red\" , fontSize:\"24px\"}}> Q. </span>\r\n                                    {element.question} \r\n                                </p>\r\n\r\n                                <p style={{borderLeft: \"4px solid #999\", background: \"#fff\", fontWeight: \"400\", color: \"#555\" ,paddingLeft: \"10px\",paddingRight: \"30px\", lineHeight: \"50px\"}}>\r\n                                  <span style={{color: \"#555\" , fontSize:\"24px\"}}> A. </span>\r\n                                    {element.answer} \r\n                                </p>\r\n\r\n                              </React.Fragment>\r\n\r\n                            ))}\r\n\r\n                          </div>\r\n                          </DialogContentText>\r\n                        </DialogContent>\r\n                        <DialogActions>\r\n                          <Button onClick={handleCloseFAQ} color=\"primary\">\r\n                            Close\r\n                          </Button>\r\n                      \r\n                        </DialogActions>\r\n          </Dialog>\r\n\r\n      <Backdrop className={classes.backdrop} open={submiting} >\r\n        <CircularProgress color=\"inherit\" />\r\n      </Backdrop>\r\n\r\n\r\n        <Copyright />\r\n      </main>\r\n    </React.Fragment>\r\n  );\r\n}","import React, { useEffect } from 'react';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Button from '@material-ui/core/Button';\r\nimport Link from '@material-ui/core/Link';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport GlobalState from './GlobalState';\r\n\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nimport HttpsIcon from '@material-ui/icons/Https';\r\n\r\nimport {BrowserView, MobileView, isMobile} from 'react-device-detect';\r\n\r\nimport AirplanemodeActiveIcon from '@material-ui/icons/AirplanemodeActive';\r\nimport { Grid } from '@material-ui/core';\r\n\r\nimport logoImage from './images/logo.png';\r\n\r\nimport LiveHelpIcon from '@material-ui/icons/LiveHelp';\r\nimport faq from './FAQ';\r\nimport AccessibilityNewIcon from '@material-ui/icons/AccessibilityNew';\r\n\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright  '}\r\n      {new Date().getFullYear()}\r\n      {' '}\r\n      <Link color=\"inherit\" href=\"#\">\r\n           <strong> Medical Express Clinic </strong> \r\n      </Link>{isMobile ? ' ' : ' All rights reserved.' }\r\n   \r\n       \r\n \r\n     \r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  appBar: {\r\n    position: 'relative',\r\n    backgroundColor: \"#fff\",\r\n    color: \"#00a1c5\",\r\n    alignItems: 'center',\r\n  },\r\n\r\n  logo: {\r\n    maxWidth: 160,\r\n  },\r\n  layout: {\r\n    width: 'auto',\r\n    marginLeft: theme.spacing(2),\r\n    marginRight: theme.spacing(2),\r\n    [theme.breakpoints.up(600 + theme.spacing(2) * 2)]: {\r\n      width: 700,\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n    },\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(1),\r\n    marginBottom: theme.spacing(3),\r\n    padding: theme.spacing(1),\r\n    [theme.breakpoints.up(600 + theme.spacing(3) * 2)]: {\r\n      marginTop: theme.spacing(2),\r\n      marginBottom: theme.spacing(2),\r\n      padding: theme.spacing(3),\r\n    },\r\n  },\r\n  stepper: {\r\n    padding: theme.spacing(3, 0, 5),\r\n  },\r\n  buttons: {\r\n    display: 'flex',\r\n    justifyContent: 'flex-end',\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing(3),\r\n    marginLeft: theme.spacing(1),\r\n  },\r\n\r\n  bold: {\r\n    fontWeight: \"800\",\r\n    padding: \"5px\"\r\n  },\r\n\r\n  doneImage: {\r\n    width: \"240px\",\r\n    height: \"150px\",\r\n    margin: \"20px\"\r\n  },\r\n\r\n  logoImage: {\r\n    width: \"40px\",\r\n    height: \"40px\",\r\n    marginLeft: \"0px\",\r\n    \r\n  },\r\n\r\n  privacyButton: {\r\n    marginBottom : \"20px\",\r\n    width: \"115px\"\r\n  },\r\n\r\n  faqButton: {\r\n    marginBottom : \"20px\",\r\n    marginLeft : \"10px\",\r\n    backgroundColor : \"#2f942e\",\r\n    \"&:hover\": {\r\n      background: \"green\",\r\n      color: \"#fff\"\r\n    },\r\n    textDecoration : \"none !important\",\r\n    width: \"115px\"\r\n\r\n  },\r\n\r\n  textContent : {\r\n      color : \"#666f77\",\r\n      fontSize : \"1.1rem\",\r\n      textAlign: \"justify\",\r\n      paddingLeft: \"30px\",\r\n      paddingRight: \"30px\",\r\n      lineHeight: \"2.2em\",\r\n      fontWeight : \"400\"\r\n  },\r\n\r\n  textContentMobile : {\r\n    color : \"#666f77\",\r\n    fontSize : \"0.9rem\",\r\n    textAlign: \"justify\",\r\n    paddingLeft: \"30px\",\r\n    paddingRight: \"30px\",\r\n    lineHeight: \"2.2em\",\r\n    fontWeight : \"400\"\r\n},\r\n\r\n  getStartedButton: {\r\n      marginTop : \"10px\",\r\n      marginBottom : \"10px\",\r\n\r\n  },\r\n\r\n  AirIcon : {\r\n      marginRight : \"10px\",\r\n      fontSize: \"32px\"\r\n  }\r\n\r\n}));\r\n\r\n\r\n\r\n\r\nexport default function WelcomeForm() {\r\n  const [state, setState] = React.useContext(GlobalState);\r\n  const classes = useStyles();\r\n\r\n\r\n  //// ** Dialog\r\n\r\n  const [open, setOpen] = React.useState(false);\r\n  const [scroll, setScroll] = React.useState('paper');\r\n\r\n  const [openFAQ, setOpenFAQ] = React.useState(false);\r\n  const [scrollFAQ, setScrollFAQ] = React.useState('paper');\r\n\r\n  const descriptionElementRef = React.useRef(null);\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0)\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    if (open) {\r\n      const { current: descriptionElement } = descriptionElementRef;\r\n      if (descriptionElement !== null) {\r\n        descriptionElement.focus();\r\n      }\r\n    }\r\n  }, [open]);\r\n\r\n  const descriptionElementRefFAQ = React.useRef(null);\r\n  React.useEffect(() => {\r\n    if (openFAQ) {\r\n      const { current: descriptionElementFAQ } = descriptionElementRefFAQ;\r\n      if (descriptionElementFAQ !== null) {\r\n        descriptionElementFAQ.focus();\r\n      }\r\n    }\r\n  }, [openFAQ]);\r\n\r\n\r\n  const handleClickOpen = (scrollType) => () => {\r\n    setOpen(true);\r\n    setScroll(scrollType);\r\n  };\r\n\r\n  const handleClickOpenFAQ = (scrollType) => () => {\r\n    setOpenFAQ(true);\r\n    setScrollFAQ(scrollType);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleCloseFAQ = () => {\r\n    setOpenFAQ(false);\r\n  };\r\n\r\n\r\nconst getStartedClicked = (event) => {\r\n    setState(state => ({...state, getStarted: true}));\r\n}\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <CssBaseline />\r\n      <AppBar position=\"absolute\" color=\"default\" className={classes.appBar}>\r\n        <Toolbar>\r\n\r\n  \r\n\r\n        <Grid\r\n                container\r\n                direction=\"row\"\r\n                spacing= {1}\r\n                justify=\"center\"\r\n                alignItems=\"center\"\r\n            >\r\n\r\n\r\n                <Grid item item xs={10}>\r\n                      <Typography  style={{fontWeight: \"400\"}} variant=\"h6\" color=\"inherit\" noWrap>\r\n                        Medical Express Clinic\r\n                      </Typography>\r\n                </Grid>\r\n\r\n                <Grid item xs={2}>\r\n                        <img className={classes.logoImage} src={logoImage} alt=\"logo image\"/> \r\n                </Grid>\r\n\r\n            \r\n          </Grid>  \r\n\r\n      \r\n\r\n\r\n        </Toolbar>\r\n      </AppBar>\r\n      <main className={classes.layout}>\r\n        <Paper className={classes.paper}>\r\n\r\n        {state.firstname && state.firstname.length > 0 && (\r\n            <div style={{textAlign:'center', fontSize:\"1rem\", marginBottom:\"10px\", color:\"#777\",backgroundColor:\"#f7fbff\",padding:\"20px\"}}>\r\n                Welcome back <span style={{fontWeight:\"500\", color:\"#333\", fontStyle:\"italic\"}}>{state.firstname}</span>\r\n            </div>\r\n          )}\r\n       \r\n          <Typography style={{fontWeight : 700, marginBottom: \"50px\"}} component=\"h1\" variant=\"h6\" align=\"center\">\r\n\r\n                    <div style={{\r\n                            display: 'flex',\r\n                            alignItems: 'center',\r\n                            justifyContent: 'center'\r\n                        }}>\r\n              \r\n                  <AccessibilityNewIcon className={classes.AirIcon} color=\"primary\" />  \r\n                      RT-PCR Test to Release - 250\r\n\r\n                    </div>\r\n          </Typography>\r\n\r\n          <p className={isMobile ? classes.textContentMobile : classes.textContent}>\r\n               DHCS approved provider.\r\n          </p>\r\n\r\n\r\n          <p className={isMobile ? classes.textContentMobile : classes.textContent}>\r\n               Meets the governments minimum standards for providers of Test to Release for international travel.\r\n          </p>\r\n\r\n          <p className={isMobile ? classes.textContentMobile : classes.textContent}>\r\n               In-Clinic COVID-19 PCR test to detect viral RNA via nasopharyngeal swab sample taken from the back of the nose and throat by trained healthcare staff.\r\n          </p>\r\n\r\n          <p className={isMobile ? classes.textContentMobile : classes.textContent}>\r\n                Guaranteed results within 48 hours - over 90% of our results return before 24 hours of clinic appointment.\r\n          </p>\r\n\r\n          \r\n          <p className={isMobile ? classes.textContentMobile : classes.textContent}>\r\n                Secure, verifiable results sent in PDF format via email with hard copies available to collect.\r\n          </p>\r\n\r\n          <p className={isMobile ? classes.textContentMobile : classes.textContent}>\r\n               All results are accompanied by a letter from our doctor explaining clearly what your results are, and what action you may take in respect of ending your quarantine early.   \r\n          </p>\r\n\r\n\r\n          <Button \r\n                  variant=\"contained\" \r\n                  className={classes.getStartedButton} \r\n                  color=\"primary\"\r\n                  onClick={getStartedClicked}\r\n                  onTouchTap={getStartedClicked} \r\n                  >\r\n             Get Started\r\n         </Button>\r\n      \r\n\r\n        </Paper>\r\n\r\n        <Button \r\n                  variant=\"contained\" \r\n                  className={classes.privacyButton} \r\n                  color=\"secondary\"\r\n                  startIcon={<HttpsIcon/>}\r\n                  onClick={handleClickOpen('paper')}\r\n                  onTouchTap={handleClickOpen('paper')} \r\n                  >\r\n             Privacy\r\n         </Button>\r\n\r\n         <Button \r\n                  variant=\"contained\" \r\n                  className={classes.faqButton} \r\n                  color=\"secondary\"\r\n                  startIcon={<LiveHelpIcon/>}\r\n                  onClick={handleClickOpenFAQ('paper')}\r\n                  onTouchTap={handleClickOpenFAQ('paper')} \r\n                  >\r\n             FAQ\r\n         </Button>\r\n         <Dialog\r\n                        open={open}\r\n                        onClose={handleClose}\r\n                        scroll={scroll}\r\n                        aria-labelledby=\"scroll-dialog-title\"\r\n                        aria-describedby=\"scroll-dialog-description\"\r\n                      >\r\n                        <DialogTitle id=\"scroll-dialog-title\">Application Disclaimer</DialogTitle>\r\n                        <DialogContent dividers={scroll === 'paper'}>\r\n                          <DialogContentText\r\n                            id=\"scroll-dialog-description\"\r\n                            ref={descriptionElementRef}\r\n                            tabIndex={-1}\r\n                          >\r\n                            <div style={{textAlign:\"justify\", padding:\"10px\"}}>\r\n                              Medical Express Clinic will not contact you for any other reason than to share your test results, and certificate if selected, via the email address provided. The information provided to us via this registration form is never shared with any other organisations, except when this is required by law. \r\n\r\n                                Information provided will never be used for marketing purposes, you cannot opt in.\r\n\r\n                                In the case of a positive swab result, our doctor will call on the telephone number provided to inform you of your result and provide additional advice or guidance.\r\n                          </div>\r\n                          </DialogContentText>\r\n                        </DialogContent>\r\n                        <DialogActions>\r\n                          <Button onClick={handleClose} color=\"primary\">\r\n                            Close\r\n                          </Button>\r\n                      \r\n                        </DialogActions>\r\n          </Dialog>\r\n\r\n          <Dialog\r\n                        open={openFAQ}\r\n                        onClose={handleCloseFAQ}\r\n                        scroll={scrollFAQ}\r\n                        aria-labelledby=\"scroll-dialog-title-FAQ\"\r\n                        aria-describedby=\"scroll-dialog-description-FAQ\"\r\n                      >\r\n                        <DialogTitle id=\"scroll-dialog-title\">FAQ</DialogTitle>\r\n                        <DialogContent dividers={scroll === 'paper'}>\r\n                          <DialogContentText\r\n                            id=\"scroll-dialog-description-FAQ\"\r\n                            ref={descriptionElementRefFAQ}\r\n                            tabIndex={-1}\r\n                          >\r\n                            <div style={{textAlign:\"justify\", padding:\"10px\"}}>\r\n                             \r\n                            {faq.map(element => (\r\n                              <React.Fragment>\r\n                                <p style={{borderLeft: \"4px solid red\", background: \"#eee\", fontWeight: \"600\", paddingLeft: \"10px\",paddingRight: \"10px\", lineHeight: \"30px\"}}>\r\n                                  <span style={{color: \"red\" , fontSize:\"24px\"}}> Q. </span>\r\n                                    {element.question} \r\n                                </p>\r\n\r\n                                <p style={{borderLeft: \"4px solid #999\", background: \"#fff\", fontWeight: \"400\", color: \"#555\" ,paddingLeft: \"10px\",paddingRight: \"30px\", lineHeight: \"50px\"}}>\r\n                                  <span style={{color: \"#555\" , fontSize:\"24px\"}}> A. </span>\r\n                                    {element.answer} \r\n                                </p>\r\n\r\n                              </React.Fragment>\r\n\r\n                            ))}\r\n\r\n                          </div>\r\n                          </DialogContentText>\r\n                        </DialogContent>\r\n                        <DialogActions>\r\n                          <Button onClick={handleCloseFAQ} color=\"primary\">\r\n                            Close\r\n                          </Button>\r\n                      \r\n                        </DialogActions>\r\n          </Dialog>\r\n\r\n\r\n\r\n\r\n\r\n        <Copyright />\r\n      </main>\r\n    </React.Fragment>\r\n  );\r\n}","import React from 'react';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Stepper from '@material-ui/core/Stepper';\r\nimport Step from '@material-ui/core/Step';\r\nimport StepLabel from '@material-ui/core/StepLabel';\r\nimport Button from '@material-ui/core/Button';\r\nimport Link from '@material-ui/core/Link';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport DateForm from './DateForm';\r\nimport TimeForm from './TimeForm';\r\nimport InformationForm from './InformationForm';\r\nimport ReviewForm from './ReviewForm';\r\nimport GlobalState from './GlobalState';\r\nimport AddressForm from './AddressForm';\r\nimport BookService from './services/BookService';\r\n\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Alert from '@material-ui/lab/Alert';\r\n\r\nimport HttpsIcon from '@material-ui/icons/Https';\r\n\r\nimport {BrowserView, MobileView, isMobile} from 'react-device-detect';\r\n\r\nimport logoImage from './images/logo.png';\r\nimport { Checkbox, FormControlLabel, Grid } from '@material-ui/core';\r\n\r\nimport LiveHelpIcon from '@material-ui/icons/LiveHelp';\r\nimport faq from './FAQ';\r\nimport { useEffect } from 'react';\r\n\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright  '}\r\n      {new Date().getFullYear()}\r\n      {' '}\r\n      <Link color=\"inherit\" href=\"#\">\r\n           <strong> Medical Express Clinic </strong> \r\n      </Link>{isMobile ? ' ' : ' All rights reserved.' }\r\n   \r\n       \r\n \r\n     \r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  appBar: {\r\n    position: 'relative',\r\n    backgroundColor: \"#fff\",\r\n    color: \"#00a1c5\",\r\n    alignItems: 'center',\r\n  },\r\n\r\n  logo: {\r\n    maxWidth: 160,\r\n  },\r\n  layout: {\r\n    width: 'auto',\r\n    marginLeft: theme.spacing(2),\r\n    marginRight: theme.spacing(2),\r\n    [theme.breakpoints.up(600 + theme.spacing(2) * 2)]: {\r\n      width: 700,\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n    },\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(1),\r\n    marginBottom: theme.spacing(3),\r\n    padding: theme.spacing(1),\r\n    [theme.breakpoints.up(600 + theme.spacing(3) * 2)]: {\r\n      marginTop: theme.spacing(2),\r\n      marginBottom: theme.spacing(2),\r\n      padding: theme.spacing(3),\r\n    },\r\n  },\r\n  stepper: {\r\n    padding: theme.spacing(3, 0, 5),\r\n  },\r\n  buttons: {\r\n    display: 'flex',\r\n    justifyContent: 'flex-end',\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing(3),\r\n    marginLeft: theme.spacing(1),\r\n  },\r\n\r\n  bold: {\r\n    fontWeight: \"800\",\r\n    padding: \"5px\"\r\n  },\r\n\r\n  doneImage: {\r\n    width: \"240px\",\r\n    height: \"150px\",\r\n    margin: \"20px\"\r\n  },\r\n\r\n  logoImage: {\r\n    width: \"40px\",\r\n    height: \"40px\",\r\n    marginLeft: \"0px\",\r\n    \r\n  },\r\n  privacyButton: {\r\n    marginBottom : \"20px\",\r\n    width: \"115px\"\r\n  },\r\n\r\n  faqButton: {\r\n    marginBottom : \"20px\",\r\n    marginLeft : \"10px\",\r\n    backgroundColor : \"#2f942e\",\r\n    \"&:hover\": {\r\n      background: \"green\",\r\n      color: \"#fff\"\r\n    },\r\n    textDecoration : \"none !important\",\r\n    width: \"115px\"\r\n\r\n  },\r\n\r\n  getStartedButton: {\r\n    marginTop : \"30px\",\r\n    marginBottom : \"10px\",\r\n\r\n},\r\ntextContent : {\r\n    color : \"#666f77\",\r\n    fontSize : \"1.1rem\",\r\n    textAlign: \"justify\",\r\n    paddingLeft: \"8px\",\r\n    paddingRight: \"20px\",\r\n    lineHeight: \"2.2em\",\r\n    fontWeight : \"400\"\r\n},\r\n\r\ntextContentMobile : {\r\n  color : \"#666f77\",\r\n  fontSize : \"0.9rem\",\r\n  textAlign: \"justify\",\r\n  paddingLeft: \"8px\",\r\n  paddingRight: \"20px\",\r\n  lineHeight: \"2.2em\",\r\n  fontWeight : \"400\"\r\n},\r\n\r\n}));\r\n\r\n\r\n\r\n\r\nexport default function AgreementForm() {\r\n  const [state, setState] = React.useContext(GlobalState);\r\n  const classes = useStyles();\r\n\r\n\r\n  //// ** Dialog\r\n\r\n  const [check, setCheck] = React.useState({});\r\n\r\n  const [error, setError] = React.useState(false);\r\n\r\n  const [open, setOpen] = React.useState(false);\r\n  const [scroll, setScroll] = React.useState('paper');\r\n\r\n  const [openFAQ, setOpenFAQ] = React.useState(false);\r\n  const [scrollFAQ, setScrollFAQ] = React.useState('paper');\r\n\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0)\r\n  }, []);\r\n\r\n  const descriptionElementRef = React.useRef(null);\r\n  React.useEffect(() => {\r\n    if (open) {\r\n      const { current: descriptionElement } = descriptionElementRef;\r\n      if (descriptionElement !== null) {\r\n        descriptionElement.focus();\r\n      }\r\n    }\r\n  }, [open]);\r\n\r\n  const descriptionElementRefFAQ = React.useRef(null);\r\n  React.useEffect(() => {\r\n    if (openFAQ) {\r\n      const { current: descriptionElementFAQ } = descriptionElementRefFAQ;\r\n      if (descriptionElementFAQ !== null) {\r\n        descriptionElementFAQ.focus();\r\n      }\r\n    }\r\n  }, [openFAQ]);\r\n\r\n\r\n  const handleClickOpen = (scrollType) => () => {\r\n    setOpen(true);\r\n    setScroll(scrollType);\r\n  };\r\n\r\n  const handleClickOpenFAQ = (scrollType) => () => {\r\n    setOpenFAQ(true);\r\n    setScrollFAQ(scrollType);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleCloseFAQ = () => {\r\n    setOpenFAQ(false);\r\n  };\r\n\r\n\r\n  const checkClicked = (event, id) =>\r\n  {\r\n    switch (id)\r\n    {\r\n        case 1: \r\n            setCheck({...check, check1:event.target.checked});\r\n            break;\r\n        case 2: \r\n            setCheck({...check, check2:event.target.checked});\r\n            break;\r\n        case 3: \r\n            setCheck({...check, check3:event.target.checked});\r\n            break;\r\n        case 4: \r\n            setCheck({...check, check4:event.target.checked});\r\n            break;\r\n        case 5: \r\n            setCheck({...check, check5:event.target.checked});\r\n            break;        \r\n        case 6: \r\n            setCheck({...check, check6:event.target.checked});\r\n            break;\r\n        default:\r\n                break;\r\n\r\n    }\r\n\r\n  }\r\n\r\n const backButtonClicked = (event) =>\r\n {\r\n     setState(state => ({...state, getStarted:false}));\r\n }\r\n\r\n\r\nconst getAgreeClicked = (event) => {\r\n    if (check.check1 && check.check2 && check.check3 && check.check4 && check.check5 && check.check6)\r\n    {\r\n        setState(state => ({...state, agreed: true}));\r\n    }\r\n    else\r\n    {\r\n        setError(true);\r\n    }\r\n}\r\n\r\nuseEffect( () => {\r\n  if (check.check1 && check.check2 && check.check3 && check.check4 && check.check5 && check.check6)\r\n  {\r\n    setError(false);\r\n  }\r\n}, [check]);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <CssBaseline />\r\n      <AppBar position=\"absolute\" color=\"default\" className={classes.appBar}>\r\n        <Toolbar>\r\n\r\n\r\n        <Grid\r\n            container\r\n            direction=\"row\"\r\n            spacing= {1}\r\n            justify=\"center\"\r\n            alignItems=\"center\"\r\n        >\r\n\r\n\r\n            <Grid item xs={10}>\r\n                  <Typography  style={{fontWeight: \"400\"}} variant=\"h6\" color=\"inherit\" noWrap>\r\n                    Medical Express Clinic\r\n                  </Typography>\r\n            </Grid>\r\n\r\n            <Grid item xs={2}>\r\n                    <img className={classes.logoImage} src={logoImage} alt=\"logo image\"/> \r\n            </Grid>\r\n\r\n\r\n        \r\n        </Grid>  \r\n        </Toolbar>\r\n      </AppBar>\r\n      <main className={classes.layout}>\r\n        <Paper className={classes.paper}>\r\n\r\n\r\n          <Typography style={{ marginBottom: \"30px\"}} component=\"h1\" variant=\"h6\" align=\"left\">\r\n              Patients wishing to book an appointment must confirm that:\r\n          </Typography>\r\n\r\n\r\n                <Grid container  direction=\"column\"  justify=\"flex-start\" alignItems=\"flex-start\" spacing={3}>\r\n\r\n                <Grid item xs={12}  >\r\n\r\n                        <FormControlLabel style={{ fontSize: '1rem', textAlign:\"justify\" }}\r\n                            control={<Checkbox  color=\"secondary\" name=\"check1\" checked={check.check1} onChange={(event => checkClicked(event,1))} />}\r\n                            label={<span style={{ fontSize: '1rem',textAlign:\"left\" }}>{`I do not have a fever.`} \r\n                            </span>}\r\n                        />\r\n                </Grid>\r\n\r\n                <Grid item xs={12}  >\r\n\r\n                        <FormControlLabel style={{ fontSize: '1rem', textAlign:\"justify\" }}\r\n                                    control={<Checkbox color=\"secondary\" name=\"check2\"checked={check.check2} onChange={(event => checkClicked(event,2))} />}\r\n                                    label={<span style={{ fontSize: '1rem',textAlign:\"left\" }}>{`I do not have a new, continuous cough.`} \r\n                                    </span>}\r\n                                />\r\n                </Grid>\r\n\r\n                <Grid item xs={12}  >\r\n\r\n                    <FormControlLabel style={{ fontSize: '1rem', textAlign:\"justify\" }}\r\n                                control={<Checkbox color=\"secondary\" name=\"check3\" checked={check.check3} onChange={(event => checkClicked(event,3))} />}\r\n                                label={<span style={{ fontSize: '1rem', textAlign:\"left\" }}>{`I do not have shortness of breath.`} \r\n                                </span>}\r\n                            />\r\n                    </Grid>\r\n\r\n                \r\n                   <Grid item xs={12}  >\r\n\r\n                    <FormControlLabel style={{ fontSize: '1rem', textAlign:\"justify\" }}\r\n                                control={<Checkbox color=\"secondary\" name=\"check4\" checked={check.check4} onChange={(event => checkClicked(event,4))}  />}\r\n                                label={<span style={{ fontSize: '1rem', textAlign:\"left\" }}>{`I have not been in contact with someone suspected or known to have coronavirus.`} \r\n                                </span>}\r\n                            />\r\n                    </Grid>\r\n\r\n                    <Grid item xs={12}  >\r\n\r\n                    <FormControlLabel style={{ fontSize: '1rem', textAlign:\"justify\" }}\r\n                                control={<Checkbox color=\"secondary\" name=\"check5\" checked={check.check5} onChange={(event => checkClicked(event,5))}  />}\r\n                                label={<span style={{ fontSize: '1rem', textAlign:\"left\" }}>{`I confirm that this appointment is for Test to Release PCR, not for the Fit to Fly PCR.`} \r\n                                </span>}\r\n                            />\r\n                    </Grid>\r\n\r\n                    <Grid item xs={12}  >\r\n\r\n                    <FormControlLabel style={{ fontSize: '1rem', textAlign:\"justify\" }}\r\n                                control={<Checkbox color=\"secondary\" name=\"check6\" checked={check.check6} onChange={(event => checkClicked(event,6))}  />}\r\n                                label={<span style={{ fontSize: '1rem', textAlign:\"left\" }}>{`I have been isolating for at least 5 days since my arrival in the UK.`} \r\n                                </span>}\r\n                            />\r\n                    </Grid>\r\n\r\n                </Grid>\r\n\r\n            <p className={isMobile ? classes.textContentMobile : classes.textContent}>\r\n                 If you cannot confirm all the points stated above, you must not proceed any further. Please click the box to agree to these terms.\r\n            </p>\r\n\r\n            {error && (\r\n                <Alert severity=\"error\">You need to check all the terms to proceed! </Alert>\r\n            )}\r\n            \r\n\r\n        <Button \r\n                // variant=\"contained\" \r\n                className={classes.getStartedButton} \r\n                style = {{marginRight : \"20px\"}}\r\n                color=\"default\"\r\n                onClick={backButtonClicked}\r\n                onTouchTap={backButtonClicked} \r\n                >\r\n        Back\r\n        </Button>\r\n\r\n          <Button \r\n                  variant=\"contained\" \r\n                  className={classes.getStartedButton} \r\n                  color=\"primary\"\r\n                  onClick={getAgreeClicked}\r\n                  onTouchTap={getAgreeClicked} \r\n                  >\r\n            Agree\r\n         </Button>\r\n      \r\n\r\n        </Paper>\r\n\r\n        <Button \r\n                  variant=\"contained\" \r\n                  className={classes.privacyButton} \r\n                  color=\"secondary\"\r\n                  startIcon={<HttpsIcon/>}\r\n                  onClick={handleClickOpen('paper')}\r\n                  onTouchTap={handleClickOpen('paper')} \r\n                  >\r\n             Privacy\r\n         </Button>\r\n\r\n         <Button \r\n                  variant=\"contained\" \r\n                  className={classes.faqButton} \r\n                  color=\"secondary\"\r\n                  startIcon={<LiveHelpIcon/>}\r\n                  onClick={handleClickOpenFAQ('paper')}\r\n                  onTouchTap={handleClickOpenFAQ('paper')} \r\n                  >\r\n             FAQ\r\n         </Button>\r\n\r\n         <Dialog\r\n                        open={open}\r\n                        onClose={handleClose}\r\n                        scroll={scroll}\r\n                        aria-labelledby=\"scroll-dialog-title\"\r\n                        aria-describedby=\"scroll-dialog-description\"\r\n                      >\r\n                        <DialogTitle id=\"scroll-dialog-title\">Application Disclaimer</DialogTitle>\r\n                        <DialogContent dividers={scroll === 'paper'}>\r\n                          <DialogContentText\r\n                            id=\"scroll-dialog-description\"\r\n                            ref={descriptionElementRef}\r\n                            tabIndex={-1}\r\n                          >\r\n                            <div style={{textAlign:\"justify\", padding:\"10px\"}}>\r\n                              Medical Express Clinic will not contact you for any other reason than to share your test results, and certificate if selected, via the email address provided. The information provided to us via this registration form is never shared with any other organisations, except when this is required by law. \r\n\r\n                                Information provided will never be used for marketing purposes, you cannot opt in.\r\n\r\n                                In the case of a positive swab result, our doctor will call on the telephone number provided to inform you of your result and provide additional advice or guidance.\r\n                          </div>\r\n                          </DialogContentText>\r\n                        </DialogContent>\r\n                        <DialogActions>\r\n                          <Button onClick={handleClose} color=\"primary\">\r\n                            Close\r\n                          </Button>\r\n                      \r\n                        </DialogActions>\r\n      </Dialog>\r\n\r\n      <Dialog\r\n                        open={openFAQ}\r\n                        onClose={handleCloseFAQ}\r\n                        scroll={scrollFAQ}\r\n                        aria-labelledby=\"scroll-dialog-title-FAQ\"\r\n                        aria-describedby=\"scroll-dialog-description-FAQ\"\r\n                      >\r\n                        <DialogTitle id=\"scroll-dialog-title\">FAQ</DialogTitle>\r\n                        <DialogContent dividers={scroll === 'paper'}>\r\n                          <DialogContentText\r\n                            id=\"scroll-dialog-description-FAQ\"\r\n                            ref={descriptionElementRefFAQ}\r\n                            tabIndex={-1}\r\n                          >\r\n                            <div style={{textAlign:\"justify\", padding:\"10px\"}}>\r\n                             \r\n                            {faq.map(element => (\r\n                              <React.Fragment>\r\n                                <p style={{borderLeft: \"4px solid red\", background: \"#eee\", fontWeight: \"600\", paddingLeft: \"10px\",paddingRight: \"10px\", lineHeight: \"30px\"}}>\r\n                                  <span style={{color: \"red\" , fontSize:\"24px\"}}> Q. </span>\r\n                                    {element.question} \r\n                                </p>\r\n\r\n                                <p style={{borderLeft: \"4px solid #999\", background: \"#fff\", fontWeight: \"400\", color: \"#555\" ,paddingLeft: \"10px\",paddingRight: \"30px\", lineHeight: \"50px\"}}>\r\n                                  <span style={{color: \"#555\" , fontSize:\"24px\"}}> A. </span>\r\n                                    {element.answer} \r\n                                </p>\r\n\r\n                              </React.Fragment>\r\n\r\n                            ))}\r\n\r\n                          </div>\r\n                          </DialogContentText>\r\n                        </DialogContent>\r\n                        <DialogActions>\r\n                          <Button onClick={handleCloseFAQ} color=\"primary\">\r\n                            Close\r\n                          </Button>\r\n                      \r\n                        </DialogActions>\r\n          </Dialog>\r\n\r\n\r\n\r\n\r\n        <Copyright />\r\n      </main>\r\n    </React.Fragment>\r\n  );\r\n}","import React, { useEffect, useState } from 'react';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Button from '@material-ui/core/Button';\r\nimport Link from '@material-ui/core/Link';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport GlobalState from './GlobalState';\r\n\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nimport HttpsIcon from '@material-ui/icons/Https';\r\n\r\nimport {BrowserView, MobileView, isMobile} from 'react-device-detect';\r\n\r\nimport AirplanemodeActiveIcon from '@material-ui/icons/AirplanemodeActive';\r\nimport { Grid, TextField } from '@material-ui/core';\r\n\r\nimport logoImage from './images/logo.png';\r\n\r\nimport LiveHelpIcon from '@material-ui/icons/LiveHelp';\r\nimport faq from './FAQ';\r\nimport AccessibilityNewIcon from '@material-ui/icons/AccessibilityNew';\r\n\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright  '}\r\n      {new Date().getFullYear()}\r\n      {' '}\r\n      <Link color=\"inherit\" href=\"#\">\r\n           <strong> Medical Express Clinic </strong> \r\n      </Link>{isMobile ? ' ' : ' All rights reserved.' }\r\n   \r\n       \r\n \r\n     \r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  appBar: {\r\n    position: 'relative',\r\n    backgroundColor: \"#fff\",\r\n    color: \"#00a1c5\",\r\n    alignItems: 'center',\r\n  },\r\n\r\n  logo: {\r\n    maxWidth: 160,\r\n  },\r\n  layout: {\r\n    width: 'auto',\r\n    marginLeft: theme.spacing(2),\r\n    marginRight: theme.spacing(2),\r\n    [theme.breakpoints.up(600 + theme.spacing(2) * 2)]: {\r\n      width: 700,\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n    },\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(1),\r\n    marginBottom: theme.spacing(3),\r\n    padding: theme.spacing(1),\r\n    [theme.breakpoints.up(600 + theme.spacing(3) * 2)]: {\r\n      marginTop: theme.spacing(2),\r\n      marginBottom: theme.spacing(2),\r\n      padding: theme.spacing(3),\r\n    },\r\n  },\r\n  stepper: {\r\n    padding: theme.spacing(3, 0, 5),\r\n  },\r\n  buttons: {\r\n    display: 'flex',\r\n    justifyContent: 'flex-end',\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing(3),\r\n    marginLeft: theme.spacing(1),\r\n  },\r\n\r\n  bold: {\r\n    fontWeight: \"800\",\r\n    padding: \"5px\"\r\n  },\r\n\r\n  doneImage: {\r\n    width: \"240px\",\r\n    height: \"150px\",\r\n    margin: \"20px\"\r\n  },\r\n\r\n  logoImage: {\r\n    width: \"40px\",\r\n    height: \"40px\",\r\n    marginLeft: \"0px\",\r\n    \r\n  },\r\n\r\n  privacyButton: {\r\n    marginBottom : \"20px\",\r\n    width: \"115px\"\r\n  },\r\n\r\n  faqButton: {\r\n    marginBottom : \"20px\",\r\n    marginLeft : \"10px\",\r\n    backgroundColor : \"#2f942e\",\r\n    \"&:hover\": {\r\n      background: \"green\",\r\n      color: \"#fff\"\r\n    },\r\n    textDecoration : \"none !important\",\r\n    width: \"115px\"\r\n\r\n  },\r\n\r\n  textContent : {\r\n      color : \"#666f77\",\r\n      fontSize : \"1.1rem\",\r\n      textAlign: \"justify\",\r\n      paddingLeft: \"30px\",\r\n      paddingRight: \"30px\",\r\n      lineHeight: \"2.2em\",\r\n      fontWeight : \"400\"\r\n  },\r\n\r\n  textContentMobile : {\r\n    color : \"#666f77\",\r\n    fontSize : \"0.9rem\",\r\n    textAlign: \"justify\",\r\n    paddingLeft: \"30px\",\r\n    paddingRight: \"30px\",\r\n    lineHeight: \"2.2em\",\r\n    fontWeight : \"400\"\r\n},\r\n\r\n  getStartedButton: {\r\n      marginTop : \"10px\",\r\n      marginBottom : \"10px\",\r\n\r\n  },\r\n\r\n  AirIcon : {\r\n      marginRight : \"10px\",\r\n      fontSize: \"32px\"\r\n  }\r\n\r\n}));\r\n\r\n\r\n\r\n\r\nexport default function LoginForm() {\r\n  const [state, setState] = React.useContext(GlobalState);\r\n  const classes = useStyles();\r\n\r\n  const [password, setPassword] = useState('');\r\n\r\n  const passwordChanged = (event) =>\r\n  {\r\n      setPassword(event.target.value);\r\n  }\r\n\r\n  const login = () =>\r\n  {\r\n      if (password === 'AAAA') {\r\n          setState(state => ({...state, login : true}));\r\n      }\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <CssBaseline />\r\n\r\n      <div style={{marginTop: \"200px\"}}>\r\n\r\n      <TextField \r\n                   \r\n                   id=\"password\" label=\"Password\" \r\n                   autoComplete=\"none\" \r\n                   value = {password}\r\n                   onChange = {passwordChanged} \r\n         />\r\n\r\n         <div style={{marginTop: \"20px\"}}>\r\n\r\n         <Button color='primary' onClick={login}>\r\n             Enter\r\n         </Button>\r\n\r\n         </div>\r\n\r\n\r\n\r\n\r\n      </div>\r\n\r\n    \r\n       \r\n\r\n\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\n","import './App.css';\nimport Checkout from './checkout';\nimport WelcomeForm from './WelcomeForm';\nimport AgreementForm from './AgreementForm';\nimport GlobalState from './GlobalState'; \nimport React from 'react';\nimport LoginForm from './LoginForm';\nimport BookService from './services/BookService';\n\nconst getPathId = () =>\n{\n  let urlElements = window.location.pathname.split('/');\n  if (urlElements.length === 2)\n  {\n    return urlElements[1];\n  }\n  return null;  \n}\n\nfunction App() {\n  const [state, setState] = React.useState({activeStep : 0, bookingDate: null, persons: []});\n\n  React.useEffect(() => {\n    \n    const bookingId = getPathId()\n   \n    if (bookingId)\n    {\n      BookService.getBookingById(bookingId).then(res => {\n        if (res.data)\n        {\n          const booking = res.data\n          setState(state => ({...state, firstname : booking.forename }))\n          setState(state => ({...state, lastname : booking.surname }))\n          setState(state => ({...state, email : booking.email }))\n          setState(state => ({...state, retypeEmail : booking.email }))\n          setState(state => ({...state, gender : booking.gender }))\n          setState(state => ({...state, title : booking.title }))\n          setState(state => ({...state, birthDate : booking.birthDate }))\n          setState(state => ({...state, passportNumber : booking.passportNumber || '' }))\n          setState(state => ({...state, phone : booking.phone }))\n          setState(state => ({...state, postCode : booking.postCode }))\n          setState(state => ({...state, address : booking.address }))\n          setState(state => ({...state, NHSNumber : booking.NHSNumber || '' }))\n          setState(state => ({...state, ethnicity : booking.ethnicity || '' }))\n      \n        }\n      }).catch(err => {\n        console.error(err)\n      })\n      \n    }\n\n  }, [])\n\n\n  return (\n    <GlobalState.Provider value={[state, setState]}>\n      <div className=\"App\">\n\n      \n         {/* {!state.getStarted && !state.login && ( <LoginForm/> )} */}\n        {/* {!state.getStarted && state.login && ( <WelcomeForm/> )} */}\n        {!state.getStarted && ( <WelcomeForm/> )}\n        {state.getStarted && !state.agreed && ( <AgreementForm/>  )}\n        {state.getStarted && state.agreed  && ( <Checkout/>  )}\n\n       \n      </div>\n    </GlobalState.Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n// import reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n","\r\n\r\nconst calculatePrice = (person) =>\r\n{\r\n\r\n    var price = 250;\r\n  \r\n    return price;\r\n\r\n}\r\n\r\nconst calculateTotalPrice = (persons) =>\r\n{\r\n    var totalPrice = 0;\r\n    for (var i = 0 ; i < persons.length ; i++)\r\n    {\r\n        totalPrice += calculatePrice(persons[i]);\r\n    }\r\n\r\n    return totalPrice;\r\n}\r\n\r\nmodule.exports = {\r\n    calculatePrice : calculatePrice,\r\n    calculateTotalPrice : calculateTotalPrice\r\n}","\r\n\r\n\r\nconst FormatDateFromString = (str) =>\r\n{\r\n    return `${str.substr(8,2)}/${str.substr(5,2)}/${str.substr(0,4)}`;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nmodule.exports = {\r\n    FormatDateFromString : FormatDateFromString,\r\n}"],"sourceRoot":""}